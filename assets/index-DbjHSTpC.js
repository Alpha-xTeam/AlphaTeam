var UE=t=>{throw TypeError(t)};var wy=(t,e,n)=>e.has(t)||UE("Cannot "+n);var H=(t,e,n)=>(wy(t,e,"read from private field"),n?n.call(t):e.get(t)),Xe=(t,e,n)=>e.has(t)?UE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Oe=(t,e,n,r)=>(wy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pn=(t,e,n)=>(wy(t,e,"access private method"),n);var Dh=(t,e,n,r)=>({set _(s){Oe(t,e,s,n)},get _(){return H(t,e,r)}});function p5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OP={exports:{}},Nm={},LP={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),m5=Symbol.for("react.portal"),g5=Symbol.for("react.fragment"),y5=Symbol.for("react.strict_mode"),v5=Symbol.for("react.profiler"),w5=Symbol.for("react.provider"),x5=Symbol.for("react.context"),_5=Symbol.for("react.forward_ref"),b5=Symbol.for("react.suspense"),E5=Symbol.for("react.memo"),T5=Symbol.for("react.lazy"),$E=Symbol.iterator;function S5(t){return t===null||typeof t!="object"?null:(t=$E&&t[$E]||t["@@iterator"],typeof t=="function"?t:null)}var VP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FP=Object.assign,UP={};function uc(t,e,n){this.props=t,this.context=e,this.refs=UP,this.updater=n||VP}uc.prototype.isReactComponent={};uc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $P(){}$P.prototype=uc.prototype;function _x(t,e,n){this.props=t,this.context=e,this.refs=UP,this.updater=n||VP}var bx=_x.prototype=new $P;bx.constructor=_x;FP(bx,uc.prototype);bx.isPureReactComponent=!0;var BE=Array.isArray,BP=Object.prototype.hasOwnProperty,Ex={current:null},zP={key:!0,ref:!0,__self:!0,__source:!0};function WP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)BP.call(e,r)&&!zP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fd,type:t,key:i,ref:o,props:s,_owner:Ex.current}}function C5(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function I5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zE=/\/+/g;function xy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I5(""+t.key):e.toString(36)}function xf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fd:case m5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xy(o,0):r,BE(s)?(n="",t!=null&&(n=t.replace(zE,"$&/")+"/"),xf(s,e,n,"",function(c){return c})):s!=null&&(Tx(s)&&(s=C5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",BE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+xy(i,a);o+=xf(i,e,n,l,s)}else if(l=S5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+xy(i,a++),o+=xf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function jh(t,e,n){if(t==null)return t;var r=[],s=0;return xf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function A5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},_f={transition:null},P5={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:_f,ReactCurrentOwner:Ex};function HP(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:jh,forEach:function(t,e,n){jh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jh(t,function(){e++}),e},toArray:function(t){return jh(t,function(e){return e})||[]},only:function(t){if(!Tx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=uc;Fe.Fragment=g5;Fe.Profiler=v5;Fe.PureComponent=_x;Fe.StrictMode=y5;Fe.Suspense=b5;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P5;Fe.act=HP;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ex.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BP.call(e,l)&&!zP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fd,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:x5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w5,_context:t},t.Consumer=t};Fe.createElement=WP;Fe.createFactory=function(t){var e=WP.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:_5,render:t}};Fe.isValidElement=Tx;Fe.lazy=function(t){return{$$typeof:T5,_payload:{_status:-1,_result:t},_init:A5}};Fe.memo=function(t,e){return{$$typeof:E5,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=_f.transition;_f.transition={};try{t()}finally{_f.transition=e}};Fe.unstable_act=HP;Fe.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Fe.useContext=function(t){return Fn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Fe.useId=function(){return Fn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Fn.current.useRef(t)};Fe.useState=function(t){return Fn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Fn.current.useTransition()};Fe.version="18.3.1";LP.exports=Fe;var m=LP.exports;const re=xx(m),qP=p5({__proto__:null,default:re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5=m,N5=Symbol.for("react.element"),k5=Symbol.for("react.fragment"),D5=Object.prototype.hasOwnProperty,j5=R5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M5={key:!0,ref:!0,__self:!0,__source:!0};function GP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)D5.call(e,r)&&!M5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:N5,type:t,key:i,ref:o,props:s,_owner:j5.current}}Nm.Fragment=k5;Nm.jsx=GP;Nm.jsxs=GP;OP.exports=Nm;var u=OP.exports,KP={exports:{}},wr={},YP={exports:{}},QP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var K=O.length;O.push(F);e:for(;0<K;){var q=K-1>>>1,Z=O[q];if(0<s(Z,F))O[q]=F,O[K]=Z,K=q;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],K=O.pop();if(K!==F){O[0]=K;e:for(var q=0,Z=O.length,te=Z>>>1;q<te;){var we=2*(q+1)-1,Me=O[we],pe=we+1,J=O[pe];if(0>s(Me,K))pe<Z&&0>s(J,Me)?(O[q]=J,O[pe]=K,q=pe):(O[q]=Me,O[we]=K,q=we);else if(pe<Z&&0>s(J,K))O[q]=J,O[pe]=K,q=pe;else break e}}return F}function s(O,F){var K=O.sortIndex-F.sortIndex;return K!==0?K:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=O)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function A(O){if(y=!1,E(O),!v)if(n(l)!==null)v=!0,Q(N);else{var F=n(c);F!==null&&X(A,F.startTime-O)}}function N(O,F){v=!1,y&&(y=!1,w(S),S=-1),g=!0;var K=p;try{for(E(F),f=n(l);f!==null&&(!(f.expirationTime>F)||O&&!D());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var Z=q(f.expirationTime<=F);F=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),E(F)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var we=n(c);we!==null&&X(A,we.startTime-F),te=!1}return te}finally{f=null,p=K,g=!1}}var M=!1,C=null,S=-1,I=5,P=-1;function D(){return!(t.unstable_now()-P<I)}function j(){if(C!==null){var O=t.unstable_now();P=O;var F=!0;try{F=C(!0,O)}finally{F?k():(M=!1,C=null)}}else M=!1}var k;if(typeof _=="function")k=function(){_(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ie=B.port2;B.port1.onmessage=j,k=function(){ie.postMessage(null)}}else k=function(){b(j,0)};function Q(O){C=O,M||(M=!0,k())}function X(O,F){S=b(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Q(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var K=p;p=F;try{return O()}finally{p=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=p;p=O;try{return F()}finally{p=K}},t.unstable_scheduleCallback=function(O,F,K){var q=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?q+K:q):K=q,O){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,O={id:d++,callback:F,priorityLevel:O,startTime:K,expirationTime:Z,sortIndex:-1},K>q?(O.sortIndex=K,e(c,O),n(l)===null&&O===n(c)&&(y?(w(S),S=-1):y=!0,X(A,K-q))):(O.sortIndex=Z,e(l,O),v||g||(v=!0,Q(N))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=p;return function(){var K=p;p=F;try{return O.apply(this,arguments)}finally{p=K}}}})(QP);YP.exports=QP;var O5=YP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5=m,vr=O5;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XP=new Set,Wu={};function Aa(t,e){Bl(t,e),Bl(t+"Capture",e)}function Bl(t,e){for(Wu[t]=e,t=0;t<e.length;t++)XP.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$v=Object.prototype.hasOwnProperty,V5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WE={},HE={};function F5(t){return $v.call(HE,t)?!0:$v.call(WE,t)?!1:V5.test(t)?HE[t]=!0:(WE[t]=!0,!1)}function U5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $5(t,e,n,r){if(e===null||typeof e>"u"||U5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sx=/[\-:]([a-z])/g;function Cx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sx,Cx);cn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sx,Cx);cn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sx,Cx);cn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ix(t,e,n,r){var s=cn.hasOwnProperty(e)?cn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($5(e,n,s,r)&&(n=null),r||s===null?F5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=L5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),Ax=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),JP=Symbol.for("react.provider"),ZP=Symbol.for("react.context"),Px=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Wv=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),eR=Symbol.for("react.offscreen"),qE=Symbol.iterator;function $c(t){return t===null||typeof t!="object"?null:(t=qE&&t[qE]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,_y;function eu(t){if(_y===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_y=e&&e[1]||""}return`
`+_y+t}var by=!1;function Ey(t,e){if(!t||by)return"";by=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{by=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eu(t):""}function B5(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=Ey(t.type,!1),t;case 11:return t=Ey(t.type.render,!1),t;case 1:return t=Ey(t.type,!0),t;default:return""}}function Hv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case Bv:return"Profiler";case Ax:return"StrictMode";case zv:return"Suspense";case Wv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZP:return(t.displayName||"Context")+".Consumer";case JP:return(t._context.displayName||"Context")+".Provider";case Px:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rx:return e=t.displayName||null,e!==null?e:Hv(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Hv(t(e))}catch{}}return null}function z5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hv(e);case 8:return e===Ax?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W5(t){var e=tR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=W5(t))}function nR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qv(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function GE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rR(t,e){e=e.checked,e!=null&&Ix(t,"checked",e,!1)}function Gv(t,e){rR(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kv(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kv(t,e,n){(e!=="number"||cp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tu=Array.isArray;function vl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(tu(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function sR(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lh,oR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H5=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){H5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function aR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function lR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=aR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var q5=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xv(t,e){if(e){if(q5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Jv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=null;function Nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e0=null,wl=null,xl=null;function XE(t){if(t=Bd(t)){if(typeof e0!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Om(e),e0(t.stateNode,t.type,e))}}function cR(t){wl?xl?xl.push(t):xl=[t]:wl=t}function uR(){if(wl){var t=wl,e=xl;if(xl=wl=null,XE(t),e)for(t=0;t<e.length;t++)XE(e[t])}}function dR(t,e){return t(e)}function hR(){}var Ty=!1;function fR(t,e,n){if(Ty)return t(e,n);Ty=!0;try{return dR(t,e,n)}finally{Ty=!1,(wl!==null||xl!==null)&&(hR(),uR())}}function qu(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var t0=!1;if(Js)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){t0=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{t0=!1}function G5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var xu=!1,up=null,dp=!1,n0=null,K5={onError:function(t){xu=!0,up=t}};function Y5(t,e,n,r,s,i,o,a,l){xu=!1,up=null,G5.apply(K5,arguments)}function Q5(t,e,n,r,s,i,o,a,l){if(Y5.apply(this,arguments),xu){if(xu){var c=up;xu=!1,up=null}else throw Error(Y(198));dp||(dp=!0,n0=c)}}function Pa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function JE(t){if(Pa(t)!==t)throw Error(Y(188))}function X5(t){var e=t.alternate;if(!e){if(e=Pa(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return JE(s),t;if(i===r)return JE(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function mR(t){return t=X5(t),t!==null?gR(t):null}function gR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gR(t);if(e!==null)return e;t=t.sibling}return null}var yR=vr.unstable_scheduleCallback,ZE=vr.unstable_cancelCallback,J5=vr.unstable_shouldYield,Z5=vr.unstable_requestPaint,Vt=vr.unstable_now,e3=vr.unstable_getCurrentPriorityLevel,kx=vr.unstable_ImmediatePriority,vR=vr.unstable_UserBlockingPriority,hp=vr.unstable_NormalPriority,t3=vr.unstable_LowPriority,wR=vr.unstable_IdlePriority,km=null,Es=null;function n3(t){if(Es&&typeof Es.onCommitFiberRoot=="function")try{Es.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:i3,r3=Math.log,s3=Math.LN2;function i3(t){return t>>>=0,t===0?32:31-(r3(t)/s3|0)|0}var Vh=64,Fh=4194304;function nu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nu(a):(i&=o,i!==0&&(r=nu(i)))}else o=n&~s,o!==0?r=nu(o):i!==0&&(r=nu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xr(e),s=1<<n,r|=t[n],e&=~s;return r}function o3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=o3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xR(){var t=Vh;return Vh<<=1,!(Vh&4194240)&&(Vh=64),t}function Sy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ud(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=n}function l3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function _R(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bR,jx,ER,TR,SR,s0=!1,Uh=[],Ki=null,Yi=null,Qi=null,Gu=new Map,Ku=new Map,Ni=[],c3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eT(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(e.pointerId)}}function zc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bd(e),e!==null&&jx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function u3(t,e,n,r,s){switch(e){case"focusin":return Ki=zc(Ki,t,e,n,r,s),!0;case"dragenter":return Yi=zc(Yi,t,e,n,r,s),!0;case"mouseover":return Qi=zc(Qi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gu.set(i,zc(Gu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ku.set(i,zc(Ku.get(i)||null,t,e,n,r,s)),!0}return!1}function CR(t){var e=Ho(t.target);if(e!==null){var n=Pa(e);if(n!==null){if(e=n.tag,e===13){if(e=pR(n),e!==null){t.blockedOn=e,SR(t.priority,function(){ER(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zv=r,n.target.dispatchEvent(r),Zv=null}else return e=Bd(n),e!==null&&jx(e),t.blockedOn=n,!1;e.shift()}return!0}function tT(t,e,n){bf(t)&&n.delete(e)}function d3(){s0=!1,Ki!==null&&bf(Ki)&&(Ki=null),Yi!==null&&bf(Yi)&&(Yi=null),Qi!==null&&bf(Qi)&&(Qi=null),Gu.forEach(tT),Ku.forEach(tT)}function Wc(t,e){t.blockedOn===e&&(t.blockedOn=null,s0||(s0=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,d3)))}function Yu(t){function e(s){return Wc(s,t)}if(0<Uh.length){Wc(Uh[0],t);for(var n=1;n<Uh.length;n++){var r=Uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Wc(Ki,t),Yi!==null&&Wc(Yi,t),Qi!==null&&Wc(Qi,t),Gu.forEach(e),Ku.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)CR(n),n.blockedOn===null&&Ni.shift()}var _l=ui.ReactCurrentBatchConfig,pp=!0;function h3(t,e,n,r){var s=tt,i=_l.transition;_l.transition=null;try{tt=1,Mx(t,e,n,r)}finally{tt=s,_l.transition=i}}function f3(t,e,n,r){var s=tt,i=_l.transition;_l.transition=null;try{tt=4,Mx(t,e,n,r)}finally{tt=s,_l.transition=i}}function Mx(t,e,n,r){if(pp){var s=i0(t,e,n,r);if(s===null)My(t,e,r,mp,n),eT(t,r);else if(u3(s,t,e,n,r))r.stopPropagation();else if(eT(t,r),e&4&&-1<c3.indexOf(t)){for(;s!==null;){var i=Bd(s);if(i!==null&&bR(i),i=i0(t,e,n,r),i===null&&My(t,e,r,mp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else My(t,e,r,null,n)}}var mp=null;function i0(t,e,n,r){if(mp=null,t=Nx(r),t=Ho(t),t!==null)if(e=Pa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function IR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e3()){case kx:return 1;case vR:return 4;case hp:case t3:return 16;case wR:return 536870912;default:return 16}default:return 16}}var Bi=null,Ox=null,Ef=null;function AR(){if(Ef)return Ef;var t,e=Ox,n=e.length,r,s="value"in Bi?Bi.value:Bi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ef=s.slice(t,1<r?1-r:void 0)}function Tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $h(){return!0}function nT(){return!1}function xr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$h:nT,this.isPropagationStopped=nT,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),e}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lx=xr(dc),$d=Tt({},dc,{view:0,detail:0}),p3=xr($d),Cy,Iy,Hc,Dm=Tt({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hc&&(Hc&&t.type==="mousemove"?(Cy=t.screenX-Hc.screenX,Iy=t.screenY-Hc.screenY):Iy=Cy=0,Hc=t),Cy)},movementY:function(t){return"movementY"in t?t.movementY:Iy}}),rT=xr(Dm),m3=Tt({},Dm,{dataTransfer:0}),g3=xr(m3),y3=Tt({},$d,{relatedTarget:0}),Ay=xr(y3),v3=Tt({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),w3=xr(v3),x3=Tt({},dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_3=xr(x3),b3=Tt({},dc,{data:0}),sT=xr(b3),E3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S3[t])?!!e[t]:!1}function Vx(){return C3}var I3=Tt({},$d,{key:function(t){if(t.key){var e=E3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vx,charCode:function(t){return t.type==="keypress"?Tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A3=xr(I3),P3=Tt({},Dm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iT=xr(P3),R3=Tt({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vx}),N3=xr(R3),k3=Tt({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),D3=xr(k3),j3=Tt({},Dm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M3=xr(j3),O3=[9,13,27,32],Fx=Js&&"CompositionEvent"in window,_u=null;Js&&"documentMode"in document&&(_u=document.documentMode);var L3=Js&&"TextEvent"in window&&!_u,PR=Js&&(!Fx||_u&&8<_u&&11>=_u),oT=" ",aT=!1;function RR(t,e){switch(t){case"keyup":return O3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function V3(t,e){switch(t){case"compositionend":return NR(e);case"keypress":return e.which!==32?null:(aT=!0,oT);case"textInput":return t=e.data,t===oT&&aT?null:t;default:return null}}function F3(t,e){if(rl)return t==="compositionend"||!Fx&&RR(t,e)?(t=AR(),Ef=Ox=Bi=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PR&&e.locale!=="ko"?null:e.data;default:return null}}var U3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U3[t.type]:e==="textarea"}function kR(t,e,n,r){cR(r),e=gp(e,"onChange"),0<e.length&&(n=new Lx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bu=null,Qu=null;function $3(t){zR(t,0)}function jm(t){var e=ol(t);if(nR(e))return t}function B3(t,e){if(t==="change")return e}var DR=!1;if(Js){var Py;if(Js){var Ry="oninput"in document;if(!Ry){var cT=document.createElement("div");cT.setAttribute("oninput","return;"),Ry=typeof cT.oninput=="function"}Py=Ry}else Py=!1;DR=Py&&(!document.documentMode||9<document.documentMode)}function uT(){bu&&(bu.detachEvent("onpropertychange",jR),Qu=bu=null)}function jR(t){if(t.propertyName==="value"&&jm(Qu)){var e=[];kR(e,Qu,t,Nx(t)),fR($3,e)}}function z3(t,e,n){t==="focusin"?(uT(),bu=e,Qu=n,bu.attachEvent("onpropertychange",jR)):t==="focusout"&&uT()}function W3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jm(Qu)}function H3(t,e){if(t==="click")return jm(e)}function q3(t,e){if(t==="input"||t==="change")return jm(e)}function G3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ts=typeof Object.is=="function"?Object.is:G3;function Xu(t,e){if(ts(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$v.call(e,s)||!ts(t[s],e[s]))return!1}return!0}function dT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hT(t,e){var n=dT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dT(n)}}function MR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OR(){for(var t=window,e=cp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cp(t.document)}return e}function Ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K3(t){var e=OR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MR(n.ownerDocument.documentElement,n)){if(r!==null&&Ux(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hT(n,i);var o=hT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y3=Js&&"documentMode"in document&&11>=document.documentMode,sl=null,o0=null,Eu=null,a0=!1;function fT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a0||sl==null||sl!==cp(r)||(r=sl,"selectionStart"in r&&Ux(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&Xu(Eu,r)||(Eu=r,r=gp(o0,"onSelect"),0<r.length&&(e=new Lx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sl)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},Ny={},LR={};Js&&(LR=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Mm(t){if(Ny[t])return Ny[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LR)return Ny[t]=e[n];return t}var VR=Mm("animationend"),FR=Mm("animationiteration"),UR=Mm("animationstart"),$R=Mm("transitionend"),BR=new Map,pT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(t,e){BR.set(t,e),Aa(e,[t])}for(var ky=0;ky<pT.length;ky++){var Dy=pT[ky],Q3=Dy.toLowerCase(),X3=Dy[0].toUpperCase()+Dy.slice(1);bo(Q3,"on"+X3)}bo(VR,"onAnimationEnd");bo(FR,"onAnimationIteration");bo(UR,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo($R,"onTransitionEnd");Bl("onMouseEnter",["mouseout","mouseover"]);Bl("onMouseLeave",["mouseout","mouseover"]);Bl("onPointerEnter",["pointerout","pointerover"]);Bl("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function mT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Q5(r,e,void 0,t),t.currentTarget=null}function zR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mT(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mT(s,a,c),i=l}}}if(dp)throw t=n0,dp=!1,n0=null,t}function ut(t,e){var n=e[h0];n===void 0&&(n=e[h0]=new Set);var r=t+"__bubble";n.has(r)||(WR(e,t,2,!1),n.add(r))}function jy(t,e,n){var r=0;e&&(r|=4),WR(n,t,r,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[zh]){t[zh]=!0,XP.forEach(function(n){n!=="selectionchange"&&(J3.has(n)||jy(n,!1,t),jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,jy("selectionchange",!1,e))}}function WR(t,e,n,r){switch(IR(e)){case 1:var s=h3;break;case 4:s=f3;break;default:s=Mx}n=s.bind(null,e,n,t),s=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function My(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ho(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fR(function(){var c=i,d=Nx(n),f=[];e:{var p=BR.get(t);if(p!==void 0){var g=Lx,v=t;switch(t){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":g=A3;break;case"focusin":v="focus",g=Ay;break;case"focusout":v="blur",g=Ay;break;case"beforeblur":case"afterblur":g=Ay;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=g3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=N3;break;case VR:case FR:case UR:g=w3;break;case $R:g=D3;break;case"scroll":g=p3;break;case"wheel":g=M3;break;case"copy":case"cut":case"paste":g=_3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=iT}var y=(e&4)!==0,b=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,E;_!==null;){E=_;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,w!==null&&(A=qu(_,w),A!=null&&y.push(Zu(_,A,E)))),b)break;_=_.return}0<y.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Zv&&(v=n.relatedTarget||n.fromElement)&&(Ho(v)||v[Zs]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ho(v):null,v!==null&&(b=Pa(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=rT,A="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=iT,A="onPointerLeave",w="onPointerEnter",_="pointer"),b=g==null?p:ol(g),E=v==null?p:ol(v),p=new y(A,_+"leave",g,n,d),p.target=b,p.relatedTarget=E,A=null,Ho(d)===c&&(y=new y(w,_+"enter",v,n,d),y.target=E,y.relatedTarget=b,A=y),b=A,g&&v)t:{for(y=g,w=v,_=0,E=y;E;E=Ha(E))_++;for(E=0,A=w;A;A=Ha(A))E++;for(;0<_-E;)y=Ha(y),_--;for(;0<E-_;)w=Ha(w),E--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ha(y),w=Ha(w)}y=null}else y=null;g!==null&&gT(f,p,g,y,!1),v!==null&&b!==null&&gT(f,b,v,y,!0)}}e:{if(p=c?ol(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=B3;else if(lT(p))if(DR)N=q3;else{N=W3;var M=z3}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=H3);if(N&&(N=N(t,c))){kR(f,N,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Kv(p,"number",p.value)}switch(M=c?ol(c):window,t){case"focusin":(lT(M)||M.contentEditable==="true")&&(sl=M,o0=c,Eu=null);break;case"focusout":Eu=o0=sl=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,fT(f,n,d);break;case"selectionchange":if(Y3)break;case"keydown":case"keyup":fT(f,n,d)}var C;if(Fx)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rl?RR(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(PR&&n.locale!=="ko"&&(rl||S!=="onCompositionStart"?S==="onCompositionEnd"&&rl&&(C=AR()):(Bi=d,Ox="value"in Bi?Bi.value:Bi.textContent,rl=!0)),M=gp(c,S),0<M.length&&(S=new sT(S,t,null,n,d),f.push({event:S,listeners:M}),C?S.data=C:(C=NR(n),C!==null&&(S.data=C)))),(C=L3?V3(t,n):F3(t,n))&&(c=gp(c,"onBeforeInput"),0<c.length&&(d=new sT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}zR(f,e)})}function Zu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qu(t,n),i!=null&&r.unshift(Zu(t,i,s)),i=qu(t,e),i!=null&&r.push(Zu(t,i,s))),t=t.return}return r}function Ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=qu(n,i),l!=null&&o.unshift(Zu(n,l,a))):s||(l=qu(n,i),l!=null&&o.push(Zu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Z3=/\r\n?/g,e6=/\u0000|\uFFFD/g;function yT(t){return(typeof t=="string"?t:""+t).replace(Z3,`
`).replace(e6,"")}function Wh(t,e,n){if(e=yT(e),yT(t)!==e&&n)throw Error(Y(425))}function yp(){}var l0=null,c0=null;function u0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var d0=typeof setTimeout=="function"?setTimeout:void 0,t6=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,n6=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(t){return vT.resolve(null).then(t).catch(r6)}:d0;function r6(t){setTimeout(function(){throw t})}function Oy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yu(e)}function Xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hc=Math.random().toString(36).slice(2),vs="__reactFiber$"+hc,ed="__reactProps$"+hc,Zs="__reactContainer$"+hc,h0="__reactEvents$"+hc,s6="__reactListeners$"+hc,i6="__reactHandles$"+hc;function Ho(t){var e=t[vs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zs]||n[vs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wT(t);t!==null;){if(n=t[vs])return n;t=wT(t)}return e}t=n,n=t.parentNode}return null}function Bd(t){return t=t[vs]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Om(t){return t[ed]||null}var f0=[],al=-1;function Eo(t){return{current:t}}function ht(t){0>al||(t.current=f0[al],f0[al]=null,al--)}function at(t,e){al++,f0[al]=t.current,t.current=e}var lo={},Cn=Eo(lo),Jn=Eo(!1),da=lo;function zl(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zn(t){return t=t.childContextTypes,t!=null}function vp(){ht(Jn),ht(Cn)}function xT(t,e,n){if(Cn.current!==lo)throw Error(Y(168));at(Cn,e),at(Jn,n)}function HR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,z5(t)||"Unknown",s));return Tt({},n,r)}function wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,da=Cn.current,at(Cn,t),at(Jn,Jn.current),!0}function _T(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=HR(t,e,da),r.__reactInternalMemoizedMergedChildContext=t,ht(Jn),ht(Cn),at(Cn,t)):ht(Jn),at(Jn,n)}var Ws=null,Lm=!1,Ly=!1;function qR(t){Ws===null?Ws=[t]:Ws.push(t)}function o6(t){Lm=!0,qR(t)}function To(){if(!Ly&&Ws!==null){Ly=!0;var t=0,e=tt;try{var n=Ws;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ws=null,Lm=!1}catch(s){throw Ws!==null&&(Ws=Ws.slice(t+1)),yR(kx,To),s}finally{tt=e,Ly=!1}}return null}var ll=[],cl=0,xp=null,_p=0,Cr=[],Ir=0,ha=null,Hs=1,qs="";function Lo(t,e){ll[cl++]=_p,ll[cl++]=xp,xp=t,_p=e}function GR(t,e,n){Cr[Ir++]=Hs,Cr[Ir++]=qs,Cr[Ir++]=ha,ha=t;var r=Hs;t=qs;var s=32-Xr(r)-1;r&=~(1<<s),n+=1;var i=32-Xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Hs=1<<32-Xr(e)+s|n<<s|r,qs=i+t}else Hs=1<<i|n<<s|r,qs=t}function $x(t){t.return!==null&&(Lo(t,1),GR(t,1,0))}function Bx(t){for(;t===xp;)xp=ll[--cl],ll[cl]=null,_p=ll[--cl],ll[cl]=null;for(;t===ha;)ha=Cr[--Ir],Cr[Ir]=null,qs=Cr[--Ir],Cr[Ir]=null,Hs=Cr[--Ir],Cr[Ir]=null}var mr=null,fr=null,mt=!1,Gr=null;function KR(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,fr=Xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ha!==null?{id:Hs,overflow:qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,fr=null,!0):!1;default:return!1}}function p0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m0(t){if(mt){var e=fr;if(e){var n=e;if(!bT(t,e)){if(p0(t))throw Error(Y(418));e=Xi(n.nextSibling);var r=mr;e&&bT(t,e)?KR(r,n):(t.flags=t.flags&-4097|2,mt=!1,mr=t)}}else{if(p0(t))throw Error(Y(418));t.flags=t.flags&-4097|2,mt=!1,mr=t}}}function ET(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Hh(t){if(t!==mr)return!1;if(!mt)return ET(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u0(t.type,t.memoizedProps)),e&&(e=fr)){if(p0(t))throw YR(),Error(Y(418));for(;e;)KR(t,e),e=Xi(e.nextSibling)}if(ET(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=Xi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=mr?Xi(t.stateNode.nextSibling):null;return!0}function YR(){for(var t=fr;t;)t=Xi(t.nextSibling)}function Wl(){fr=mr=null,mt=!1}function zx(t){Gr===null?Gr=[t]:Gr.push(t)}var a6=ui.ReactCurrentBatchConfig;function qc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function qh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TT(t){var e=t._init;return e(t._payload)}function QR(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=to(w,_),w.index=0,w.sibling=null,w}function i(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,A){return _===null||_.tag!==6?(_=Wy(E,w.mode,A),_.return=w,_):(_=s(_,E),_.return=w,_)}function l(w,_,E,A){var N=E.type;return N===nl?d(w,_,E.props.children,A,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ai&&TT(N)===_.type)?(A=s(_,E.props),A.ref=qc(w,_,E),A.return=w,A):(A=Nf(E.type,E.key,E.props,null,w.mode,A),A.ref=qc(w,_,E),A.return=w,A)}function c(w,_,E,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Hy(E,w.mode,A),_.return=w,_):(_=s(_,E.children||[]),_.return=w,_)}function d(w,_,E,A,N){return _===null||_.tag!==7?(_=oa(E,w.mode,A,N),_.return=w,_):(_=s(_,E),_.return=w,_)}function f(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Wy(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mh:return E=Nf(_.type,_.key,_.props,null,w.mode,E),E.ref=qc(w,null,_),E.return=w,E;case tl:return _=Hy(_,w.mode,E),_.return=w,_;case Ai:var A=_._init;return f(w,A(_._payload),E)}if(tu(_)||$c(_))return _=oa(_,w.mode,E,null),_.return=w,_;qh(w,_)}return null}function p(w,_,E,A){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(w,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mh:return E.key===N?l(w,_,E,A):null;case tl:return E.key===N?c(w,_,E,A):null;case Ai:return N=E._init,p(w,_,N(E._payload),A)}if(tu(E)||$c(E))return N!==null?null:d(w,_,E,A,null);qh(w,E)}return null}function g(w,_,E,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(E)||null,a(_,w,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mh:return w=w.get(A.key===null?E:A.key)||null,l(_,w,A,N);case tl:return w=w.get(A.key===null?E:A.key)||null,c(_,w,A,N);case Ai:var M=A._init;return g(w,_,E,M(A._payload),N)}if(tu(A)||$c(A))return w=w.get(E)||null,d(_,w,A,N,null);qh(_,A)}return null}function v(w,_,E,A){for(var N=null,M=null,C=_,S=_=0,I=null;C!==null&&S<E.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var P=p(w,C,E[S],A);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(w,C),_=i(P,_,S),M===null?N=P:M.sibling=P,M=P,C=I}if(S===E.length)return n(w,C),mt&&Lo(w,S),N;if(C===null){for(;S<E.length;S++)C=f(w,E[S],A),C!==null&&(_=i(C,_,S),M===null?N=C:M.sibling=C,M=C);return mt&&Lo(w,S),N}for(C=r(w,C);S<E.length;S++)I=g(C,w,S,E[S],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),_=i(I,_,S),M===null?N=I:M.sibling=I,M=I);return t&&C.forEach(function(D){return e(w,D)}),mt&&Lo(w,S),N}function y(w,_,E,A){var N=$c(E);if(typeof N!="function")throw Error(Y(150));if(E=N.call(E),E==null)throw Error(Y(151));for(var M=N=null,C=_,S=_=0,I=null,P=E.next();C!==null&&!P.done;S++,P=E.next()){C.index>S?(I=C,C=null):I=C.sibling;var D=p(w,C,P.value,A);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(w,C),_=i(D,_,S),M===null?N=D:M.sibling=D,M=D,C=I}if(P.done)return n(w,C),mt&&Lo(w,S),N;if(C===null){for(;!P.done;S++,P=E.next())P=f(w,P.value,A),P!==null&&(_=i(P,_,S),M===null?N=P:M.sibling=P,M=P);return mt&&Lo(w,S),N}for(C=r(w,C);!P.done;S++,P=E.next())P=g(C,w,S,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),_=i(P,_,S),M===null?N=P:M.sibling=P,M=P);return t&&C.forEach(function(j){return e(w,j)}),mt&&Lo(w,S),N}function b(w,_,E,A){if(typeof E=="object"&&E!==null&&E.type===nl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Mh:e:{for(var N=E.key,M=_;M!==null;){if(M.key===N){if(N=E.type,N===nl){if(M.tag===7){n(w,M.sibling),_=s(M,E.props.children),_.return=w,w=_;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ai&&TT(N)===M.type){n(w,M.sibling),_=s(M,E.props),_.ref=qc(w,M,E),_.return=w,w=_;break e}n(w,M);break}else e(w,M);M=M.sibling}E.type===nl?(_=oa(E.props.children,w.mode,A,E.key),_.return=w,w=_):(A=Nf(E.type,E.key,E.props,null,w.mode,A),A.ref=qc(w,_,E),A.return=w,w=A)}return o(w);case tl:e:{for(M=E.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=s(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Hy(E,w.mode,A),_.return=w,w=_}return o(w);case Ai:return M=E._init,b(w,_,M(E._payload),A)}if(tu(E))return v(w,_,E,A);if($c(E))return y(w,_,E,A);qh(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=s(_,E),_.return=w,w=_):(n(w,_),_=Wy(E,w.mode,A),_.return=w,w=_),o(w)):n(w,_)}return b}var Hl=QR(!0),XR=QR(!1),bp=Eo(null),Ep=null,ul=null,Wx=null;function Hx(){Wx=ul=Ep=null}function qx(t){var e=bp.current;ht(bp),t._currentValue=e}function g0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bl(t,e){Ep=t,Wx=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qn=!0),t.firstContext=null)}function jr(t){var e=t._currentValue;if(Wx!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(Ep===null)throw Error(Y(308));ul=t,Ep.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var qo=null;function Gx(t){qo===null?qo=[t]:qo.push(t)}function JR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gx(e)):(n.next=s.next,s.next=n),e.interleaved=n,ei(t,r)}function ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function Kx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ei(t,n)}return s=r.interleaved,s===null?(e.next=e,Gx(r)):(e.next=s.next,s.next=e),r.interleaved=e,ei(t,n)}function Sf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dx(t,n)}}function ST(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,r){var s=t.updateQueue;Pi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Tt({},f,p);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pa|=o,t.lanes=o,t.memoizedState=f}}function CT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var zd={},Ts=Eo(zd),td=Eo(zd),nd=Eo(zd);function Go(t){if(t===zd)throw Error(Y(174));return t}function Yx(t,e){switch(at(nd,e),at(td,t),at(Ts,zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qv(e,t)}ht(Ts),at(Ts,e)}function ql(){ht(Ts),ht(td),ht(nd)}function eN(t){Go(nd.current);var e=Go(Ts.current),n=Qv(e,t.type);e!==n&&(at(td,t),at(Ts,n))}function Qx(t){td.current===t&&(ht(Ts),ht(td))}var vt=Eo(0);function Sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vy=[];function Xx(){for(var t=0;t<Vy.length;t++)Vy[t]._workInProgressVersionPrimary=null;Vy.length=0}var Cf=ui.ReactCurrentDispatcher,Fy=ui.ReactCurrentBatchConfig,fa=0,bt=null,qt=null,Xt=null,Cp=!1,Tu=!1,rd=0,l6=0;function mn(){throw Error(Y(321))}function Jx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ts(t[n],e[n]))return!1;return!0}function Zx(t,e,n,r,s,i){if(fa=i,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cf.current=t===null||t.memoizedState===null?h6:f6,t=n(r,s),Tu){i=0;do{if(Tu=!1,rd=0,25<=i)throw Error(Y(301));i+=1,Xt=qt=null,e.updateQueue=null,Cf.current=p6,t=n(r,s)}while(Tu)}if(Cf.current=Ip,e=qt!==null&&qt.next!==null,fa=0,Xt=qt=bt=null,Cp=!1,e)throw Error(Y(300));return t}function e_(){var t=rd!==0;return rd=0,t}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?bt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Mr(){if(qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Xt===null?bt.memoizedState:Xt.next;if(e!==null)Xt=e,qt=t;else{if(t===null)throw Error(Y(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Xt===null?bt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function sd(t,e){return typeof e=="function"?e(t):e}function Uy(t){var e=Mr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((fa&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,bt.lanes|=d,pa|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ts(r,e.memoizedState)||(Qn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,bt.lanes|=i,pa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=Mr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ts(i,e.memoizedState)||(Qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function tN(){}function nN(t,e){var n=bt,r=Mr(),s=e(),i=!ts(r.memoizedState,s);if(i&&(r.memoizedState=s,Qn=!0),r=r.queue,t_(iN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,id(9,sN.bind(null,n,r,s,e),void 0,null),en===null)throw Error(Y(349));fa&30||rN(n,e,s)}return s}function rN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sN(t,e,n,r){e.value=n,e.getSnapshot=r,oN(e)&&aN(t)}function iN(t,e,n){return n(function(){oN(e)&&aN(t)})}function oN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ts(t,n)}catch{return!0}}function aN(t){var e=ei(t,1);e!==null&&Jr(e,t,1,-1)}function IT(t){var e=hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:t},e.queue=t,t=t.dispatch=d6.bind(null,bt,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lN(){return Mr().memoizedState}function If(t,e,n,r){var s=hs();bt.flags|=t,s.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function Vm(t,e,n,r){var s=Mr();r=r===void 0?null:r;var i=void 0;if(qt!==null){var o=qt.memoizedState;if(i=o.destroy,r!==null&&Jx(r,o.deps)){s.memoizedState=id(e,n,i,r);return}}bt.flags|=t,s.memoizedState=id(1|e,n,i,r)}function AT(t,e){return If(8390656,8,t,e)}function t_(t,e){return Vm(2048,8,t,e)}function cN(t,e){return Vm(4,2,t,e)}function uN(t,e){return Vm(4,4,t,e)}function dN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hN(t,e,n){return n=n!=null?n.concat([t]):null,Vm(4,4,dN.bind(null,e,t),n)}function n_(){}function fN(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pN(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mN(t,e,n){return fa&21?(ts(n,e)||(n=xR(),bt.lanes|=n,pa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qn=!0),t.memoizedState=n)}function c6(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Fy.transition;Fy.transition={};try{t(!1),e()}finally{tt=n,Fy.transition=r}}function gN(){return Mr().memoizedState}function u6(t,e,n){var r=eo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yN(t))vN(e,n);else if(n=JR(t,e,n,r),n!==null){var s=Vn();Jr(n,t,r,s),wN(n,e,r)}}function d6(t,e,n){var r=eo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yN(t))vN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ts(a,o)){var l=e.interleaved;l===null?(s.next=s,Gx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=JR(t,e,s,r),n!==null&&(s=Vn(),Jr(n,t,r,s),wN(n,e,r))}}function yN(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function vN(t,e){Tu=Cp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dx(t,n)}}var Ip={readContext:jr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},h6={readContext:jr,useCallback:function(t,e){return hs().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:AT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,If(4194308,4,dN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return If(4194308,4,t,e)},useInsertionEffect:function(t,e){return If(4,2,t,e)},useMemo:function(t,e){var n=hs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=u6.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=hs();return t={current:t},e.memoizedState=t},useState:IT,useDebugValue:n_,useDeferredValue:function(t){return hs().memoizedState=t},useTransition:function(){var t=IT(!1),e=t[0];return t=c6.bind(null,t[1]),hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,s=hs();if(mt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),en===null)throw Error(Y(349));fa&30||rN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,AT(iN.bind(null,r,i,t),[t]),r.flags|=2048,id(9,sN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hs(),e=en.identifierPrefix;if(mt){var n=qs,r=Hs;n=(r&~(1<<32-Xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f6={readContext:jr,useCallback:fN,useContext:jr,useEffect:t_,useImperativeHandle:hN,useInsertionEffect:cN,useLayoutEffect:uN,useMemo:pN,useReducer:Uy,useRef:lN,useState:function(){return Uy(sd)},useDebugValue:n_,useDeferredValue:function(t){var e=Mr();return mN(e,qt.memoizedState,t)},useTransition:function(){var t=Uy(sd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1},p6={readContext:jr,useCallback:fN,useContext:jr,useEffect:t_,useImperativeHandle:hN,useInsertionEffect:cN,useLayoutEffect:uN,useMemo:pN,useReducer:$y,useRef:lN,useState:function(){return $y(sd)},useDebugValue:n_,useDeferredValue:function(t){var e=Mr();return qt===null?e.memoizedState=t:mN(e,qt.memoizedState,t)},useTransition:function(){var t=$y(sd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1};function zr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function y0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fm={isMounted:function(t){return(t=t._reactInternals)?Pa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vn(),s=eo(t),i=Ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ji(t,i,s),e!==null&&(Jr(e,t,s,r),Sf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vn(),s=eo(t),i=Ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ji(t,i,s),e!==null&&(Jr(e,t,s,r),Sf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),r=eo(t),s=Ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ji(t,s,r),e!==null&&(Jr(e,t,r,n),Sf(e,t,r))}};function PT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xu(n,r)||!Xu(s,i):!0}function xN(t,e,n){var r=!1,s=lo,i=e.contextType;return typeof i=="object"&&i!==null?i=jr(i):(s=Zn(e)?da:Cn.current,r=e.contextTypes,i=(r=r!=null)?zl(t,s):lo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function RT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fm.enqueueReplaceState(e,e.state,null)}function v0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Kx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jr(i):(i=Zn(e)?da:Cn.current,s.context=zl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(y0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fm.enqueueReplaceState(s,s.state,null),Tp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gl(t,e){try{var n="",r=e;do n+=B5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function By(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m6=typeof WeakMap=="function"?WeakMap:Map;function _N(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pp||(Pp=!0,P0=r),w0(t,e)},n}function bN(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){w0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){w0(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function NT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=P6.bind(null,t,e,n),e.then(t,t))}function kT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Ji(n,e,1))),n.lanes|=1),t)}var g6=ui.ReactCurrentOwner,Qn=!1;function jn(t,e,n,r){e.child=t===null?XR(e,null,n,r):Hl(e,t.child,n,r)}function jT(t,e,n,r,s){n=n.render;var i=e.ref;return bl(e,s),r=Zx(t,e,n,r,i,s),n=e_(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ti(t,e,s)):(mt&&n&&$x(e),e.flags|=1,jn(t,e,r,s),e.child)}function MT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!u_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EN(t,e,i,r,s)):(t=Nf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xu,n(o,r)&&t.ref===e.ref)return ti(t,e,s)}return e.flags|=1,t=to(i,r),t.ref=e.ref,t.return=e,e.child=t}function EN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xu(i,r)&&t.ref===e.ref)if(Qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qn=!0);else return e.lanes=t.lanes,ti(t,e,s)}return x0(t,e,n,r,s)}function TN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(hl,cr),cr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(hl,cr),cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(hl,cr),cr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(hl,cr),cr|=r;return jn(t,e,s,n),e.child}function SN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,s){var i=Zn(n)?da:Cn.current;return i=zl(e,i),bl(e,s),n=Zx(t,e,n,r,i,s),r=e_(),t!==null&&!Qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ti(t,e,s)):(mt&&r&&$x(e),e.flags|=1,jn(t,e,n,s),e.child)}function OT(t,e,n,r,s){if(Zn(n)){var i=!0;wp(e)}else i=!1;if(bl(e,s),e.stateNode===null)Af(t,e),xN(e,n,r),v0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jr(c):(c=Zn(n)?da:Cn.current,c=zl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&RT(e,o,r,c),Pi=!1;var p=e.memoizedState;o.state=p,Tp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Jn.current||Pi?(typeof d=="function"&&(y0(e,n,d,r),l=e.memoizedState),(a=Pi||PT(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jr(l):(l=Zn(n)?da:Cn.current,l=zl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&RT(e,o,r,l),Pi=!1,p=e.memoizedState,o.state=p,Tp(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||Jn.current||Pi?(typeof g=="function"&&(y0(e,n,g,r),v=e.memoizedState),(c=Pi||PT(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _0(t,e,n,r,i,s)}function _0(t,e,n,r,s,i){SN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_T(e,n,!1),ti(t,e,i);r=e.stateNode,g6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hl(e,t.child,null,i),e.child=Hl(e,null,a,i)):jn(t,e,a,i),e.memoizedState=r.state,s&&_T(e,n,!0),e.child}function CN(t){var e=t.stateNode;e.pendingContext?xT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xT(t,e.context,!1),Yx(t,e.containerInfo)}function LT(t,e,n,r,s){return Wl(),zx(s),e.flags|=256,jn(t,e,n,r),e.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function E0(t){return{baseLanes:t,cachePool:null,transitions:null}}function IN(t,e,n){var r=e.pendingProps,s=vt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(vt,s&1),t===null)return m0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bm(o,r,0,null),t=oa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=E0(n),e.memoizedState=b0,t):r_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return y6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=to(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=to(a,i):(i=oa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?E0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=b0,r}return i=t.child,t=i.sibling,r=to(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function r_(t,e){return e=Bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,n,r){return r!==null&&zx(r),Hl(e,t.child,null,n),t=r_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=By(Error(Y(422))),Gh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bm({mode:"visible",children:r.children},s,0,null),i=oa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hl(e,t.child,null,o),e.child.memoizedState=E0(o),e.memoizedState=b0,i);if(!(e.mode&1))return Gh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=By(i,r,void 0),Gh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qn||a){if(r=en,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ei(t,s),Jr(r,t,s,-1))}return c_(),r=By(Error(Y(421))),Gh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,fr=Xi(s.nextSibling),mr=e,mt=!0,Gr=null,t!==null&&(Cr[Ir++]=Hs,Cr[Ir++]=qs,Cr[Ir++]=ha,Hs=t.id,qs=t.overflow,ha=e),e=r_(e,r.children),e.flags|=4096,e)}function VT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g0(t.return,e,n)}function zy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jn(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VT(t,n,e);else if(t.tag===19)VT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(vt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zy(e,!0,n,null,i);break;case"together":zy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Af(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=to(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=to(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function v6(t,e,n){switch(e.tag){case 3:CN(e),Wl();break;case 5:eN(e);break;case 1:Zn(e.type)&&wp(e);break;case 4:Yx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(bp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?IN(t,e,n):(at(vt,vt.current&1),t=ti(t,e,n),t!==null?t.sibling:null);at(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,TN(t,e,n)}return ti(t,e,n)}var PN,T0,RN,NN;PN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T0=function(){};RN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Go(Ts.current);var i=null;switch(n){case"input":s=qv(t,s),r=qv(t,r),i=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":s=Yv(t,s),r=Yv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yp)}Xv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};NN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gc(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function w6(t,e,n){var r=e.pendingProps;switch(Bx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Zn(e.type)&&vp(),gn(e),null;case 3:return r=e.stateNode,ql(),ht(Jn),ht(Cn),Xx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(k0(Gr),Gr=null))),T0(t,e),gn(e),null;case 5:Qx(e);var s=Go(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)RN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return gn(e),null}if(t=Go(Ts.current),Hh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vs]=e,r[ed]=i,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<ru.length;s++)ut(ru[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":GE(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":YE(r,i),ut("invalid",r)}Xv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),s=["children",""+a]):Wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":Oh(r),KE(r,i,!0);break;case"textarea":Oh(r),QE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vs]=e,t[ed]=r,PN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jv(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<ru.length;s++)ut(ru[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":GE(t,r),s=qv(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),ut("invalid",t);break;case"textarea":YE(t,r),s=Yv(t,r),ut("invalid",t);break;default:s=r}Xv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?lR(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oR(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hu(t,l):typeof l=="number"&&Hu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ut("scroll",t):l!=null&&Ix(t,i,l,o))}switch(n){case"input":Oh(t),KE(t,r,!1);break;case"textarea":Oh(t),QE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vl(t,!!r.multiple,i,!1):r.defaultValue!=null&&vl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)NN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Go(nd.current),Go(Ts.current),Hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vs]=e,(i=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:Wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return gn(e),null;case 13:if(ht(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&fr!==null&&e.mode&1&&!(e.flags&128))YR(),Wl(),e.flags|=98560,i=!1;else if(i=Hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[vs]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),i=!1}else Gr!==null&&(k0(Gr),Gr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Gt===0&&(Gt=3):c_())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return ql(),T0(t,e),t===null&&Ju(e.stateNode.containerInfo),gn(e),null;case 10:return qx(e.type._context),gn(e),null;case 17:return Zn(e.type)&&vp(),gn(e),null;case 19:if(ht(vt),i=e.memoizedState,i===null)return gn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gc(i,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sp(t),o!==null){for(e.flags|=128,Gc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(vt,vt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Vt()>Kl&&(e.flags|=128,r=!0,Gc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return gn(e),null}else 2*Vt()-i.renderingStartTime>Kl&&n!==1073741824&&(e.flags|=128,r=!0,Gc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Vt(),e.sibling=null,n=vt.current,at(vt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return l_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cr&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function x6(t,e){switch(Bx(e),e.tag){case 1:return Zn(e.type)&&vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),ht(Jn),ht(Cn),Xx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qx(e),null;case 13:if(ht(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(vt),null;case 4:return ql(),null;case 10:return qx(e.type._context),null;case 22:case 23:return l_(),null;case 24:return null;default:return null}}var Kh=!1,bn=!1,_6=typeof WeakSet=="function"?WeakSet:Set,ue=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function S0(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var FT=!1;function b6(t,e){if(l0=pp,t=OR(),Ux(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(c0={focusedElem:t,selectionRange:n},pp=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:zr(e.type,y),b);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(A){Rt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return v=FT,FT=!1,v}function Su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&S0(e,n,i)}s=s.next}while(s!==r)}}function Um(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function C0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kN(t){var e=t.alternate;e!==null&&(t.alternate=null,kN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vs],delete e[ed],delete e[h0],delete e[s6],delete e[i6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DN(t){return t.tag===5||t.tag===3||t.tag===4}function UT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yp));else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}function A0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(A0(t,e,n),t=t.sibling;t!==null;)A0(t,e,n),t=t.sibling}var rn=null,qr=!1;function wi(t,e,n){for(n=n.child;n!==null;)jN(t,e,n),n=n.sibling}function jN(t,e,n){if(Es&&typeof Es.onCommitFiberUnmount=="function")try{Es.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:bn||dl(n,e);case 6:var r=rn,s=qr;rn=null,wi(t,e,n),rn=r,qr=s,rn!==null&&(qr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(qr?(t=rn,n=n.stateNode,t.nodeType===8?Oy(t.parentNode,n):t.nodeType===1&&Oy(t,n),Yu(t)):Oy(rn,n.stateNode));break;case 4:r=rn,s=qr,rn=n.stateNode.containerInfo,qr=!0,wi(t,e,n),rn=r,qr=s;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&S0(n,e,o),s=s.next}while(s!==r)}wi(t,e,n);break;case 1:if(!bn&&(dl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,wi(t,e,n),bn=r):wi(t,e,n);break;default:wi(t,e,n)}}function $T(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _6),e.forEach(function(r){var s=N6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,qr=!1;break e;case 3:rn=a.stateNode.containerInfo,qr=!0;break e;case 4:rn=a.stateNode.containerInfo,qr=!0;break e}a=a.return}if(rn===null)throw Error(Y(160));jN(i,o,s),rn=null,qr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Rt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MN(e,t),e=e.sibling}function MN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ur(e,t),ds(t),r&4){try{Su(3,t,t.return),Um(3,t)}catch(y){Rt(t,t.return,y)}try{Su(5,t,t.return)}catch(y){Rt(t,t.return,y)}}break;case 1:Ur(e,t),ds(t),r&512&&n!==null&&dl(n,n.return);break;case 5:if(Ur(e,t),ds(t),r&512&&n!==null&&dl(n,n.return),t.flags&32){var s=t.stateNode;try{Hu(s,"")}catch(y){Rt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rR(s,i),Jv(a,o);var c=Jv(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?lR(s,f):d==="dangerouslySetInnerHTML"?oR(s,f):d==="children"?Hu(s,f):Ix(s,d,f,c)}switch(a){case"input":Gv(s,i);break;case"textarea":sR(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?vl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?vl(s,!!i.multiple,i.defaultValue,!0):vl(s,!!i.multiple,i.multiple?[]:"",!1))}s[ed]=i}catch(y){Rt(t,t.return,y)}}break;case 6:if(Ur(e,t),ds(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Rt(t,t.return,y)}}break;case 3:if(Ur(e,t),ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(e.containerInfo)}catch(y){Rt(t,t.return,y)}break;case 4:Ur(e,t),ds(t);break;case 13:Ur(e,t),ds(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(o_=Vt())),r&4&&$T(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(c=bn)||d,Ur(e,t),bn=c):Ur(e,t),ds(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(f=ue=d;ue!==null;){switch(p=ue,g=p.child,p.tag){case 0:case 11:case 14:case 15:Su(4,p,p.return);break;case 1:dl(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Rt(r,n,y)}}break;case 5:dl(p,p.return);break;case 22:if(p.memoizedState!==null){zT(f);continue}}g!==null?(g.return=p,ue=g):zT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aR("display",o))}catch(y){Rt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Rt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ur(e,t),ds(t),r&4&&$T(t);break;case 21:break;default:Ur(e,t),ds(t)}}function ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DN(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hu(s,""),r.flags&=-33);var i=UT(t);A0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=UT(t);I0(t,a,o);break;default:throw Error(Y(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E6(t,e,n){ue=t,ON(t)}function ON(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bn;a=Kh;var c=bn;if(Kh=o,(bn=l)&&!c)for(ue=s;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?WT(s):l!==null?(l.return=o,ue=l):WT(s);for(;i!==null;)ue=i,ON(i),i=i.sibling;ue=s,Kh=a,bn=c}BT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):BT(t)}}function BT(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Um(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&CT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}CT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}bn||e.flags&512&&C0(e)}catch(p){Rt(e,e.return,p)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function zT(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function WT(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Um(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Rt(e,s,l)}}var i=e.return;try{C0(e)}catch(l){Rt(e,i,l)}break;case 5:var o=e.return;try{C0(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var T6=Math.ceil,Ap=ui.ReactCurrentDispatcher,s_=ui.ReactCurrentOwner,Rr=ui.ReactCurrentBatchConfig,qe=0,en=null,Bt=null,ln=0,cr=0,hl=Eo(0),Gt=0,od=null,pa=0,$m=0,i_=0,Cu=null,Kn=null,o_=0,Kl=1/0,zs=null,Pp=!1,P0=null,Zi=null,Yh=!1,zi=null,Rp=0,Iu=0,R0=null,Pf=-1,Rf=0;function Vn(){return qe&6?Vt():Pf!==-1?Pf:Pf=Vt()}function eo(t){return t.mode&1?qe&2&&ln!==0?ln&-ln:a6.transition!==null?(Rf===0&&(Rf=xR()),Rf):(t=tt,t!==0||(t=window.event,t=t===void 0?16:IR(t.type)),t):1}function Jr(t,e,n,r){if(50<Iu)throw Iu=0,R0=null,Error(Y(185));Ud(t,n,r),(!(qe&2)||t!==en)&&(t===en&&(!(qe&2)&&($m|=n),Gt===4&&ki(t,ln)),er(t,r),n===1&&qe===0&&!(e.mode&1)&&(Kl=Vt()+500,Lm&&To()))}function er(t,e){var n=t.callbackNode;a3(t,e);var r=fp(t,t===en?ln:0);if(r===0)n!==null&&ZE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ZE(n),e===1)t.tag===0?o6(HT.bind(null,t)):qR(HT.bind(null,t)),n6(function(){!(qe&6)&&To()}),n=null;else{switch(_R(r)){case 1:n=kx;break;case 4:n=vR;break;case 16:n=hp;break;case 536870912:n=wR;break;default:n=hp}n=WN(n,LN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LN(t,e){if(Pf=-1,Rf=0,qe&6)throw Error(Y(327));var n=t.callbackNode;if(El()&&t.callbackNode!==n)return null;var r=fp(t,t===en?ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Np(t,r);else{e=r;var s=qe;qe|=2;var i=FN();(en!==t||ln!==e)&&(zs=null,Kl=Vt()+500,ia(t,e));do try{I6();break}catch(a){VN(t,a)}while(!0);Hx(),Ap.current=i,qe=s,Bt!==null?e=0:(en=null,ln=0,e=Gt)}if(e!==0){if(e===2&&(s=r0(t),s!==0&&(r=s,e=N0(t,s))),e===1)throw n=od,ia(t,0),ki(t,r),er(t,Vt()),n;if(e===6)ki(t,r);else{if(s=t.current.alternate,!(r&30)&&!S6(s)&&(e=Np(t,r),e===2&&(i=r0(t),i!==0&&(r=i,e=N0(t,i))),e===1))throw n=od,ia(t,0),ki(t,r),er(t,Vt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Vo(t,Kn,zs);break;case 3:if(ki(t,r),(r&130023424)===r&&(e=o_+500-Vt(),10<e)){if(fp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Vn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=d0(Vo.bind(null,t,Kn,zs),e);break}Vo(t,Kn,zs);break;case 4:if(ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T6(r/1960))-r,10<r){t.timeoutHandle=d0(Vo.bind(null,t,Kn,zs),r);break}Vo(t,Kn,zs);break;case 5:Vo(t,Kn,zs);break;default:throw Error(Y(329))}}}return er(t,Vt()),t.callbackNode===n?LN.bind(null,t):null}function N0(t,e){var n=Cu;return t.current.memoizedState.isDehydrated&&(ia(t,e).flags|=256),t=Np(t,e),t!==2&&(e=Kn,Kn=n,e!==null&&k0(e)),t}function k0(t){Kn===null?Kn=t:Kn.push.apply(Kn,t)}function S6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ts(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e){for(e&=~i_,e&=~$m,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xr(e),r=1<<n;t[n]=-1,e&=~r}}function HT(t){if(qe&6)throw Error(Y(327));El();var e=fp(t,0);if(!(e&1))return er(t,Vt()),null;var n=Np(t,e);if(t.tag!==0&&n===2){var r=r0(t);r!==0&&(e=r,n=N0(t,r))}if(n===1)throw n=od,ia(t,0),ki(t,e),er(t,Vt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,Kn,zs),er(t,Vt()),null}function a_(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Kl=Vt()+500,Lm&&To())}}function ma(t){zi!==null&&zi.tag===0&&!(qe&6)&&El();var e=qe;qe|=1;var n=Rr.transition,r=tt;try{if(Rr.transition=null,tt=1,t)return t()}finally{tt=r,Rr.transition=n,qe=e,!(qe&6)&&To()}}function l_(){cr=hl.current,ht(hl)}function ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t6(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(Bx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:ql(),ht(Jn),ht(Cn),Xx();break;case 5:Qx(r);break;case 4:ql();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:qx(r.type._context);break;case 22:case 23:l_()}n=n.return}if(en=t,Bt=t=to(t.current,null),ln=cr=e,Gt=0,od=null,i_=$m=pa=0,Kn=Cu=null,qo!==null){for(e=0;e<qo.length;e++)if(n=qo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qo=null}return t}function VN(t,e){do{var n=Bt;try{if(Hx(),Cf.current=Ip,Cp){for(var r=bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cp=!1}if(fa=0,Xt=qt=bt=null,Tu=!1,rd=0,s_.current=null,n===null||n.return===null){Gt=1,od=e,Bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=kT(o);if(g!==null){g.flags&=-257,DT(g,o,a,i,e),g.mode&1&&NT(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){NT(i,c,e),c_();break e}l=Error(Y(426))}}else if(mt&&a.mode&1){var b=kT(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),DT(b,o,a,i,e),zx(Gl(l,a));break e}}i=l=Gl(l,a),Gt!==4&&(Gt=2),Cu===null?Cu=[i]:Cu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=_N(i,l,e);ST(i,w);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Zi===null||!Zi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=bN(i,a,e);ST(i,A);break e}}i=i.return}while(i!==null)}$N(n)}catch(N){e=N,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function FN(){var t=Ap.current;return Ap.current=Ip,t===null?Ip:t}function c_(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),en===null||!(pa&268435455)&&!($m&268435455)||ki(en,ln)}function Np(t,e){var n=qe;qe|=2;var r=FN();(en!==t||ln!==e)&&(zs=null,ia(t,e));do try{C6();break}catch(s){VN(t,s)}while(!0);if(Hx(),qe=n,Ap.current=r,Bt!==null)throw Error(Y(261));return en=null,ln=0,Gt}function C6(){for(;Bt!==null;)UN(Bt)}function I6(){for(;Bt!==null&&!J5();)UN(Bt)}function UN(t){var e=zN(t.alternate,t,cr);t.memoizedProps=t.pendingProps,e===null?$N(t):Bt=e,s_.current=null}function $N(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x6(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Bt=null;return}}else if(n=w6(n,e,cr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Vo(t,e,n){var r=tt,s=Rr.transition;try{Rr.transition=null,tt=1,A6(t,e,n,r)}finally{Rr.transition=s,tt=r}return null}function A6(t,e,n,r){do El();while(zi!==null);if(qe&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(l3(t,i),t===en&&(Bt=en=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yh||(Yh=!0,WN(hp,function(){return El(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=tt;tt=1;var a=qe;qe|=4,s_.current=null,b6(t,n),MN(n,t),K3(c0),pp=!!l0,c0=l0=null,t.current=n,E6(n),Z5(),qe=a,tt=o,Rr.transition=i}else t.current=n;if(Yh&&(Yh=!1,zi=t,Rp=s),i=t.pendingLanes,i===0&&(Zi=null),n3(n.stateNode),er(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pp)throw Pp=!1,t=P0,P0=null,t;return Rp&1&&t.tag!==0&&El(),i=t.pendingLanes,i&1?t===R0?Iu++:(Iu=0,R0=t):Iu=0,To(),null}function El(){if(zi!==null){var t=_R(Rp),e=Rr.transition,n=tt;try{if(Rr.transition=null,tt=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,Rp=0,qe&6)throw Error(Y(331));var s=qe;for(qe|=4,ue=t.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Su(8,d,i)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var p=d.sibling,g=d.return;if(kN(d),d===c){ue=null;break}if(p!==null){p.return=g,ue=p;break}ue=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Su(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ue=w;break e}ue=i.return}}var _=t.current;for(ue=_;ue!==null;){o=ue;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ue=E;else e:for(o=_;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Um(9,a)}}catch(N){Rt(a,a.return,N)}if(a===o){ue=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ue=A;break e}ue=a.return}}if(qe=s,To(),Es&&typeof Es.onPostCommitFiberRoot=="function")try{Es.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{tt=n,Rr.transition=e}}return!1}function qT(t,e,n){e=Gl(n,e),e=_N(t,e,1),t=Ji(t,e,1),e=Vn(),t!==null&&(Ud(t,1,e),er(t,e))}function Rt(t,e,n){if(t.tag===3)qT(t,t,n);else for(;e!==null;){if(e.tag===3){qT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=Gl(n,t),t=bN(e,t,1),e=Ji(e,t,1),t=Vn(),e!==null&&(Ud(e,1,t),er(e,t));break}}e=e.return}}function P6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vn(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(ln&n)===n&&(Gt===4||Gt===3&&(ln&130023424)===ln&&500>Vt()-o_?ia(t,0):i_|=n),er(t,e)}function BN(t,e){e===0&&(t.mode&1?(e=Fh,Fh<<=1,!(Fh&130023424)&&(Fh=4194304)):e=1);var n=Vn();t=ei(t,e),t!==null&&(Ud(t,e,n),er(t,n))}function R6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BN(t,n)}function N6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),BN(t,n)}var zN;zN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qn=!1,v6(t,e,n);Qn=!!(t.flags&131072)}else Qn=!1,mt&&e.flags&1048576&&GR(e,_p,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Af(t,e),t=e.pendingProps;var s=zl(e,Cn.current);bl(e,n),s=Zx(null,e,r,t,s,n);var i=e_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(i=!0,wp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kx(e),s.updater=Fm,e.stateNode=s,s._reactInternals=e,v0(e,r,t,n),e=_0(null,e,r,!0,i,n)):(e.tag=0,mt&&i&&$x(e),jn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Af(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=D6(r),t=zr(r,t),s){case 0:e=x0(null,e,r,t,n);break e;case 1:e=OT(null,e,r,t,n);break e;case 11:e=jT(null,e,r,t,n);break e;case 14:e=MT(null,e,r,zr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zr(r,s),x0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zr(r,s),OT(t,e,r,s,n);case 3:e:{if(CN(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ZR(t,e),Tp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gl(Error(Y(423)),e),e=LT(t,e,r,n,s);break e}else if(r!==s){s=Gl(Error(Y(424)),e),e=LT(t,e,r,n,s);break e}else for(fr=Xi(e.stateNode.containerInfo.firstChild),mr=e,mt=!0,Gr=null,n=XR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wl(),r===s){e=ti(t,e,n);break e}jn(t,e,r,n)}e=e.child}return e;case 5:return eN(e),t===null&&m0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,u0(r,s)?o=null:i!==null&&u0(r,i)&&(e.flags|=32),SN(t,e),jn(t,e,o,n),e.child;case 6:return t===null&&m0(e),null;case 13:return IN(t,e,n);case 4:return Yx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hl(e,null,r,n):jn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zr(r,s),jT(t,e,r,s,n);case 7:return jn(t,e,e.pendingProps,n),e.child;case 8:return jn(t,e,e.pendingProps.children,n),e.child;case 12:return jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(bp,r._currentValue),r._currentValue=o,i!==null)if(ts(i.value,o)){if(i.children===s.children&&!Jn.current){e=ti(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ys(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),g0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),g0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,bl(e,n),s=jr(s),r=r(s),e.flags|=1,jn(t,e,r,n),e.child;case 14:return r=e.type,s=zr(r,e.pendingProps),s=zr(r.type,s),MT(t,e,r,s,n);case 15:return EN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zr(r,s),Af(t,e),e.tag=1,Zn(r)?(t=!0,wp(e)):t=!1,bl(e,n),xN(e,r,s),v0(e,r,s,n),_0(null,e,r,!0,t,n);case 19:return AN(t,e,n);case 22:return TN(t,e,n)}throw Error(Y(156,e.tag))};function WN(t,e){return yR(t,e)}function k6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new k6(t,e,n,r)}function u_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D6(t){if(typeof t=="function")return u_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Px)return 11;if(t===Rx)return 14}return 2}function to(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")u_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return oa(n.children,s,i,e);case Ax:o=8,s|=8;break;case Bv:return t=Pr(12,n,e,s|2),t.elementType=Bv,t.lanes=i,t;case zv:return t=Pr(13,n,e,s),t.elementType=zv,t.lanes=i,t;case Wv:return t=Pr(19,n,e,s),t.elementType=Wv,t.lanes=i,t;case eR:return Bm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JP:o=10;break e;case ZP:o=9;break e;case Px:o=11;break e;case Rx:o=14;break e;case Ai:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function oa(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Bm(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=eR,t.lanes=n,t.stateNode={isHidden:!1},t}function Wy(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function Hy(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sy(0),this.expirationTimes=Sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function d_(t,e,n,r,s,i,o,a,l){return t=new j6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kx(i),t}function M6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HN(t){if(!t)return lo;t=t._reactInternals;e:{if(Pa(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Zn(n))return HR(t,n,e)}return e}function qN(t,e,n,r,s,i,o,a,l){return t=d_(n,r,!0,t,s,i,o,a,l),t.context=HN(null),n=t.current,r=Vn(),s=eo(n),i=Ys(r,s),i.callback=e??null,Ji(n,i,s),t.current.lanes=s,Ud(t,s,r),er(t,r),t}function zm(t,e,n,r){var s=e.current,i=Vn(),o=eo(s);return n=HN(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ji(s,e,o),t!==null&&(Jr(t,s,o,i),Sf(t,s,o)),o}function kp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h_(t,e){GT(t,e),(t=t.alternate)&&GT(t,e)}function O6(){return null}var GN=typeof reportError=="function"?reportError:function(t){console.error(t)};function f_(t){this._internalRoot=t}Wm.prototype.render=f_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));zm(t,e,null,null)};Wm.prototype.unmount=f_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ma(function(){zm(null,t,null,null)}),e[Zs]=null}};function Wm(t){this._internalRoot=t}Wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=TR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&CR(t)}};function p_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KT(){}function L6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=kp(o);i.call(c)}}var o=qN(e,r,t,0,null,!1,!1,"",KT);return t._reactRootContainer=o,t[Zs]=o.current,Ju(t.nodeType===8?t.parentNode:t),ma(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=kp(l);a.call(c)}}var l=d_(t,0,!1,null,null,!1,!1,"",KT);return t._reactRootContainer=l,t[Zs]=l.current,Ju(t.nodeType===8?t.parentNode:t),ma(function(){zm(e,l,n,r)}),l}function qm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=kp(o);a.call(l)}}zm(e,o,t,s)}else o=L6(n,e,t,s,r);return kp(o)}bR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nu(e.pendingLanes);n!==0&&(Dx(e,n|1),er(e,Vt()),!(qe&6)&&(Kl=Vt()+500,To()))}break;case 13:ma(function(){var r=ei(t,1);if(r!==null){var s=Vn();Jr(r,t,1,s)}}),h_(t,1)}};jx=function(t){if(t.tag===13){var e=ei(t,134217728);if(e!==null){var n=Vn();Jr(e,t,134217728,n)}h_(t,134217728)}};ER=function(t){if(t.tag===13){var e=eo(t),n=ei(t,e);if(n!==null){var r=Vn();Jr(n,t,e,r)}h_(t,e)}};TR=function(){return tt};SR=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};e0=function(t,e,n){switch(e){case"input":if(Gv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Om(r);if(!s)throw Error(Y(90));nR(r),Gv(r,s)}}}break;case"textarea":sR(t,n);break;case"select":e=n.value,e!=null&&vl(t,!!n.multiple,e,!1)}};dR=a_;hR=ma;var V6={usingClientEntryPoint:!1,Events:[Bd,ol,Om,cR,uR,a_]},Kc={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F6={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mR(t),t===null?null:t.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||O6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{km=Qh.inject(F6),Es=Qh}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V6;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p_(e))throw Error(Y(200));return M6(t,e,null,n)};wr.createRoot=function(t,e){if(!p_(t))throw Error(Y(299));var n=!1,r="",s=GN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=d_(t,1,!1,null,null,n,!1,r,s),t[Zs]=e.current,Ju(t.nodeType===8?t.parentNode:t),new f_(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=mR(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return ma(t)};wr.hydrate=function(t,e,n){if(!Hm(e))throw Error(Y(200));return qm(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!p_(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=GN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qN(e,null,t,1,n??null,s,!1,i,o),t[Zs]=e.current,Ju(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wm(e)};wr.render=function(t,e,n){if(!Hm(e))throw Error(Y(200));return qm(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(Y(40));return t._reactRootContainer?(ma(function(){qm(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};wr.unstable_batchedUpdates=a_;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return qm(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function KN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KN)}catch(t){console.error(t)}}KN(),KP.exports=wr;var Ra=KP.exports;const YN=xx(Ra);var QN,YT=Ra;QN=YT.createRoot,YT.hydrateRoot;const U6=1,$6=1e6;let qy=0;function B6(){return qy=(qy+1)%Number.MAX_SAFE_INTEGER,qy.toString()}const Gy=new Map,QT=t=>{if(Gy.has(t))return;const e=setTimeout(()=>{Gy.delete(t),Au({type:"REMOVE_TOAST",toastId:t})},$6);Gy.set(t,e)},z6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,U6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?QT(n):t.toasts.forEach(r=>{QT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},kf=[];let Df={toasts:[]};function Au(t){Df=z6(Df,t),kf.forEach(e=>{e(Df)})}function fs({...t}){const e=B6(),n=s=>Au({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Au({type:"DISMISS_TOAST",toastId:e});return Au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function XN(){const[t,e]=m.useState(Df);return m.useEffect(()=>(kf.push(e),()=>{const n=kf.indexOf(e);n>-1&&kf.splice(n,1)}),[t]),{...t,toast:fs,dismiss:n=>Au({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function W6(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gm(...t){return e=>t.forEach(n=>W6(n,e))}function Ge(...t){return m.useCallback(Gm(...t),t)}function H6(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,q6(s,...e)]}function q6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var co=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(G6);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return u.jsx(D0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return u.jsx(D0,{...r,ref:e,children:n})});co.displayName="Slot";var D0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=Y6(n);return m.cloneElement(n,{...K6(r,n.props),ref:e?Gm(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});D0.displayName="SlotClone";var m_=({children:t})=>u.jsx(u.Fragment,{children:t});function G6(t){return m.isValidElement(t)&&t.type===m_}function K6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Y6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Km(t){const e=t+"CollectionProvider",[n,r]=H6(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=re.useRef(null),w=re.useRef(new Map).current;return u.jsx(s,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=re.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=i(a,y),_=Ge(v,w.collectionRef);return u.jsx(co,{ref:_,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=re.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=re.useRef(null),E=Ge(v,_),A=i(c,y);return re.useEffect(()=>(A.itemMap.set(_,{ref:_,...w}),()=>void A.itemMap.delete(_))),u.jsx(co,{[d]:"",ref:E,children:b})});f.displayName=c;function p(g){const v=i(t+"CollectionConsumer",g);return re.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,N)=>w.indexOf(A.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function Q6(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function di(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:g,...v}=f,y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,b=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:b,children:g})};c.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,X6(s,...e)]}function X6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var J6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=J6.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?co:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function g_(t,e){t&&Ra.flushSync(()=>t.dispatchEvent(e))}function un(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Z6(t,e=globalThis==null?void 0:globalThis.document){const n=un(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var eU="DismissableLayer",j0="dismissableLayer.update",tU="dismissableLayer.pointerDownOutside",nU="dismissableLayer.focusOutside",XT,JN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fc=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(JN),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Ge(e,C=>f(C)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),_=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,A=_>=w,N=sU(C=>{const S=C.target,I=[...c.branches].some(P=>P.contains(S));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),M=iU(C=>{const S=C.target;[...c.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return Z6(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(XT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),JT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=XT)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),JT())},[d,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(j0,C),()=>document.removeEventListener(j0,C)},[]),u.jsx(Ie.div,{...l,ref:v,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,M.onFocusCapture),onBlurCapture:se(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,N.onPointerDownCapture)})});fc.displayName=eU;var rU="DismissableLayerBranch",ZN=m.forwardRef((t,e)=>{const n=m.useContext(JN),r=m.useRef(null),s=Ge(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Ie.div,{...t,ref:s})});ZN.displayName=rU;function sU(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ek(tU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function iU(t,e=globalThis==null?void 0:globalThis.document){const n=un(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&ek(nU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function JT(){const t=new CustomEvent(j0);document.dispatchEvent(t)}function ek(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?g_(s,i):s.dispatchEvent(i)}var oU=fc,aU=ZN,tn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},lU="Portal",Wd=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);tn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?YN.createPortal(u.jsx(Ie.div,{...r,ref:e}),o):null});Wd.displayName=lU;function cU(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var as=t=>{const{present:e,children:n}=t,r=uU(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ge(r.ref,dU(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};as.displayName="Presence";function uU(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=cU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Xh(r.current);i.current=a==="mounted"?c:"none"},[a]),tn(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=Xh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),tn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Xh(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(i.current=Xh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Xh(t){return(t==null?void 0:t.animationName)||"none"}function dU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ga({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=hU({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=un(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function hU({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=un(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var fU="VisuallyHidden",Hd=m.forwardRef((t,e)=>u.jsx(Ie.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hd.displayName=fU;var pU=Hd,y_="ToastProvider",[v_,mU,gU]=Km("Toast"),[tk,Kle]=di("Toast",[gU]),[yU,Ym]=tk(y_),nk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${y_}\`. Expected non-empty \`string\`.`),u.jsx(v_.Provider,{scope:e,children:u.jsx(yU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};nk.displayName=y_;var rk="ToastViewport",vU=["F8"],M0="toast.viewportPause",O0="toast.viewportResume",sk=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=vU,label:s="Notifications ({hotkey})",...i}=t,o=Ym(rk,n),a=mU(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=Ge(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const b=w=>{var E;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=l.current,w=f.current;if(v&&b&&w){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(M0);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(O0);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!b.contains(M.relatedTarget)&&E()},N=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",_),b.addEventListener("focusout",A),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",N),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[v,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const _=a().map(E=>{const A=E.ref.current,N=[A,...NU(A)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?_.reverse():_).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const w=_=>{var N,M,C;const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const S=document.activeElement,I=_.shiftKey;if(_.target===b&&I){(N=c.current)==null||N.focus();return}const j=y({tabbingDirection:I?"backwards":"forwards"}),k=j.findIndex(B=>B===S);Ky(j.slice(k+1))?_.preventDefault():I?(M=c.current)==null||M.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,y]),u.jsxs(aU,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(L0,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Ky(b)}}),u.jsx(v_.Slot,{scope:n,children:u.jsx(Ie.ol,{tabIndex:-1,...i,ref:p})}),v&&u.jsx(L0,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Ky(b)}})]})});sk.displayName=rk;var ik="ToastFocusProxy",L0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ym(ik,n);return u.jsx(Hd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});L0.displayName=ik;var Qm="Toast",wU="toast.swipeStart",xU="toast.swipeMove",_U="toast.swipeCancel",bU="toast.swipeEnd",ok=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ga({prop:r,defaultProp:s,onChange:i});return u.jsx(as,{present:n||a,children:u.jsx(SU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:un(t.onPause),onResume:un(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ok.displayName=Qm;var[EU,TU]=tk(Qm,{onClose(){}}),SU=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...v}=t,y=Ym(Qm,n),[b,w]=m.useState(null),_=Ge(e,B=>w(B)),E=m.useRef(null),A=m.useRef(null),N=s||y.duration,M=m.useRef(0),C=m.useRef(N),S=m.useRef(0),{onToastAdd:I,onToastRemove:P}=y,D=un(()=>{var ie;(b==null?void 0:b.contains(document.activeElement))&&((ie=y.viewport)==null||ie.focus()),o()}),j=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(D,B))},[D]);m.useEffect(()=>{const B=y.viewport;if(B){const ie=()=>{j(C.current),c==null||c()},Q=()=>{const X=new Date().getTime()-M.current;C.current=C.current-X,window.clearTimeout(S.current),l==null||l()};return B.addEventListener(M0,Q),B.addEventListener(O0,ie),()=>{B.removeEventListener(M0,Q),B.removeEventListener(O0,ie)}}},[y.viewport,N,l,c,j]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&j(N)},[i,N,y.isClosePausedRef,j]),m.useEffect(()=>(I(),()=>P()),[I,P]);const k=m.useMemo(()=>b?fk(b):null,[b]);return y.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(CU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(EU,{scope:n,onClose:D,children:Ra.createPortal(u.jsx(v_.ItemSlot,{scope:n,children:u.jsx(oU,{asChild:!0,onEscapeKeyDown:se(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,B=>{B.button===0&&(E.current={x:B.clientX,y:B.clientY})}),onPointerMove:se(t.onPointerMove,B=>{if(!E.current)return;const ie=B.clientX-E.current.x,Q=B.clientY-E.current.y,X=!!A.current,O=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=O?F(0,ie):0,q=O?0:F(0,Q),Z=B.pointerType==="touch"?10:2,te={x:K,y:q},we={originalEvent:B,delta:te};X?(A.current=te,Jh(xU,f,we,{discrete:!1})):ZT(te,y.swipeDirection,Z)?(A.current=te,Jh(wU,d,we,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ie)>Z||Math.abs(Q)>Z)&&(E.current=null)}),onPointerUp:se(t.onPointerUp,B=>{const ie=A.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),A.current=null,E.current=null,ie){const X=B.currentTarget,O={originalEvent:B,delta:ie};ZT(ie,y.swipeDirection,y.swipeThreshold)?Jh(bU,g,O,{discrete:!0}):Jh(_U,p,O,{discrete:!0}),X.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),CU=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ym(Qm,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return PU(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Wd,{asChild:!0,children:u.jsx(Hd,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},IU="ToastTitle",ak=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});ak.displayName=IU;var AU="ToastDescription",lk=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});lk.displayName=AU;var ck="ToastAction",uk=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(hk,{altText:n,asChild:!0,children:u.jsx(w_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ck}\`. Expected non-empty \`string\`.`),null)});uk.displayName=ck;var dk="ToastClose",w_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=TU(dk,n);return u.jsx(hk,{asChild:!0,children:u.jsx(Ie.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});w_.displayName=dk;var hk=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function fk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),RU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...fk(r))}}),e}function Jh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?g_(s,i):s.dispatchEvent(i)}var ZT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function PU(t=()=>{}){const e=un(t);tn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function RU(t){return t.nodeType===t.ELEMENT_NODE}function NU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ky(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kU=nk,pk=sk,mk=ok,gk=ak,yk=lk,vk=uk,wk=w_;function xk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _k(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xk(t))&&(r&&(r+=" "),r+=e);return r}const eS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tS=_k,qd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=eS(d)||eS(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...c,f,p]:c},[]);return tS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...jU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:bk("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(MU,{ref:i,iconNode:e,className:bk(`lucide-${DU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=ge("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ge("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ge("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ge("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ge("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=ge("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=ge("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=ge("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ge("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=ge("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x_="-",i$=t=>{const e=a$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(x_);return a[0]===""&&a.length!==1&&a.shift(),kk(a,e)||o$(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},kk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(x_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},aS=/^\[(.+)\]$/,o$=t=>{if(aS.test(t)){const e=aS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},a$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return c$(Object.entries(t.classGroups),n).forEach(([i,o])=>{z0(o,r,i,e)}),r},z0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:lS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(l$(s)){z0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{z0(o,lS(e,i),n,r)})})},lS=(t,e)=>{let n=t;return e.split(x_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},l$=t=>t.isThemeGetter,c$=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,u$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Dk="!",d$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let w=a[b];if(c===0){if(w===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Dk),v=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},h$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},f$=t=>({cache:u$(t.cacheSize),parseClassName:d$(t),...i$(t)}),p$=/\s+/,m$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(p$);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const b=h$(d).join(":"),w=f?b+Dk:b,_=w+y;if(i.includes(_))continue;i.push(_);const E=s(y,v);for(let A=0;A<E.length;++A){const N=E[A];i.push(w+N)}a=c+(a.length>0?" "+a:a)}return a};function g$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jk(e))&&(r&&(r+=" "),r+=n);return r}const jk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jk(t[r]))&&(n&&(n+=" "),n+=e);return n};function y$(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=f$(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=m$(l,n);return s(l,d),d}return function(){return i(g$.apply(null,arguments))}}const ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Mk=/^\[(?:([a-z-]+):)?(.+)\]$/i,v$=/^\d+\/\d+$/,w$=new Set(["px","full","screen"]),x$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$s=t=>Tl(t)||w$.has(t)||v$.test(t),xi=t=>pc(t,"length",k$),Tl=t=>!!t&&!Number.isNaN(Number(t)),Jy=t=>pc(t,"number",Tl),Yc=t=>!!t&&Number.isInteger(Number(t)),S$=t=>t.endsWith("%")&&Tl(t.slice(0,-1)),De=t=>Mk.test(t),_i=t=>x$.test(t),C$=new Set(["length","size","percentage"]),I$=t=>pc(t,C$,Ok),A$=t=>pc(t,"position",Ok),P$=new Set(["image","url"]),R$=t=>pc(t,P$,j$),N$=t=>pc(t,"",D$),Qc=()=>!0,pc=(t,e,n)=>{const r=Mk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},k$=t=>_$.test(t)&&!b$.test(t),Ok=()=>!1,D$=t=>E$.test(t),j$=t=>T$.test(t),M$=()=>{const t=ct("colors"),e=ct("spacing"),n=ct("blur"),r=ct("brightness"),s=ct("borderColor"),i=ct("borderRadius"),o=ct("borderSpacing"),a=ct("borderWidth"),l=ct("contrast"),c=ct("grayscale"),d=ct("hueRotate"),f=ct("invert"),p=ct("gap"),g=ct("gradientColorStops"),v=ct("gradientColorStopPositions"),y=ct("inset"),b=ct("margin"),w=ct("opacity"),_=ct("padding"),E=ct("saturate"),A=ct("scale"),N=ct("sepia"),M=ct("skew"),C=ct("space"),S=ct("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",De,e],j=()=>[De,e],k=()=>["",$s,xi],B=()=>["auto",Tl,De],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",De],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Tl,De];return{cacheSize:500,separator:":",theme:{colors:[Qc],spacing:[$s,xi],blur:["none","",_i,De],brightness:q(),borderColor:[t],borderRadius:["none","","full",_i,De],borderSpacing:j(),borderWidth:k(),contrast:q(),grayscale:F(),hueRotate:q(),invert:F(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[S$,xi],inset:D(),margin:D(),opacity:q(),padding:j(),saturate:q(),scale:q(),sepia:F(),skew:q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[_i]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),De]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yc,De]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Yc,De]}],"grid-cols":[{"grid-cols":[Qc]}],"col-start-end":[{col:["auto",{span:["full",Yc,De]},De]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Qc]}],"row-start-end":[{row:["auto",{span:[Yc,De]},De]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[_i]},_i]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_i,xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jy]}],"font-family":[{font:[Qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Tl,Jy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$s,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$s,xi]}],"underline-offset":[{"underline-offset":["auto",$s,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),A$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[$s,De]}],"outline-w":[{outline:[$s,xi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[$s,xi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_i,N$]}],"shadow-color":[{shadow:[Qc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_i,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Yc,De]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$s,xi,Jy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},O$=y$(M$);function oe(...t){return O$(_k(t))}const L$=kU,Lk=m.forwardRef(({className:t,...e},n)=>u.jsx(pk,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Lk.displayName=pk.displayName;const V$=qd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vk=m.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(mk,{ref:r,className:oe(V$({variant:e}),t),...n}));Vk.displayName=mk.displayName;const F$=m.forwardRef(({className:t,...e},n)=>u.jsx(vk,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));F$.displayName=vk.displayName;const Fk=m.forwardRef(({className:t,...e},n)=>u.jsx(wk,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Hi,{className:"h-4 w-4"})}));Fk.displayName=wk.displayName;const Uk=m.forwardRef(({className:t,...e},n)=>u.jsx(gk,{ref:n,className:oe("text-sm font-semibold",t),...e}));Uk.displayName=gk.displayName;const $k=m.forwardRef(({className:t,...e},n)=>u.jsx(yk,{ref:n,className:oe("text-sm opacity-90",t),...e}));$k.displayName=yk.displayName;function U$(){const{toasts:t}=XN();return u.jsxs(L$,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Vk,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Uk,{children:n}),r&&u.jsx($k,{children:r})]}),s,u.jsx(Fk,{})]},e)}),u.jsx(Lk,{})]})}var cS=["light","dark"],$$="(prefers-color-scheme: dark)",B$=m.createContext(void 0),z$={setTheme:t=>{},themes:[]},W$=()=>{var t;return(t=m.useContext(B$))!=null?t:z$};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?cS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,b=!0)=>{let w=o?o[v]:v,_=y?v+"|| ''":`'${w}'`,E="";return s&&b&&!y&&cS.includes(v)&&(E+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?E+=`c.add(${_})`:E+="null":w&&(E+=`d[s](n,${_})`),E},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${$$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var H$=t=>{switch(t){case"success":return K$;case"info":return Q$;case"warning":return Y$;case"error":return X$;default:return null}},q$=Array(12).fill(0),G$=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},q$.map((e,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),K$=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Y$=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Q$=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),X$=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),J$=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},W0=1,Z$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:W0++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(t9(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||W0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},lr=new Z$,e9=(t,e)=>{let n=(e==null?void 0:e.id)||W0++;return lr.addToast({title:t,...e,id:n}),n},t9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",n9=e9,r9=()=>lr.toasts;Object.assign(n9,{success:lr.success,info:lr.info,warning:lr.warning,error:lr.error,custom:lr.custom,message:lr.message,promise:lr.promise,dismiss:lr.dismiss,loading:lr.loading},{getHistory:r9});function s9(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}s9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zh(t){return t.label!==void 0}var i9=3,o9="32px",a9=4e3,l9=356,c9=14,u9=20,d9=200;function h9(...t){return t.filter(Boolean).join(" ")}var f9=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:b,heights:w,index:_,toasts:E,expanded:A,removeToast:N,defaultRichColors:M,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:P,className:D="",descriptionClassName:j="",duration:k,position:B,gap:ie,loadingIcon:Q,expandByDefault:X,classNames:O,icons:F,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:q,cn:Z}=t,[te,we]=re.useState(!1),[Me,pe]=re.useState(!1),[J,me]=re.useState(!1),[_e,fe]=re.useState(!1),[ce,G]=re.useState(0),[xe,Ae]=re.useState(0),Be=re.useRef(null),V=re.useRef(null),de=_===0,Ne=_+1<=b,he=p.type,Ke=p.dismissible!==!1,Ve=p.className||"",_r=p.descriptionClassName||"",gt=re.useMemo(()=>w.findIndex(be=>be.toastId===p.id)||0,[w,p.id]),Lr=re.useMemo(()=>{var be;return(be=p.closeButton)!=null?be:C},[p.closeButton,C]),br=re.useMemo(()=>p.duration||k||a9,[p.duration,k]),ft=re.useRef(0),nt=re.useRef(0),Bn=re.useRef(0),An=re.useRef(null),[Wt,Vr]=B.split("-"),Pn=re.useMemo(()=>w.reduce((be,Ye,We)=>We>=gt?be:be+Ye.height,0),[w,gt]),zn=J$(),pt=p.invert||f,sr=he==="loading";nt.current=re.useMemo(()=>gt*ie+Pn,[gt,Pn]),re.useEffect(()=>{we(!0)},[]),re.useLayoutEffect(()=>{if(!te)return;let be=V.current,Ye=be.style.height;be.style.height="auto";let We=be.getBoundingClientRect().height;be.style.height=Ye,Ae(We),y(jt=>jt.find(Ht=>Ht.toastId===p.id)?jt.map(Ht=>Ht.toastId===p.id?{...Ht,height:We}:Ht):[{toastId:p.id,height:We,position:p.position},...jt])},[te,p.title,p.description,y,p.id]);let Wn=re.useCallback(()=>{pe(!0),G(nt.current),y(be=>be.filter(Ye=>Ye.toastId!==p.id)),setTimeout(()=>{N(p)},d9)},[p,N,y,nt]);re.useEffect(()=>{if(p.promise&&he==="loading"||p.duration===1/0||p.type==="loading")return;let be,Ye=br;return A||v||q&&zn?(()=>{if(Bn.current<ft.current){let We=new Date().getTime()-ft.current;Ye=Ye-We}Bn.current=new Date().getTime()})():Ye!==1/0&&(ft.current=new Date().getTime(),be=setTimeout(()=>{var We;(We=p.onAutoClose)==null||We.call(p,p),Wn()},Ye)),()=>clearTimeout(be)},[A,v,X,p,br,Wn,p.promise,he,q,zn]),re.useEffect(()=>{let be=V.current;if(be){let Ye=be.getBoundingClientRect().height;return Ae(Ye),y(We=>[{toastId:p.id,height:Ye,position:p.position},...We]),()=>y(We=>We.filter(jt=>jt.toastId!==p.id))}},[y,p.id]),re.useEffect(()=>{p.delete&&Wn()},[Wn,p.delete]);function ko(){return F!=null&&F.loading?re.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},F.loading):Q?re.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},Q):re.createElement(G$,{visible:he==="loading"})}return re.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:V,className:Z(D,Ve,O==null?void 0:O.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[he],(n=p==null?void 0:p.classNames)==null?void 0:n[he]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:M,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":te,"data-promise":!!p.promise,"data-removed":Me,"data-visible":Ne,"data-y-position":Wt,"data-x-position":Vr,"data-index":_,"data-front":de,"data-swiping":J,"data-dismissible":Ke,"data-type":he,"data-invert":pt,"data-swipe-out":_e,"data-expanded":!!(A||X&&te),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Me?ce:nt.current}px`,"--initial-height":X?"auto":`${xe}px`,...S,...p.style},onPointerDown:be=>{sr||!Ke||(Be.current=new Date,G(nt.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(me(!0),An.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Ye,We,jt;if(_e||!Ke)return;An.current=null;let Ht=Number(((be=V.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ir=new Date().getTime()-((Ye=Be.current)==null?void 0:Ye.getTime()),$=Math.abs(Ht)/ir;if(Math.abs(Ht)>=u9||$>.11){G(nt.current),(We=p.onDismiss)==null||We.call(p,p),Wn(),fe(!0);return}(jt=V.current)==null||jt.style.setProperty("--swipe-amount","0px"),me(!1)},onPointerMove:be=>{var Ye;if(!An.current||!Ke)return;let We=be.clientY-An.current.y,jt=be.clientX-An.current.x,Ht=(Wt==="top"?Math.min:Math.max)(0,We),ir=be.pointerType==="touch"?10:2;Math.abs(Ht)>ir?(Ye=V.current)==null||Ye.style.setProperty("--swipe-amount",`${We}px`):Math.abs(jt)>ir&&(An.current=null)}},Lr&&!p.jsx?re.createElement("button",{"aria-label":K,"data-disabled":sr,"data-close-button":!0,onClick:sr||!Ke?()=>{}:()=>{var be;Wn(),(be=p.onDismiss)==null||be.call(p,p)},className:Z(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||re.isValidElement(p.title)?p.jsx||p.title:re.createElement(re.Fragment,null,he||p.icon||p.promise?re.createElement("div",{"data-icon":"",className:Z(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ko():null,p.type!=="loading"?p.icon||(F==null?void 0:F[he])||H$(he):null):null,re.createElement("div",{"data-content":"",className:Z(O==null?void 0:O.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:Z(O==null?void 0:O.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?re.createElement("div",{"data-description":"",className:Z(j,_r,O==null?void 0:O.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),re.isValidElement(p.cancel)?p.cancel:p.cancel&&Zh(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:be=>{var Ye,We;Zh(p.cancel)&&Ke&&((We=(Ye=p.cancel).onClick)==null||We.call(Ye,be),Wn())},className:Z(O==null?void 0:O.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,re.isValidElement(p.action)?p.action:p.action&&Zh(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:be=>{var Ye,We;Zh(p.action)&&(be.defaultPrevented||((We=(Ye=p.action).onClick)==null||We.call(Ye,be),Wn()))},className:Z(O==null?void 0:O.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function uS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var p9=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:p=i9,toastOptions:g,dir:v=uS(),gap:y=c9,loadingIcon:b,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E,cn:A=h9}=t,[N,M]=re.useState([]),C=re.useMemo(()=>Array.from(new Set([n].concat(N.filter(q=>q.position).map(q=>q.position)))),[N,n]),[S,I]=re.useState([]),[P,D]=re.useState(!1),[j,k]=re.useState(!1),[B,ie]=re.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=re.useRef(null),X=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=re.useRef(null),F=re.useRef(!1),K=re.useCallback(q=>{var Z;(Z=N.find(te=>te.id===q.id))!=null&&Z.delete||lr.dismiss(q.id),M(te=>te.filter(({id:we})=>we!==q.id))},[N]);return re.useEffect(()=>lr.subscribe(q=>{if(q.dismiss){M(Z=>Z.map(te=>te.id===q.id?{...te,delete:!0}:te));return}setTimeout(()=>{YN.flushSync(()=>{M(Z=>{let te=Z.findIndex(we=>we.id===q.id);return te!==-1?[...Z.slice(0,te),{...Z[te],...q},...Z.slice(te+1)]:[q,...Z]})})})}),[]),re.useEffect(()=>{if(l!=="system"){ie(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{ie(q?"dark":"light")})},[l]),re.useEffect(()=>{N.length<=1&&D(!1)},[N]),re.useEffect(()=>{let q=Z=>{var te,we;r.every(Me=>Z[Me]||Z.code===Me)&&(D(!0),(te=Q.current)==null||te.focus()),Z.code==="Escape"&&(document.activeElement===Q.current||(we=Q.current)!=null&&we.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),re.useEffect(()=>{if(Q.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,F.current=!1)}},[Q.current]),N.length?re.createElement("section",{"aria-label":`${_} ${X}`,tabIndex:-1},C.map((q,Z)=>{var te;let[we,Me]=q.split("-");return re.createElement("ol",{key:q,dir:v==="auto"?uS():v,tabIndex:-1,ref:Q,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":we,"data-x-position":Me,style:{"--front-toast-height":`${((te=S[0])==null?void 0:te.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||o9,"--width":`${l9}px`,"--gap":`${y}px`,...f},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,O.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{j||D(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},N.filter(pe=>!pe.position&&Z===0||pe.position===q).map((pe,J)=>{var me,_e;return re.createElement(f9,{key:pe.id,icons:w,index:J,toast:pe,defaultRichColors:c,duration:(me=g==null?void 0:g.duration)!=null?me:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(_e=g==null?void 0:g.closeButton)!=null?_e:i,interacting:j,position:q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:K,toasts:N.filter(fe=>fe.position==pe.position),heights:S.filter(fe=>fe.position==pe.position),setHeights:I,expandByDefault:s,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:E,cn:A})}))})):null};const m9=({...t})=>{const{theme:e="system"}=W$();return u.jsx(p9,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var g9=qP.useId||(()=>{}),y9=0;function Ss(t){const[e,n]=m.useState(g9());return tn(()=>{t||n(r=>r??String(y9++))},[t]),t||(e?`radix-${e}`:"")}const v9=["top","right","bottom","left"],uo=Math.min,ur=Math.max,Dp=Math.round,ef=Math.floor,ho=t=>({x:t,y:t}),w9={left:"right",right:"left",bottom:"top",top:"bottom"},x9={start:"end",end:"start"};function H0(t,e,n){return ur(t,uo(e,n))}function ni(t,e){return typeof t=="function"?t(e):t}function ri(t){return t.split("-")[0]}function mc(t){return t.split("-")[1]}function __(t){return t==="x"?"y":"x"}function b_(t){return t==="y"?"height":"width"}function fo(t){return["top","bottom"].includes(ri(t))?"y":"x"}function E_(t){return __(fo(t))}function _9(t,e,n){n===void 0&&(n=!1);const r=mc(t),s=E_(t),i=b_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=jp(o)),[o,jp(o)]}function b9(t){const e=jp(t);return[q0(t),e,q0(e)]}function q0(t){return t.replace(/start|end/g,e=>x9[e])}function E9(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function T9(t,e,n,r){const s=mc(t);let i=E9(ri(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(q0)))),i}function jp(t){return t.replace(/left|right|bottom|top/g,e=>w9[e])}function S9(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bk(t){return typeof t!="number"?S9(t):{top:t,right:t,bottom:t,left:t}}function Mp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function dS(t,e,n){let{reference:r,floating:s}=t;const i=fo(e),o=E_(e),a=b_(o),l=ri(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(mc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const C9=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=dS(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:b,fn:w}=a[y],{x:_,y:E,data:A,reset:N}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,f=E??f,g={...g,[b]:{...g[b],...A}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:f}=dS(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function ld(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=ni(e,t),v=Bk(g),b=a[p?f==="floating"?"reference":"floating":f],w=Mp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},N=Mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:l}):_);return{top:(w.top-N.top+v.top)/A.y,bottom:(N.bottom-w.bottom+v.bottom)/A.y,left:(w.left-N.left+v.left)/A.x,right:(N.right-w.right+v.right)/A.x}}const I9=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=ni(t,e)||{};if(c==null)return{};const f=Bk(d),p={x:n,y:r},g=E_(s),v=b_(g),y=await o.getDimensions(c),b=g==="y",w=b?"top":"left",_=b?"bottom":"right",E=b?"clientHeight":"clientWidth",A=i.reference[v]+i.reference[g]-p[g]-i.floating[v],N=p[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[E]||i.floating[v]);const S=A/2-N/2,I=C/2-y[v]/2-1,P=uo(f[w],I),D=uo(f[_],I),j=P,k=C-y[v]-D,B=C/2-y[v]/2+S,ie=H0(j,B,k),Q=!l.arrow&&mc(s)!=null&&B!==ie&&i.reference[v]/2-(B<j?P:D)-y[v]/2<0,X=Q?B<j?B-j:B-k:0;return{[g]:p[g]+X,data:{[g]:ie,centerOffset:B-ie-X,...Q&&{alignmentOffset:X}},reset:Q}}}),A9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=ni(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=ri(s),_=fo(a),E=ri(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(E||!y?[jp(a)]:b9(a)),M=v!=="none";!p&&M&&N.push(...T9(a,y,v,A));const C=[a,...N],S=await ld(e,b),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[w]),f){const B=_9(s,o,A);I.push(S[B[0]],S[B[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(B=>B<=0)){var D,j;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,ie=C[B];if(ie)return{data:{index:B,overflows:P},reset:{placement:ie}};let Q=(j=P.filter(X=>X.overflows[0]<=0).sort((X,O)=>X.overflows[1]-O.overflows[1])[0])==null?void 0:j.placement;if(!Q)switch(g){case"bestFit":{var k;const X=(k=P.filter(O=>{if(M){const F=fo(O.placement);return F===_||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:k[0];X&&(Q=X);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function hS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function fS(t){return v9.some(e=>t[e]>=0)}const P9=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ni(t,e);switch(r){case"referenceHidden":{const i=await ld(e,{...s,elementContext:"reference"}),o=hS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fS(o)}}}case"escaped":{const i=await ld(e,{...s,altBoundary:!0}),o=hS(i,n.floating);return{data:{escapedOffsets:o,escaped:fS(o)}}}default:return{}}}}};async function R9(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ri(n),a=mc(n),l=fo(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=ni(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const N9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await R9(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},k9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y:_}=b;return{x:w,y:_}}},...l}=ni(t,e),c={x:n,y:r},d=await ld(e,l),f=fo(ri(s)),p=__(f);let g=c[p],v=c[f];if(i){const b=p==="y"?"top":"left",w=p==="y"?"bottom":"right",_=g+d[b],E=g-d[w];g=H0(_,g,E)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",_=v+d[b],E=v-d[w];v=H0(_,v,E)}const y=a.fn({...e,[p]:g,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},D9=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ni(t,e),d={x:n,y:r},f=fo(s),p=__(f);let g=d[p],v=d[f];const y=ni(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",A=i.reference[p]-i.floating[E]+b.mainAxis,N=i.reference[p]+i.reference[E]-b.mainAxis;g<A?g=A:g>N&&(g=N)}if(c){var w,_;const E=p==="y"?"width":"height",A=["top","left"].includes(ri(s)),N=i.reference[f]-i.floating[E]+(A&&((w=o.offset)==null?void 0:w[f])||0)+(A?0:b.crossAxis),M=i.reference[f]+i.reference[E]+(A?0:((_=o.offset)==null?void 0:_[f])||0)-(A?b.crossAxis:0);v<N?v=N:v>M&&(v=M)}return{[p]:g,[f]:v}}}},j9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ni(t,e),d=await ld(e,c),f=ri(s),p=mc(s),g=fo(s)==="y",{width:v,height:y}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,E=v-d.left-d.right,A=uo(y-d[b],_),N=uo(v-d[w],E),M=!e.middlewareData.shift;let C=A,S=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),M&&!p){const P=ur(d.left,0),D=ur(d.right,0),j=ur(d.top,0),k=ur(d.bottom,0);g?S=v-2*(P!==0||D!==0?P+D:ur(d.left,d.right)):C=y-2*(j!==0||k!==0?j+k:ur(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return v!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Xm(){return typeof window<"u"}function gc(t){return zk(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ls(t){var e;return(e=(zk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zk(t){return Xm()?t instanceof Node||t instanceof gr(t).Node:!1}function ns(t){return Xm()?t instanceof Element||t instanceof gr(t).Element:!1}function ks(t){return Xm()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function pS(t){return!Xm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}function Gd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function M9(t){return["table","td","th"].includes(gc(t))}function Jm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function T_(t){const e=S_(),n=ns(t)?rs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function O9(t){let e=po(t);for(;ks(e)&&!Yl(e);){if(T_(e))return e;if(Jm(e))return null;e=po(e)}return null}function S_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yl(t){return["html","body","#document"].includes(gc(t))}function rs(t){return gr(t).getComputedStyle(t)}function Zm(t){return ns(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function po(t){if(gc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pS(t)&&t.host||Ls(t);return pS(e)?e.host:e}function Wk(t){const e=po(t);return Yl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ks(e)&&Gd(e)?e:Wk(e)}function cd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Wk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gr(s);if(i){const a=G0(o);return e.concat(o,o.visualViewport||[],Gd(s)?s:[],a&&n?cd(a):[])}return e.concat(s,cd(s,[],n))}function G0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Hk(t){const e=rs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ks(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Dp(n)!==i||Dp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function C_(t){return ns(t)?t:t.contextElement}function Sl(t){const e=C_(t);if(!ks(e))return ho(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Hk(e);let o=(i?Dp(n.width):n.width)/r,a=(i?Dp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const L9=ho(0);function qk(t){const e=gr(t);return!S_()||!e.visualViewport?L9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function ya(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=C_(t);let o=ho(1);e&&(r?ns(r)&&(o=Sl(r)):o=Sl(t));const a=V9(i,n,r)?qk(i):ho(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=gr(i),g=r&&ns(r)?gr(r):r;let v=p,y=G0(v);for(;y&&r&&g!==v;){const b=Sl(y),w=y.getBoundingClientRect(),_=rs(y),E=w.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,A=w.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=E,c+=A,v=gr(y),y=G0(v)}}return Mp({width:d,height:f,x:l,y:c})}function F9(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ls(r),a=e?Jm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ho(1);const d=ho(0),f=ks(r);if((f||!f&&!i)&&((gc(r)!=="body"||Gd(o))&&(l=Zm(r)),ks(r))){const p=ya(r);c=Sl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function U9(t){return Array.from(t.getClientRects())}function K0(t,e){const n=Zm(t).scrollLeft;return e?e.left+n:ya(Ls(t)).left+n}function $9(t){const e=Ls(t),n=Zm(t),r=t.ownerDocument.body,s=ur(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ur(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+K0(t);const a=-n.scrollTop;return rs(r).direction==="rtl"&&(o+=ur(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function B9(t,e){const n=gr(t),r=Ls(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=S_();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function z9(t,e){const n=ya(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ks(t)?Sl(t):ho(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function mS(t,e,n){let r;if(e==="viewport")r=B9(t,n);else if(e==="document")r=$9(Ls(t));else if(ns(e))r=z9(e,n);else{const s=qk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Mp(r)}function Gk(t,e){const n=po(t);return n===e||!ns(n)||Yl(n)?!1:rs(n).position==="fixed"||Gk(n,e)}function W9(t,e){const n=e.get(t);if(n)return n;let r=cd(t,[],!1).filter(a=>ns(a)&&gc(a)!=="body"),s=null;const i=rs(t).position==="fixed";let o=i?po(t):t;for(;ns(o)&&!Yl(o);){const a=rs(o),l=T_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gd(o)&&!l&&Gk(t,o))?r=r.filter(d=>d!==o):s=a,o=po(o)}return e.set(t,r),r}function H9(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jm(e)?[]:W9(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=mS(e,d,s);return c.top=ur(f.top,c.top),c.right=uo(f.right,c.right),c.bottom=uo(f.bottom,c.bottom),c.left=ur(f.left,c.left),c},mS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function q9(t){const{width:e,height:n}=Hk(t);return{width:e,height:n}}function G9(t,e,n){const r=ks(e),s=Ls(e),i=n==="fixed",o=ya(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ho(0);if(r||!r&&!i)if((gc(e)!=="body"||Gd(s))&&(a=Zm(e)),r){const g=ya(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=K0(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-K0(s,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function Zy(t){return rs(t).position==="static"}function gS(t,e){if(!ks(t)||rs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ls(t)===n&&(n=n.ownerDocument.body),n}function Kk(t,e){const n=gr(t);if(Jm(t))return n;if(!ks(t)){let s=po(t);for(;s&&!Yl(s);){if(ns(s)&&!Zy(s))return s;s=po(s)}return n}let r=gS(t,e);for(;r&&M9(r)&&Zy(r);)r=gS(r,e);return r&&Yl(r)&&Zy(r)&&!T_(r)?n:r||O9(t)||n}const K9=async function(t){const e=this.getOffsetParent||Kk,n=this.getDimensions,r=await n(t.floating);return{reference:G9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y9(t){return rs(t).direction==="rtl"}const Q9={convertOffsetParentRelativeRectToViewportRelativeRect:F9,getDocumentElement:Ls,getClippingRect:H9,getOffsetParent:Kk,getElementRects:K9,getClientRects:U9,getDimensions:q9,getScale:Sl,isElement:ns,isRTL:Y9};function X9(t,e){let n=null,r;const s=Ls(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=ef(d),v=ef(s.clientWidth-(c+f)),y=ef(s.clientHeight-(d+p)),b=ef(c),_={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:ur(0,uo(1,l))||1};let E=!0;function A(N){const M=N[0].intersectionRatio;if(M!==l){if(!E)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(A,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return o(!0),i}function J9(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=C_(t),d=s||i?[...c?cd(c):[],...cd(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?X9(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?ya(t):null;l&&b();function b(){const w=ya(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&n(),y=w,v=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Z9=N9,eB=k9,tB=A9,nB=j9,rB=P9,yS=I9,sB=D9,iB=(t,e,n)=>{const r=new Map,s={platform:Q9,...n},i={...s.platform,_c:r};return C9(t,e,{...s,platform:i})};var Mf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Op(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Op(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Op(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Yk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vS(t,e){const n=Yk(t);return Math.round(e*n)/n}function ev(t){const e=m.useRef(t);return Mf(()=>{e.current=t}),e}function oB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Op(p,r)||g(r);const[v,y]=m.useState(null),[b,w]=m.useState(null),_=m.useCallback(O=>{O!==M.current&&(M.current=O,y(O))},[]),E=m.useCallback(O=>{O!==C.current&&(C.current=O,w(O))},[]),A=i||v,N=o||b,M=m.useRef(null),C=m.useRef(null),S=m.useRef(d),I=l!=null,P=ev(l),D=ev(s),j=ev(c),k=m.useCallback(()=>{if(!M.current||!C.current)return;const O={placement:e,strategy:n,middleware:p};D.current&&(O.platform=D.current),iB(M.current,C.current,O).then(F=>{const K={...F,isPositioned:j.current!==!1};B.current&&!Op(S.current,K)&&(S.current=K,Ra.flushSync(()=>{f(K)}))})},[p,e,n,D,j]);Mf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);const B=m.useRef(!1);Mf(()=>(B.current=!0,()=>{B.current=!1}),[]),Mf(()=>{if(A&&(M.current=A),N&&(C.current=N),A&&N){if(P.current)return P.current(A,N,k);k()}},[A,N,k,P,I]);const ie=m.useMemo(()=>({reference:M,floating:C,setReference:_,setFloating:E}),[_,E]),Q=m.useMemo(()=>({reference:A,floating:N}),[A,N]),X=m.useMemo(()=>{const O={position:n,left:0,top:0};if(!Q.floating)return O;const F=vS(Q.floating,d.x),K=vS(Q.floating,d.y);return a?{...O,transform:"translate("+F+"px, "+K+"px)",...Yk(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:K}},[n,a,Q.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:k,refs:ie,elements:Q,floatingStyles:X}),[d,k,ie,Q,X])}const aB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yS({element:r.current,padding:s}).fn(n):{}:r?yS({element:r,padding:s}).fn(n):{}}}},lB=(t,e)=>({...Z9(t),options:[t,e]}),cB=(t,e)=>({...eB(t),options:[t,e]}),uB=(t,e)=>({...sB(t),options:[t,e]}),dB=(t,e)=>({...tB(t),options:[t,e]}),hB=(t,e)=>({...nB(t),options:[t,e]}),fB=(t,e)=>({...rB(t),options:[t,e]}),pB=(t,e)=>({...aB(t),options:[t,e]});var mB="Arrow",Qk=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qk.displayName=mB;var gB=Qk;function yB(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,vB(s,...e)]}function vB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wB(t){const[e,n]=m.useState(void 0);return tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var I_="Popper",[Xk,yc]=yB(I_),[xB,Jk]=Xk(I_),Zk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return u.jsx(xB,{scope:e,anchor:r,onAnchorChange:s,children:n})};Zk.displayName=I_;var e2="PopperAnchor",t2=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Jk(e2,n),o=m.useRef(null),a=Ge(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Ie.div,{...s,ref:a})});t2.displayName=e2;var A_="PopperContent",[_B,bB]=Xk(A_),n2=m.forwardRef((t,e)=>{var J,me,_e,fe,ce,G;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=Jk(A_,n),[w,_]=m.useState(null),E=Ge(e,xe=>_(xe)),[A,N]=m.useState(null),M=wB(A),C=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],j=D.length>0,k={padding:P,boundary:D.filter(TB),altBoundary:j},{refs:B,floatingStyles:ie,placement:Q,isPositioned:X,middlewareData:O}=oB({strategy:"fixed",placement:I,whileElementsMounted:(...xe)=>J9(...xe,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[lB({mainAxis:s+S,alignmentAxis:o}),l&&cB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?uB():void 0,...k}),l&&dB({...k}),hB({...k,apply:({elements:xe,rects:Ae,availableWidth:Be,availableHeight:V})=>{const{width:de,height:Ne}=Ae.reference,he=xe.floating.style;he.setProperty("--radix-popper-available-width",`${Be}px`),he.setProperty("--radix-popper-available-height",`${V}px`),he.setProperty("--radix-popper-anchor-width",`${de}px`),he.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),A&&pB({element:A,padding:a}),SB({arrowWidth:C,arrowHeight:S}),p&&fB({strategy:"referenceHidden",...k})]}),[F,K]=i2(Q),q=un(v);tn(()=>{X&&(q==null||q())},[X,q]);const Z=(J=O.arrow)==null?void 0:J.x,te=(me=O.arrow)==null?void 0:me.y,we=((_e=O.arrow)==null?void 0:_e.centerOffset)!==0,[Me,pe]=m.useState();return tn(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:X?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(fe=O.transformOrigin)==null?void 0:fe.x,(ce=O.transformOrigin)==null?void 0:ce.y].join(" "),...((G=O.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(_B,{scope:n,placedSide:F,onArrowChange:N,arrowX:Z,arrowY:te,shouldHideArrow:we,children:u.jsx(Ie.div,{"data-side":F,"data-align":K,...y,ref:E,style:{...y.style,animation:X?void 0:"none"}})})})});n2.displayName=A_;var r2="PopperArrow",EB={top:"bottom",right:"left",bottom:"top",left:"right"},s2=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=bB(r2,r),o=EB[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(gB,{...s,ref:n,style:{...s.style,display:"block"}})})});s2.displayName=r2;function TB(t){return t!==null}var SB=t=>({name:"transformOrigin",options:t,fn(e){var b,w,_;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=i2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?f:`${p}px`,y=`${-l}px`):c==="top"?(v=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:v,y}}}});function i2(t){const[e,n="center"]=t.split("-");return[e,n]}var o2=Zk,P_=t2,R_=n2,N_=s2,[eg,Qle]=di("Tooltip",[yc]),k_=yc(),a2="TooltipProvider",CB=700,wS="tooltip.open",[IB,l2]=eg(a2),c2=t=>{const{__scopeTooltip:e,delayDuration:n=CB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(IB,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};c2.displayName=a2;var u2="Tooltip",[Xle,tg]=eg(u2),Y0="TooltipTrigger",AB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tg(Y0,n),i=l2(Y0,n),o=k_(n),a=m.useRef(null),l=Ge(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(P_,{asChild:!0,...o,children:u.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});AB.displayName=Y0;var PB="TooltipPortal",[Jle,RB]=eg(PB,{forceMount:void 0}),Ql="TooltipContent",d2=m.forwardRef((t,e)=>{const n=RB(Ql,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=tg(Ql,t.__scopeTooltip);return u.jsx(as,{present:r||o.open,children:o.disableHoverableContent?u.jsx(h2,{side:s,...i,ref:e}):u.jsx(NB,{side:s,...i,ref:e})})}),NB=m.forwardRef((t,e)=>{const n=tg(Ql,t.__scopeTooltip),r=l2(Ql,t.__scopeTooltip),s=m.useRef(null),i=Ge(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((v,y)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},_=MB(w,b.getBoundingClientRect()),E=OB(w,_),A=LB(y.getBoundingClientRect()),N=FB([...E,...A]);a(N),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const v=b=>g(b,d),y=b=>g(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),m.useEffect(()=>{if(o){const v=y=>{const b=y.target,w={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),E=!VB(w,o);_?p():E&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),u.jsx(h2,{...t,ref:i})}),[kB,DB]=eg(u2,{isInside:!1}),h2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=tg(Ql,n),c=k_(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(wS,d),()=>document.removeEventListener(wS,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(R_,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(m_,{children:r}),u.jsx(kB,{scope:n,isInside:!0,children:u.jsx(pU,{id:l.contentId,role:"tooltip",children:s||r})})]})})});d2.displayName=Ql;var f2="TooltipArrow",jB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=k_(n);return DB(f2,n).isInside?null:u.jsx(N_,{...s,...r,ref:e})});jB.displayName=f2;function MB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function OB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function LB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function VB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function FB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UB(e)}function UB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $B=c2,p2=d2;const BB=$B,zB=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(p2,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));zB.displayName=p2.displayName;var ng=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rg=typeof window>"u"||"Deno"in globalThis;function Wr(){}function WB(t,e){return typeof t=="function"?t(e):t}function HB(t){return typeof t=="number"&&t>=0&&t!==1/0}function qB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xS(t,e){return typeof t=="function"?t(e):t}function GB(t,e){return typeof t=="function"?t(e):t}function _S(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==D_(o,e.options))return!1}else if(!dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function bS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ud(e.options.mutationKey)!==ud(i))return!1}else if(!dd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function D_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ud)(t)}function ud(t){return JSON.stringify(t,(e,n)=>Q0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function dd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!dd(t[n],e[n])):!1}function m2(t,e){if(t===e)return t;const n=ES(t)&&ES(e);if(n||Q0(t)&&Q0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=m2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ES(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Q0(t){if(!TS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!TS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function TS(t){return Object.prototype.toString.call(t)==="[object Object]"}function KB(t){return new Promise(e=>{setTimeout(e,t)})}function YB(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?m2(t,e):e}function QB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function XB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var j_=Symbol();function g2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===j_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ta,Li,Dl,AP,JB=(AP=class extends ng{constructor(){super();Xe(this,ta);Xe(this,Li);Xe(this,Dl);Oe(this,Dl,e=>{if(!rg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,Li)||this.setEventListener(H(this,Dl))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Li))==null||e.call(this),Oe(this,Li,void 0))}setEventListener(e){var n;Oe(this,Dl,e),(n=H(this,Li))==null||n.call(this),Oe(this,Li,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,ta)!==e&&(Oe(this,ta,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,ta)=="boolean"?H(this,ta):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ta=new WeakMap,Li=new WeakMap,Dl=new WeakMap,AP),y2=new JB,jl,Vi,Ml,PP,ZB=(PP=class extends ng{constructor(){super();Xe(this,jl,!0);Xe(this,Vi);Xe(this,Ml);Oe(this,Ml,e=>{if(!rg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Vi)||this.setEventListener(H(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Vi))==null||e.call(this),Oe(this,Vi,void 0))}setEventListener(e){var n;Oe(this,Ml,e),(n=H(this,Vi))==null||n.call(this),Oe(this,Vi,e(this.setOnline.bind(this)))}setOnline(e){H(this,jl)!==e&&(Oe(this,jl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,jl)}},jl=new WeakMap,Vi=new WeakMap,Ml=new WeakMap,PP),Lp=new ZB;function ez(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function tz(t){return Math.min(1e3*2**t,3e4)}function v2(t){return(t??"online")==="online"?Lp.isOnline():!0}var w2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tv(t){return t instanceof w2}function x2(t){let e=!1,n=0,r=!1,s;const i=ez(),o=y=>{var b;r||(p(new w2(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>y2.isFocused()&&(t.networkMode==="always"||Lp.isOnline())&&t.canRun(),d=()=>v2(t.networkMode)&&t.canRun(),f=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var b;s=w=>{(r||c())&&y(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var M;if(r)return;const _=t.retry??(rg?0:3),E=t.retryDelay??tz,A=typeof E=="function"?E(n,w):E,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(e||!N){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),KB(A).then(()=>c()?void 0:g()).then(()=>{e?p(w):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}function nz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Mn=nz(),na,RP,_2=(RP=class{constructor(){Xe(this,na)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HB(this.gcTime)&&Oe(this,na,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rg?1/0:5*60*1e3))}clearGcTimeout(){H(this,na)&&(clearTimeout(H(this,na)),Oe(this,na,void 0))}},na=new WeakMap,RP),Ol,Ll,Sr,wn,Ld,ra,Hr,Bs,NP,rz=(NP=class extends _2{constructor(n){super();Xe(this,Hr);Xe(this,Ol);Xe(this,Ll);Xe(this,Sr);Xe(this,wn);Xe(this,Ld);Xe(this,ra);Oe(this,ra,!1),Oe(this,Ld,n.defaultOptions),this.setOptions(n.options),this.observers=[],Oe(this,Sr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Oe(this,Ol,iz(this.options)),this.state=n.state??H(this,Ol),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,wn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,Ld),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Sr).remove(this)}setData(n,r){const s=YB(this.state.data,n,this.options);return pn(this,Hr,Bs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){pn(this,Hr,Bs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,wn))==null?void 0:s.promise;return(i=H(this,wn))==null||i.cancel(n),r?r.then(Wr).catch(Wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Ol))}isActive(){return this.observers.some(n=>GB(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!qB(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,wn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,wn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Sr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,wn)&&(H(this,ra)?H(this,wn).cancel({revert:!0}):H(this,wn).cancelRetry()),this.scheduleGc()),H(this,Sr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pn(this,Hr,Bs).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,wn))return H(this,wn).continueRetry(),H(this,wn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Oe(this,ra,!0),s.signal)})},o=()=>{const p=g2(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Oe(this,ra,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Oe(this,Ll,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&pn(this,Hr,Bs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,v,y,b;tv(p)&&p.silent||pn(this,Hr,Bs).call(this,{type:"error",error:p}),tv(p)||((v=(g=H(this,Sr).config).onError)==null||v.call(g,p,this),(b=(y=H(this,Sr).config).onSettled)==null||b.call(y,this.state.data,p,this)),this.scheduleGc()};return Oe(this,wn,x2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,v,y,b;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(v=(g=H(this,Sr).config).onSuccess)==null||v.call(g,p,this),(b=(y=H(this,Sr).config).onSettled)==null||b.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{pn(this,Hr,Bs).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{pn(this,Hr,Bs).call(this,{type:"pause"})},onContinue:()=>{pn(this,Hr,Bs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),H(this,wn).start()}},Ol=new WeakMap,Ll=new WeakMap,Sr=new WeakMap,wn=new WeakMap,Ld=new WeakMap,ra=new WeakMap,Hr=new WeakSet,Bs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...sz(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return tv(i)&&i.revert&&H(this,Ll)?{...H(this,Ll),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Sr).notify({query:this,type:"updated",action:n})})},NP);function sz(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ms,kP,oz=(kP=class extends ng{constructor(e={}){super();Xe(this,ms);this.config=e,Oe(this,ms,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??D_(s,n);let o=this.get(i);return o||(o=new rz({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,ms).has(e.queryHash)||(H(this,ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,ms).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,ms).get(e)}getAll(){return[...H(this,ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_S(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_S(e,r)):n}notify(e){Mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ms=new WeakMap,kP),gs,Dn,sa,ys,Ti,DP,az=(DP=class extends _2{constructor(n){super();Xe(this,ys);Xe(this,gs);Xe(this,Dn);Xe(this,sa);this.mutationId=n.mutationId,Oe(this,Dn,n.mutationCache),Oe(this,gs,[]),this.state=n.state||lz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,gs).includes(n)||(H(this,gs).push(n),this.clearGcTimeout(),H(this,Dn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Oe(this,gs,H(this,gs).filter(r=>r!==n)),this.scheduleGc(),H(this,Dn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,gs).length||(this.state.status==="pending"?this.scheduleGc():H(this,Dn).remove(this))}continue(){var n;return((n=H(this,sa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,v,y,b,w,_,E,A,N,M,C,S;Oe(this,sa,x2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{pn(this,ys,Ti).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{pn(this,ys,Ti).call(this,{type:"pause"})},onContinue:()=>{pn(this,ys,Ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,Dn).canRun(this)}));const r=this.state.status==="pending",s=!H(this,sa).canStart();try{if(!r){pn(this,ys,Ti).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=H(this,Dn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&pn(this,ys,Ti).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const I=await H(this,sa).start();return await((d=(c=H(this,Dn).config).onSuccess)==null?void 0:d.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((v=(g=H(this,Dn).config).onSettled)==null?void 0:v.call(g,I,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,I,null,n,this.state.context)),pn(this,ys,Ti).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(w=H(this,Dn).config).onError)==null?void 0:_.call(w,I,n,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,I,n,this.state.context)),await((M=(N=H(this,Dn).config).onSettled)==null?void 0:M.call(N,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{pn(this,ys,Ti).call(this,{type:"error",error:I})}}finally{H(this,Dn).runNext(this)}}},gs=new WeakMap,Dn=new WeakMap,sa=new WeakMap,ys=new WeakSet,Ti=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mn.batch(()=>{H(this,gs).forEach(s=>{s.onMutationUpdate(n)}),H(this,Dn).notify({mutation:this,type:"updated",action:n})})},DP);function lz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ar,Vd,jP,cz=(jP=class extends ng{constructor(e={}){super();Xe(this,ar);Xe(this,Vd);this.config=e,Oe(this,ar,new Map),Oe(this,Vd,Date.now())}build(e,n,r){const s=new az({mutationCache:this,mutationId:++Dh(this,Vd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=tf(e),r=H(this,ar).get(n)??[];r.push(e),H(this,ar).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=tf(e);if(H(this,ar).has(n)){const s=(r=H(this,ar).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?H(this,ar).delete(n):H(this,ar).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,ar).get(tf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,ar).get(tf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,ar).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>bS(n,r))}findAll(e={}){return this.getAll().filter(n=>bS(e,n))}notify(e){Mn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Wr))))}},ar=new WeakMap,Vd=new WeakMap,jP);function tf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function SS(t){return{onFetch:(e,n)=>{var d,f,p,g,v;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=g2(e.options,e.fetchOptions),_=async(E,A,N)=>{if(y)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const M={queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};b(M);const C=await w(M),{maxPages:S}=e.options,I=N?XB:QB;return{pages:I(E.pages,C,S),pageParams:I(E.pageParams,A,S)}};if(s&&i.length){const E=s==="backward",A=E?uz:CS,N={pages:i,pageParams:o},M=A(r,N);a=await _(N,M,E)}else{const E=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:CS(r,a);if(l>0&&A==null)break;a=await _(a,A),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function CS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function uz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var At,Fi,Ui,Vl,Fl,$i,Ul,$l,MP,dz=(MP=class{constructor(t={}){Xe(this,At);Xe(this,Fi);Xe(this,Ui);Xe(this,Vl);Xe(this,Fl);Xe(this,$i);Xe(this,Ul);Xe(this,$l);Oe(this,At,t.queryCache||new oz),Oe(this,Fi,t.mutationCache||new cz),Oe(this,Ui,t.defaultOptions||{}),Oe(this,Vl,new Map),Oe(this,Fl,new Map),Oe(this,$i,0)}mount(){Dh(this,$i)._++,H(this,$i)===1&&(Oe(this,Ul,y2.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,At).onFocus())})),Oe(this,$l,Lp.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,At).onOnline())})))}unmount(){var t,e;Dh(this,$i)._--,H(this,$i)===0&&((t=H(this,Ul))==null||t.call(this),Oe(this,Ul,void 0),(e=H(this,$l))==null||e.call(this),Oe(this,$l,void 0))}isFetching(t){return H(this,At).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,Fi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,At).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,At).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(xS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,At).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,At).get(r.queryHash),i=s==null?void 0:s.state.data,o=WB(e,i);if(o!==void 0)return H(this,At).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mn.batch(()=>H(this,At).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,At).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,At);Mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,At),r={type:"active",...t};return Mn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mn.batch(()=>H(this,At).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Wr).catch(Wr)}invalidateQueries(t={},e={}){return Mn.batch(()=>{if(H(this,At).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mn.batch(()=>H(this,At).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Wr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,At).build(this,e);return n.isStaleByTime(xS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Wr).catch(Wr)}fetchInfiniteQuery(t){return t.behavior=SS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Wr).catch(Wr)}ensureInfiniteQueryData(t){return t.behavior=SS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lp.isOnline()?H(this,Fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,At)}getMutationCache(){return H(this,Fi)}getDefaultOptions(){return H(this,Ui)}setDefaultOptions(t){Oe(this,Ui,t)}setQueryDefaults(t,e){H(this,Vl).set(ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Vl).values()];let n={};return e.forEach(r=>{dd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,Fl).set(ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Fl).values()];let n={};return e.forEach(r=>{dd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Ui).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=D_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===j_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Ui).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,At).clear(),H(this,Fi).clear()}},At=new WeakMap,Fi=new WeakMap,Ui=new WeakMap,Vl=new WeakMap,Fl=new WeakMap,$i=new WeakMap,Ul=new WeakMap,$l=new WeakMap,MP),hz=m.createContext(void 0),fz=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(hz.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const IS="popstate";function pz(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Na(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),X0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Vp(i))}function r(s,i){M_(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return gz(e,n,r,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mz(){return Math.random().toString(36).substr(2,8)}function AS(t,e){return{usr:t.state,key:t.key,idx:e}}function X0(t,e,n,r){return n===void 0&&(n=null),hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Na(e):e,{state:n,key:e&&e.key||r||mz()})}function Vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gz(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(hd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=qi.Pop;let b=d(),w=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:w})}function p(b,w){a=qi.Push;let _=X0(y.location,b,w);n&&n(_,b),c=d()+1;let E=AS(_,c),A=y.createHref(_);try{o.pushState(E,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function g(b,w){a=qi.Replace;let _=X0(y.location,b,w);n&&n(_,b),c=d();let E=AS(_,c),A=y.createHref(_);o.replaceState(E,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function v(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:Vp(b);return _=_.replace(/ $/,"%20"),Ut(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(IS,f),l=b,()=>{s.removeEventListener(IS,f),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return o.go(b)}};return y}var PS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(PS||(PS={}));function yz(t,e,n){return n===void 0&&(n="/"),vz(t,e,n,!1)}function vz(t,e,n,r){let s=typeof e=="string"?Na(e):e,i=O_(s.pathname||"/",n);if(i==null)return null;let o=b2(t);wz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Rz(i);a=Az(o[l],c,r)}return a}function b2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=no([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),b2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Cz(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of E2(i.path))s(i,o,l)}),e}function E2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=E2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function wz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Iz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xz=/^:[\w-]+$/,_z=3,bz=2,Ez=1,Tz=10,Sz=-2,RS=t=>t==="*";function Cz(t,e){let n=t.split("/"),r=n.length;return n.some(RS)&&(r+=Sz),e&&(r+=bz),n.filter(s=>!RS(s)).reduce((s,i)=>s+(xz.test(i)?_z:i===""?Ez:Tz),r)}function Iz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Az(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=NS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=NS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:no([i,f.pathname]),pathnameBase:jz(no([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=no([i,f.pathnameBase]))}return o}function NS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Pz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Pz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),M_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Rz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Nz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:kz(n,e):e,search:Mz(r),hash:Oz(s)}}function kz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L_(t,e){let n=Dz(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function V_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Na(t):(s=hd({},t),Ut(!s.pathname||!s.pathname.includes("?"),nv("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),nv("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),nv("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Nz(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const no=t=>t.join("/").replace(/\/\/+/g,"/"),jz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Lz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const T2=["post","put","patch","delete"];new Set(T2);const Vz=["get",...T2];new Set(Vz);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}const F_=m.createContext(null),Fz=m.createContext(null),So=m.createContext(null),sg=m.createContext(null),Vs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),S2=m.createContext(null);function Uz(t,e){let{relative:n}=e===void 0?{}:e;vc()||Ut(!1);let{basename:r,navigator:s}=m.useContext(So),{hash:i,pathname:o,search:a}=I2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:no([r,o])),s.createHref({pathname:l,search:a,hash:i})}function vc(){return m.useContext(sg)!=null}function ka(){return vc()||Ut(!1),m.useContext(sg).location}function C2(t){m.useContext(So).static||m.useLayoutEffect(t)}function wc(){let{isDataRoute:t}=m.useContext(Vs);return t?t8():$z()}function $z(){vc()||Ut(!1);let t=m.useContext(F_),{basename:e,future:n,navigator:r}=m.useContext(So),{matches:s}=m.useContext(Vs),{pathname:i}=ka(),o=JSON.stringify(L_(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return C2(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=V_(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:no([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const Bz=m.createContext(null);function zz(t){let e=m.useContext(Vs).outlet;return e&&m.createElement(Bz.Provider,{value:t},e)}function U_(){let{matches:t}=m.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function I2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(So),{matches:s}=m.useContext(Vs),{pathname:i}=ka(),o=JSON.stringify(L_(s,r.v7_relativeSplatPath));return m.useMemo(()=>V_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Wz(t,e){return Hz(t,e)}function Hz(t,e,n,r){vc()||Ut(!1);let{navigator:s}=m.useContext(So),{matches:i}=m.useContext(Vs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ka(),d;if(e){var f;let b=typeof e=="string"?Na(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Ut(!1),d=b}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=yz(t,{pathname:g}),y=Qz(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:no([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:no([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?m.createElement(sg.Provider,{value:{location:fd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qi.Pop}},y):y}function qz(){let t=e8(),e=Lz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const Gz=m.createElement(qz,null);class Kz extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Vs.Provider,{value:this.props.routeContext},m.createElement(S2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yz(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(F_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Vs.Provider,{value:e},r)}function Qz(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ut(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,v=!1,y=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||Gz,l&&(c<0&&p===0?(v=!0,b=null):c===p&&(v=!0,b=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let E;return g?E=y:v?E=b:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,m.createElement(Yz,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(Kz,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var A2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A2||{}),Fp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fp||{});function Xz(t){let e=m.useContext(F_);return e||Ut(!1),e}function Jz(t){let e=m.useContext(Fz);return e||Ut(!1),e}function Zz(t){let e=m.useContext(Vs);return e||Ut(!1),e}function P2(t){let e=Zz(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function e8(){var t;let e=m.useContext(S2),n=Jz(Fp.UseRouteError),r=P2(Fp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function t8(){let{router:t}=Xz(A2.UseNavigateStable),e=P2(Fp.UseNavigateStable),n=m.useRef(!1);return C2(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fd({fromRouteId:e},i)))},[t,e])}function J0(t){let{to:e,replace:n,state:r,relative:s}=t;vc()||Ut(!1);let{future:i,static:o}=m.useContext(So),{matches:a}=m.useContext(Vs),{pathname:l}=ka(),c=wc(),d=V_(e,L_(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function n8(t){return zz(t.context)}function vn(t){Ut(!1)}function r8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qi.Pop,navigator:i,static:o=!1,future:a}=t;vc()&&Ut(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:fd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,y=m.useMemo(()=>{let b=O_(d,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:v},navigationType:s}},[l,d,f,p,g,v,s]);return y==null?null:m.createElement(So.Provider,{value:c},m.createElement(sg.Provider,{children:n,value:y}))}function s8(t){let{children:e,location:n}=t;return Wz(Z0(e),n)}new Promise(()=>{});function Z0(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Z0(r.props.children,i));return}r.type!==vn&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Z0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function i8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function o8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function a8(t,e){return t.button===0&&(!e||e==="_self")&&!o8(t)}const l8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c8="6";try{window.__reactRouterVersion=c8}catch{}const u8="startTransition",kS=qP[u8];function d8(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=pz({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&kS?kS(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(r8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const h8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=i8(e,l8),{basename:g}=m.useContext(So),v,y=!1;if(typeof c=="string"&&f8.test(c)&&(v=c,h8))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=O_(A.pathname,g);A.origin===E.origin&&N!=null?c=N+A.search+A.hash:y=!0}catch{}let b=Uz(c,{relative:s}),w=p8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function _(E){r&&r(E),E.defaultPrevented||w(E)}return m.createElement("a",ew({},p,{href:v||b,onClick:y||i?r:_,ref:n,target:l}))});var DS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DS||(DS={}));var jS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function p8(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=wc(),c=ka(),d=I2(t,{relative:o});return m.useCallback(f=>{if(a8(f,n)){f.preventDefault();let p=r!==void 0?r:Vp(c)===Vp(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const $_=qd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?co:"button";return u.jsx(o,{className:oe($_({variant:e,size:n,className:t})),ref:i,...s})});ve.displayName="Button";const wt=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow duration-300",t),...e}));wt.displayName="Card";const Ft=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));Ft.displayName="CardHeader";const Nt=m.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nt.displayName="CardTitle";const on=m.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));on.displayName="CardDescription";const kt=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));kt.displayName="CardContent";const m8=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));m8.displayName="CardFooter";const B_=m.createContext({});function xc(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const z_=typeof window<"u",ig=z_?m.useLayoutEffect:m.useEffect,og=m.createContext(null);function W_(t,e){t.indexOf(e)===-1&&t.push(e)}function H_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ds=(t,e,n)=>n>e?e:n<t?t:n;let g8=()=>{},Up=()=>{};const si={},R2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function N2(t){return typeof t=="object"&&t!==null}const k2=t=>/^0[^.\s]+$/u.test(t);function q_(t){let e;return()=>(e===void 0&&(e=t()),e)}const tr=t=>t,y8=(t,e)=>n=>e(t(n)),Kd=(...t)=>t.reduce(y8),Xl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class G_{constructor(){this.subscriptions=[]}add(e){return W_(this.subscriptions,e),()=>H_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cs=t=>t*1e3,Is=t=>t/1e3;function K_(t,e){return e?t*(1e3/e):0}const D2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,v8=1e-7,w8=12;function x8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=D2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>v8&&++a<w8);return o}function Yd(t,e,n,r){if(t===e&&n===r)return tr;const s=i=>x8(i,0,1,t,n);return i=>i===0||i===1?i:D2(s(i),e,r)}const j2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,M2=t=>e=>1-t(1-e),O2=Yd(.33,1.53,.69,.99),Y_=M2(O2),L2=j2(Y_),V2=t=>(t*=2)<1?.5*Y_(t):.5*(2-Math.pow(2,-10*(t-1))),Q_=t=>1-Math.sin(Math.acos(t)),F2=M2(Q_),U2=j2(Q_),_8=Yd(.42,0,1,1),b8=Yd(0,0,.58,1),$2=Yd(.42,0,.58,1),E8=t=>Array.isArray(t)&&typeof t[0]!="number",B2=t=>Array.isArray(t)&&typeof t[0]=="number",MS={linear:tr,easeIn:_8,easeInOut:$2,easeOut:b8,circIn:Q_,circInOut:U2,circOut:F2,backIn:Y_,backInOut:L2,backOut:O2,anticipate:V2},T8=t=>typeof t=="string",OS=t=>{if(B2(t)){Up(t.length===4);const[e,n,r,s]=t;return Yd(e,n,r,s)}else if(T8(t))return Up(MS[t]!==void 0),MS[t];return t},nf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],LS={value:null,addProjectionMetrics:null};function S8(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,g=!1)=>{const y=g&&s?n:r;return p&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&LS.value&&LS.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const C8=40;function z2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=nf.reduce((E,A)=>(E[A]=S8(i,e?A:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:v}=o,y=()=>{const E=si.useManualTiming?s.timestamp:performance.now();n=!1,si.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,C8),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:nf.reduce((E,A)=>{const N=o[A];return E[A]=(M,C=!1,S=!1)=>(n||b(),N.schedule(M,C,S)),E},{}),cancel:E=>{for(let A=0;A<nf.length;A++)o[nf[A]].cancel(E)},state:s,steps:o}}const{schedule:rt,cancel:ss,state:Yt,steps:rv}=z2(typeof requestAnimationFrame<"u"?requestAnimationFrame:tr,!0);let Of;function I8(){Of=void 0}const Xn={now:()=>(Of===void 0&&Xn.set(Yt.isProcessing||si.useManualTiming?Yt.timestamp:performance.now()),Of),set:t=>{Of=t,queueMicrotask(I8)}},W2=t=>e=>typeof e=="string"&&e.startsWith(t),X_=W2("--"),A8=W2("var(--"),J_=t=>A8(t)?P8.test(t.split("/*")[0].trim()):!1,P8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_c={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pd={..._c,transform:t=>Ds(0,1,t)},rf={..._c,default:1},Pu=t=>Math.round(t*1e5)/1e5,Z_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R8(t){return t==null}const N8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e1=(t,e)=>n=>!!(typeof n=="string"&&N8.test(n)&&n.startsWith(t)||e&&!R8(n)&&Object.prototype.hasOwnProperty.call(n,e)),H2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Z_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},k8=t=>Ds(0,255,t),sv={..._c,transform:t=>Math.round(k8(t))},Yo={test:e1("rgb","red"),parse:H2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sv.transform(t)+", "+sv.transform(e)+", "+sv.transform(n)+", "+Pu(pd.transform(r))+")"};function D8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const tw={test:e1("#"),parse:D8,transform:Yo.transform},Qd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Si=Qd("deg"),As=Qd("%"),Ce=Qd("px"),j8=Qd("vh"),M8=Qd("vw"),VS={...As,parse:t=>As.parse(t)/100,transform:t=>As.transform(t*100)},fl={test:e1("hsl","hue"),parse:H2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+As.transform(Pu(e))+", "+As.transform(Pu(n))+", "+Pu(pd.transform(r))+")"},xn={test:t=>Yo.test(t)||tw.test(t)||fl.test(t),parse:t=>Yo.test(t)?Yo.parse(t):fl.test(t)?fl.parse(t):tw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yo.transform(t):fl.transform(t)},O8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function L8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Z_))==null?void 0:e.length)||0)+(((n=t.match(O8))==null?void 0:n.length)||0)>0}const q2="number",G2="color",V8="var",F8="var(",FS="${}",U8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(U8,l=>(xn.test(l)?(r.color.push(i),s.push(G2),n.push(xn.parse(l))):l.startsWith(F8)?(r.var.push(i),s.push(V8),n.push(l)):(r.number.push(i),s.push(q2),n.push(parseFloat(l))),++i,FS)).split(FS);return{values:n,split:a,indexes:r,types:s}}function K2(t){return md(t).values}function Y2(t){const{split:e,types:n}=md(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===q2?i+=Pu(s[o]):a===G2?i+=xn.transform(s[o]):i+=s[o]}return i}}const $8=t=>typeof t=="number"?0:t;function B8(t){const e=K2(t);return Y2(t)(e.map($8))}const mo={test:L8,parse:K2,createTransformer:Y2,getAnimatableNone:B8};function iv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function z8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=iv(l,a,t+1/3),i=iv(l,a,t),o=iv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function $p(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,ov=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},W8=[tw,Yo,fl],H8=t=>W8.find(e=>e.test(t));function US(t){const e=H8(t);if(!e)return!1;let n=e.parse(t);return e===fl&&(n=z8(n)),n}const $S=(t,e)=>{const n=US(t),r=US(e);if(!n||!r)return $p(t,e);const s={...n};return i=>(s.red=ov(n.red,r.red,i),s.green=ov(n.green,r.green,i),s.blue=ov(n.blue,r.blue,i),s.alpha=xt(n.alpha,r.alpha,i),Yo.transform(s))},nw=new Set(["none","hidden"]);function q8(t,e){return nw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function G8(t,e){return n=>xt(t,e,n)}function t1(t){return typeof t=="number"?G8:typeof t=="string"?J_(t)?$p:xn.test(t)?$S:Q8:Array.isArray(t)?Q2:typeof t=="object"?xn.test(t)?$S:K8:$p}function Q2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>t1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function K8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=t1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Y8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const Q8=(t,e)=>{const n=mo.createTransformer(e),r=md(t),s=md(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?nw.has(t)&&!s.values.length||nw.has(e)&&!r.values.length?q8(t,e):Kd(Q2(Y8(r,s),s.values),n):$p(t,e)};function X2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):t1(t)(t,e)}const X8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>rt.update(e,n),stop:()=>ss(e),now:()=>Yt.isProcessing?Yt.timestamp:Xn.now()}},J2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Bp=2e4;function n1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Bp;)e+=n,r=t.next(e);return e>=Bp?1/0:e}function J8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(n1(r),Bp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Is(s)}}const Z8=5;function Z2(t,e,n){const r=Math.max(e-Z8,0);return K_(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},av=.001;function e7({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let s,i,o=1-e;o=Ds(Pt.minDamping,Pt.maxDamping,o),t=Ds(Pt.minDuration,Pt.maxDuration,Is(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,g=rw(c,o),v=Math.exp(-f);return av-p/g*v},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),y=rw(Math.pow(c,2),o);return(-s(c)+av>0?-1:1)*((p-g)*v)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-av+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=n7(s,i,a);if(t=Cs(t),isNaN(l))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const t7=12;function n7(t,e,n){let r=n;for(let s=1;s<t7;s++)r=r-t(r)/e(r);return r}function rw(t,e){return t*Math.sqrt(1-e*e)}const r7=["duration","bounce"],s7=["stiffness","damping","mass"];function BS(t,e){return e.some(n=>t[n]!==void 0)}function i7(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!BS(t,s7)&&BS(t,r7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pt.mass,stiffness:s,damping:i}}else{const n=e7(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function zp(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=i7({...n,velocity:-Is(n.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*d)),b=o-i,w=Is(Math.sqrt(l/d)),_=Math.abs(b)<5;r||(r=_?Pt.restSpeed.granular:Pt.restSpeed.default),s||(s=_?Pt.restDelta.granular:Pt.restDelta.default);let E;if(y<1){const N=rw(w,y);E=M=>{const C=Math.exp(-y*w*M);return o-C*((v+y*w*b)/N*Math.sin(N*M)+b*Math.cos(N*M))}}else if(y===1)E=N=>o-Math.exp(-w*N)*(b+(v+w*b)*N);else{const N=w*Math.sqrt(y*y-1);E=M=>{const C=Math.exp(-y*w*M),S=Math.min(N*M,300);return o-C*((v+y*w*b)*Math.sinh(S)+N*b*Math.cosh(S))/N}}const A={calculatedDuration:g&&f||null,next:N=>{const M=E(N);if(g)a.done=N>=f;else{let C=N===0?v:0;y<1&&(C=N===0?Cs(v):Z2(E,N,M));const S=Math.abs(C)<=r,I=Math.abs(o-M)<=s;a.done=S&&I}return a.value=a.done?o:M,a},toString:()=>{const N=Math.min(n1(A),Bp),M=J2(C=>A.next(N*C).value,N,30);return N+"ms "+M},toTransition:()=>{}};return A}zp.applyToOptions=t=>{const e=J8(t,100,zp);return t.ease=e.ease,t.duration=Cs(e.duration),t.type="keyframes",t};function sw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const b=f+y,w=o===void 0?b:o(b);w!==b&&(y=w-f);const _=S=>-y*Math.exp(-S/r),E=S=>w+_(S),A=S=>{const I=_(S),P=E(S);p.done=Math.abs(I)<=c,p.value=p.done?w:P};let N,M;const C=S=>{g(p.value)&&(N=S,M=zp({keyframes:[p.value,v(p.value)],velocity:Z2(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!M&&N===void 0&&(I=!0,A(S),C(S)),N!==void 0&&S>=N?M.next(S-N):(!I&&A(S),p)}}}function o7(t,e,n){const r=[],s=n||si.mix||X2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tr:e;a=Kd(l,a)}r.push(a)}return r}function r1(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Up(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=o7(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Xl(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Ds(t[0],t[i-1],d)):c}function a7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Xl(0,e,r);t.push(xt(n,1,s))}}function eD(t){const e=[0];return a7(e,t.length-1),e}function l7(t,e){return t.map(n=>n*e)}function c7(t,e){return t.map(()=>e||$2).splice(0,t.length-1)}function Ru({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=E8(r)?r.map(OS):OS(r),i={done:!1,value:e[0]},o=l7(n&&n.length===e.length?n:eD(e),t),a=r1(o,e,{ease:Array.isArray(s)?s:c7(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const u7=t=>t!==null;function s1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(u7),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const d7={decay:sw,inertia:sw,tween:Ru,keyframes:Ru,spring:zp};function tD(t){typeof t.type=="string"&&(t.type=d7[t.type])}class i1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const h7=t=>t/100;class o1 extends i1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tD(e);const{type:n=Ru,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ru;l!==Ru&&typeof a[0]!="number"&&(this.mixKeyframes=Kd(h7,X2(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=n1(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,A=r;if(f){const S=Math.min(this.currentTime,s)/a;let I=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(P=1-P,g&&(P-=g/a)):p==="mirror"&&(A=o)),E=Ds(0,1,P)*a}const N=_?{done:!1,value:d[0]}:A.next(E);i&&(N.value=i(N.value));let{done:M}=N;!_&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&v!==sw&&(N.value=s1(d,this.options,b,this.speed)),y&&y(N.value),C&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Is(this.calculatedDuration)}get time(){return Is(this.currentTime)}set time(e){var n;e=Cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Is(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=X8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function f7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qo=t=>t*180/Math.PI,iw=t=>{const e=Qo(Math.atan2(t[1],t[0]));return ow(e)},p7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iw,rotateZ:iw,skewX:t=>Qo(Math.atan(t[1])),skewY:t=>Qo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ow=t=>(t=t%360,t<0&&(t+=360),t),zS=iw,WS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),HS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WS,scaleY:HS,scale:t=>(WS(t)+HS(t))/2,rotateX:t=>ow(Qo(Math.atan2(t[6],t[5]))),rotateY:t=>ow(Qo(Math.atan2(-t[2],t[0]))),rotateZ:zS,rotate:zS,skewX:t=>Qo(Math.atan(t[4])),skewY:t=>Qo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function aw(t){return t.includes("scale")?1:0}function lw(t,e){if(!t||t==="none")return aw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=m7,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p7,s=a}if(!s)return aw(e);const i=r[e],o=s[1].split(",").map(y7);return typeof i=="function"?i(o):o[i]}const g7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return lw(n,e)};function y7(t){return parseFloat(t.trim())}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(bc),qS=t=>t===_c||t===Ce,v7=new Set(["x","y","z"]),w7=bc.filter(t=>!v7.has(t));function x7(t){const e=[];return w7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const la={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lw(e,"x"),y:(t,{transform:e})=>lw(e,"y")};la.translateX=la.x;la.translateY=la.y;const ca=new Set;let cw=!1,uw=!1,dw=!1;function nD(){if(uw){const t=Array.from(ca).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=x7(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}uw=!1,cw=!1,ca.forEach(t=>t.complete(dw)),ca.clear()}function rD(){ca.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uw=!0)})}function _7(){dw=!0,rD(),nD(),dw=!1}class a1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ca.add(this),cw||(cw=!0,rt.read(rD),rt.resolveKeyframes(nD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}f7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ca.delete(this)}cancel(){this.state==="scheduled"&&(ca.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b7=t=>t.startsWith("--");function E7(t,e,n){b7(e)?t.style.setProperty(e,n):t.style[e]=n}const sD=q_(()=>window.ScrollTimeline!==void 0),T7={};function S7(t,e){const n=q_(t);return()=>T7[e]??n()}const iD=S7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function oD(t,e){if(t)return typeof t=="function"?iD()?J2(t,e):"ease-out":B2(t)?iu(t):Array.isArray(t)?t.map(n=>oD(n,e)||GS.easeOut):GS[t]}function C7(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=oD(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function aD(t){return typeof t=="function"&&"applyToOptions"in t}function I7({type:t,...e}){return aD(t)&&iD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class A7 extends i1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Up(typeof e.type!="string");const c=I7(e);this.animation=C7(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=s1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):E7(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Is(Number(e))}get time(){return Is(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sD()?(this.animation.timeline=e,tr):n(this)}}const lD={anticipate:V2,backInOut:L2,circInOut:U2};function P7(t){return t in lD}function R7(t){typeof t.ease=="string"&&P7(t.ease)&&(t.ease=lD[t.ease])}const KS=10;class N7 extends A7{constructor(e){R7(e),tD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new o1({...o,autoplay:!1}),l=Cs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-KS).value,a.sample(l).value,KS),a.stop()}}const YS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mo.test(t)||t==="0")&&!t.startsWith("url("));function k7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D7(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=YS(s,e),a=YS(i,e);return!o||!a?!1:k7(t)||(n==="spring"||aD(n))&&r}function ag(t){return N2(t)&&"offsetHeight"in t}const j7=new Set(["opacity","clipPath","filter","transform"]),M7=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O7(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!ag((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return M7()&&n&&j7.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const L7=40;class V7 extends i1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var v;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Xn.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||a1;this.keyframeResolver=new g(a,(y,b,w)=>this.onKeyframesResolved(y,b,p,!w),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Xn.now(),D7(e,i,o,a)||((si.instantAnimations||!l)&&(d==null||d(s1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>L7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&O7(p)?new N7({...p,element:p.motionValue.owner.current}):new o1(p);g.finished.then(()=>this.notifyFinished()).catch(tr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),_7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const F7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U7(t){const e=F7.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function cD(t,e,n=1){const[r,s]=U7(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return R2(o)?parseFloat(o):o}return J_(s)?cD(s,e,n+1):s}function l1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uD=new Set(["width","height","top","left","right","bottom",...bc]),$7={test:t=>t==="auto",parse:t=>t},dD=t=>e=>e.test(t),hD=[_c,Ce,As,Si,M8,j8,$7],QS=t=>hD.find(dD(t));function B7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||k2(t):!0}const z7=new Set(["brightness","contrast","saturate","opacity"]);function W7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Z_)||[];if(!r)return t;const s=n.replace(r,"");let i=z7.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const H7=/\b([a-z-]*)\(.*?\)/gu,hw={...mo,getAnimatableNone:t=>{const e=t.match(H7);return e?e.map(W7).join(" "):t}},XS={..._c,transform:Math.round},q7={rotate:Si,rotateX:Si,rotateY:Si,rotateZ:Si,scale:rf,scaleX:rf,scaleY:rf,scaleZ:rf,skew:Si,skewX:Si,skewY:Si,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:pd,originX:VS,originY:VS,originZ:Ce},c1={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...q7,zIndex:XS,fillOpacity:pd,strokeOpacity:pd,numOctaves:XS},G7={...c1,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:hw,WebkitFilter:hw},fD=t=>G7[t];function pD(t,e){let n=fD(t);return n!==hw&&(n=mo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K7=new Set(["auto","none","0"]);function Y7(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!K7.has(i)&&md(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=pD(n,s)}class Q7 extends a1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),J_(c))){const d=cD(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!uD.has(r)||e.length!==2)return;const[s,i]=e,o=QS(s),a=QS(i);if(o!==a)if(qS(o)&&qS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else la[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||B7(e[s]))&&r.push(s);r.length&&Y7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=la[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=la[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function mD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const gD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,JS=30,X7=t=>!isNaN(parseFloat(t)),Nu={current:void 0};class J7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Xn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=X7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G_);const r=this.events[e].add(n);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Nu.current&&Nu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JS);return K_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yr(t,e){return new J7(t,e)}const{schedule:u1,cancel:tce}=z2(queueMicrotask,!1),$r={x:!1,y:!1};function yD(){return $r.x||$r.y}function Z7(t){return t==="x"||t==="y"?$r[t]?null:($r[t]=!0,()=>{$r[t]=!1}):$r.x||$r.y?null:($r.x=$r.y=!0,()=>{$r.x=$r.y=!1})}function vD(t,e){const n=mD(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ZS(t){return!(t.pointerType==="touch"||yD())}function eW(t,e,n={}){const[r,s,i]=vD(t,n),o=a=>{if(!ZS(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{ZS(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const wD=(t,e)=>e?t===e?!0:wD(t,e.parentElement):!1,d1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nW(t){return tW.has(t.tagName)||t.tabIndex!==-1}const Lf=new WeakSet;function eC(t){return e=>{e.key==="Enter"&&t(e)}}function lv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eC(()=>{if(Lf.has(n))return;lv(n,"down");const s=eC(()=>{lv(n,"up")}),i=()=>lv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tC(t){return d1(t)&&!yD()}function sW(t,e,n={}){const[r,s,i]=vD(t,n),o=a=>{const l=a.currentTarget;if(!tC(a))return;Lf.add(l);const c=e(l,a),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Lf.has(l)&&Lf.delete(l),tC(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||wD(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ag(a)&&(a.addEventListener("focus",c=>rW(c,s)),!nW(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function xD(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return rt.preUpdate(r,!0),()=>ss(r)}function h1(t){return N2(t)&&"ownerSVGElement"in t}function iW(t){return h1(t)&&t.tagName==="svg"}function oW(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=r1(s,i,o);return e?a(r):a}const Tn=t=>!!(t&&t.getVelocity),aW=[...hD,xn,mo],lW=t=>aW.find(dD(t)),lg=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class cW extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ag(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uW({children:t,isPresent:e,anchorX:n}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(lg);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),u.jsx(cW,{isPresent:e,childRef:s,sizeRef:i,children:m.cloneElement(t,{ref:s})})}const dW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=xc(hW),c=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(f={...f}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(uW,{isPresent:n,anchorX:a,children:t})),u.jsx(og.Provider,{value:f,children:t})};function hW(){return new Map}function _D(t=!0){const e=m.useContext(og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{if(t)return s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const sf=t=>t.key||"";function nC(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const Wp=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=_D(o),d=m.useMemo(()=>nC(t),[t]),f=o&&!l?[]:d.map(sf),p=m.useRef(!0),g=m.useRef(d),v=xc(()=>new Map),[y,b]=m.useState(d),[w,_]=m.useState(d);ig(()=>{p.current=!1,g.current=d;for(let N=0;N<w.length;N++){const M=sf(w[N]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[w,f.length,f.join("-")]);const E=[];if(d!==y){let N=[...d];for(let M=0;M<w.length;M++){const C=w[M],S=sf(C);f.includes(S)||(N.splice(M,0,C),E.push(C))}return i==="wait"&&E.length&&(N=E),_(nC(N)),b(d),null}const{forceRender:A}=m.useContext(B_);return u.jsx(u.Fragment,{children:w.map(N=>{const M=sf(N),C=o&&!l?!1:d===w||f.includes(M),S=()=>{if(v.has(M))v.set(M,!0);else return;let I=!0;v.forEach(P=>{P||(I=!1)}),I&&(A==null||A(),_(g.current),o&&(c==null||c()),r&&r())};return u.jsx(dW,{isPresent:C,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:S,anchorX:a,children:N},M)})})},bD=m.createContext({strict:!1}),rC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jl={};for(const t in rC)Jl[t]={isEnabled:e=>rC[t].some(n=>!!e[n])};function fW(t){for(const e in t)Jl[e]={...Jl[e],...t[e]}}const pW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pW.has(t)}let ED=t=>!Hp(t);function mW(t){t&&(ED=e=>e.startsWith("on")?!Hp(e):t(e))}try{mW(require("@emotion/is-prop-valid").default)}catch{}function gW(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ED(s)||n===!0&&Hp(s)||!e&&!Hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function yW(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const cg=m.createContext({});function ug(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gd(t){return typeof t=="string"||Array.isArray(t)}const f1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p1=["initial",...f1];function dg(t){return ug(t.animate)||p1.some(e=>gd(t[e]))}function TD(t){return!!(dg(t)||t.variants)}function vW(t,e){if(dg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gd(n)?n:void 0,animate:gd(r)?r:void 0}}return t.inherit!==!1?e:{}}function wW(t){const{initial:e,animate:n}=vW(t,m.useContext(cg));return m.useMemo(()=>({initial:e,animate:n}),[sC(e),sC(n)])}function sC(t){return Array.isArray(t)?t.join(" "):t}const xW=Symbol.for("motionComponentSymbol");function pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _W(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pl(n)&&(n.current=r))},[e])}const m1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bW="framerAppearId",SD="data-"+m1(bW),CD=m.createContext({});function EW(t,e,n,r,s){var y,b;const{visualElement:i}=m.useContext(cg),o=m.useContext(bD),a=m.useContext(og),l=m.useContext(lg).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=m.useContext(CD);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&TW(c.current,n,s,f);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[SD],v=m.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return ig(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),u1.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1))}),d}function TW(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ID(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&pl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function ID(t){if(t)return t.options.allowProjection!==!1?t.projection:ID(t.parent)}function SW({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&fW(t);function i(a,l){let c;const d={...m.useContext(lg),...a,layoutId:CW(a)},{isStatic:f}=d,p=wW(a),g=r(a,f);if(!f&&z_){IW();const v=AW(d);c=v.MeasureLayout,p.visualElement=EW(s,g,d,e,v.ProjectionNode)}return u.jsxs(cg.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,_W(g,p.visualElement,l),g,f,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=m.forwardRef(i);return o[xW]=s,o}function CW({layoutId:t}){const e=m.useContext(B_).id;return e&&t!==void 0?e+"-"+t:t}function IW(t,e){m.useContext(bD).strict}function AW(t){const{drag:e,layout:n}=Jl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const yd={};function PW(t){for(const e in t)yd[e]=t[e],X_(e)&&(yd[e].isCSSVariable=!0)}function AD(t,{layout:e,layoutId:n}){return Ec.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yd[t]||t==="opacity")}const RW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NW=bc.length;function kW(t,e,n){let r="",s=!0;for(let i=0;i<NW;i++){const o=bc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=gD(a,c1[o]);if(!l){s=!1;const d=RW[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function g1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ec.has(l)){o=!0;continue}else if(X_(l)){s[l]=c;continue}else{const d=gD(c,c1[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=kW(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const y1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PD(t,e,n){for(const r in e)!Tn(e[r])&&!AD(r,n)&&(t[r]=e[r])}function DW({transformTemplate:t},e){return m.useMemo(()=>{const n=y1();return g1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jW(t,e){const n=t.style||{},r={};return PD(r,n,t),Object.assign(r,DW(t,e)),r}function MW(t,e){const n={},r=jW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const OW={offset:"stroke-dashoffset",array:"stroke-dasharray"},LW={offset:"strokeDashoffset",array:"strokeDasharray"};function VW(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?OW:LW;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function RD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(g1(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&VW(f,s,i,o,!1)}const ND=()=>({...y1(),attrs:{}}),kD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function FW(t,e,n,r){const s=m.useMemo(()=>{const i=ND();return RD(i,e,kD(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PD(i,t.style,t),s.style={...i,...s.style}}return s}const UW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v1(t){return typeof t!="string"||t.includes("-")?!1:!!(UW.indexOf(t)>-1||/[A-Z]/u.test(t))}function $W(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(v1(n)?FW:MW)(r,i,o,n),c=gW(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:f}=r,p=m.useMemo(()=>Tn(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function iC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function w1(t,e,n,r){if(typeof e=="function"){const[s,i]=iC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=iC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Vf(t){return Tn(t)?t.get():t}function BW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:zW(n,r,s,t),renderState:e()}}const DD=t=>(e,n)=>{const r=m.useContext(cg),s=m.useContext(og),i=()=>BW(t,e,r,s);return n?i():xc(i)};function zW(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Vf(i[p]);let{initial:o,animate:a}=t;const l=dg(t),c=TD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!ug(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=w1(t,p[g]);if(v){const{transitionEnd:y,transition:b,...w}=v;for(const _ in w){let E=w[_];if(Array.isArray(E)){const A=d?E.length-1:0;E=E[A]}E!==null&&(s[_]=E)}for(const _ in y)s[_]=y[_]}}}return s}function x1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Tn(r[o])||e.style&&Tn(e.style[o])||AD(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const WW={useVisualState:DD({scrapeMotionValuesFromProps:x1,createRenderState:y1})};function jD(t,e,n){const r=x1(t,e,n);for(const s in t)if(Tn(t[s])||Tn(e[s])){const i=bc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const HW={useVisualState:DD({scrapeMotionValuesFromProps:jD,createRenderState:ND})};function qW(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...v1(r)?HW:WW,preloadedFeatures:t,useRender:$W(s),createVisualElement:e,Component:r};return SW(o)}}function vd(t,e,n){const r=t.getProps();return w1(r,e,n!==void 0?n:r.custom,t)}const fw=t=>Array.isArray(t);function GW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Yr(n))}function KW(t){return fw(t)?t[t.length-1]||0:t}function YW(t,e){const n=vd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=KW(i[o]);GW(t,o,a)}}function QW(t){return!!(Tn(t)&&t.add)}function pw(t,e){const n=t.getValue("willChange");if(QW(n))return n.add(e);if(!n&&si.WillChange){const r=new si.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function MD(t){return t.props[SD]}const XW=t=>t!==null;function JW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(XW),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ZW={type:"spring",stiffness:500,damping:25,restSpeed:10},eH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tH={type:"keyframes",duration:.8},nH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rH=(t,{keyframes:e})=>e.length>2?tH:Ec.has(t)?t.startsWith("scale")?eH(e[1]):ZW:nH;function sH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const _1=(t,e,n,r={},s,i)=>o=>{const a=l1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Cs(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};sH(a)||Object.assign(d,rH(t,d)),d.duration&&(d.duration=Cs(d.duration)),d.repeatDelay&&(d.repeatDelay=Cs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(si.instantAnimations||si.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=JW(d.keyframes,a);if(p!==void 0){rt.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new o1(d):new V7(d)};function iH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&iH(c,d))continue;const g={delay:n,...l1(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=MD(t);if(w){const _=window.MotionHandoffAnimation(w,d,rt);_!==null&&(g.startTime=_,y=!0)}}pw(t,d),f.start(_1(d,f,p,t.shouldReduceMotion&&uD.has(d)?{type:!1}:g,t,y));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{rt.update(()=>{o&&YW(t,o)})}),l}function mw(t,e,n={}){var l;const r=vd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(OD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return oH(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function oH(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(aH).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(mw(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function aH(t,e){return t.sortNodePosition(e)}function lH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>mw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=mw(t,e,n);else{const s=typeof e=="function"?vd(t,e,n.custom):e;r=Promise.all(OD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cH=p1.length;function VD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cH;n++){const r=p1[n],s=t.props[r];(gd(s)||s===!1)&&(e[r]=s)}return e}const uH=[...f1].reverse(),dH=f1.length;function hH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lH(t,n,r)))}function fH(t){let e=hH(t),n=oC(),r=!0;const s=l=>(c,d)=>{var p;const f=vd(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:v,...y}=f;c={...c,...y,...v}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=VD(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let b=0;b<dH;b++){const w=uH[b],_=n[w],E=c[w]!==void 0?c[w]:d[w],A=gd(E),N=w===l?_.isActive:null;N===!1&&(v=b);let M=E===d[w]&&E!==c[w]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),_.protectedKeys={...g},!_.isActive&&N===null||!E&&!_.prevProp||ug(E)||typeof E=="boolean")continue;const C=pH(_.prevProp,E);let S=C||w===l&&_.isActive&&!M&&A||b>v&&A,I=!1;const P=Array.isArray(E)?E:[E];let D=P.reduce(s(w),{});N===!1&&(D={});const{prevResolvedValues:j={}}=_,k={...j,...D},B=X=>{S=!0,p.has(X)&&(I=!0,p.delete(X)),_.needsAnimating[X]=!0;const O=t.getValue(X);O&&(O.liveStyle=!1)};for(const X in k){const O=D[X],F=j[X];if(g.hasOwnProperty(X))continue;let K=!1;fw(O)&&fw(F)?K=!LD(O,F):K=O!==F,K?O!=null?B(X):p.add(X):O!==void 0&&p.has(X)?B(X):_.protectedKeys[X]=!0}_.prevProp=E,_.prevResolvedValues=D,_.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(M&&C)||I)&&f.push(...P.map(X=>({animation:X,options:{type:w}})))}if(p.size){const b={};if(typeof c.initial!="boolean"){const w=vd(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const _=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),b[w]=_??null}),f.push({animation:b})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=oC(),r=!0}}}function pH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LD(e,t):!1}function Oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oC(){return{animate:Oo(!0),whileInView:Oo(),whileHover:Oo(),whileTap:Oo(),whileDrag:Oo(),whileFocus:Oo(),exit:Oo()}}class Co{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mH extends Co{constructor(e){super(e),e.animationState||(e.animationState=fH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ug(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gH=0;class yH extends Co{constructor(){super(...arguments),this.id=gH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vH={animation:{Feature:mH},exit:{Feature:yH}};function wd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xd(t){return{point:{x:t.pageX,y:t.pageY}}}const wH=t=>e=>d1(e)&&t(e,Xd(e));function ku(t,e,n,r){return wd(t,e,wH(n),r)}function FD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _H(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const UD=1e-4,bH=1-UD,EH=1+UD,$D=.01,TH=0-$D,SH=0+$D;function On(t){return t.max-t.min}function CH(t,e,n){return Math.abs(t-e)<=n}function aC(t,e,n,r=.5){t.origin=r,t.originPoint=xt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bH&&t.scale<=EH||isNaN(t.scale))&&(t.scale=1),(t.translate>=TH&&t.translate<=SH||isNaN(t.translate))&&(t.translate=0)}function Du(t,e,n,r){aC(t.x,e.x,n.x,r?r.originX:void 0),aC(t.y,e.y,n.y,r?r.originY:void 0)}function lC(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function IH(t,e,n){lC(t.x,e.x,n.x),lC(t.y,e.y,n.y)}function cC(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function ju(t,e,n){cC(t.x,e.x,n.x),cC(t.y,e.y,n.y)}const uC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:uC(),y:uC()}),dC=()=>({min:0,max:0}),Mt=()=>({x:dC(),y:dC()});function Tr(t){return[t("x"),t("y")]}function cv(t){return t===void 0||t===1}function gw({scale:t,scaleX:e,scaleY:n}){return!cv(t)||!cv(e)||!cv(n)}function Fo(t){return gw(t)||BD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BD(t){return hC(t.x)||hC(t.y)}function hC(t){return t&&t!=="0%"}function qp(t,e,n){const r=t-n,s=e*r;return n+s}function fC(t,e,n,r,s){return s!==void 0&&(t=qp(t,s,r)),qp(t,n,r)+e}function yw(t,e=0,n=1,r,s){t.min=fC(t.min,e,n,r,s),t.max=fC(t.max,e,n,r,s)}function zD(t,{x:e,y:n}){yw(t.x,e.translate,e.scale,e.originPoint),yw(t.y,n.translate,n.scale,n.originPoint)}const pC=.999999999999,mC=1.0000000000001;function AH(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&yl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,zD(t,o)),r&&Fo(i.latestValues)&&yl(t,i.latestValues))}e.x<mC&&e.x>pC&&(e.x=1),e.y<mC&&e.y>pC&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function gC(t,e,n,r,s=.5){const i=xt(t.min,t.max,s);yw(t,e,n,i,r)}function yl(t,e){gC(t.x,e.x,e.scaleX,e.scale,e.originX),gC(t.y,e.y,e.scaleY,e.scale,e.originY)}function WD(t,e){return FD(_H(t.getBoundingClientRect(),e))}function PH(t,e,n){const r=WD(t,n),{scroll:s}=e;return s&&(gl(r.x,s.offset.x),gl(r.y,s.offset.y)),r}const HD=({current:t})=>t?t.ownerDocument.defaultView:null,yC=(t,e)=>Math.abs(t-e);function RH(t,e){const n=yC(t.x,e.x),r=yC(t.y,e.y);return Math.sqrt(n**2+r**2)}class qD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=dv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=RH(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:y}=Yt;this.history.push({...v,timestamp:y});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=uv(p,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=dv(f.type==="pointercancel"?this.lastMoveEventInfo:uv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),v&&v(f,b)},!d1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Xd(e),a=uv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Yt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,dv(a,this.history)),this.removeListeners=Kd(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function uv(t,e){return e?{point:e(t.point)}:t}function vC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dv({point:t},e){return{point:t,delta:vC(t,GD(e)),offset:vC(t,NH(e)),velocity:kH(e,.1)}}function NH(t){return t[0]}function GD(t){return t[t.length-1]}function kH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=GD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Cs(e)));)n--;if(!r)return{x:0,y:0};const i=Is(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xt(n,t,r.max):Math.min(t,n)),t}function wC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jH(t,{top:e,left:n,bottom:r,right:s}){return{x:wC(t.x,n,s),y:wC(t.y,e,r)}}function xC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MH(t,e){return{x:xC(t.x,e.x),y:xC(t.y,e.y)}}function OH(t,e){let n=.5;const r=On(t),s=On(e);return s>r?n=Xl(e.min,e.max-r,t.min):r>s&&(n=Xl(t.min,t.max-s,e.min)),Ds(0,1,n)}function LH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vw=.35;function VH(t=vw){return t===!1?t=0:t===!0&&(t=vw),{x:_C(t,"left","right"),y:_C(t,"top","bottom")}}function _C(t,e,n){return{min:bC(t,e),max:bC(t,n)}}function bC(t,e){return typeof t=="number"?t:t[e]||0}const FH=new WeakMap;class UH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xd(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Z7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(b=>{let w=this.getAxisMotionValue(b).get()||0;if(As.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[b];E&&(w=On(E)*(parseFloat(w)/100))}}this.originPoint[b]=w}),v&&rt.postRender(()=>v(d,f)),pw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=$H(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Tr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qD(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:HD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&rt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!of(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=DH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=jH(r.layoutBox,e):this.constraints=!1,this.elastic=VH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=PH(r,s.root,this.visualElement.getTransformPagePoint());let o=MH(s.layout.layoutBox,i);if(n){const a=n(xH(o));this.hasMutatedConstraints=!!a,a&&(o=FD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Tr(d=>{if(!of(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pw(this.visualElement,e),r.start(_1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Tr(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-xt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=OH({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tr(o=>{if(!of(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(xt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;FH.set(this.visualElement,this);const e=this.visualElement.current,n=ku(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rt.read(r);const o=wd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=vw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function of(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $H(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BH extends Co{constructor(e){super(e),this.removeGroupControls=tr,this.removeListeners=tr,this.controls=new UH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const EC=t=>(e,n)=>{t&&rt.postRender(()=>t(e,n))};class zH extends Co{constructor(){super(...arguments),this.removePointerDownListener=tr}onPointerDown(e){this.session=new qD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:EC(e),onStart:EC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&rt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=TC(t,e.target.x),r=TC(t,e.target.y);return`${n}% ${r}%`}},WH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=mo.parse(t);if(s.length>5)return r;const i=mo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=xt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class HH extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;PW(qH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||rt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),u1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KD(t){const[e,n]=_D(),r=m.useContext(B_);return u.jsx(HH,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(CD),isPresent:e,safeToRemove:n})}const qH={borderRadius:{...Xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xc,borderTopRightRadius:Xc,borderBottomLeftRadius:Xc,borderBottomRightRadius:Xc,boxShadow:WH};function GH(t,e,n){const r=Tn(t)?t:Yr(t);return r.start(_1("",r,e,n)),r.animation}const KH=(t,e)=>t.depth-e.depth;class YH{constructor(){this.children=[],this.isDirty=!1}add(e){W_(this.children,e),this.isDirty=!0}remove(e){H_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KH),this.isDirty=!1,this.children.forEach(e)}}function QH(t,e){const n=Xn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ss(r),t(i-e))};return rt.setup(r,!0),()=>ss(r)}const YD=["TopLeft","TopRight","BottomLeft","BottomRight"],XH=YD.length,SC=t=>typeof t=="string"?parseFloat(t):t,CC=t=>typeof t=="number"||Ce.test(t);function JH(t,e,n,r,s,i){s?(t.opacity=xt(0,n.opacity??1,ZH(r)),t.opacityExit=xt(e.opacity??1,0,eq(r))):i&&(t.opacity=xt(e.opacity??1,n.opacity??1,r));for(let o=0;o<XH;o++){const a=`border${YD[o]}Radius`;let l=IC(e,a),c=IC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||CC(l)===CC(c)?(t[a]=Math.max(xt(SC(l),SC(c),r),0),(As.test(c)||As.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,r))}function IC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZH=QD(0,.5,F2),eq=QD(.5,.95,tr);function QD(t,e,n){return r=>r<t?0:r>e?1:n(Xl(t,e,r))}function AC(t,e){t.min=e.min,t.max=e.max}function Er(t,e){AC(t.x,e.x),AC(t.y,e.y)}function PC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function RC(t,e,n,r,s){return t-=e,t=qp(t,1/n,r),s!==void 0&&(t=qp(t,1/s,r)),t}function tq(t,e=0,n=1,r=.5,s,i=t,o=t){if(As.test(e)&&(e=parseFloat(e),e=xt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xt(i.min,i.max,r);t===i&&(a-=e),t.min=RC(t.min,e,n,a,s),t.max=RC(t.max,e,n,a,s)}function NC(t,e,[n,r,s],i,o){tq(t,e[n],e[r],e[s],e.scale,i,o)}const nq=["x","scaleX","originX"],rq=["y","scaleY","originY"];function kC(t,e,n,r){NC(t.x,e,nq,n?n.x:void 0,r?r.x:void 0),NC(t.y,e,rq,n?n.y:void 0,r?r.y:void 0)}function DC(t){return t.translate===0&&t.scale===1}function XD(t){return DC(t.x)&&DC(t.y)}function jC(t,e){return t.min===e.min&&t.max===e.max}function sq(t,e){return jC(t.x,e.x)&&jC(t.y,e.y)}function MC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JD(t,e){return MC(t.x,e.x)&&MC(t.y,e.y)}function OC(t){return On(t.x)/On(t.y)}function LC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iq{constructor(){this.members=[]}add(e){W_(this.members,e),e.scheduleRender()}remove(e){if(H_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oq(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hv=["","X","Y","Z"],aq={visibility:"hidden"},lq=1e3;let cq=0;function fv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ZD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=MD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ZD(r)}function ej({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hq),this.nodes.forEach(yq),this.nodes.forEach(vq),this.nodes.forEach(fq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new YH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new G_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=h1(o)&&!iW(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=QH(f,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(FC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||Eq,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),w=!this.targetLayout||!JD(this.targetLayout,g),_=!f&&p;if(this.options.layoutRoot||this.resumeFrom||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...l1(v,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,_)}else f||FC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VC);return}this.isUpdating||this.nodes.forEach(mq),this.isUpdating=!1,this.nodes.forEach(gq),this.nodes.forEach(uq),this.nodes.forEach(dq),this.clearAllSnapshots();const a=Xn.now();Yt.delta=Ds(0,1e3/60,a-Yt.timestamp),Yt.timestamp=a,Yt.isProcessing=!0,rv.update.process(Yt),rv.preRender.process(Yt),rv.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pq),this.sharedNodes.forEach(xq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!XD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Fo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Mt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Sq))){const{scroll:d}=this.root;d&&(gl(a.x,d.offset.x),gl(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Mt();if(Er(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Er(a,o),gl(a.x,f.offset.x),gl(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Mt();Er(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Fo(d.latestValues)&&yl(l,d.latestValues)}return Fo(this.latestValues)&&yl(l,this.latestValues),l}removeTransform(o){const a=Mt();Er(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fo(c.latestValues))continue;gw(c.latestValues)&&c.updateSnapshot();const d=Mt(),f=c.measurePageBox();Er(d,f),kC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Fo(this.latestValues)&&kC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),ju(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),zD(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),ju(this.relativeTargetOrigin,this.target,g.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gw(this.parent.latestValues)||BD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;AH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Mt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PC(this.prevProjectionDelta.x,this.projectionDelta.x),PC(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!LC(this.projectionDelta.x,this.prevProjectionDelta.x)||!LC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Mt(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),w=!b||b.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(bq));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const N=A/1e3;UC(f.x,o.x,N),UC(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_q(this.relativeTarget,this.relativeTargetOrigin,p,N),E&&sq(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Mt()),Er(E,this.relativeTarget)),y&&(this.animationValues=d,JH(d,c,this.latestValues,N,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{Ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yr(0)),this.currentAnimation=GH(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&tj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Mt();const f=On(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=On(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Er(a,l),yl(a,d),Du(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iq),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&fv("z",o,c,this.animationValues);for(let d=0;d<hv.length;d++)fv(`rotate${hv[d]}`,o,c,this.animationValues),fv(`skew${hv[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aq;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Vf(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Vf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=oq(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in yd){if(d[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:b}=yd[g],w=a.transform==="none"?d[g]:v(d[g],c);if(y){const _=y.length;for(let E=0;E<_;E++)a[y[E]]=w}else b?this.options.visualElement.renderState.vars[g]=w:a[g]=w}return this.options.layoutId&&(a.pointerEvents=c===this?Vf(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(VC),this.root.sharedNodes.clear()}}}function uq(t){t.updateLayout()}function dq(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Tr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=On(p);p.min=r[f].min,p.max=p.min+g}):tj(i,e.layoutBox,r)&&Tr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=On(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=ml();Du(a,r,e.layoutBox);const l=ml();o?Du(l,t.applyTransform(s,!0),e.measuredBox):Du(l,r,e.layoutBox);const c=!XD(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Mt();ju(v,e.layoutBox,p.layoutBox);const y=Mt();ju(y,r,g.layoutBox),JD(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pq(t){t.clearSnapshot()}function VC(t){t.clearMeasurements()}function mq(t){t.isLayoutDirty=!1}function gq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yq(t){t.resolveTargetDelta()}function vq(t){t.calcProjection()}function wq(t){t.resetSkewAndRotation()}function xq(t){t.removeLeadSnapshot()}function UC(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $C(t,e,n,r){t.min=xt(e.min,n.min,r),t.max=xt(e.max,n.max,r)}function _q(t,e,n,r){$C(t.x,e.x,n.x,r),$C(t.y,e.y,n.y,r)}function bq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eq={duration:.45,ease:[.4,0,.1,1]},BC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zC=BC("applewebkit/")&&!BC("chrome/")?Math.round:tr;function WC(t){t.min=zC(t.min),t.max=zC(t.max)}function Tq(t){WC(t.x),WC(t.y)}function tj(t,e,n){return t==="position"||t==="preserve-aspect"&&!CH(OC(e),OC(n),.2)}function Sq(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Cq=ej({attachResizeListener:(t,e)=>wd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pv={current:void 0},nj=ej({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!pv.current){const t=new Cq({});t.mount(window),t.setOptions({layoutScroll:!0}),pv.current=t}return pv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Iq={pan:{Feature:zH},drag:{Feature:BH,ProjectionNode:nj,MeasureLayout:KD}};function HC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&rt.postRender(()=>i(e,Xd(e)))}class Aq extends Co{mount(){const{current:e}=this.node;e&&(this.unmount=eW(e,(n,r)=>(HC(this.node,r,"Start"),s=>HC(this.node,s,"End"))))}unmount(){}}class Pq extends Co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(wd(this.node.current,"focus",()=>this.onFocus()),wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&rt.postRender(()=>i(e,Xd(e)))}class Rq extends Co{mount(){const{current:e}=this.node;e&&(this.unmount=sW(e,(n,r)=>(qC(this.node,r,"Start"),(s,{success:i})=>qC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ww=new WeakMap,mv=new WeakMap,Nq=t=>{const e=ww.get(t.target);e&&e(t)},kq=t=>{t.forEach(Nq)};function Dq({root:t,...e}){const n=t||document;mv.has(n)||mv.set(n,{});const r=mv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(kq,{root:t,...e})),r[s]}function jq(t,e,n){const r=Dq(e);return ww.set(t,n),r.observe(t),()=>{ww.delete(t),r.unobserve(t)}}const Mq={some:0,all:1};class Oq extends Co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Mq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return jq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lq(e,n))&&this.startObserver()}unmount(){}}function Lq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Vq={inView:{Feature:Oq},tap:{Feature:Rq},focus:{Feature:Pq},hover:{Feature:Aq}},Fq={layout:{ProjectionNode:nj,MeasureLayout:KD}},xw={current:null},rj={current:!1};function Uq(){if(rj.current=!0,!!z_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xw.current=t.matches;t.addListener(e),e()}else xw.current=!1}const $q=new WeakMap;function Bq(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Tn(s))t.addValue(r,s);else if(Tn(i))t.addValue(r,Yr(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Yr(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const GC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Xn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,rt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=dg(n),this.isVariantNode=TD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Tn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,$q.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rj.current||Uq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ec.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jl){const n=Jl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GC.length;r++){const s=GC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Bq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Yr(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(R2(r)||k2(r))?r=parseFloat(r):!lW(r)&&mo.test(n)&&(r=pD(e,n)),this.setBaseTarget(e,Tn(r)?r.get():r)),Tn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=w1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Tn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class sj extends zq{constructor(){super(...arguments),this.KeyframeResolver=Q7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ij(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function Wq(t){return window.getComputedStyle(t)}class Hq extends sj{constructor(){super(...arguments),this.type="html",this.renderInstance=ij}readValueFromInstance(e,n){var r;if(Ec.has(n))return(r=this.projection)!=null&&r.isProjecting?aw(n):g7(e,n);{const s=Wq(e),i=(X_(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WD(e,n)}build(e,n,r){g1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return x1(e,n,r)}}const oj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qq(t,e,n,r){ij(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(oj.has(s)?s:m1(s),e.attrs[s])}class Gq extends sj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ec.has(n)){const r=fD(n);return r&&r.default||0}return n=oj.has(n)?n:m1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jD(e,n,r)}build(e,n,r){RD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){qq(e,n,r,s)}mount(e){this.isSVGTag=kD(e.tagName),super.mount(e)}}const Kq=(t,e)=>v1(t)?new Gq(e):new Hq(e,{allowProjection:t!==m.Fragment}),Yq=qW({...vH,...Vq,...Iq,...Fq},Kq),je=yW(Yq),Uf=new WeakMap;let Ci;function Qq(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return h1(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Xq({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Uf.get(t))==null||r.forEach(s=>{s({target:t,contentSize:e,get size(){return Qq(t,n)}})})}function Jq(t){t.forEach(Xq)}function Zq(){typeof ResizeObserver>"u"||(Ci=new ResizeObserver(Jq))}function eG(t,e){Ci||Zq();const n=mD(t);return n.forEach(r=>{let s=Uf.get(r);s||(s=new Set,Uf.set(r,s)),s.add(e),Ci==null||Ci.observe(r)}),()=>{n.forEach(r=>{const s=Uf.get(r);s==null||s.delete(e),s!=null&&s.size||Ci==null||Ci.unobserve(r)})}}const $f=new Set;let Mu;function tG(){Mu=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};$f.forEach(n=>n(e))},window.addEventListener("resize",Mu)}function nG(t){return $f.add(t),Mu||tG(),()=>{$f.delete(t),!$f.size&&Mu&&(Mu=void 0)}}function rG(t,e){return typeof t=="function"?nG(t):eG(t,e)}const sG=50,KC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),iG=()=>({time:0,x:KC(),y:KC()}),oG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function YC(t,e,n,r){const s=n[e],{length:i,position:o}=oG[e],a=s.current,l=n.time;s.current=t[`scroll${o}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Xl(0,s.scrollLength,s.current);const c=r-l;s.velocity=c>sG?0:K_(s.current-a,c)}function aG(t,e,n){YC(t,"x",e,n),YC(t,"y",e,n),e.time=n}function lG(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(ag(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const _w={start:0,center:.5,end:1};function QC(t,e,n=0){let r=0;if(t in _w&&(t=_w[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const cG=[0,0];function uG(t,e,n,r){let s=Array.isArray(t)?t:cG,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,_w[t]?t:"0"]),i=QC(s[0],n,r),o=QC(s[1],e),i-o}const dG={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},hG={x:0,y:0};function fG(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function pG(t,e,n){const{offset:r=dG.All}=n,{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==t?lG(s,t):hG,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:fG(s),c={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const f=r.length;for(let p=0;p<f;p++){const g=uG(r[p],c[o],l[o],a[i]);!d&&g!==e[i].interpolatorOffsets[p]&&(d=!0),e[i].offset[p]=g}d&&(e[i].interpolate=r1(e[i].offset,eD(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Ds(0,1,e[i].interpolate(e[i].current))}function mG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function gG(t,e,n,r={}){return{measure:s=>{mG(t,r.target,n),aG(t,n,s),(r.offset||r.target)&&pG(t,n,r)},notify:()=>e(n)}}const Jc=new WeakMap,XC=new WeakMap,gv=new WeakMap,JC=t=>t===document.scrollingElement?window:t;function aj(t,{container:e=document.scrollingElement,...n}={}){if(!e)return tr;let r=gv.get(e);r||(r=new Set,gv.set(e,r));const s=iG(),i=gG(e,t,s,n);if(r.add(i),!Jc.has(e)){const a=()=>{for(const f of r)f.measure(Yt.timestamp);rt.preUpdate(l)},l=()=>{for(const f of r)f.notify()},c=()=>rt.read(a);Jc.set(e,c);const d=JC(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&XC.set(e,rG(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const o=Jc.get(e);return rt.read(o,!1,!0),()=>{var c;ss(o);const a=gv.get(e);if(!a||(a.delete(i),a.size))return;const l=Jc.get(e);Jc.delete(e),l&&(JC(e).removeEventListener("scroll",l),(c=XC.get(e))==null||c(),window.removeEventListener("resize",l))}}const ZC=new Map;function yG(t){const e={value:0},n=aj(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function lj({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=ZC.get(e)??new Map;ZC.set(e,s);const i=n.target??"self",o=s.get(i)??{},a=r+(n.offset??[]).join(",");return o[a]||(o[a]=!n.target&&sD()?new ScrollTimeline({source:e,axis:r}):yG({container:e,...n})),o[a]}function vG(t,e){const n=lj(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),xD(s=>{r.time=r.duration*s},n))})}function wG(t){return t.length===2}function xG(t,e){return wG(t)?aj(n=>{t(n[e.axis].progress,n)},e):xD(t,lj(e))}function _G(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return tr;const s={axis:e,container:n,...r};return typeof t=="function"?xG(t,s):vG(t,s)}function eI(t,e){g8(!!(!e||e.current))}const bG=()=>({scrollX:Yr(0),scrollY:Yr(0),scrollXProgress:Yr(0),scrollYProgress:Yr(0)});function EG({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=xc(bG);return(n?ig:m.useEffect)(()=>(eI("target",e),eI("container",t),_G((o,{x:a,y:l})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function TG(t){const e=xc(()=>Yr(t)),{isStatic:n}=m.useContext(lg);if(n){const[,r]=m.useState(t);m.useEffect(()=>e.on("change",r),[])}return e}function cj(t,e){const n=TG(e()),r=()=>n.set(e());return r(),ig(()=>{const s=()=>rt.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),ss(r)}}),n}function SG(t){Nu.current=[],t();const e=cj(Nu.current,t);return Nu.current=void 0,e}function tI(t,e,n,r){if(typeof t=="function")return SG(t);const s=typeof e=="function"?e:oW(e,n,r);return Array.isArray(t)?nI(t,s):nI([t],([i])=>s(i))}function nI(t,e){const n=xc(()=>[]);return cj(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const CG=()=>{};var bw={},rI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},IG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new AG;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PG=function(t){const e=uj(t);return dj.encodeByteArray(e,!0)},Gp=function(t){return PG(t).replace(/\./g,"")},hj=function(t){try{return dj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof bw<"u")return bw;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=()=>RG().__FIREBASE_DEFAULTS__,kG=()=>{if(typeof process>"u"||typeof rI>"u")return;const t=rI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hj(t[1]);return e&&JSON.parse(e)},hg=()=>{try{return CG()||NG()||kG()||DG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fj=t=>{var e,n;return(n=(e=hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jG=t=>{const e=fj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pj=()=>{var t;return(t=hg())===null||t===void 0?void 0:t.config},mj=t=>{var e;return(e=hg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return t.endsWith(".cloudworkstations.dev")}async function gj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gp(JSON.stringify(n)),Gp(JSON.stringify(o)),""].join(".")}const Ou={};function LG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?t.emulator.push(e):t.prod.push(e);return t}function VG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sI=!1;function yj(t,e){if(typeof window>"u"||typeof document>"u"||!Jd(window.location.host)||Ou[t]===e||Ou[t]||sI)return;Ou[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=LG().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sI=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=VG(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(b,y);const A=c();l(_,w),E.append(_,v,b,A),document.body.appendChild(E)}i?(v.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function UG(){var t;const e=(t=hg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(bw.process)==="[object process]"}catch{return!1}}function $G(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zG(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WG(){return!UG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wj(){try{return typeof indexedDB=="object"}catch{return!1}}function xj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function HG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qG,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?GG(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ls(s,a,r)}}function GG(t,e){return t.replace(KG,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const KG=/\{\$([^}]+)}/g;function YG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(iI(i)&&iI(o)){if(!js(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QG(t,e){const n=new XG(t,e);return n.subscribe.bind(n)}class XG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JG(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=yv),s.error===void 0&&(s.error=yv),s.complete===void 0&&(s.complete=yv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=1e3,eK=2,tK=4*60*60*1e3,nK=.5;function oI(t,e=ZG,n=eK){const r=e*Math.pow(n,t),s=Math.round(nK*r*(Math.random()-.5)*2);return Math.min(tK,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iK(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sK(t){return t===Uo?void 0:t}function iK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const aK={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},lK=Ue.INFO,cK={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},uK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=lK,this._logHandler=uK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dK=(t,e)=>e.some(n=>t instanceof n);let aI,lI;function hK(){return aI||(aI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fK(){return lI||(lI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _j=new WeakMap,Ew=new WeakMap,bj=new WeakMap,vv=new WeakMap,b1=new WeakMap;function pK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ro(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_j.set(n,t)}).catch(()=>{}),b1.set(e,t),e}function mK(t){if(Ew.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ew.set(t,e)}let Tw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ew.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gK(t){Tw=t(Tw)}function yK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wv(this),e,...n);return bj.set(r,e.sort?e.sort():[e]),ro(r)}:fK().includes(t)?function(...e){return t.apply(wv(this),e),ro(_j.get(this))}:function(...e){return ro(t.apply(wv(this),e))}}function vK(t){return typeof t=="function"?yK(t):(t instanceof IDBTransaction&&mK(t),dK(t,hK())?new Proxy(t,Tw):t)}function ro(t){if(t instanceof IDBRequest)return pK(t);if(vv.has(t))return vv.get(t);const e=vK(t);return e!==t&&(vv.set(t,e),b1.set(e,t)),e}const wv=t=>b1.get(t);function Ej(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ro(o.result),l.oldVersion,l.newVersion,ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wK=["get","getKey","getAll","getAllKeys","count"],xK=["put","add","delete","clear"],xv=new Map;function cI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return xv.set(e,i),i}gK(t=>({...t,get:(e,n,r)=>cI(e,n)||t.get(e,n,r),has:(e,n)=>!!cI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sw="@firebase/app",uI="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new fg("@firebase/app"),EK="@firebase/app-compat",TK="@firebase/analytics-compat",SK="@firebase/analytics",CK="@firebase/app-check-compat",IK="@firebase/app-check",AK="@firebase/auth",PK="@firebase/auth-compat",RK="@firebase/database",NK="@firebase/data-connect",kK="@firebase/database-compat",DK="@firebase/functions",jK="@firebase/functions-compat",MK="@firebase/installations",OK="@firebase/installations-compat",LK="@firebase/messaging",VK="@firebase/messaging-compat",FK="@firebase/performance",UK="@firebase/performance-compat",$K="@firebase/remote-config",BK="@firebase/remote-config-compat",zK="@firebase/storage",WK="@firebase/storage-compat",HK="@firebase/firestore",qK="@firebase/ai",GK="@firebase/firestore-compat",KK="firebase",YK="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="[DEFAULT]",QK={[Sw]:"fire-core",[EK]:"fire-core-compat",[SK]:"fire-analytics",[TK]:"fire-analytics-compat",[IK]:"fire-app-check",[CK]:"fire-app-check-compat",[AK]:"fire-auth",[PK]:"fire-auth-compat",[RK]:"fire-rtdb",[NK]:"fire-data-connect",[kK]:"fire-rtdb-compat",[DK]:"fire-fn",[jK]:"fire-fn-compat",[MK]:"fire-iid",[OK]:"fire-iid-compat",[LK]:"fire-fcm",[VK]:"fire-fcm-compat",[FK]:"fire-perf",[UK]:"fire-perf-compat",[$K]:"fire-rc",[BK]:"fire-rc-compat",[zK]:"fire-gcs",[WK]:"fire-gcs-compat",[HK]:"fire-fst",[GK]:"fire-fst-compat",[qK]:"fire-vertex","fire-js":"fire-js",[KK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new Map,XK=new Map,Iw=new Map;function dI(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ms(t){const e=t.name;if(Iw.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Iw.set(e,t);for(const n of Kp.values())dI(n,t);for(const n of XK.values())dI(n,t);return!0}function ja(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new Da("app","Firebase",JK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=YK;function Tj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cw,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(n||(n=pj()),!n)throw so.create("no-options");const i=Kp.get(s);if(i){if(js(n,i.options)&&js(r,i.config))return i;throw so.create("duplicate-app",{appName:s})}const o=new oK(s);for(const l of Iw.values())o.addComponent(l);const a=new ZK(n,r,o);return Kp.set(s,a),a}function E1(t=Cw){const e=Kp.get(t);if(!e&&t===Cw&&pj())return Tj();if(!e)throw so.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let s=(r=QK[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}Ms(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY="firebase-heartbeat-database",tY=1,xd="firebase-heartbeat-store";let _v=null;function Sj(){return _v||(_v=Ej(eY,tY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xd)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),_v}async function nY(t){try{const n=(await Sj()).transaction(xd),r=await n.objectStore(xd).get(Cj(t));return await n.done,r}catch(e){if(e instanceof ls)ii.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(n.message)}}}async function hI(t,e){try{const r=(await Sj()).transaction(xd,"readwrite");await r.objectStore(xd).put(e,Cj(t)),await r.done}catch(n){if(n instanceof ls)ii.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ii.warn(r.message)}}}function Cj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=1024,sY=30;class iY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>sY){const o=lY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fI(),{heartbeatsToSend:r,unsentEntries:s}=oY(this._heartbeatsCache.heartbeats),i=Gp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ii.warn(n),""}}}function fI(){return new Date().toISOString().substring(0,10)}function oY(t,e=rY){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wj()?xj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return hI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pI(t){return Gp(JSON.stringify({version:2,heartbeats:t})).length}function lY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(t){Ms(new is("platform-logger",e=>new _K(e),"PRIVATE")),Ms(new is("heartbeat",e=>new iY(e),"PRIVATE")),Nr(Sw,uI,t),Nr(Sw,uI,"esm2017"),Nr("fire-js","")}cY("");var mI={},gI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof mI<"u"?mI:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,Ij;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,D,j){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return S.prototype[D].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];var j=C.g[3],k=S+(j^I&(D^j))+P[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=j+(D^S&(I^D))+P[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=D+(I^j&(S^I))+P[2]+606105819&4294967295,D=j+(k<<17&4294967295|k>>>15),k=I+(S^D&(j^S))+P[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(j^I&(D^j))+P[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(D^S&(I^D))+P[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=D+(I^j&(S^I))+P[6]+2821735955&4294967295,D=j+(k<<17&4294967295|k>>>15),k=I+(S^D&(j^S))+P[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(j^I&(D^j))+P[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(D^S&(I^D))+P[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=D+(I^j&(S^I))+P[10]+4294925233&4294967295,D=j+(k<<17&4294967295|k>>>15),k=I+(S^D&(j^S))+P[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(j^I&(D^j))+P[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=j+(D^S&(I^D))+P[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=D+(I^j&(S^I))+P[14]+2792965006&4294967295,D=j+(k<<17&4294967295|k>>>15),k=I+(S^D&(j^S))+P[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(D^j&(I^D))+P[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^D&(S^I))+P[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(j^S))+P[11]+643717713&4294967295,D=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(D^j))+P[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^j&(I^D))+P[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^D&(S^I))+P[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(j^S))+P[15]+3634488961&4294967295,D=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(D^j))+P[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^j&(I^D))+P[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^D&(S^I))+P[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(j^S))+P[3]+4107603335&4294967295,D=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(D^j))+P[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^j&(I^D))+P[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=j+(I^D&(S^I))+P[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(j^S))+P[7]+1735328473&4294967295,D=j+(k<<14&4294967295|k>>>18),k=I+(j^S&(D^j))+P[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(I^D^j)+P[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^D)+P[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=D+(j^S^I)+P[11]+1839030562&4294967295,D=j+(k<<16&4294967295|k>>>16),k=I+(D^j^S)+P[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^j)+P[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^D)+P[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=D+(j^S^I)+P[7]+4139469664&4294967295,D=j+(k<<16&4294967295|k>>>16),k=I+(D^j^S)+P[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^j)+P[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^D)+P[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=D+(j^S^I)+P[3]+3572445317&4294967295,D=j+(k<<16&4294967295|k>>>16),k=I+(D^j^S)+P[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^j)+P[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=j+(S^I^D)+P[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=D+(j^S^I)+P[15]+530742520&4294967295,D=j+(k<<16&4294967295|k>>>16),k=I+(D^j^S)+P[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(D^(I|~j))+P[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~D))+P[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=D+(S^(j|~I))+P[14]+2878612391&4294967295,D=j+(k<<15&4294967295|k>>>17),k=I+(j^(D|~S))+P[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~j))+P[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~D))+P[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=D+(S^(j|~I))+P[10]+4293915773&4294967295,D=j+(k<<15&4294967295|k>>>17),k=I+(j^(D|~S))+P[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~j))+P[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~D))+P[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=D+(S^(j|~I))+P[6]+2734768916&4294967295,D=j+(k<<15&4294967295|k>>>17),k=I+(j^(D|~S))+P[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~j))+P[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=j+(I^(S|~D))+P[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=D+(S^(j|~I))+P[2]+718787259&4294967295,D=j+(k<<15&4294967295|k>>>17),k=I+(j^(D|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,P=this.B,D=this.h,j=0;j<S;){if(D==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(P[D++]=C.charCodeAt(j++),D==this.blockSize){s(this,P),D=0;break}}else for(;j<S;)if(P[D++]=C[j++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var P=0;32>P;P+=8)C[I++]=this.g[S]>>>P&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],P=!0,D=C.length-1;0<=D;D--){var j=C[D]|0;P&&j==S||(I[D]=j,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return b(c(-C));for(var S=[],I=1,P=0;C>=I;P++)S[P]=C/I|0,I*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return b(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),P=f,D=0;D<C.length;D+=8){var j=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+j),S);8>j?(j=c(Math.pow(S,j)),P=P.j(j).add(c(k))):(P=P.j(I),P=P.add(c(k)))}return P}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+b(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,P="";;){var D=A(I,S).g;I=w(I,D.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,v(I))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function b(C){for(var S=C.g.length,I=[],P=0;P<S;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0,D=0;D<=S;D++){var j=P+(this.i(D)&65535)+(C.i(D)&65535),k=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=k>>>16,j&=65535,k&=65535,I[D]=k<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(b(S))}t.j=function(C){if(v(this)||v(C))return f;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],P=0;P<2*S;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<C.g.length;D++){var j=this.i(P)>>>16,k=this.i(P)&65535,B=C.i(D)>>>16,ie=C.i(D)&65535;I[2*P+2*D]+=k*ie,_(I,2*P+2*D),I[2*P+2*D+1]+=j*ie,_(I,2*P+2*D+1),I[2*P+2*D+1]+=k*B,_(I,2*P+2*D+1),I[2*P+2*D+2]+=j*B,_(I,2*P+2*D+2)}for(P=0;P<S;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=S;P<2*S;P++)I[P]=0;return new o(I,0)};function _(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function A(C,S){if(v(S))throw Error("division by zero");if(v(C))return new E(f,f);if(y(C))return S=A(b(C),S),new E(b(S.g),b(S.h));if(y(S))return S=A(C,b(S)),new E(b(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=S;0>=P.l(C);)I=N(I),P=N(P);var D=M(I,1),j=M(P,1);for(P=M(P,2),I=M(I,2);!v(P);){var k=j.add(P);0>=k.l(C)&&(D=D.add(I),j=k),P=M(P,1),I=M(I,1)}return S=w(C,D.j(S)),new E(D,S)}for(D=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=c(I),k=j.j(S);y(k)||0<k.l(C);)I-=P,j=c(I),k=j.j(S);v(j)&&(j=p),D=D.add(j),C=w(C,k)}return new E(D,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function N(C){for(var S=C.g.length+1,I=[],P=0;P<S;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function M(C,S){var I=S>>5;S%=32;for(var P=C.g.length-I,D=[],j=0;j<P;j++)D[j]=0<S?C.i(j+I)>>>S|C.i(j+I+1)<<32-S:C.i(j+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ij=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,io=o}).apply(typeof gI<"u"?gI:typeof self<"u"?self:typeof window<"u"?window:{});var yI={},af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof yI<"u"?yI:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aj,lu,Pj,Bf,Aw,Rj,Nj,kj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,T){return h==Array.prototype||h==Object.prototype||(h[x]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var x=0;x<h.length;++x){var T=h[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var T=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var L=h[R];if(!(L in T))break e;T=T[L]}h=h[h.length-1],R=T[h],x=x(R),x!=R&&x!=null&&e(T,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var T=0,R=!1,L={next:function(){if(!R&&T<h.length){var U=T++;return{value:x(U,h[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function c(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function d(h,x,T){return h.call.apply(h.bind,arguments)}function f(h,x,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),h.apply(x,L)}}return function(){return h.apply(x,arguments)}}function p(h,x,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(h,x){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,x){function T(){}T.prototype=x.prototype,h.aa=x.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,L,U){for(var ne=Array(arguments.length-2),st=2;st<arguments.length;st++)ne[st-2]=arguments[st];return x.prototype[L].apply(R,ne)}}function y(h){const x=h.length;if(0<x){const T=Array(x);for(let R=0;R<x;R++)T[R]=h[R];return T}return[]}function b(h,x){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const L=h.length||0,U=R.length||0;h.length=L+U;for(let ne=0;ne<U;ne++)h[L+ne]=R[ne]}else h.push(R)}}class w{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function _(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(h,x,T){for(const R in h)x.call(T,h[R],R,h)}function C(h,x){for(const T in h)x.call(void 0,h[T],T,h)}function S(h){const x={};for(const T in h)x[T]=h[T];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,x){let T,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(T in R)h[T]=R[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function D(h){var x=1;h=h.split(":");const T=[];for(;0<x&&h.length;)T.push(h.shift()),x--;return h.length&&T.push(h.join(":")),T}function j(h){a.setTimeout(()=>{throw h},0)}function k(){var h=F;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class B{constructor(){this.h=this.g=null}add(x,T){const R=ie.get();R.set(x,T),this.h?this.h.next=R:this.g=R,this.h=R}}var ie=new w(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let X,O=!1,F=new B,K=()=>{const h=a.Promise.resolve(void 0);X=()=>{h.then(q)}};var q=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(T){j(T)}var x=ie;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}O=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,x),a.removeEventListener("test",T,x)}catch{}return h}();function Me(h,x){if(te.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(N){e:{try{A(x.nodeName);var L=!0;break e}catch{}L=!1}L||(x=null)}}else T=="mouseover"?x=h.fromElement:T=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:pe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Me.aa.h.call(this)}}v(Me,te);var pe={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),me=0;function _e(h,x,T,R,L){this.listener=h,this.proxy=null,this.src=x,this.type=T,this.capture=!!R,this.ha=L,this.key=++me,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,x,T,R,L){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var ne=xe(h,x,R,L);return-1<ne?(x=h[ne],T||(x.fa=!1)):(x=new _e(x,this.src,U,!!R,L),x.fa=T,h.push(x)),x};function G(h,x){var T=x.type;if(T in h.g){var R=h.g[T],L=Array.prototype.indexOf.call(R,x,void 0),U;(U=0<=L)&&Array.prototype.splice.call(R,L,1),U&&(fe(x),h.g[T].length==0&&(delete h.g[T],h.h--))}}function xe(h,x,T,R){for(var L=0;L<h.length;++L){var U=h[L];if(!U.da&&U.listener==x&&U.capture==!!T&&U.ha==R)return L}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Be={};function V(h,x,T,R,L){if(Array.isArray(x)){for(var U=0;U<x.length;U++)V(h,x[U],T,R,L);return null}return T=br(T),h&&h[J]?h.K(x,T,c(R)?!!R.capture:!!R,L):de(h,x,T,!1,R,L)}function de(h,x,T,R,L,U){if(!x)throw Error("Invalid event type");var ne=c(L)?!!L.capture:!!L,st=gt(h);if(st||(h[Ae]=st=new ce(h)),T=st.add(x,T,R,ne,U),T.proxy)return T;if(R=Ne(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)we||(L=ne),L===void 0&&(L=!1),h.addEventListener(x.toString(),R,L);else if(h.attachEvent)h.attachEvent(Ve(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ne(){function h(T){return x.call(h.src,h.listener,T)}const x=_r;return h}function he(h,x,T,R,L){if(Array.isArray(x))for(var U=0;U<x.length;U++)he(h,x[U],T,R,L);else R=c(R)?!!R.capture:!!R,T=br(T),h&&h[J]?(h=h.i,x=String(x).toString(),x in h.g&&(U=h.g[x],T=xe(U,T,R,L),-1<T&&(fe(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete h.g[x],h.h--)))):h&&(h=gt(h))&&(x=h.g[x.toString()],h=-1,x&&(h=xe(x,T,R,L)),(T=-1<h?x[h]:null)&&Ke(T))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[J])G(x.i,h);else{var T=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(T,R,h.capture):x.detachEvent?x.detachEvent(Ve(T),R):x.addListener&&x.removeListener&&x.removeListener(R),(T=gt(x))?(G(T,h),T.h==0&&(T.src=null,x[Ae]=null)):fe(h)}}}function Ve(h){return h in Be?Be[h]:Be[h]="on"+h}function _r(h,x){if(h.da)h=!0;else{x=new Me(x,this);var T=h.listener,R=h.ha||h.src;h.fa&&Ke(h),h=T.call(R,x)}return h}function gt(h){return h=h[Ae],h instanceof ce?h:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function br(h){return typeof h=="function"?h:(h[Lr]||(h[Lr]=function(x){return h.handleEvent(x)}),h[Lr])}function ft(){Z.call(this),this.i=new ce(this),this.M=this,this.F=null}v(ft,Z),ft.prototype[J]=!0,ft.prototype.removeEventListener=function(h,x,T,R){he(this,h,x,T,R)};function nt(h,x){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new te(x,h);else if(x instanceof te)x.target=x.target||h;else{var L=x;x=new te(R,h),P(x,L)}if(L=!0,T)for(var U=T.length-1;0<=U;U--){var ne=x.g=T[U];L=Bn(ne,R,!0,x)&&L}if(ne=x.g=h,L=Bn(ne,R,!0,x)&&L,L=Bn(ne,R,!1,x)&&L,T)for(U=0;U<T.length;U++)ne=x.g=T[U],L=Bn(ne,R,!1,x)&&L}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var T=h.g[x],R=0;R<T.length;R++)fe(T[R]);delete h.g[x],h.h--}}this.F=null},ft.prototype.K=function(h,x,T,R){return this.i.add(String(h),x,!1,T,R)},ft.prototype.L=function(h,x,T,R){return this.i.add(String(h),x,!0,T,R)};function Bn(h,x,T,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var L=!0,U=0;U<x.length;++U){var ne=x[U];if(ne&&!ne.da&&ne.capture==T){var st=ne.listener,nn=ne.ha||ne.src;ne.fa&&G(h.i,ne),L=st.call(nn,R)!==!1&&L}}return L&&!R.defaultPrevented}function An(h,x,T){if(typeof h=="function")T&&(h=p(h,T));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function Wt(h){h.g=An(()=>{h.g=null,h.i&&(h.i=!1,Wt(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Vr extends Z{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(h){Z.call(this),this.h=h,this.g={}}v(Pn,Z);var zn=[];function pt(h){M(h.g,function(x,T){this.g.hasOwnProperty(T)&&Ke(x)},h),h.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),pt(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=a.JSON.stringify,Wn=a.JSON.parse,ko=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function be(){}be.prototype.h=null;function Ye(h){return h.h||(h.h=h.i())}function We(){}var jt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ht(){te.call(this,"d")}v(Ht,te);function ir(){te.call(this,"c")}v(ir,te);var $={},ee=null;function Ee(){return ee=ee||new ft}$.La="serverreachability";function Pe(h){te.call(this,$.La,h)}v(Pe,te);function Ct(h){const x=Ee();nt(x,new Pe(x))}$.STAT_EVENT="statevent";function Hn(h,x){te.call(this,$.STAT_EVENT,h),this.stat=x}v(Hn,te);function it(h){const x=Ee();nt(x,new Hn(x,h))}$.Ma="timingevent";function yt(h,x){te.call(this,$.Ma,h),this.size=x}v(yt,te);function Rn(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function kc(){this.g=!0}kc.prototype.xa=function(){this.g=!1};function HF(h,x,T,R,L,U){h.info(function(){if(h.g)if(U)for(var ne="",st=U.split("&"),nn=0;nn<st.length;nn++){var Qe=st[nn].split("=");if(1<Qe.length){var hn=Qe[0];Qe=Qe[1];var fn=hn.split("_");ne=2<=fn.length&&fn[1]=="type"?ne+(hn+"="+Qe+"&"):ne+(hn+"=redacted&")}}else ne=null;else ne=U;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+x+`
`+T+`
`+ne})}function qF(h,x,T,R,L,U,ne){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+x+`
`+T+`
`+U+" "+ne})}function $a(h,x,T,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+KF(h,T)+(R?" "+R:"")})}function GF(h,x){h.info(function(){return"TIMEOUT: "+x})}kc.prototype.info=function(){};function KF(h,x){if(!h.g)return x;if(!x)return null;try{var T=JSON.parse(x);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return sr(T)}catch{return x}}var wh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ay;function xh(){}v(xh,be),xh.prototype.g=function(){return new XMLHttpRequest},xh.prototype.i=function(){return{}},ay=new xh;function gi(h,x,T,R){this.j=h,this.i=x,this.l=T,this.R=R||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nE}function nE(){this.i=null,this.g="",this.h=!1}var rE={},ly={};function cy(h,x,T){h.L=1,h.v=Th(Fs(x)),h.m=T,h.P=!0,sE(h,null)}function sE(h,x){h.F=Date.now(),_h(h),h.A=Fs(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),vE(T.i,"t",R),h.C=0,T=h.j.J,h.h=new nE,h.g=OE(h.j,T?x:null,!h.m),0<h.O&&(h.M=new Vr(p(h.Y,h,h.g),h.O)),x=h.U,T=h.g,R=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(zn[0]=L.toString()),L=zn);for(var U=0;U<L.length;U++){var ne=V(T,L[U],R||x.handleEvent,!1,x.h||x);if(!ne)break;x.g[ne.key]=ne}x=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Ct(),HF(h.i,h.u,h.A,h.l,h.R,h.m)}gi.prototype.ca=function(h){h=h.target;const x=this.M;x&&Us(h)==3?x.j():this.Y(h)},gi.prototype.Y=function(h){try{if(h==this.g)e:{const fn=Us(this.g);var x=this.g.Ba();const Wa=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||SE(this.g)))){this.J||fn!=4||x==7||(x==8||0>=Wa?Ct(3):Ct(2)),uy(this);var T=this.g.Z();this.X=T;t:if(iE(this)){var R=SE(this.g);h="";var L=R.length,U=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Dc(this);var ne="";break t}this.h.i=new a.TextDecoder}for(x=0;x<L;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(U&&x==L-1)});R.length=0,this.h.g+=h,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=T==200,qF(this.i,this.u,this.A,this.l,this.R,fn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var st,nn=this.g;if((st=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(st)){var Qe=st;break t}}Qe=null}if(T=Qe)$a(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dy(this,T);else{this.o=!1,this.s=3,it(12),Do(this),Dc(this);break e}}if(this.P){T=!0;let Fr;for(;!this.J&&this.C<ne.length;)if(Fr=YF(this,ne),Fr==ly){fn==4&&(this.s=4,it(14),T=!1),$a(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==rE){this.s=4,it(15),$a(this.i,this.l,ne,"[Invalid Chunk]"),T=!1;break}else $a(this.i,this.l,Fr,null),dy(this,Fr);if(iE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||ne.length!=0||this.h.h||(this.s=1,it(16),T=!1),this.o=this.o&&T,!T)$a(this.i,this.l,ne,"[Invalid Chunked Response]"),Do(this),Dc(this);else if(0<ne.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),yy(hn),hn.M=!0,it(11))}}else $a(this.i,this.l,ne,null),dy(this,ne);fn==4&&Do(this),this.o&&!this.J&&(fn==4?kE(this.j,this):(this.o=!1,_h(this)))}else h5(this.g),T==400&&0<ne.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Do(this),Dc(this)}}}catch{}finally{}};function iE(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function YF(h,x){var T=h.C,R=x.indexOf(`
`,T);return R==-1?ly:(T=Number(x.substring(T,R)),isNaN(T)?rE:(R+=1,R+T>x.length?ly:(x=x.slice(R,R+T),h.C=R+T,x)))}gi.prototype.cancel=function(){this.J=!0,Do(this)};function _h(h){h.S=Date.now()+h.I,oE(h,h.I)}function oE(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rn(p(h.ba,h),x)}function uy(h){h.B&&(a.clearTimeout(h.B),h.B=null)}gi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(GF(this.i,this.A),this.L!=2&&(Ct(),it(17)),Do(this),this.s=2,Dc(this)):oE(this,this.S-h)};function Dc(h){h.j.G==0||h.J||kE(h.j,h)}function Do(h){uy(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,pt(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function dy(h,x){try{var T=h.j;if(T.G!=0&&(T.g==h||hy(T.h,h))){if(!h.K&&hy(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)Rh(T),Ah(T);else break e;gy(T),it(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=Rn(p(T.Za,T),6e3));if(1>=cE(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Mo(T,11)}else if((h.K||T.g==h)&&Rh(T),!_(x))for(L=T.Da.g.parse(x),x=0;x<L.length;x++){let Qe=L[x];if(T.T=Qe[0],Qe=Qe[1],T.G==2)if(Qe[0]=="c"){T.K=Qe[1],T.ia=Qe[2];const hn=Qe[3];hn!=null&&(T.la=hn,T.j.info("VER="+T.la));const fn=Qe[4];fn!=null&&(T.Aa=fn,T.j.info("SVER="+T.Aa));const Wa=Qe[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(R=1.5*Wa,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Fr=h.g;if(Fr){const kh=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kh){var U=R.h;U.g||kh.indexOf("spdy")==-1&&kh.indexOf("quic")==-1&&kh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(fy(U,U.h),U.h=null))}if(R.D){const vy=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(R.ya=vy,lt(R.I,R.D,vy))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ne=h;if(R.qa=ME(R,R.J?R.ia:null,R.W),ne.K){uE(R.h,ne);var st=ne,nn=R.L;nn&&(st.I=nn),st.B&&(uy(st),_h(st)),R.g=ne}else RE(R);0<T.i.length&&Ph(T)}else Qe[0]!="stop"&&Qe[0]!="close"||Mo(T,7);else T.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Mo(T,7):my(T):Qe[0]!="noop"&&T.l&&T.l.ta(Qe),T.v=0)}}Ct(4)}catch{}}var QF=class{constructor(h,x){this.g=h,this.map=x}};function aE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function cE(h){return h.h?1:h.g?h.g.size:0}function hy(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function fy(h,x){h.g?h.g.add(x):h.h=x}function uE(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}aE.prototype.cancel=function(){if(this.i=dE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dE(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const T of h.g.values())x=x.concat(T.D);return x}return y(h.i)}function XF(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],T=h.length,R=0;R<T;R++)x.push(h[R]);return x}x=[],T=0;for(R in h)x[T++]=h[R];return x}function JF(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var T=0;T<h;T++)x.push(T);return x}x=[],T=0;for(const R in h)x[T++]=R;return x}}}function hE(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var T=JF(h),R=XF(h),L=R.length,U=0;U<L;U++)x.call(void 0,R[U],T&&T[U],h)}var fE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZF(h,x){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),L=null;if(0<=R){var U=h[T].substring(0,R);L=h[T].substring(R+1)}else U=h[T];x(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function jo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof jo){this.h=h.h,bh(this,h.j),this.o=h.o,this.g=h.g,Eh(this,h.s),this.l=h.l;var x=h.i,T=new Oc;T.i=x.i,x.g&&(T.g=new Map(x.g),T.h=x.h),pE(this,T),this.m=h.m}else h&&(x=String(h).match(fE))?(this.h=!1,bh(this,x[1]||"",!0),this.o=jc(x[2]||""),this.g=jc(x[3]||"",!0),Eh(this,x[4]),this.l=jc(x[5]||"",!0),pE(this,x[6]||"",!0),this.m=jc(x[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}jo.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Mc(x,mE,!0),":");var T=this.g;return(T||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Mc(x,mE,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Mc(T,T.charAt(0)=="/"?n5:t5,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Mc(T,s5)),h.join("")};function Fs(h){return new jo(h)}function bh(h,x,T){h.j=T?jc(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Eh(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function pE(h,x,T){x instanceof Oc?(h.i=x,i5(h.i,h.h)):(T||(x=Mc(x,r5)),h.i=new Oc(x,h.h))}function lt(h,x,T){h.i.set(x,T)}function Th(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function jc(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mc(h,x,T){return typeof h=="string"?(h=encodeURI(h).replace(x,e5),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function e5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mE=/[#\/\?@]/g,t5=/[#\?:]/g,n5=/[#\?]/g,r5=/[#\?@]/g,s5=/#/g;function Oc(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function yi(h){h.g||(h.g=new Map,h.h=0,h.i&&ZF(h.i,function(x,T){h.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}t=Oc.prototype,t.add=function(h,x){yi(this),this.i=null,h=Ba(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(x),this.h+=1,this};function gE(h,x){yi(h),x=Ba(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function yE(h,x){return yi(h),x=Ba(h,x),h.g.has(x)}t.forEach=function(h,x){yi(this),this.g.forEach(function(T,R){T.forEach(function(L){h.call(x,L,R,this)},this)},this)},t.na=function(){yi(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),T=[];for(let R=0;R<x.length;R++){const L=h[R];for(let U=0;U<L.length;U++)T.push(x[R])}return T},t.V=function(h){yi(this);let x=[];if(typeof h=="string")yE(this,h)&&(x=x.concat(this.g.get(Ba(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)x=x.concat(h[T])}return x},t.set=function(h,x){return yi(this),this.i=null,h=Ba(this,h),yE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function vE(h,x,T){gE(h,x),0<T.length&&(h.i=null,h.g.set(Ba(h,x),y(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var T=0;T<x.length;T++){var R=x[T];const U=encodeURIComponent(String(R)),ne=this.V(R);for(R=0;R<ne.length;R++){var L=U;ne[R]!==""&&(L+="="+encodeURIComponent(String(ne[R]))),h.push(L)}}return this.i=h.join("&")};function Ba(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function i5(h,x){x&&!h.j&&(yi(h),h.i=null,h.g.forEach(function(T,R){var L=R.toLowerCase();R!=L&&(gE(this,R),vE(this,L,T))},h)),h.j=x}function o5(h,x){const T=new kc;if(a.Image){const R=new Image;R.onload=g(vi,T,"TestLoadImage: loaded",!0,x,R),R.onerror=g(vi,T,"TestLoadImage: error",!1,x,R),R.onabort=g(vi,T,"TestLoadImage: abort",!1,x,R),R.ontimeout=g(vi,T,"TestLoadImage: timeout",!1,x,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function a5(h,x){const T=new kc,R=new AbortController,L=setTimeout(()=>{R.abort(),vi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout(L),U.ok?vi(T,"TestPingServer: ok",!0,x):vi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(L),vi(T,"TestPingServer: error",!1,x)})}function vi(h,x,T,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(T)}catch{}}function l5(){this.g=new ko}function c5(h,x,T){const R=T||"";try{hE(h,function(L,U){let ne=L;c(L)&&(ne=sr(L)),x.push(R+U+"="+encodeURIComponent(ne))})}catch(L){throw x.push(R+"type="+encodeURIComponent("_badmap")),L}}function Sh(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Sh,be),Sh.prototype.g=function(){return new Ch(this.l,this.j)},Sh.prototype.i=function(h){return function(){return h}}({});function Ch(h,x){ft.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ch,ft),t=Ch.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Vc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wE(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function wE(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Lc(this):Vc(this),this.readyState==3&&wE(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Lc(this))},t.Qa=function(h){this.g&&(this.response=h,Lc(this))},t.ga=function(){this.g&&Lc(this)};function Lc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Vc(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=x.next();return h.join(`\r
`)};function Vc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xE(h){let x="";return M(h,function(T,R){x+=R,x+=":",x+=T,x+=`\r
`}),x}function py(h,x,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=xE(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):lt(h,x,T))}function It(h){ft.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(It,ft);var u5=/^https?$/i,d5=["POST","PUT"];t=It.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ay.g(),this.v=this.o?Ye(this.o):Ye(ay),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(U){_E(this,U);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)T.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())T.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(d5,x,void 0))||R||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ne]of T)this.g.setRequestHeader(U,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TE(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){_E(this,U)}};function _E(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,bE(h),Ih(h)}function bE(h){h.A||(h.A=!0,nt(h,"complete"),nt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,nt(this,"complete"),nt(this,"abort"),Ih(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ih(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?EE(this):this.bb())},t.bb=function(){EE(this)};function EE(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Us(h)!=4||h.Z()!=2)){if(h.u&&Us(h)==4)An(h.Ea,0,h);else if(nt(h,"readystatechange"),Us(h)==4){h.h=!1;try{const ne=h.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var T;if(!(T=x)){var R;if(R=ne===0){var L=String(h.D).match(fE)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),R=!u5.test(L?L.toLowerCase():"")}T=R}if(T)nt(h,"complete"),nt(h,"success");else{h.m=6;try{var U=2<Us(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",bE(h)}}finally{Ih(h)}}}}function Ih(h,x){if(h.g){TE(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||nt(h,"ready");try{T.onreadystatechange=R}catch{}}}function TE(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Us(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Wn(x)}};function SE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function h5(h){const x={};h=(h.g&&2<=Us(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(_(h[R]))continue;var T=D(h[R]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=x[L]||[];x[L]=U,U.push(T)}C(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(h,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||x}function CE(h){this.Aa=0,this.i=[],this.j=new kc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,h),this.cb=Fc("retryDelaySeedMs",1e4,h),this.Wa=Fc("forwardChannelMaxRetries",2,h),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new aE(h&&h.concurrentRequestLimit),this.Da=new l5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CE.prototype,t.la=8,t.G=1,t.connect=function(h,x,T,R){it(0),this.W=h,this.H=x||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=ME(this,null,this.W),Ph(this)};function my(h){if(IE(h),h.G==3){var x=h.U++,T=Fs(h.I);if(lt(T,"SID",h.K),lt(T,"RID",x),lt(T,"TYPE","terminate"),Uc(h,T),x=new gi(h,h.j,x),x.L=2,x.v=Th(Fs(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=x.v,T=!0),T||(x.g=OE(x.j,null),x.g.ea(x.v)),x.F=Date.now(),_h(x)}jE(h)}function Ah(h){h.g&&(yy(h),h.g.cancel(),h.g=null)}function IE(h){Ah(h),h.u&&(a.clearTimeout(h.u),h.u=null),Rh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Ph(h){if(!lE(h.h)&&!h.s){h.s=!0;var x=h.Ga;X||K(),O||(X(),O=!0),F.add(x,h),h.B=0}}function f5(h,x){return cE(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rn(p(h.Ga,h,x),DE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new gi(this,this.j,h);let U=this.o;if(this.S&&(U?(U=S(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var x=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=T;break e}if(x===4096||T===this.i.length-1){x=T+1;break e}}x=1e3}else x=1e3;x=PE(this,L,x),T=Fs(this.I),lt(T,"RID",h),lt(T,"CVER",22),this.D&&lt(T,"X-HTTP-Session-Id",this.D),Uc(this,T),U&&(this.O?x="headers="+encodeURIComponent(String(xE(U)))+"&"+x:this.m&&py(T,this.m,U)),fy(this.h,L),this.Ua&&lt(T,"TYPE","init"),this.P?(lt(T,"$req",x),lt(T,"SID","null"),L.T=!0,cy(L,T,null)):cy(L,T,x),this.G=2}}else this.G==3&&(h?AE(this,h):this.i.length==0||lE(this.h)||AE(this))};function AE(h,x){var T;x?T=x.l:T=h.U++;const R=Fs(h.I);lt(R,"SID",h.K),lt(R,"RID",T),lt(R,"AID",h.T),Uc(h,R),h.m&&h.o&&py(R,h.m,h.o),T=new gi(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),x&&(h.i=x.D.concat(h.i)),x=PE(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),fy(h.h,T),cy(T,R,x)}function Uc(h,x){h.H&&M(h.H,function(T,R){lt(x,R,T)}),h.l&&hE({},function(T,R){lt(x,R,T)})}function PE(h,x,T){T=Math.min(h.i.length,T);var R=h.l?p(h.l.Na,h.l,h):null;e:{var L=h.i;let U=-1;for(;;){const ne=["count="+T];U==-1?0<T?(U=L[0].g,ne.push("ofs="+U)):U=0:ne.push("ofs="+U);let st=!0;for(let nn=0;nn<T;nn++){let Qe=L[nn].g;const hn=L[nn].map;if(Qe-=U,0>Qe)U=Math.max(0,L[nn].g-100),st=!1;else try{c5(hn,ne,"req"+Qe+"_")}catch{R&&R(hn)}}if(st){R=ne.join("&");break e}}}return h=h.i.splice(0,T),x.D=h,R}function RE(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;X||K(),O||(X(),O=!0),F.add(x,h),h.v=0}}function gy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rn(p(h.Fa,h),DE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,NE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rn(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ah(this),NE(this))};function yy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function NE(h){h.g=new gi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Fs(h.qa);lt(x,"RID","rpc"),lt(x,"SID",h.K),lt(x,"AID",h.T),lt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(x,"TO",h.ja),lt(x,"TYPE","xmlhttp"),Uc(h,x),h.m&&h.o&&py(x,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Th(Fs(x)),T.m=null,T.P=!0,sE(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Ah(this),gy(this),it(19))};function Rh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function kE(h,x){var T=null;if(h.g==x){Rh(h),yy(h),h.g=null;var R=2}else if(hy(h.h,x))T=x.D,uE(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){T=x.m?x.m.length:0,x=Date.now()-x.F;var L=h.B;R=Ee(),nt(R,new yt(R,T)),Ph(h)}else RE(h);else if(L=x.s,L==3||L==0&&0<x.X||!(R==1&&f5(h,x)||R==2&&gy(h)))switch(T&&0<T.length&&(x=h.h,x.i=x.i.concat(T)),L){case 1:Mo(h,5);break;case 4:Mo(h,10);break;case 3:Mo(h,6);break;default:Mo(h,2)}}}function DE(h,x){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*x}function Mo(h,x){if(h.j.info("Error code "+x),x==2){var T=p(h.fb,h),R=h.Xa;const L=!R;R=new jo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bh(R,"https"),Th(R),L?o5(R.toString(),T):a5(R.toString(),T)}else it(2);h.G=0,h.l&&h.l.sa(x),jE(h),IE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function jE(h){if(h.G=0,h.ka=[],h.l){const x=dE(h.h);(x.length!=0||h.i.length!=0)&&(b(h.ka,x),b(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function ME(h,x,T){var R=T instanceof jo?Fs(T):new jo(T);if(R.g!="")x&&(R.g=x+"."+R.g),Eh(R,R.s);else{var L=a.location;R=L.protocol,x=x?x+"."+L.hostname:L.hostname,L=+L.port;var U=new jo(null);R&&bh(U,R),x&&(U.g=x),L&&Eh(U,L),T&&(U.l=T),R=U}return T=h.D,x=h.ya,T&&x&&lt(R,T,x),lt(R,"VER",h.la),Uc(h,R),R}function OE(h,x,T){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new It(new Sh({eb:T})):new It(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LE(){}t=LE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nh(){}Nh.prototype.g=function(h,x){return new or(h,x)};function or(h,x){ft.call(this),this.g=new CE(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!_(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!_(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new za(this)}v(or,ft),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){my(this.g)},or.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=sr(h),h=T);x.i.push(new QF(x.Ya++,h)),x.G==3&&Ph(x)},or.prototype.N=function(){this.g.l=null,delete this.j,my(this.g),delete this.g,or.aa.N.call(this)};function VE(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const T in x){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(VE,Ht);function FE(){ir.call(this),this.status=1}v(FE,ir);function za(h){this.g=h}v(za,LE),za.prototype.ua=function(){nt(this.g,"a")},za.prototype.ta=function(h){nt(this.g,new VE(h))},za.prototype.sa=function(h){nt(this.g,new FE)},za.prototype.ra=function(){nt(this.g,"b")},Nh.prototype.createWebChannel=Nh.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,kj=function(){return new Nh},Nj=function(){return Ee()},Rj=$,Aw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wh.NO_ERROR=0,wh.TIMEOUT=8,wh.HTTP_ERROR=6,Bf=wh,tE.COMPLETE="complete",Pj=tE,We.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",ft.prototype.listen=ft.prototype.K,lu=We,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,Aj=It}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const vI="@firebase/firestore",wI="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new fg("@firebase/firestore");function Xa(){return va.logLevel}function le(t,...e){if(va.logLevel<=Ue.DEBUG){const n=e.map(T1);va.debug(`Firestore (${Sc}): ${t}`,...n)}}function oi(t,...e){if(va.logLevel<=Ue.ERROR){const n=e.map(T1);va.error(`Firestore (${Sc}): ${t}`,...n)}}function Zl(t,...e){if(va.logLevel<=Ue.WARN){const n=e.map(T1);va.warn(`Firestore (${Sc}): ${t}`,...n)}}function T1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Dj(t,r,n)}function Dj(t,e,n){let r=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw oi(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Dj(e,s,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class dY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hY{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new jj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class fY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gY(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Pw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Le(r,s);{const i=Mj(),o=yY(i.encode(_I(t,n)),i.encode(_I(e,n)));return o!==0?o:Le(r,s)}}n+=r>65535?2:1}return Le(t.length,e.length)}function _I(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yY(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function ec(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=-62135596800,EI=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EI);return new Et(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bI)throw new ae(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EI}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Et(0,0))}static max(){return new Re(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ps.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Le(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),s=ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ps.extractNumericId(e).compare(ps.extractNumericId(n)):Pw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class dt extends ps{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const vY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ps{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return vY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TI}static keyField(){return new an([TI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function wY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new Et(n+1,0):new Et(n,r));return new go(s,ye.empty(),e)}function xY(t){return new go(t.readTime,t.key,_d)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(Re.min(),ye.empty(),_d)}static max(){return new go(Re.max(),ye.empty(),_d)}}function _Y(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==bY)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function TY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}pg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=-1;function mg(t){return t==null}function Yp(t){return t===0&&1/t==-1/0}function SY(t){return typeof t=="number"&&Number.isInteger(t)&&!Yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="";function CY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SI(e)),e=IY(t.get(n),e);return SI(e)}function IY(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Lj:n+="";break;default:n+=i}}return n}function SI(t){return t+Lj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=i??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new II(this.data.getIterator())}getIteratorFrom(e){return new II(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class II{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new pr([])}unionWith(e){let n=new Kt(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fj("Invalid base64 string: "+i):i}}(e);return new dn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const AY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=AY.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="server_timestamp",$j="__type__",Bj="__previous_value__",zj="__local_write_time__";function C1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$j])===null||n===void 0?void 0:n.stringValue)===Uj}function gg(t){const e=t.mapValue.fields[Bj];return C1(e)?gg(e):e}function bd(t){const e=yo(t.mapValue.fields[zj].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Qp="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||Qp}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===Qp}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="__type__",Hj="__max__",cf={mapValue:{fields:{__type__:{stringValue:Hj}}}},qj="__vector__",Xp="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C1(t)?4:NY(t)?9007199254740991:RY(t)?10:11:Se(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yo(s.timestampValue),a=yo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vo(s.bytesValue).isEqual(vo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Lt(s.geoPointValue.latitude)===Lt(i.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Lt(s.integerValue)===Lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Lt(s.doubleValue),a=Lt(i.doubleValue);return o===a?Yp(o)===Yp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(CI(o)!==CI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Os(o[l],a[l])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function Td(t,e){return(t.values||[]).find(n=>Os(n,e))!==void 0}function tc(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Lt(i.integerValue||i.doubleValue),l=Lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AI(t.timestampValue,e.timestampValue);case 4:return AI(bd(t),bd(e));case 5:return Pw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=vo(i),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Le(a[c],l[c]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Le(Lt(i.latitude),Lt(o.latitude));return a!==0?a:Le(Lt(i.longitude),Lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Xp])===null||a===void 0?void 0:a.arrayValue,v=(l=p[Xp])===null||l===void 0?void 0:l.arrayValue,y=Le(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:PI(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===cf.mapValue&&o===cf.mapValue)return 0;if(i===cf.mapValue)return 1;if(o===cf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Pw(l[f],d[f]);if(p!==0)return p;const g=tc(a[l[f]],c[d[f]]);if(g!==0)return g}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function AI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=yo(t),r=yo(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function PI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=tc(n[s],r[s]);if(i)return i}return Le(n.length,r.length)}function nc(t){return Rw(t)}function Rw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rw(n.fields[o])}`;return s+"}"}(t.mapValue):Se(61005,{value:t})}function zf(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gg(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return vo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Io(r.fields,(i,o)=>{s+=i.length+zf(o)}),s}(t.mapValue);default:throw Se(13486,{value:t})}}function RI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nw(t){return!!t&&"integerValue"in t}function I1(t){return!!t&&"arrayValue"in t}function NI(t){return!!t&&"nullValue"in t}function kI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function RY(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Wj])===null||n===void 0?void 0:n.stringValue)===qj}function Lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=an.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Lu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Yn(Lu(this.value))}}function Gj(t){const e=[];return Io(t.fields,(n,r)=>{const s=new an([n]);if(Wf(r)){const i=Gj(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new En(e,0,Re.min(),Re.min(),Re.min(),Yn.empty(),0)}static newFoundDocument(e,n,r,s){return new En(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new En(e,2,n,Re.min(),Re.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Re.min(),Re.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.position=e,this.inclusive=n}}function DI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=tc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function jI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function kY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{}class zt extends Kj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jY(e,n,r):n==="array-contains"?new LY(e,r):n==="in"?new VY(e,r):n==="not-in"?new FY(e,r):n==="array-contains-any"?new UY(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MY(e,r):new OY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tc(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends Kj{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new os(e,n)}matches(e){return Yj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Yj(t){return t.op==="and"}function Qj(t){return DY(t)&&Yj(t)}function DY(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function kw(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(Qj(t))return t.filters.map(e=>kw(e)).join(",");{const e=t.filters.map(n=>kw(n)).join(",");return`${t.op}(${e})`}}function Xj(t,e){return t instanceof zt?function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(t,e):t instanceof os?function(r,s){return s instanceof os&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Xj(o,s.filters[a]),!0):!1}(t,e):void Se(19439)}function Jj(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof os?function(n){return n.op.toString()+" {"+n.getFilters().map(Jj).join(" ,")+"}"}(t):"Filter"}class jY extends zt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class MY extends zt{constructor(e,n){super(e,"in",n),this.keys=Zj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OY extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Zj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class LY extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I1(n)&&Td(n.arrayValue,this.value)}}class VY extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class FY extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Td(this.value.arrayValue,n)}}class UY extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function MI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $Y(t,e,n,r,s,i,o)}function A1(t){const e=ke(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nc(r)).join(",")),e.Ie=n}return e.Ie}function P1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jI(t.startAt,e.startAt)&&jI(t.endAt,e.endAt)}function Dw(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BY(t,e,n,r,s,i,o,a){return new Ac(t,e,n,r,s,i,o,a)}function yg(t){return new Ac(t)}function OI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eM(t){return t.collectionGroup!==null}function Vu(t){const e=ke(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Kt(an.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Sd(i,r))}),n.has(an.keyField().canonicalString())||e.Ee.push(new Sd(an.keyField(),r))}return e.Ee}function Ps(t){const e=ke(t);return e.de||(e.de=zY(e,Vu(t))),e.de}function zY(t,e){if(t.limitType==="F")return MI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sd(s.field,i)});const n=t.endAt?new Jp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jp(t.startAt.position,t.startAt.inclusive):null;return MI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jw(t,e){const n=t.filters.concat([e]);return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zp(t,e,n){return new Ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vg(t,e){return P1(Ps(t),Ps(e))&&t.limitType===e.limitType}function tM(t){return`${A1(Ps(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Jj(s)).join(", ")}]`),mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>nc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>nc(s)).join(",")),`Target(${r})`}(Ps(t))}; limitType=${t.limitType})`}function wg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=DI(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vu(r),s)||r.endAt&&!function(o,a,l){const c=DI(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vu(r),s))}(t,e)}function WY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nM(t){return(e,n)=>{let r=!1;for(const s of Vu(t)){const i=HY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function HY(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?tc(l,c):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Vj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY=new St(ye.comparator);function ai(){return qY}const rM=new St(ye.comparator);function cu(...t){let e=rM;for(const n of t)e=e.insert(n.key,n);return e}function sM(t){let e=rM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return Fu()}function iM(){return Fu()}function Fu(){return new Ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const GY=new St(ye.comparator),KY=new Kt(ye.comparator);function $e(...t){let e=KY;for(const n of t)e=e.add(n);return e}const YY=new Kt(Le);function QY(){return YY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(e)?"-0":e}}function oM(t){return{integerValue:""+t}}function aM(t,e){return SY(e)?oM(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this._=void 0}}function XY(t,e,n){return t instanceof Cd?function(s,i){const o={fields:{[$j]:{stringValue:Uj},[zj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&C1(i)&&(i=gg(i)),i&&(o.fields[Bj]=i),{mapValue:o}}(n,e):t instanceof rc?cM(t,e):t instanceof sc?uM(t,e):function(s,i){const o=lM(s,i),a=LI(o)+LI(s.Re);return Nw(o)&&Nw(s.Re)?oM(a):R1(s.serializer,a)}(t,e)}function JY(t,e,n){return t instanceof rc?cM(t,e):t instanceof sc?uM(t,e):n}function lM(t,e){return t instanceof Id?function(r){return Nw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cd extends xg{}class rc extends xg{constructor(e){super(),this.elements=e}}function cM(t,e){const n=dM(e);for(const r of t.elements)n.some(s=>Os(s,r))||n.push(r);return{arrayValue:{values:n}}}class sc extends xg{constructor(e){super(),this.elements=e}}function uM(t,e){let n=dM(e);for(const r of t.elements)n=n.filter(s=>!Os(s,r));return{arrayValue:{values:n}}}class Id extends xg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function LI(t){return Lt(t.integerValue||t.doubleValue)}function dM(t){return I1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.field=e,this.transform=n}}function ZY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof rc&&s instanceof rc||r instanceof sc&&s instanceof sc?ec(r.elements,s.elements,Os):r instanceof Id&&s instanceof Id?Os(r.Re,s.Re):r instanceof Cd&&s instanceof Cd}(t.transform,e.transform)}class eQ{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bg{}function hM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N1(t.key,kr.none()):new eh(t.key,t.data,kr.none());{const n=t.data,r=Yn.empty();let s=new Kt(an.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ao(t.key,r,new pr(s.toArray()),kr.none())}}function tQ(t,e,n){t instanceof eh?function(s,i,o){const a=s.value.clone(),l=FI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(s,i,o){if(!Hf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=FI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(fM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Uu(t,e,n,r){return t instanceof eh?function(i,o,a,l){if(!Hf(i.precondition,o))return a;const c=i.value.clone(),d=UI(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(i,o,a,l){if(!Hf(i.precondition,o))return a;const c=UI(i.fieldTransforms,l,o),d=o.data;return d.setAll(fM(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Hf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nQ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=lM(r.transform,s||null);i!=null&&(n===null&&(n=Yn.empty()),n.set(r.field,i))}return n||null}function VI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ec(r,s,(i,o)=>ZY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class eh extends bg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ao extends bg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FI(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,JY(o,a,n[s]))}return r}function UI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,XY(i,o,e))}return r}class N1 extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rQ extends bg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&tQ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=hM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>VI(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>VI(n,r))}}class k1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return GY}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new k1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iQ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,He;function aQ(t){switch(t){case z.OK:return Se(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function pM(t){if(t===void 0)return oi("GRPC error has no .code"),z.UNKNOWN;switch(t){case $t.OK:return z.OK;case $t.CANCELLED:return z.CANCELLED;case $t.UNKNOWN:return z.UNKNOWN;case $t.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case $t.INTERNAL:return z.INTERNAL;case $t.UNAVAILABLE:return z.UNAVAILABLE;case $t.UNAUTHENTICATED:return z.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case $t.NOT_FOUND:return z.NOT_FOUND;case $t.ALREADY_EXISTS:return z.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return z.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case $t.ABORTED:return z.ABORTED;case $t.OUT_OF_RANGE:return z.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return z.UNIMPLEMENTED;case $t.DATA_LOSS:return z.DATA_LOSS;default:return Se(39323,{code:t})}}(He=$t||($t={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lQ=new io([4294967295,4294967295],0);function $I(t){const e=Mj().encode(t),n=new Ij;return n.update(e),new Uint8Array(n.digest())}function BI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new io([n,r],0),new io([s,i],0)]}class D1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=io.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(io.fromNumber(r)));return s.compare(lQ)===1&&(s=new io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$I(e),[r,s]=BI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new D1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=$I(e),[r,s]=BI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eg(Re.min(),s,new St(Le),ai(),$e())}}class th{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class mM{constructor(e,n){this.targetId=e,this.Ce=n}}class gM{constructor(e,n,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zI{constructor(){this.Fe=0,this.Me=WI(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),n=$e(),r=$e();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}}),new th(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=WI()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cQ{constructor(e){this.ze=e,this.je=new Map,this.He=ai(),this.Je=uf(),this.Ye=uf(),this.Ze=new St(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Dw(i))if(r===0){const o=new ye(i.path);this.tt(n,o,En.newNoDocument(o,Re.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=vo(r).toUint8Array()}catch(l){if(l instanceof Fj)return Zl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new D1(o,s,i)}catch(l){return Zl(l instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Dw(a.target)){const l=new ye(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,En.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=$e();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Eg(e,n,this.Ze,this.He,r);return this.He=ai(),this.Je=uf(),this.Ye=uf(),this.Ze=new St(Le),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new zI,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Kt(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Kt(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new zI),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function uf(){return new St(ye.comparator)}function WI(){return new St(ye.comparator)}const uQ={asc:"ASCENDING",desc:"DESCENDING"},dQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hQ={and:"AND",or:"OR"};class fQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mw(t,e){return t.useProto3Json||mg(e)?e:{value:e}}function em(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pQ(t,e){return em(t,e.toTimestamp())}function Rs(t){return Ze(!!t,49232),Re.fromTimestamp(function(n){const r=yo(n);return new Et(r.seconds,r.nanos)}(t))}function j1(t,e){return Ow(t,e).canonicalString()}function Ow(t,e){const n=function(s){return new dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vM(t){const e=dt.fromString(t);return Ze(EM(e),10190,{key:e.toString()}),e}function Lw(t,e){return j1(t.databaseId,e.path)}function bv(t,e){const n=vM(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(xM(n))}function wM(t,e){return j1(t.databaseId,e)}function mQ(t){const e=vM(t);return e.length===4?dt.emptyPath():xM(e)}function Vw(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xM(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HI(t,e,n){return{name:Lw(t,e),fields:n.value.mapValue.fields}}function gQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ze(d===void 0||typeof d=="string",58123),dn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:pM(c.code);return new ae(d,c.message||"")}(o);n=new gM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bv(t,r.document.name),i=Rs(r.document.updateTime),o=r.document.createTime?Rs(r.document.createTime):Re.min(),a=new Yn({mapValue:{fields:r.document.fields}}),l=En.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new qf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bv(t,r.document),i=r.readTime?Rs(r.readTime):Re.min(),o=En.newNoDocument(s,i),a=r.removedTargetIds||[];n=new qf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bv(t,r.document),i=r.removedTargetIds||[];n=new qf([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new oQ(s,i),a=r.targetId;n=new mM(a,o)}}return n}function yQ(t,e){let n;if(e instanceof eh)n={update:HI(t,e.key,e.value)};else if(e instanceof N1)n={delete:Lw(t,e.key)};else if(e instanceof Ao)n={update:HI(t,e.key,e.data),updateMask:CQ(e.fieldMask)};else{if(!(e instanceof rQ))return Se(16599,{ft:e.type});n={verify:Lw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:pQ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)}(t,e.precondition)),n}function vQ(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Rs(s.updateTime):Rs(i);return o.isEqual(Re.min())&&(o=Rs(i)),new eQ(o,s.transformResults||[])}(n,e))):[]}function wQ(t,e){return{documents:[wM(t,e.path)]}}function xQ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wM(t,s);const i=function(c){if(c.length!==0)return bM(os.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Za(p.field),direction:EQ(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function _Q(t){let e=mQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=_M(f);return p instanceof os&&Qj(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Sd(el(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,mg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Jp(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Jp(g,p)}(n.endAt)),BY(e,s,o,i,a,"F",l,c)}function bQ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _M(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=el(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=el(n.unaryFilter.field);return zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=el(n.unaryFilter.field);return zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return zt.create(el(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return os.create(n.compositeFilter.filters.map(r=>_M(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function EQ(t){return uQ[t]}function TQ(t){return dQ[t]}function SQ(t){return hQ[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return an.fromServerFormat(t.fieldPath)}function bM(t){return t instanceof zt?function(n){if(n.op==="=="){if(kI(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(NI(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kI(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(NI(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:TQ(n.op),value:n.value}}}(t):t instanceof os?function(n){const r=n.getFilters().map(s=>bM(s));return r.length===1?r[0]:{compositeFilter:{op:SQ(n.op),filters:r}}}(t):Se(54877,{filter:t})}function CQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,s,i=Re.min(),o=Re.min(),a=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.wt=e}}function AQ(t){const e=_Q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.Cn=new RQ}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(go.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class RQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Kt(dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Kt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TM=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(TM,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ic(0)}static lr(){return new ic(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="LruGarbageCollector",NQ=1048576;function KI([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class kQ{constructor(e){this.Er=e,this.buffer=new Kt(KI),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(GI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ic(n)?le(GI,"Ignoring IndexedDB error during garbage collection: ",n):await Cc(n)}await this.mr(3e5)})}}class jQ{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(pg.le);const r=new kQ(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(qI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qI):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Xa()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function MQ(t,e){return new jQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(){this.changes=new Ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Uu(r.mutation,s,pr.empty(),Et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=Xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ai();const o=Fu(),a=function(){return Fu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Ao)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Uu(d.mutation,c,d.mutation.getFieldMask(),Et.now())):o.set(c.key,pr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new LQ(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fu();let s=new St((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||pr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||$e()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=iM();d.forEach(p=>{if(!i.has(p)){const g=hM(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(Xo());let a=_d,l=i;return o.next(c=>W.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:a,changes:sM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=cu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cu();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const c=function(f,p){return new Ac(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,En.newInvalidDocument(d)))});let a=cu();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Uu(d.mutation,c,pr.empty(),Et.now()),wg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rs(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:AQ(s.bundledQuery),readTime:Rs(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(){this.overlays=new St(ye.comparator),this.Qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Xo(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Xo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Xo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return W.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iQ(n,r));let i=this.Qr.get(n);i===void 0&&(i=$e(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.$r=new Kt(Qt.Ur),this.Kr=new Kt(Qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Qt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ye(new dt([])),r=new Qt(n,e),s=new Qt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new dt([])),r=new Qt(n,e),s=new Qt(n,e+1);let i=$e();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Qt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Le(e.Zr,n.Zr)}static Wr(e,n){return Le(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(Qt.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sQ(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new Qt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?S1:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(Le);return n.forEach(s=>{const i=new Qt(s,0),o=new Qt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),W.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Qt(new ye(i),0);let a=new Kt(Le);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),W.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return W.forEach(n.mutations,s=>{const i=new Qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Qt(n,0),s=this.Xr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e){this.ii=e,this.docs=function(){return new St(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():En.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ai();const o=n.path,a=new ye(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_Y(xY(d),r)<=0||(s.has(d.key)||wg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}si(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WQ(this)}getSize(e){return W.resolve(this.size)}}class WQ extends OQ{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e){this.persistence=e,this.oi=new Ma(n=>A1(n),P1),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new M1,this.targetCount=0,this.ui=ic.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),W.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ic(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Tr(n),W.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.ci={},this.overlays={},this.li=new pg(0),this.hi=!1,this.hi=!0,this.Pi=new $Q,this.referenceDelegate=e(this),this.Ti=new HQ(this),this.indexManager=new PQ,this.remoteDocumentCache=function(s){return new zQ(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new IQ(n),this.Ei=new FQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new BQ(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new qQ(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return W.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class qQ extends EY{constructor(e){super(),this.currentSequenceNumber=e}}class O1{constructor(e){this.persistence=e,this.Vi=new M1,this.mi=null}static fi(e){return new O1(e)}get gi(){if(this.mi)return this.mi;throw Se(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,r=>{const s=ye.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class tm{constructor(e,n){this.persistence=e,this.yi=new Ma(r=>CY(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=MQ(this,n)}static fi(e,n){return new tm(e,n)}di(){}Ai(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return W.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}Dr(e,n,r){return W.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new L1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return WG()?8:TY(In())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new GQ;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Xa()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(Xa()<=Ue.DEBUG&&le("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Xa()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):W.resolve())}ws(e,n){if(OI(n))return W.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zp(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Zp(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return OI(n)||s.isEqual(Re.min())?W.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?W.resolve(null):(Xa()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ja(n)),this.Fs(e,o,n,wY(s,_d)).next(a=>a))})}vs(e,n){let r=new Kt(nM(e));return n.forEach((s,i)=>{wg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Xa()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ys.getDocumentsMatchingQuery(e,n,go.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="LocalStore",YQ=3e8;class QQ{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new St(Le),this.Os=new Ma(i=>A1(i),P1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VQ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function XQ(t,e,n,r){return new QQ(t,e,n,r)}async function CM(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=$e();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function JQ(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=W.resolve();return p.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(y=>{const b=c.docVersions.get(v);Ze(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function IM(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function ZQ(t,e){const n=ke(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(dn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,b,w){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=YQ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Ti.updateTargetData(i,g))});let l=ai(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(eX(i,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(Re.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function eX(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ai();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le(V1,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function tX(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=S1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nX(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Gi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Fw(t,e,n){const r=ke(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ic(o))throw o;le(V1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function YI(t,e,n){const r=ke(t);let s=Re.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ke(l),p=f.Os.get(d);return p!==void 0?W.resolve(f.xs.get(p)):f.Ti.getTargetData(c,d)}(r,o,Ps(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?i:$e())).next(a=>(rX(r,WY(e),a),{documents:a,$s:i})))}function rX(t,e,n){let r=t.Ns.get(e)||Re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class QI{constructor(){this.activeTargetIds=QY()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sX{constructor(){this.xo=new QI,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new QI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="ConnectivityMonitor";class JI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(XI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(XI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function Uw(){return df===null?df=function(){return 268435456+Math.round(2147483648*Math.random())}():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="RestConnection",oX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Qp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Uw(),a=this.jo(e,n.toUriEncodedString());le(Ev,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),d=Jd(c);return this.Jo(e,a,l,r,d).then(f=>(le(Ev,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Zl(Ev,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=oX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class cX extends aX{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Uw();return new Promise((a,l)=>{const c=new Aj;c.setWithCredentials(!0),c.listenOnce(Pj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bf.NO_ERROR:const f=c.getResponseJson();le(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Bf.TIMEOUT:le(yn,`RPC '${e}' ${o} timed out`),l(new ae(z.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const p=c.getStatus();if(le(yn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(v.status);l(new ae(y,v.message))}else l(new ae(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ae(z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{le(yn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);le(yn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Uw(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kj(),a=Nj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");le(yn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const v=new lX({Zo:b=>{g?le(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(le(yn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),le(yn,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},Xo:()=>f.close()}),y=(b,w,_)=>{b.listen(w,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return y(f,lu.EventType.OPEN,()=>{g||(le(yn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(f,lu.EventType.CLOSE,()=>{g||(g=!0,le(yn,`RPC '${e}' stream ${s} transport closed`),v.u_())}),y(f,lu.EventType.ERROR,b=>{g||(g=!0,Zl(yn,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),v.u_(new ae(z.UNAVAILABLE,"The operation could not be completed")))}),y(f,lu.EventType.MESSAGE,b=>{var w;if(!g){const _=b.data[0];Ze(!!_,16349);const E=_,A=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(A){le(yn,`RPC '${e}' stream ${s} received error:`,A);const N=A.status;let M=function(I){const P=$t[I];if(P!==void 0)return pM(P)}(N),C=A.message;M===void 0&&(M=z.INTERNAL,C="Unknown error status: "+N+" with message "+A.message),g=!0,v.u_(new ae(M,C)),f.close()}else le(yn,`RPC '${e}' stream ${s} received:`,_),v.c_(_)}}),y(a,Rj.STAT_EVENT,b=>{b.stat===Aw.PROXY?le(yn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Aw.NOPROXY&&le(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function Tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){return new fQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="PersistentStream";class PM{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new AM(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ae(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return le(ZI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(le(ZI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uX extends PM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=gQ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?Rs(o.readTime):Re.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Vw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Dw(l)?{documents:wQ(i,l)}:{query:xQ(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yM(i,o.resumeToken);const c=Mw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=em(i,o.snapshotVersion.toTimestamp());const c=Mw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=bQ(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Vw(this.serializer),n.removeTarget=e,this.L_(n)}}class dX extends PM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=vQ(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Vw(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yQ(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{}class fX extends hX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ae(z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Ow(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(z.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Ow(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(z.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class pX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(oi(n),this.oa=!1):le("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class mX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Oa(this)&&(le(wa,"Restarting streams for network reachability change."),await async function(l){const c=ke(l);c.Ta.add(4),await nh(c),c.da.set("Unknown"),c.Ta.delete(4),await Sg(c)}(this))})}),this.da=new pX(r,s)}}async function Sg(t){if(Oa(t))for(const e of t.Ia)await e(!0)}async function nh(t){for(const e of t.Ia)await e(!1)}function RM(t,e){const n=ke(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),B1(n)?$1(n):Pc(n).M_()&&U1(n,e))}function F1(t,e){const n=ke(t),r=Pc(n);n.Pa.delete(e),r.M_()&&NM(n,e),n.Pa.size===0&&(r.M_()?r.N_():Oa(n)&&n.da.set("Unknown"))}function U1(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).H_(e)}function NM(t,e){t.Aa.Ke(e),Pc(t).J_(e)}function $1(t){t.Aa=new cQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.da._a()}function B1(t){return Oa(t)&&!Pc(t).F_()&&t.Pa.size>0}function Oa(t){return ke(t).Ta.size===0}function kM(t){t.Aa=void 0}async function gX(t){t.da.set("Online")}async function yX(t){t.Pa.forEach((e,n)=>{U1(t,e)})}async function vX(t,e){kM(t),B1(t)?(t.da.ca(e),$1(t)):t.da.set("Unknown")}async function wX(t,e,n){if(t.da.set("Online"),e instanceof gM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){le(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nm(t,r)}else if(e instanceof qf?t.Aa.Xe(e):e instanceof mM?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Re.min()))try{const r=await IM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),NM(i,l);const f=new Gi(d.target,l,c,d.sequenceNumber);U1(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le(wa,"Failed to raise snapshot:",r),await nm(t,r)}}async function nm(t,e,n){if(!Ic(e))throw e;t.Ta.add(1),await nh(t),t.da.set("Offline"),n||(n=()=>IM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le(wa,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Sg(t)})}function DM(t,e){return e().catch(n=>nm(t,n,e))}async function Cg(t){const e=ke(t),n=xo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:S1;for(;xX(e);)try{const s=await tX(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,_X(e,s)}catch(s){await nm(e,s)}jM(e)&&MM(e)}function xX(t){return Oa(t)&&t.ha.length<10}function _X(t,e){t.ha.push(e);const n=xo(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function jM(t){return Oa(t)&&!xo(t).F_()&&t.ha.length>0}function MM(t){xo(t).start()}async function bX(t){xo(t).ta()}async function EX(t){const e=xo(t);for(const n of t.ha)e.Z_(n.mutations)}async function TX(t,e,n){const r=t.ha.shift(),s=k1.from(r,e,n);await DM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cg(t)}async function SX(t,e){e&&xo(t).Y_&&await async function(r,s){if(function(o){return aQ(o)&&o!==z.ABORTED}(s.code)){const i=r.ha.shift();xo(r).O_(),await DM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cg(r)}}(t,e),jM(t)&&MM(t)}async function eA(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),le(wa,"RemoteStore received new credentials");const r=Oa(n);n.Ta.add(3),await nh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Sg(n)}async function CX(t,e){const n=ke(t);e?(n.Ta.delete(2),await Sg(n)):e||(n.Ta.add(2),await nh(n),n.da.set("Unknown"))}function Pc(t){return t.Ra||(t.Ra=function(n,r,s){const i=ke(n);return i.ra(),new uX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:gX.bind(null,t),n_:yX.bind(null,t),i_:vX.bind(null,t),j_:wX.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),B1(t)?$1(t):t.da.set("Unknown")):(await t.Ra.stop(),kM(t))})),t.Ra}function xo(t){return t.Va||(t.Va=function(n,r,s){const i=ke(n);return i.ra(),new dX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:bX.bind(null,t),i_:SX.bind(null,t),X_:EX.bind(null,t),ea:TX.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Cg(t)):(await t.Va.stop(),t.ha.length>0&&(le(wa,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new z1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W1(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Ic(t))return new ae(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=cu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.ma=new St(ye.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oc(e,n,Cl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class AX{constructor(){this.queries=nA(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ke(n),i=s.queries;s.queries=nA(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ae(z.ABORTED,"Firestore shutting down"))}}function nA(){return new Ma(t=>tM(t),vg)}async function H1(t,e){const n=ke(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new IX,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=W1(o,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&G1(n)}async function q1(t,e){const n=ke(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PX(t,e){const n=ke(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&G1(n)}function RX(t,e,n){const r=ke(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function G1(t){t.ba.forEach(e=>{e.next()})}var $w,rA;(rA=$w||($w={})).Ca="default",rA.Cache="cache";class K1{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==$w.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.key=e}}class LM{constructor(e){this.key=e}}class NX{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=$e(),this.mutatedKeys=$e(),this.Ha=nM(e),this.Ja=new Cl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new tA,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=wg(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),b=!0):this.eu(p,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),b=!0):p&&!g&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(g,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:b})}};return y(g)-y(v)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new oc(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new tA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=$e(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new LM(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new OM(r))}),n}su(e){this.Ga=e.$s,this.ja=$e();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return oc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Y1="SyncEngine";class kX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DX{constructor(e){this.key=e,this._u=!1}}class jX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ma(a=>tM(a),vg),this.cu=new Map,this.lu=new Set,this.hu=new St(ye.comparator),this.Pu=new Map,this.Tu=new M1,this.Iu={},this.Eu=new Map,this.du=ic.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function MX(t,e,n=!0){const r=zM(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await VM(r,e,n,!0),s}async function OX(t,e){const n=zM(t);await VM(n,e,!0,!1)}async function VM(t,e,n,r){const s=await nX(t.localStore,Ps(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&RM(t.remoteStore,s),a}async function LX(t,e,n,r,s){t.Ru=(f,p,g)=>async function(y,b,w,_){let E=b.view.Za(w);E.Cs&&(E=await YI(y.localStore,b.query,!1).then(({documents:C})=>b.view.Za(C,E)));const A=_&&_.targetChanges.get(b.targetId),N=_&&_.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(E,y.isPrimaryClient,A,N);return iA(y,b.targetId,M.ru),M.snapshot}(t,f,p,g);const i=await YI(t.localStore,e,!0),o=new NX(e,i.$s),a=o.Za(i.documents),l=th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);iA(t,n,c.ru);const d=new kX(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function VX(t,e,n){const r=ke(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!vg(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&F1(r.remoteStore,s.targetId),Bw(r,s.targetId)}).catch(Cc)):(Bw(r,s.targetId),await Fw(r.localStore,s.targetId,!0))}async function FX(t,e){const n=ke(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F1(n.remoteStore,r.targetId))}async function UX(t,e,n){const r=GX(t);try{const s=await function(o,a){const l=ke(o),c=Et.now(),d=a.reduce((g,v)=>g.add(v.key),$e());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=ai(),y=$e();return l.Bs.getEntries(g,d).next(b=>{v=b,v.forEach((w,_)=>{_.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(b=>{f=b;const w=[];for(const _ of a){const E=nQ(_,f.get(_.key).overlayedDocument);E!=null&&w.push(new Ao(_.key,E,Gj(E.value.mapValue),kr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(b=>{p=b;const w=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:p.batchId,changes:sM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new St(Le)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await rh(r,s.changes),await Cg(r.remoteStore)}catch(s){const i=W1(s,"Failed to persist write");n.reject(i)}}async function FM(t,e){const n=ke(t);try{const r=await ZQ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Ze(o._u,14607):s.removedDocuments.size>0&&(Ze(o._u,42227),o._u=!1))}),await rh(n,r,e)}catch(r){await Cc(r)}}function sA(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ke(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&G1(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $X(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new St(ye.comparator);o=o.insert(i,En.newNoDocument(i,Re.min()));const a=$e().add(i),l=new Eg(Re.min(),new Map,new St(Le),o,a);await FM(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),Q1(r)}else await Fw(r.localStore,e,!1).then(()=>Bw(r,e,n)).catch(Cc)}async function BX(t,e){const n=ke(t),r=e.batch.batchId;try{const s=await JQ(n.localStore,e);$M(n,r,null),UM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rh(n,s)}catch(s){await Cc(s)}}async function zX(t,e,n){const r=ke(t);try{const s=await function(o,a){const l=ke(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ze(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);$M(r,e,n),UM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await rh(r,s)}catch(s){await Cc(s)}}function UM(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function $M(t,e,n){const r=ke(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Bw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||BM(t,r)})}function BM(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(F1(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Q1(t))}function iA(t,e,n){for(const r of n)r instanceof OM?(t.Tu.addReference(r.key,e),WX(t,r)):r instanceof LM?(le(Y1,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||BM(t,r.key)):Se(19791,{mu:r})}function WX(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(le(Y1,"New document in limbo: "+n),t.lu.add(r),Q1(t))}function Q1(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ye(dt.fromString(e)),r=t.du.next();t.Pu.set(r,new DX(n)),t.hu=t.hu.insert(n,r),RM(t.remoteStore,new Gi(Ps(yg(n.path)),r,"TargetPurposeLimboResolution",pg.le))}}async function rh(t,e,n){const r=ke(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=L1.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const d=ke(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(c,p=>W.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>W.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Ic(f))throw f;le(V1,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(p,y)}}}(r.localStore,i))}async function HX(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){le(Y1,"User change. New user:",e.toKey());const r=await CM(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ae(z.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rh(n,r.ks)}}function qX(t,e){const n=ke(t),r=n.Pu.get(e);if(r&&r._u)return $e().add(r.key);{let s=$e();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function zM(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$X.bind(null,e),e.au.j_=PX.bind(null,e.eventManager),e.au.Vu=RX.bind(null,e.eventManager),e}function GX(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zX.bind(null,e),e}class rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return XQ(this.persistence,new KQ,e.initialUser,this.serializer)}yu(e){return new SM(O1.fi,this.serializer)}pu(e){return new sX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rm.provider={build:()=>new rm};class KX extends rm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ze(this.persistence.referenceDelegate instanceof tm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DQ(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new SM(r=>tm.fi(r,n),this.serializer)}}class zw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HX.bind(null,this.syncEngine),await CX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AX}()}createDatastore(e){const n=Tg(e.databaseInfo.databaseId),r=function(i){return new cX(i)}(e.databaseInfo);return function(i,o,a,l){return new fX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new mX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sA(this.syncEngine,n,0),function(){return JI.C()?new JI:new iX}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new jX(s,i,o,a,l,c);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ke(s);le(wa,"RemoteStore shutting down."),i.Ta.add(5),await nh(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zw.provider={build:()=>new zw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="FirestoreClient";class YX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=Oj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{le(_o,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le(_o,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress(),le(_o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await CM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QX(t);le(_o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>eA(e.remoteStore,s)),t._onlineComponents=e}async function QX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(_o,"Using user provided OfflineComponentProvider");try{await Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Zl("Error using user provided cache. Falling back to memory cache: "+n),await Sv(t,new rm)}}else le(_o,"Using default OfflineComponentProvider"),await Sv(t,new KX(void 0));return t._offlineComponents}async function WM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(_o,"Using user provided OnlineComponentProvider"),await oA(t,t._uninitializedComponentsProvider._online)):(le(_o,"Using default OnlineComponentProvider"),await oA(t,new zw))),t._onlineComponents}function XX(t){return WM(t).then(e=>e.syncEngine)}async function sm(t){const e=await WM(t),n=e.eventManager;return n.onListen=MX.bind(null,e.syncEngine),n.onUnlisten=VX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FX.bind(null,e.syncEngine),n}function JX(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new X1({next:p=>{d.Cu(),o.enqueueAndForget(()=>q1(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ae(z.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ae(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new K1(yg(a.path),d,{includeMetadataChanges:!0,La:!0});return H1(i,f)}(await sm(t),t.asyncQueue,e,n,r)),r.promise}function ZX(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new X1({next:p=>{d.Cu(),o.enqueueAndForget(()=>q1(i,f)),p.fromCache&&l.source==="server"?c.reject(new ae(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new K1(a,d,{includeMetadataChanges:!0,La:!0});return H1(i,f)}(await sm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,n){if(!n)throw new ae(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eJ(t,e,n,r){if(e===!0&&r===!0)throw new ae(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lA(t){if(!ye.isDocumentKey(t))throw new ae(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cA(t){if(ye.isDocumentKey(t))throw new ae(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(t);throw new ae(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tJ(t,e){if(e<=0)throw new ae(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firestore.googleapis.com",uA=!0;class dA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GM,this.ssl=uA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:uA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NQ)throw new ae(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ag{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uY;switch(r.type){case"firstParty":return new pY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aA.get(n);r&&(le("ComponentProvider","Removing Datastore"),aA.delete(n),r.terminate())}(this),Promise.resolve()}}function nJ(t,e,n,r={}){var s;t=nr(t,Ag);const i=Jd(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(gj(`https://${l}`),yj("Firestore",!0)),o.host!==GM&&o.host!==l&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!js(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=_n.MOCK_USER;else{d=OG(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ae(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _n(p)}t._authCredentials=new dY(new jj(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class oo extends hi{constructor(e,n,r){super(e,n,yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new ye(e))}withConverter(e){return new oo(this.firestore,e,this._path)}}function Jt(t,e,...n){if(t=Dt(t),qM("collection","path",e),t instanceof Ag){const r=dt.fromString(e,...n);return cA(r),new oo(t,null,r)}{if(!(t instanceof Sn||t instanceof oo))throw new ae(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return cA(r),new oo(t.firestore,null,r)}}function Zt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Oj.newId()),qM("doc","path",e),t instanceof Ag){const r=dt.fromString(e,...n);return lA(r),new Sn(t,null,new ye(r))}{if(!(t instanceof Sn||t instanceof oo))throw new ae(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return lA(r),new Sn(t.firestore,t instanceof oo?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="AsyncQueue";class fA{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new AM(this,"async_queue_retry"),this.ec=()=>{const r=Tv();r&&le(hA,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Qs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ic(e))throw e;le(hA,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,oi("INTERNAL UNHANDLED ERROR: ",pA(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=z1.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&Se(47125,{_c:pA(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function pA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class li extends Ag{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new fA,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fA(e),this._firestoreClient=void 0,await e}}}function rJ(t,e){const n=typeof t=="object"?t:E1(),r=typeof t=="string"?t:Qp,s=ja(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jG("firestore");i&&nJ(s,...i)}return s}function Pg(t){if(t._terminated)throw new ae(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sJ(t),t._firestoreClient}function sJ(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new PY(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new YX(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(dn.fromBase64String(e))}catch(n){throw new ae(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ac(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ=/^__.*__$/;class oJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new eh(e,this.data,n,this.fieldTransforms)}}class KM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{hc:t})}}class Ng{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return im(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(YM(this.hc)&&iJ.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class aJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tg(e)}gc(e,n,r,s=!1){return new Ng({hc:e,methodName:n,fc:r,path:an.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kg(t){const e=t._freezeSettings(),n=Tg(t._databaseId);return new aJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QM(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);sb("Data must be an object, but it was:",o,r);const a=JM(r,o);let l,c;if(i.merge)l=new pr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=Ww(e,f,n);if(!o.contains(p))throw new ae(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eO(d,p)||d.push(p)}l=new pr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new oJ(new Yn(a),l,c)}class Dg extends La{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}function XM(t,e,n){return new Ng({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eb extends La{_toFieldTransform(e){return new _g(e.path,new Cd)}isEqual(e){return e instanceof eb}}class tb extends La{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=XM(this,e,!0),r=this.yc.map(i=>Va(i,n)),s=new rc(r);return new _g(e.path,s)}isEqual(e){return e instanceof tb&&js(this.yc,e.yc)}}class nb extends La{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=XM(this,e,!0),r=this.yc.map(i=>Va(i,n)),s=new sc(r);return new _g(e.path,s)}isEqual(e){return e instanceof nb&&js(this.yc,e.yc)}}class rb extends La{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new Id(e.serializer,aM(e.serializer,this.wc));return new _g(e.path,n)}isEqual(e){return e instanceof rb&&this.wc===e.wc}}function lJ(t,e,n,r){const s=t.gc(1,e,n);sb("Data must be an object, but it was:",s,r);const i=[],o=Yn.empty();Io(r,(l,c)=>{const d=ib(e,l,n);c=Dt(c);const f=s.Ac(d);if(c instanceof Dg)i.push(d);else{const p=Va(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new pr(i);return new KM(o,a,s.fieldTransforms)}function cJ(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[Ww(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Ww(e,i[p])),l.push(i[p+1]);const c=[],d=Yn.empty();for(let p=a.length-1;p>=0;--p)if(!eO(c,a[p])){const g=a[p];let v=l[p];v=Dt(v);const y=o.Ac(g);if(v instanceof Dg)c.push(g);else{const b=Va(v,y);b!=null&&(c.push(g),d.set(g,b))}}const f=new pr(c);return new KM(d,f,o.fieldTransforms)}function uJ(t,e,n,r=!1){return Va(n,t.gc(r?4:3,e))}function Va(t,e){if(ZM(t=Dt(t)))return sb("Unsupported field value:",e,t),JM(t,e);if(t instanceof La)return function(r,s){if(!YM(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Va(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Et.fromDate(r);return{timestampValue:em(s.serializer,i)}}if(r instanceof Et){const i=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:em(s.serializer,i)}}if(r instanceof J1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:yM(s.serializer,r._byteString)};if(r instanceof Sn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Z1)return function(o,a){return{mapValue:{fields:{[Wj]:{stringValue:qj},[Xp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return R1(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Ig(r)}`)}(t,e)}function JM(t,e){const n={};return Vj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,s)=>{const i=Va(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ZM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof J1||t instanceof ac||t instanceof Sn||t instanceof La||t instanceof Z1)}function sb(t,e,n){if(!ZM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ig(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Ww(t,e,n){if((e=Dt(e))instanceof Rg)return e._internalPath;if(typeof e=="string")return ib(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,n)}const dJ=new RegExp("[~\\*/\\[\\]]");function ib(t,e,n){if(e.search(dJ)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rg(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(z.INVALID_ARGUMENT,a+t+l)}function eO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hJ extends tO{data(){return super.data()}}function jg(t,e){return typeof e=="string"?ib(t,e):e instanceof Rg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ob{}class ab extends ob{}function ws(t,e,...n){let r=[];e instanceof ob&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof lb).length,a=i.filter(l=>l instanceof Mg).length;if(o>1||o>0&&a>0)throw new ae(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Mg extends ab{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mg(e,n,r)}_apply(e){const n=this._parse(e);return rO(e._query,n),new hi(e.firestore,e.converter,jw(e._query,n))}_parse(e){const n=kg(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){yA(f,d);const v=[];for(const y of f)v.push(gA(l,i,y));p={arrayValue:{values:v}}}else p=gA(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||yA(f,d),p=uJ(a,o,f,d==="in"||d==="not-in");return zt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function du(t,e,n){const r=e,s=jg("where",t);return Mg._create(s,r,n)}class lb extends ob{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)rO(o,l),o=jw(o,l)}(e._query,n),new hi(e.firestore,e.converter,jw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cb extends ab{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cb(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(i,o)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ac(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function sh(t,e="asc"){const n=e,r=jg("orderBy",t);return cb._create(r,n)}class ub extends ab{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ub(e,n,r)}_apply(e){return new hi(e.firestore,e.converter,Zp(e._query,this._limit,this._limitType))}}function db(t){return tJ("limit",t),ub._create("limit",t,"F")}function gA(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ae(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eM(e)&&n.indexOf("/")!==-1)throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ye.isDocumentKey(r))throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RI(t,new ye(r))}if(n instanceof Sn)return RI(t,n._key);throw new ae(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ig(n)}.`)}function yA(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rO(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fJ{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Xp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Lt(o.doubleValue));return new Z1(i)}convertGeoPoint(e){return new J1(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=yo(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Ze(EM(r),9688,{name:e});const s=new Ed(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||oi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iO extends tO{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gf extends iO{data(e={}){return super.data(e)}}class oO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Gf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Gf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hu(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:pJ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){t=nr(t,Sn);const e=nr(t.firestore,li);return JX(Pg(e),t._key).then(n=>lO(e,t,n))}class hb extends fJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Ar(t){t=nr(t,hi);const e=nr(t.firestore,li),n=Pg(e),r=new hb(e);return nO(t._query),ZX(n,t._query).then(s=>new oO(e,r,t,s))}function om(t,e,n){t=nr(t,Sn);const r=nr(t.firestore,li),s=sO(t.converter,e,n);return Lg(r,[QM(kg(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kr.none())])}function ua(t,e,n,...r){t=nr(t,Sn);const s=nr(t.firestore,li),i=kg(s);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Rg?cJ(i,"updateDoc",t._key,e,n,r):lJ(i,"updateDoc",t._key,e),Lg(s,[o.toMutation(t._key,kr.exists(!0))])}function Di(t){return Lg(nr(t.firestore,li),[new N1(t._key,kr.none())])}function Og(t,e){const n=nr(t.firestore,li),r=Zt(t),s=sO(t.converter,e);return Lg(n,[QM(kg(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function aO(t,...e){var n,r,s;t=Dt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||mA(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(mA(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof Sn)c=nr(t.firestore,li),d=yg(t._key.path),l={next:f=>{e[o]&&e[o](lO(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=nr(t,hi);c=nr(f.firestore,li),d=f._query;const p=new hb(c);l={next:g=>{e[o]&&e[o](new oO(c,p,f,g))},error:e[o+1],complete:e[o+2]},nO(t._query)}return function(p,g,v,y){const b=new X1(y),w=new K1(g,b,v);return p.asyncQueue.enqueueAndForget(async()=>H1(await sm(p),w)),()=>{b.Cu(),p.asyncQueue.enqueueAndForget(async()=>q1(await sm(p),w))}}(Pg(c),d,a,l)}function Lg(t,e){return function(r,s){const i=new Qs;return r.asyncQueue.enqueueAndForget(async()=>UX(await XX(r),s,i)),i.promise}(Pg(t),e)}function lO(t,e,n){const r=n.docs.get(e._key),s=new hb(t);return new iO(t,s,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function mJ(){return new eb("serverTimestamp")}function gJ(...t){return new tb("arrayUnion",t)}function yJ(...t){return new nb("arrayRemove",t)}function vA(t){return new rb("increment",t)}(function(e,n=!0){(function(s){Sc=s})(Tc),Ms(new is("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new li(new hY(r.getProvider("auth-internal")),new mY(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Nr(vI,wI,e),Nr(vI,wI,"esm2017")})();var vJ="firebase",wJ="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(vJ,wJ,"app");const cO="@firebase/installations",fb="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e4,dO=`w:${fb}`,hO="FIS_v2",xJ="https://firebaseinstallations.googleapis.com/v1",_J=60*60*1e3,bJ="installations",EJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xa=new Da(bJ,EJ,TJ);function fO(t){return t instanceof ls&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO({projectId:t}){return`${xJ}/projects/${t}/installations`}function mO(t){return{token:t.token,requestStatus:2,expiresIn:CJ(t.expiresIn),creationTime:Date.now()}}async function gO(t,e){const r=(await e.json()).error;return xa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SJ(t,{refreshToken:e}){const n=yO(t);return n.append("Authorization",IJ(e)),n}async function vO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CJ(t){return Number(t.replace("s","000"))}function IJ(t){return`${hO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pO(t),s=yO(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:hO,appId:t.appId,sdkVersion:dO},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await vO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:mO(c.authToken)}}else throw await gO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ=/^[cdef][\w-]{21}$/,Hw="";function NJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kJ(t);return RJ.test(n)?n:Hw}catch{return Hw}}function kJ(t){return PJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Map;function _O(t,e){const n=Vg(t);bO(n,e),DJ(n,e)}function bO(t,e){const n=xO.get(t);if(n)for(const r of n)r(e)}function DJ(t,e){const n=jJ();n&&n.postMessage({key:t,fid:e}),MJ()}let Jo=null;function jJ(){return!Jo&&"BroadcastChannel"in self&&(Jo=new BroadcastChannel("[Firebase] FID Change"),Jo.onmessage=t=>{bO(t.data.key,t.data.fid)}),Jo}function MJ(){xO.size===0&&Jo&&(Jo.close(),Jo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ="firebase-installations-database",LJ=1,_a="firebase-installations-store";let Cv=null;function pb(){return Cv||(Cv=Ej(OJ,LJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_a)}}})),Cv}async function am(t,e){const n=Vg(t),s=(await pb()).transaction(_a,"readwrite"),i=s.objectStore(_a),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&_O(t,e.fid),e}async function EO(t){const e=Vg(t),r=(await pb()).transaction(_a,"readwrite");await r.objectStore(_a).delete(e),await r.done}async function Fg(t,e){const n=Vg(t),s=(await pb()).transaction(_a,"readwrite"),i=s.objectStore(_a),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&_O(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t){let e;const n=await Fg(t.appConfig,r=>{const s=VJ(r),i=FJ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Hw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function VJ(t){const e=t||{fid:NJ(),registrationStatus:0};return TO(e)}function FJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$J(t)}:{installationEntry:e}}async function UJ(t,e){try{const n=await AJ(t,e);return am(t.appConfig,n)}catch(n){throw fO(n)&&n.customData.serverCode===409?await EO(t.appConfig):await am(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $J(t){let e=await wA(t.appConfig);for(;e.registrationStatus===1;)await wO(100),e=await wA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mb(t);return r||n}return e}function wA(t){return Fg(t,e=>{if(!e)throw xa.create("installation-not-found");return TO(e)})}function TO(t){return BJ(t)?{fid:t.fid,registrationStatus:0}:t}function BJ(t){return t.registrationStatus===1&&t.registrationTime+uO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zJ({appConfig:t,heartbeatServiceProvider:e},n){const r=WJ(t,n),s=SJ(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:dO,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await vO(()=>fetch(r,a));if(l.ok){const c=await l.json();return mO(c)}else throw await gO("Generate Auth Token",l)}function WJ(t,{fid:e}){return`${pO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e=!1){let n;const r=await Fg(t.appConfig,i=>{if(!SO(i))throw xa.create("not-registered");const o=i.authToken;if(!e&&GJ(o))return i;if(o.requestStatus===1)return n=HJ(t,e),i;{if(!navigator.onLine)throw xa.create("app-offline");const a=YJ(i);return n=qJ(t,a),a}});return n?await n:r.authToken}async function HJ(t,e){let n=await xA(t.appConfig);for(;n.authToken.requestStatus===1;)await wO(100),n=await xA(t.appConfig);const r=n.authToken;return r.requestStatus===0?gb(t,e):r}function xA(t){return Fg(t,e=>{if(!SO(e))throw xa.create("not-registered");const n=e.authToken;return QJ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function qJ(t,e){try{const n=await zJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await am(t.appConfig,r),n}catch(n){if(fO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await am(t.appConfig,r)}throw n}}function SO(t){return t!==void 0&&t.registrationStatus===2}function GJ(t){return t.requestStatus===2&&!KJ(t)}function KJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_J}function YJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function QJ(t){return t.requestStatus===1&&t.requestTime+uO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XJ(t){const e=t,{installationEntry:n,registrationPromise:r}=await mb(e);return r?r.catch(console.error):gb(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(t,e=!1){const n=t;return await ZJ(n),(await gb(n,e)).token}async function ZJ(t){const{registrationPromise:e}=await mb(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){if(!t||!t.options)throw Iv("App Configuration");if(!t.name)throw Iv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iv(t){return xa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="installations",tZ="installations-internal",nZ=t=>{const e=t.getProvider("app").getImmediate(),n=eZ(e),r=ja(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rZ=t=>{const e=t.getProvider("app").getImmediate(),n=ja(e,CO).getImmediate();return{getId:()=>XJ(n),getToken:s=>JJ(n,s)}};function sZ(){Ms(new is(CO,nZ,"PUBLIC")),Ms(new is(tZ,rZ,"PRIVATE"))}sZ();Nr(cO,fb);Nr(cO,fb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="analytics",iZ="firebase_id",oZ="origin",aZ=60*1e3,lZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new fg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yr=new Da("analytics","Analytics",cZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(t){if(!t.startsWith(yb)){const e=yr.create("invalid-gtag-resource",{gtagURL:t});return rr.warn(e.message),""}return t}function IO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hZ(t,e){const n=dZ("firebase-js-sdk-policy",{createScriptURL:uZ}),r=document.createElement("script"),s=`${yb}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function fZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pZ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await IO(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){rr.error(a)}t("config",s,i)}async function mZ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await IO(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){rr.error(i)}}function gZ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await mZ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await pZ(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){rr.error(a)}}return s}function yZ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=gZ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function vZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yb)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=30,xZ=1e3;class _Z{constructor(e={},n=xZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AO=new _Z;function bZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function EZ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:bZ(r)},i=lZ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function TZ(t,e=AO,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw yr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new IZ;return setTimeout(async()=>{a.abort()},aZ),PO({appId:r,apiKey:s,measurementId:i},o,a,e)}async function PO(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=AO){var i;const{appId:o,measurementId:a}=t;try{await SZ(r,e)}catch(l){if(a)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await EZ(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!CZ(c)){if(s.deleteThrottleMetadata(o),a)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?oI(n,s.intervalMillis,wZ):oI(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),rr.debug(`Calling attemptFetch again in ${d} millis`),PO(t,f,r,s)}}function SZ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function CZ(t){if(!(t instanceof ls)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function AZ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PZ(){if(wj())try{await xj()}catch(t){return rr.warn(yr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return rr.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RZ(t,e,n,r,s,i,o){var a;const l=TZ(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>rr.error(g)),e.push(l);const c=PZ().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);vZ(i)||hZ(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[oZ]="firebase",p.update=!0,f!=null&&(p[iZ]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(e){this.app=e}_delete(){return delete $u[this.app.options.appId],Promise.resolve()}}let $u={},_A=[];const bA={};let Av="dataLayer",kZ="gtag",EA,RO,TA=!1;function DZ(){const t=[];if(vj()&&t.push("This is a browser extension environment."),HG()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yr.create("invalid-analytics-context",{errorInfo:e});rr.warn(n.message)}}function jZ(t,e,n){DZ();const r=t.options.appId;if(!r)throw yr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yr.create("no-api-key");if($u[r]!=null)throw yr.create("already-exists",{id:r});if(!TA){fZ(Av);const{wrappedGtag:i,gtagCore:o}=yZ($u,_A,bA,Av,kZ);RO=i,EA=o,TA=!0}return $u[r]=RZ(t,_A,bA,e,EA,Av,n),new NZ(t)}function MZ(t=E1()){t=Dt(t);const e=ja(t,lm);return e.isInitialized()?e.getImmediate():OZ(t)}function OZ(t,e={}){const n=ja(t,lm);if(n.isInitialized()){const s=n.getImmediate();if(js(e,n.getOptions()))return s;throw yr.create("already-initialized")}return n.initialize({options:e})}function LZ(t,e,n,r){t=Dt(t),AZ(RO,$u[t.app.options.appId],e,n,r).catch(s=>rr.error(s))}const SA="@firebase/analytics",CA="0.10.16";function VZ(){Ms(new is(lm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return jZ(r,s,n)},"PUBLIC")),Ms(new is("analytics-internal",t,"PRIVATE")),Nr(SA,CA),Nr(SA,CA,"esm2017");function t(e){try{const n=e.getProvider(lm).getImmediate();return{logEvent:(r,s,i)=>LZ(n,r,s,i)}}catch(n){throw yr.create("interop-component-reg-failed",{reason:n})}}}VZ();var qw=function(t,e){return qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},qw(t,e)};function FZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ot=function(){return ot=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ot.apply(this,arguments)};function ih(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function UZ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function NO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $Z=NO,kO=new Da("auth","Firebase",NO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new fg("@firebase/auth");function BZ(t,...e){cm.logLevel<=Ue.WARN&&cm.warn(`Auth (${Tc}): ${t}`,...e)}function Kf(t,...e){cm.logLevel<=Ue.ERROR&&cm.error(`Auth (${Tc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw wb(t,...e)}function Zr(t,...e){return wb(t,...e)}function vb(t,e,n){const r=Object.assign(Object.assign({},$Z()),{[e]:n});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function Xs(t){return vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zZ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Or(t,"argument-error"),vb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kO.create(t,...e)}function Te(t,e,...n){if(!t)throw wb(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function ci(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WZ(){return IA()==="http:"||IA()==="https:"}function IA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WZ()||vj()||"connection"in navigator)?navigator.onLine:!0}function qZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=FG()||BG()}get(){return HZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YZ=new oh(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pi(t,e,n,r,s={}){return jO(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Zd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return $G()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Jd(t.emulatorConfig.host)&&(c.credentials="include"),DO.fetch()(await MO(t,t.config.apiHost,n,a),c)})}async function jO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},GZ),e);try{const s=new XZ(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw hf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw hf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vb(t,d,c);Or(t,d)}}catch(s){if(s instanceof ls)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function ah(t,e,n,r,s={}){const i=await pi(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function MO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?xb(t.config,s):`${t.config.apiScheme}://${s}`;return KZ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function QZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),YZ.get())})}}function hf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zr(t,e,r);return s.customData._tokenResponse=n,s}function AA(t){return t!==void 0&&t.enterprise!==void 0}class JZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return QZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZZ(t,e){return pi(t,"GET","/v2/recaptchaConfig",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function um(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tee(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),s=_b(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bu(Pv(s.auth_time)),issuedAtTime:Bu(Pv(s.iat)),expirationTime:Bu(Pv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pv(t){return Number(t)*1e3}function _b(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const s=hj(n);return s?JSON.parse(s):(Kf("Failed to decode base64 JWT payload"),null)}catch(s){return Kf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PA(t){const e=_b(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&nee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ad(t,um(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?OO(i.providerUserInfo):[],a=iee(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function see(t){const e=Dt(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iee(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OO(t){return t.map(e=>{var{providerId:n}=e,r=ih(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oee(t,e){const n=await jO(t,{},async()=>{const r=Zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await MO(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aee(t,e){return pi(t,"POST","/v2/accounts:revokeToken",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=PA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await oee(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Il;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ree(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ad(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tee(this,e)}reload(){return see(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Ad(this,eee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:A,isAnonymous:N,providerData:M,stsTokenManager:C}=n;Te(E&&C,e,"internal-error");const S=Il.fromJSON(this.name,C);Te(typeof E=="string",e,"internal-error"),bi(f,e.name),bi(p,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof N=="boolean",e,"internal-error"),bi(g,e.name),bi(v,e.name),bi(y,e.name),bi(b,e.name),bi(w,e.name),bi(_,e.name);const I=new Qr({uid:E,auth:e,email:p,emailVerified:A,displayName:f,isAnonymous:N,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:w,lastLoginAt:_});return M&&Array.isArray(M)&&(I.providerData=M.map(P=>Object.assign({},P))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Il;s.updateFromServerResponse(n);const i=new Qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?OO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Il;a.updateFromIdToken(r);const l=new Qr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Kw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Map;function Ks(t){ci(t instanceof Function,"Expected a class definition");let e=RA.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LO.type="NONE";const NA=LO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t,e,n){return`firebase:${t}:${e}:${n}`}class Al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Yf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Yf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await um(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Al(Ks(NA),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ks(NA);const o=Yf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await um(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Qr._fromGetAccountInfoResponse(e,p,d)}else f=Qr._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Al(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Al(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zO(e))return"Blackberry";if(WO(e))return"Webos";if(FO(e))return"Safari";if((e.includes("chrome/")||UO(e))&&!e.includes("edge/"))return"Chrome";if(BO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VO(t=In()){return/firefox\//i.test(t)}function FO(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UO(t=In()){return/crios\//i.test(t)}function $O(t=In()){return/iemobile/i.test(t)}function BO(t=In()){return/android/i.test(t)}function zO(t=In()){return/blackberry/i.test(t)}function WO(t=In()){return/webos/i.test(t)}function bb(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lee(t=In()){var e;return bb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cee(){return zG()&&document.documentMode===10}function HO(t=In()){return bb(t)||BO(t)||WO(t)||zO(t)||/windows phone/i.test(t)||$O(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t,e=[]){let n;switch(t){case"Browser":n=kA(In());break;case"Worker":n=`${kA(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dee(t,e={}){return pi(t,"GET","/v2/passwordPolicy",fi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hee=6;class fee{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DA(this),this.idTokenSubscription=new DA(this),this.beforeStateQueue=new uee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await um(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Xs(this));const n=e?Dt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dee(this),n=new fee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Po(t){return Dt(t)}class DA{constructor(e){this.auth=e,this.observer=null,this.addObserver=QG(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mee(t){Ug=t}function GO(t){return Ug.loadJS(t)}function gee(){return Ug.recaptchaEnterpriseScript}function yee(){return Ug.gapiScript}function vee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class wee{constructor(){this.enterprise=new xee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _ee="recaptcha-enterprise",KO="NO_RECAPTCHA";class bee{constructor(e){this.type=_ee,this.auth=Po(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ZZ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new JZ(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;AA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(KO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wee().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&AA(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gee();l.length!==0&&(l+=a),GO(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function jA(t,e,n,r=!1,s=!1){const i=new bee(t);let o;if(s)o=KO;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yw(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jA(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t,e){const n=ja(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(js(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function Tee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function See(t,e,n){const r=Po(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YO(e),{host:o,port:a}=Cee(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(js(c,r.config.emulator)&&js(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Jd(o)?(gj(`${i}//${o}${l}`),yj("Auth",!0)):Iee()}function YO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cee(t){const e=YO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:MA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:MA(o)}}}function MA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Iee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function Aee(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pee(t,e){return ah(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}async function Ree(t,e){return pi(t,"POST","/v1/accounts:sendOobCode",fi(t,e))}async function Nee(t,e){return Ree(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function Dee(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Eb{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Pd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yw(e,n,"signInWithPassword",Pee);case"emailLink":return kee(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yw(e,r,"signUpPassword",Aee);case"emailLink":return Dee(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return ah(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee="http://localhost";class ba extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ih(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ba(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:jee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oee(t){const e=ou(au(t)).link,n=e?ou(au(e)).deep_link_id:null,r=ou(au(t)).deep_link_id;return(r?ou(au(r)).link:null)||r||n||e||t}class Tb{constructor(e){var n,r,s,i,o,a;const l=ou(au(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Mee((s=l.mode)!==null&&s!==void 0?s:null);Te(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Oee(e);try{return new Tb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.providerId=Rc.PROVIDER_ID}static credential(e,n){return Pd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tb.parseLink(n);return Te(r,"argument-error"),Pd._fromEmailAndCode(e,r.code,r.tenantId)}}Rc.PROVIDER_ID="password";Rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Sb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends lh{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ba._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends lh{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends lh{constructor(){super("twitter.com")}static credential(e,n){return ba._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lee(t,e){return ah(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qr._fromIdTokenResponse(e,r,s),o=OA(r);return new Ea({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=OA(r);return new Ea({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function OA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends ls{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hm(e,n,r,s)}}function QO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(t,i,e,r):i})}async function Vee(t,e,n=!1){const r=await Ad(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ea._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fee(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(Xs(r));const s="reauthenticate";try{const i=await Ad(t,QO(r,s,e,t),n);Te(i.idToken,r,"internal-error");const o=_b(i.idToken);Te(o,r,"internal-error");const{sub:a}=o;return Te(t.uid===a,r,"user-mismatch"),Ea._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e,n=!1){if(hr(t.app))return Promise.reject(Xs(t));const r="signIn",s=await QO(t,r,e),i=await Ea._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Uee(t,e){return XO(Po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $ee(t,e,n){if(hr(t.app))return Promise.reject(Xs(t));const r=Po(t),o=await Yw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JO(t),l}),a=await Ea._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Bee(t,e,n){return hr(t.app)?Promise.reject(Xs(t)):Uee(Dt(t),Rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JO(t),r})}async function zee(t,e){const n=Dt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await Nee(n.auth,s);i!==t.email&&await t.reload()}function Wee(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function Hee(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function $g(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function qee(t){return Dt(t).signOut()}const fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gee=1e3,Kee=10;class eL extends ZO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);cee()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Kee):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Gee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eL.type="LOCAL";const Yee=eL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL extends ZO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tL.type="SESSION";const nL=tL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Qee(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Cb("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function Jee(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function Zee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ete(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tte(){return rL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="firebaseLocalStorageDb",nte=1,pm="firebaseLocalStorage",iL="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zg(t,e){return t.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function rte(){const t=indexedDB.deleteDatabase(sL);return new ch(t).toPromise()}function Qw(){const t=indexedDB.open(sL,nte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pm,{keyPath:iL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pm)?e(r):(r.close(),await rte(),e(await Qw()))})})}async function LA(t,e,n){const r=zg(t,!0).put({[iL]:e,value:n});return new ch(r).toPromise()}async function ste(t,e){const n=zg(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function VA(t,e){const n=zg(t,!0).delete(e);return new ch(n).toPromise()}const ite=800,ote=3;class oL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ote)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(tte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Zee(),!this.activeServiceWorker)return;this.sender=new Xee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ete()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qw();return await LA(e,fm,"1"),await VA(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ste(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zg(s,!1).getAll();return new ch(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ite)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oL.type="LOCAL";const ate=oL;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){return e?Ks(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lte(t){return XO(t.auth,new Ib(t),t.bypassAuthState)}function cte(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Fee(n,new Ib(t),t.bypassAuthState)}async function ute(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Vee(n,new Ib(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lte;case"linkViaPopup":case"linkViaRedirect":return ute;case"reauthViaPopup":case"reauthViaRedirect":return cte;default:Or(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=new oh(2e3,1e4);async function cL(t,e,n){if(hr(t.app))return Promise.reject(Zr(t,"operation-not-supported-in-this-environment"));const r=Po(t);zZ(t,e,Sb);const s=aL(r,n);return new Zo(r,"signInViaPopup",e,s).executeNotNull()}class Zo extends lL{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Cb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dte.get())};e()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte="pendingRedirect",Qf=new Map;class fte extends lL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await pte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pte(t,e){const n=yte(e),r=gte(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mte(t,e){Qf.set(t._key(),e)}function gte(t){return Ks(t._redirectPersistence)}function yte(t){return Yf(hte,t.config.apiKey,t.name)}async function vte(t,e,n=!1){if(hr(t.app))return Promise.reject(Xs(t));const r=Po(t),s=aL(r,e),o=await new fte(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=10*60*1e3;class xte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_te(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uL(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wte&&this.cachedEventUids.clear(),this.cachedEventUids.has(FA(e))}saveEventToCache(e){this.cachedEventUids.add(FA(e)),this.lastProcessedEventTime=Date.now()}}function FA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _te(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bte(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tte=/^https?/;async function Ste(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bte(t);for(const n of e)try{if(Cte(n))return}catch{}Or(t,"unauthorized-domain")}function Cte(t){const e=Gw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tte.test(n))return!1;if(Ete.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=new oh(3e4,6e4);function UA(){const t=Ns().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ate(t){return new Promise((e,n)=>{var r,s,i;function o(){UA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UA(),n(Zr(t,"network-request-failed"))},timeout:Ite.get()})}if(!((s=(r=Ns().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ns().gapi)===null||i===void 0)&&i.load)o();else{const a=vee("iframefcb");return Ns()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},GO(`${yee()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function Pte(t){return Xf=Xf||Ate(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=new oh(5e3,15e3),Nte="__/auth/iframe",kte="emulator/auth/iframe",Dte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mte(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xb(e,kte):`https://${t.config.authDomain}/${Nte}`,r={apiKey:e.apiKey,appName:t.name,v:Tc},s=jte.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Zd(r).slice(1)}`}async function Ote(t){const e=await Pte(t),n=Ns().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:Mte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dte,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zr(t,"network-request-failed"),a=Ns().setTimeout(()=>{i(o)},Rte.get());function l(){Ns().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vte=500,Fte=600,Ute="_blank",$te="http://localhost";class $A{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bte(t,e,n,r=Vte,s=Fte){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Lte),{width:r.toString(),height:s.toString(),top:i,left:o}),c=In().toLowerCase();n&&(a=UO(c)?Ute:n),VO(c)&&(e=e||$te,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(lee(c)&&a!=="_self")return zte(e||"",a),new $A(null);const f=window.open(e||"",a,d);Te(f,t,"popup-blocked");try{f.focus()}catch{}return new $A(f)}function zte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte="__/auth/handler",Hte="emulator/auth/handler",qte=encodeURIComponent("fac");async function BA(t,e,n,r,s,i){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tc,eventId:s};if(e instanceof Sb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YG(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof lh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${qte}=${encodeURIComponent(l)}`:"";return`${Gte(t)}?${Zd(a).slice(1)}${c}`}function Gte({config:t}){return t.emulator?xb(t,Hte):`https://${t.authDomain}/${Wte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";class Kte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nL,this._completeRedirectFn=vte,this._overrideRedirectResult=mte}async _openPopup(e,n,r,s){var i;ci((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await BA(e,n,r,Gw(),s);return Bte(e,o,Cb())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await BA(e,n,r,Gw(),s);return Jee(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ci(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ote(e),r=new xte(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rv,{type:Rv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Rv];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ste(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HO()||FO()||bb()}}const Yte=Kte;var zA="@firebase/auth",WA="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jte(t){Ms(new is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qO(t)},c=new pee(r,s,i,l);return Tee(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new is("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(r=>new Qte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(zA,WA,Xte(t)),Nr(zA,WA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte=5*60,ene=mj("authIdTokenMaxAge")||Zte;let HA=null;const tne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ene)return;const s=n==null?void 0:n.token;HA!==s&&(HA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nne(t=E1()){const e=ja(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Eee(t,{popupRedirectResolver:Yte,persistence:[ate,Yee,nL]}),r=mj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=tne(i.toString());Hee(n,o,()=>o(n.currentUser)),Wee(n,a=>o(a))}}const s=fj("auth");return s&&See(n,`http://${s}`),n}function rne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",rne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jte("Browser");const dL=async t=>{try{const e=new FormData;e.append("file",t);const n=await fetch("https://store4.gofile.io/uploadFile",{method:"POST",body:e});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const r=await n.json();if(console.log("GoFile API Response:",r),r.status!=="ok"||!r.data)throw new Error("Upload failed: "+JSON.stringify(r));return{fileId:r.data.fileId||r.data.id,fileName:r.data.fileName||r.data.name,fileUrl:r.data.downloadPage||r.data.url}}catch(e){throw console.error("Error in uploadFileToGofile:",e),new Error(`Failed to upload file: ${e.message}`)}},sne=async t=>{const e="https://api.gofile.io/deleteContent",n=new FormData;n.append("contentsId",t),n.append("token","ADcGHPd8aWmNV0h2Sxr5rEeEDFYLyTFW");try{const s=await(await fetch(e,{method:"POST",body:n})).json();if(s.status==="ok")console.log(`File ${t} deleted from GoFile.`);else throw new Error(`Failed to delete file from GoFile: ${s.status}`)}catch(r){throw console.error("Error deleting file from GoFile:",r),r}},ine={apiKey:"AIzaSyBEQ4RINpi53JYlQfDwtuE8RZ9m9l87BvM",authDomain:"alpha-project-713de.firebaseapp.com",projectId:"alpha-project-713de",storageBucket:"alpha-project-713de.appspot.com",messagingSenderId:"551038009112",appId:"1:551038009112:web:9a3f5ddd6c0d2a0164286d",measurementId:"G-T1LYWSN7PS"},Ab=Tj(ine);MZ(Ab);const Ot=nne(Ab),ze=rJ(Ab),one=async(t,e,n)=>{try{return(await Og(Jt(ze,"subjects"),{name:t,stageId:e,course:n,createdAt:Et.now()})).id}catch(r){throw console.error("Error adding subject: ",r),r}},Wg=async()=>{try{const t=Jt(ze,"subjects");return(await Ar(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",stageId:r.stageId||"",course:r.course||"2",createdAt:r.createdAt||null}})}catch(t){throw console.error("Error getting subjects: ",t),t}},ane=async(t,e,n,r)=>{try{const s=Zt(ze,"subjects",t),i={name:e,stageId:n};r&&(i.course=r),await ua(s,i)}catch(s){throw s}},lne=async t=>{try{await Di(Zt(ze,"subjects",t))}catch(e){throw console.error("Error deleting subject: ",e),e}},Hg=async()=>{try{const t=Jt(ze,"stages");return(await Ar(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||""}})}catch(t){throw console.error("Error getting stages: ",t),t}},cne=async(t,e,n,r)=>{try{const s=await dL(r);if(!s||!s.fileId||!s.fileName||!s.fileUrl)throw new Error("Failed to upload file to Gofile, missing file information.");return(await Og(Jt(ze,"lectures"),{subjectId:t,title:e,description:n,fileId:s.fileId,fileName:s.fileName,fileUrl:s.fileUrl,createdAt:Et.now()})).id}catch(s){throw console.error("Error adding lecture: ",s),s}},Pb=async t=>{try{const e=Jt(ze,"lectures"),n=t?ws(e,du("subjectId","==",t)):e;return(await Ar(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting lectures: ",e),e}},une=async(t,e,n,r,s)=>{try{const i=Zt(ze,"lectures",t);await ua(i,{title:e,description:n,fileId:s,fileName:"",fileUrl:""})}catch(i){throw console.error("Error updating lecture: ",i),i}},dne=async(t,e)=>{try{if(e)try{await sne(e)}catch(n){console.warn("Could not delete Gofile file, it might not exist or permissions are insufficient:",n)}await Di(Zt(ze,"lectures",t))}catch(n){throw console.error("Error deleting lecture: ",n),n}},hne=async(t=5)=>{try{const e=Jt(ze,"lectures"),n=ws(e,sh("createdAt","desc"),db(t));return(await Ar(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting latest lectures: ",e),e}},fne=()=>{const{scrollYProgress:t}=EG();tI(t,[0,.5],[1,0]),tI(t,[0,.5],[1,.8]);const[e,n]=m.useState([]),[r,s]=m.useState(!0),i=wc();m.useEffect(()=>{(async()=>{try{s(!0);const c=Jt(ze,"news"),d=ws(c,sh("createdAt","desc"),db(3)),p=(await Ar(d)).docs.map(g=>({id:g.id,...g.data()}));n(p)}catch(c){console.error("Error fetching latest news:",c)}finally{s(!1)}})()},[]);const o=l=>{console.log("Navigating to news with ID:",l),i(`/news/${l}`)},a=()=>{console.log("Navigating to /news"),i("/news")};return u.jsx(u.Fragment,{children:u.jsxs("section",{className:"relative min-h-screen container mx-auto px-4 py-20 overflow-hidden bg-gradient-to-b from-background via-background/95 to-muted",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((l,c)=>u.jsx(je.div,{className:"absolute w-2 h-2 bg-primary/20 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-100],opacity:[0,1,0]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2}},c))}),u.jsx(je.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse"},className:"absolute top-10 left-10 w-32 h-32 bg-primary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(je.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute bottom-10 right-10 w-40 h-40 bg-secondary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(je.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:1},className:"absolute top-1/4 right-20 w-28 h-28 bg-accent rounded-full mix-blend-multiply filter blur-3xl"}),u.jsxs("div",{className:"relative z-10 text-center mb-16",children:[u.jsx(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"inline-block",children:u.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-4",children:[u.jsx(Rk,{className:"w-4 h-4 mr-2"}),"    "]})}),u.jsx(je.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-5xl md:text-6xl font-extrabold text-foreground mb-6 leading-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:u.jsx("span",{className:"text-primary",children:"ALPHA TEAM"})}),u.jsx(je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"           .          ."}),u.jsx(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8,type:"spring"},className:"mt-10",children:u.jsx(Je,{to:"/lectures",children:u.jsxs(ve,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[" ",u.jsx(zo,{className:"mr-2 h-5 w-5"})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:[{icon:u.jsx(dr,{className:"h-8 w-8 text-primary"}),title:" ",description:"        "},{icon:u.jsx(Wi,{className:"h-8 w-8 text-primary"}),title:" ",description:" Alpha Team        "},{icon:u.jsx(oS,{className:"h-8 w-8 text-primary"}),title:" ",description:"        "}].map((l,c)=>u.jsx(je.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.2},viewport:{once:!0,amount:.5},children:u.jsxs(wt,{className:"text-center shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-gradient-to-b from-card to-card/80 backdrop-blur-sm border-primary/20",children:[u.jsxs(Ft,{children:[u.jsx(je.div,{whileHover:{scale:1.1,rotate:5},className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.icon}),u.jsx(Nt,{className:"text-xl font-semibold text-foreground",children:l.title})]}),u.jsx(kt,{children:u.jsx(on,{className:"text-base text-muted-foreground",children:l.description})})]})},c))}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-4",children:"  "}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"   3    "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r?Array.from({length:3}).map((l,c)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"bg-muted rounded-lg h-48 mb-4"}),u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]},c)):e.length>0?e.map((l,c)=>{var d;return u.jsx(je.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.2},viewport:{once:!0},children:u.jsxs(wt,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 h-full cursor-pointer",onClick:()=>o(l.id),children:[u.jsxs("div",{className:"relative h-48 overflow-hidden",children:[u.jsx("img",{src:l.imageUrls[0]||"https://placehold.co/600x400",alt:l.title,className:"w-full h-full object-cover transform hover:scale-110 transition-transform duration-300"}),l.tag&&u.jsx("div",{className:"absolute top-4 right-4 bg-primary/90 text-primary-foreground px-3 py-1 rounded-full text-sm",children:l.tag})]}),u.jsxs(Ft,{children:[u.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[u.jsx(VU,{className:"w-4 h-4 mr-2"}),(d=l.createdAt)==null?void 0:d.toDate().toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"})]}),u.jsx(Nt,{className:"text-xl font-semibold line-clamp-2",children:l.title})]}),u.jsxs(kt,{className:"flex flex-col justify-between h-full",children:[u.jsx(on,{className:"text-base line-clamp-2 mb-4",children:l.description}),u.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-muted-foreground",children:[u.jsx(oS,{className:"w-4 h-4 mr-1"}),l.likes]}),u.jsxs(ve,{variant:"ghost",className:"text-primary hover:text-primary/80",onClick:f=>{f.stopPropagation(),o(l.id)},children:[" ",u.jsx(zo,{className:"mr-2 h-4 w-4"})]})]})]})]})},l.id)}):u.jsx("div",{className:"col-span-3 text-center py-12",children:u.jsx("p",{className:"text-xl text-muted-foreground",children:"   "})})}),u.jsx("div",{className:"text-center mt-12",children:u.jsxs(ve,{variant:"outline",className:"bg-transparent hover:bg-primary/10 text-primary border-primary hover:border-primary/80 px-8 py-6 text-lg rounded-full transition-all duration-300 hover:scale-105",onClick:a,style:{pointerEvents:"auto"},children:["  ",u.jsx(zo,{className:"mr-2 h-5 w-5"})]})})]})}),u.jsx(je.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"relative mt-20",children:u.jsxs(wt,{className:"bg-gradient-to-br from-card to-card/80 backdrop-blur-sm border-primary/20 shadow-xl",children:[u.jsx(Ft,{className:"text-center",children:u.jsx(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:u.jsx(Nt,{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:" "})})}),u.jsx(kt,{className:"text-center",children:u.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[u.jsx("p",{className:"text-xl text-muted-foreground max-w-4xl mx-auto leading-relaxed mb-8",children:" Alpha Team                   .                           ."}),u.jsx(je.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Je,{to:"/about",children:u.jsxs(ve,{size:"lg",variant:"outline",className:"bg-transparent hover:bg-primary/10 text-primary border-primary hover:border-primary/80 px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:["  ",u.jsx(zo,{className:"mr-2 h-5 w-5"})]})})})]})})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsx("div",{className:"container mx-auto px-4 text-center",children:u.jsxs(je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-6",children:"  "}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:"        "}),u.jsx(je.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Je,{to:"/register",children:u.jsxs(ve,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[" ",u.jsx(zo,{className:"mr-2 h-5 w-5"})]})})})]})})})]})})},pne=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(!0),[o,a]=m.useState(""),[l,c]=m.useState(!0),[d,f]=m.useState("");return m.useEffect(()=>{(async()=>{try{i(!0),a("");const g=await Hg(),v=[" "," "," "," "],y=g.sort((b,w)=>{const _=v.indexOf(b.name),E=v.indexOf(w.name);return _-E});e(y)}catch(g){console.error("Error fetching stages:",g),a("    .")}finally{i(!1)}})()},[]),m.useEffect(()=>{(async()=>{try{c(!0),f("");const g=await hne();r(g)}catch(g){console.error("Error fetching latest lectures:",g),f("    .")}finally{c(!1)}})()},[]),s?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"   ..."})}):o?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:" "}),u.jsx("p",{className:"text-muted-foreground mb-8",children:o})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"container mx-auto px-4 py-12",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx(jf,{className:"h-12 w-12 text-primary mr-3"}),u.jsx("h2",{className:"text-4xl font-bold text-foreground",children:""})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"       "})]}),t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(jf,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"    ."}),u.jsx("p",{className:"text-muted-foreground",children:"         ."})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(p=>{var g,v,y;return u.jsx(Je,{to:`/lectures/${p.id}`,children:u.jsxs(wt,{className:"shadow-md hover:shadow-xl transition-all duration-500 ease-in-out transform hover:-translate-y-3 cursor-pointer group",children:[u.jsxs(Ft,{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 ${p.color||"bg-gray-500"} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner group-hover:scale-110 transition-transform duration-300`,children:u.jsx(jf,{className:"h-8 w-8 text-primary-foreground"})}),u.jsx(Nt,{className:"text-xl font-semibold text-foreground",children:p.name})]}),u.jsx(kt,{className:"text-center",children:u.jsxs("div",{className:`flex items-center justify-center font-medium text-${((g=p.color)==null?void 0:g.split("-")[1])||"gray"}-600 group-hover:text-${((v=p.color)==null?void 0:v.split("-")[1])||"gray"}-800 transition-colors duration-300`,children:[u.jsx("span",{children:" "}),u.jsx(zo,{className:`mr-2 h-4 w-4 text-${((y=p.color)==null?void 0:y.split("-")[1])||"gray"}-600 group-hover:translate-x-1 transition-transform duration-300`})]})})]})},p.id)})}),u.jsxs("div",{className:"mt-16",children:[u.jsx("div",{className:"flex items-center justify-center mb-8",children:u.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"  "})}),l?u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"   ..."})}):d?u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-2xl font-semibold text-red-500 mb-2",children:" "}),u.jsx("p",{className:"text-muted-foreground",children:d})]}):n.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"    ."}),u.jsx("p",{className:"text-muted-foreground",children:"     ."})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>u.jsxs(wt,{className:"shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer",children:[u.jsxs(Ft,{children:[u.jsx(Nt,{className:"text-lg font-semibold text-foreground",children:p.title}),u.jsx(on,{className:"text-muted-foreground",children:p.createdAt?new Date(p.createdAt.seconds*1e3).toLocaleDateString():"  "})]}),u.jsxs(kt,{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:p.description}),p.fileUrl&&u.jsxs("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-primary hover:text-primary-dark transition-colors duration-200",children:[u.jsx(zo,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:" "})]})]})]},p.id))})]})]})})},mne=()=>{const{stageId:t}=U_(),[e,n]=m.useState(null),[r,s]=m.useState([]),[i,o]=m.useState(!0),[a,l]=m.useState(""),[c,d]=m.useState("2");return m.useEffect(()=>{(async()=>{try{o(!0),l("");const g=(await Hg()).find(v=>v.id===t);if(n(g||null),g){let y=(await Wg()).filter(b=>b.stageId===g.id);g.name===" "&&(y=y.filter(b=>(b.course||"2")===c)),s(y)}}catch(p){console.error("Error fetching data for stage page:",p),l("     .")}finally{o(!1)}})()},[t,c]),i?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"   ..."})}):a?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:" "}),u.jsx("p",{className:"text-muted-foreground mb-8",children:a}),u.jsxs(Je,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]}):e?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(Je,{to:"/lectures",className:"text-primary hover:underline flex items-center w-fit mb-4",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]}),u.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[u.jsx(jf,{className:"h-8 w-8 ml-3 text-primary"})," ",e.name]}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"   ."})]}),e.name===" "&&u.jsxs("div",{className:"flex gap-4 mb-8 justify-center",children:[u.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="1"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("1"),children:" "}),u.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="2"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("2"),children:" "})]}),e.name===" "?c==="1"&&r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(dr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"     ."}),u.jsx("p",{className:"text-muted-foreground",children:"     ."})]}):c==="2"&&r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(dr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"   ."}),u.jsx("p",{className:"text-muted-foreground",children:"          ."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(Ft,{children:[u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(dr,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),u.jsx(on,{className:"text-muted-foreground mt-2",children:"    ."})]}),u.jsx(kt,{className:"flex justify-end",children:u.jsx(ve,{asChild:!0,children:u.jsxs(Je,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:[" ",u.jsx(Kr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(dr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"   ."}),u.jsx("p",{className:"text-muted-foreground",children:"          ."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(Ft,{children:[u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(dr,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),u.jsx(on,{className:"text-muted-foreground mt-2",children:"    ."})]}),u.jsx(kt,{className:"flex justify-end",children:u.jsx(ve,{asChild:!0,children:u.jsxs(Je,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:[" ",u.jsx(Kr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"  ."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"          ."}),u.jsxs(Je,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]})},gne=()=>{const{stageId:t,subjectId:e}=U_(),[n,r]=m.useState(null),[s,i]=m.useState([]),[o,a]=m.useState(""),[l,c]=m.useState(!0),[d,f]=m.useState("");return m.useEffect(()=>{(async()=>{try{c(!0),f("");const v=(await Hg()).find(w=>w.id===t);v&&a(v.name);const b=(await Wg()).find(w=>w.id===e&&w.stageId===t);if(r(b||null),b){const _=(await Pb(b.id)).sort((E,A)=>{const N=E.createdAt?new Date(E.createdAt.toMillis()):new Date(0),M=A.createdAt?new Date(A.createdAt.toMillis()):new Date(0);return N.getTime()-M.getTime()});i(_)}}catch(g){console.error("Error fetching data for subject page:",g),f("     .")}finally{c(!1)}})()},[t,e]),l?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"   ..."})}):d?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:" "}),u.jsx("p",{className:"text-muted-foreground mb-8",children:d}),u.jsxs(Je,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]}):n?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(Je,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center w-fit mb-4",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  ",o||""]}),u.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[u.jsx(dr,{className:"h-8 w-8 ml-3 text-primary"}),n.name]}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"   ."})]}),s.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ko,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"   ."}),u.jsx("p",{className:"text-muted-foreground",children:"          ."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(p=>u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(Ft,{children:[u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Ko,{className:"h-5 w-5 ml-2 text-primary"}),p.title]}),u.jsx(on,{className:"text-muted-foreground mt-2",children:p.description})]}),u.jsx(kt,{className:"flex justify-end",children:p.fileUrl&&u.jsx(ve,{asChild:!0,children:u.jsxs("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[" ",u.jsx(zU,{className:"mr-2 h-4 w-4"})]})})})]},p.id))})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"  ."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"          ."}),u.jsxs(Je,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]})},yne=()=>{const{stageId:t,subjectId:e,lectureId:n}=U_(),[r,s]=m.useState(null),[i,o]=m.useState(null),[a,l]=m.useState(null),[c,d]=m.useState(!0),[f,p]=m.useState("");m.useEffect(()=>{(async()=>{d(!0),p("");try{const b=(await Pb(e)).find(w=>w.id===n);if(b){s(b);const _=(await Wg()).find(E=>E.id===b.subjectId);if(o(_||null),_){const A=(await Hg()).find(N=>N.id===_.stageId);l(A||null)}}else p("  .")}catch(y){console.error("Error fetching lecture data:",y),p("    .")}finally{d(!1)}})()},[t,e,n]);const g=async()=>{try{if(!(r!=null&&r.fileUrl))throw new Error("   .");window.open(r.fileUrl,"_blank")}catch(v){console.error("Error downloading lecture:",v),p("    .    .")}};return c?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"  ..."})}):f?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsxs("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:[": ",f]}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"    ."}),u.jsxs(Je,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]}):r?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex items-center mb-6",children:u.jsxs(Je,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center",children:[u.jsx(Kr,{className:"ml-2 h-5 w-5"}),"  ",(i==null?void 0:i.name)||""]})}),u.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:r.title}),u.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:r.description}),r.fileUrl?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(ve,{onClick:g,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 mb-4",children:" "}),u.jsx("div",{className:"w-full h-[80vh] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:u.jsx("iframe",{src:r.fileUrl,className:"w-full h-full border-none",title:r.fileName||"Lecture PDF",allowFullScreen:!0})})]}):u.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card text-muted-foreground",children:[u.jsx("p",{className:"text-xl",children:"     ."}),u.jsx("p",{className:"mt-2",children:"      ."})]})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"   ."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"            ."}),u.jsxs(Je,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(Kr,{className:"ml-2 h-4 w-4"}),"  "]})]})},Ln=m.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ln.displayName="Input";var vne="Label",hL=m.forwardRef((t,e)=>u.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hL.displayName=vne;var fL=hL;const wne=qd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ea=m.forwardRef(({className:t,...e},n)=>u.jsx(fL,{ref:n,className:oe(wne(),t),...e}));ea.displayName=fL.displayName;const xne=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),o=wc(),a=async c=>{if(c.preventDefault(),i(""),!t||!/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(t)){i("   .    .");return}if(!n){i("   .");return}try{if(!(await Bee(Ot,t,n)).user.emailVerified){i("      .      ."),await Ot.signOut();return}o("/")}catch(d){console.error("Login error:",d),d.code==="auth/invalid-credential"||d.code==="auth/wrong-password"?i("      ."):d.code==="auth/invalid-email"?i("    ."):d.code==="auth/user-disabled"?i("   .    ."):d.code==="auth/too-many-requests"?i("          .        ."):i("    .    .")}},l=async()=>{i("");try{const c=new xs,f=(await cL(Ot,c)).user,p=Zt(ze,"users",f.uid);(await lc(p)).exists()?await om(p,{email:f.email,fullName:f.displayName||"",updatedAt:new Date},{merge:!0}):await om(p,{email:f.email,fullName:f.displayName||"",role:"user",createdAt:new Date}),o("/")}catch(c){console.error("Google login error:",c),i("    Google.    .")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Je,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(ve,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"  "})}),u.jsx(je.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(wt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(Ft,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(GU,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(Nt,{className:"text-4xl font-extrabold text-primary mb-2",children:" "}),u.jsx(on,{className:"text-lg text-muted-foreground",children:"    "})]}),u.jsxs(kt,{className:"p-8",children:[u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"email",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"email",type:"email",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:c=>e(c.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"password",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(F0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"password",type:"password",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),s&&u.jsx(je.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:s}),u.jsx(ve,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:" "})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:""})})]}),u.jsxs(ve,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:l,children:[u.jsx(Ik,{className:"h-6 w-6 mr-3"}),"   Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["  "," ",u.jsx(Je,{to:"/register",className:"text-primary hover:underline font-semibold",children:" "})]})]})]})})]})},_ne=["register","login","logout","delete_user_by_admin","ban_user_by_admin","unban_user","add_lecture","delete_lecture","add_subject","delete_subject","update_lecture","update_subject"],Rd=async t=>{if(!_ne.includes(t.type)){console.warn(`Activity type '${t.type}' is not allowed for logging.`);return}try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error(`Failed to fetch IP address: ${e.statusText}`);const n=await e.json();await Og(Jt(ze,"activities"),{...t,ipAddress:n.ip,timestamp:mJ(),metadata:{browser:navigator.userAgent,platform:navigator.platform,timestamp_client:new Date().toISOString()}}),console.log("Activity logged successfully:",t.type)}catch(e){throw e.code==="permission-denied"?console.error("Error logging activity: Missing or insufficient permissions."):console.error("Error logging activity:",e),new Error("Failed to log activity. Please check Firestore rules or network connectivity.")}},bne=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),d=wc(),f=y=>/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(y),p=y=>/^[\u0600-\u06FF\s]+$/.test(y)&&y.trim().split(/\s+/).length>=2,g=async y=>{if(y.preventDefault(),c(""),!t||!n||!s||!o){c("   .");return}if(!p(t)){c("             .");return}if(!f(n)){c("   .    .");return}if(s.length<6){c("      6   .");return}if(s!==o){c("      .");return}try{const w=(await $ee(Ot,n,s)).user;await zee(w),await om(Zt(ze,"users",w.uid),{fullName:t,email:n,role:"user",createdAt:new Date}),await Rd({type:"register",userId:w.uid,username:n,details:`  ${t||n}   `}),fs({title:"   ",description:"         .",variant:"default",duration:5e3}),d("/login")}catch(b){console.error("Registration error:",b),b.code==="auth/email-already-in-use"?c("    ."):b.code==="auth/invalid-email"?c("    ."):b.code==="auth/weak-password"?c("   .     ."):c("   .    .")}},v=async()=>{c("");try{const y=new xs,w=(await cL(Ot,y)).user,_=Zt(ze,"users",w.uid);await om(_,{email:w.email,fullName:w.displayName||"",role:"user",createdAt:new Date},{merge:!0}),await Rd({type:"register",userId:w.uid,username:w.email||"N/A",details:`  ${w.email}   Google.`}),d("/")}catch(y){console.error("Google registration error:",y),y.code==="auth/popup-closed-by-user"?c("      Google.    ."):y.code==="auth/cancelled-popup-request"?c("    .    ."):y.code==="auth/operation-not-allowed"?c("     Google.   ."):y.code==="auth/unauthorized-domain"?c("     OAuth.     Firebase."):c("   Google.    . (     Firebase)")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Je,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(ve,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"  "})}),u.jsx(je.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(wt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(Ft,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(Nk,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(Nt,{className:"text-4xl font-extrabold text-primary mb-2",children:"  "}),u.jsx(on,{className:"text-lg text-muted-foreground",children:"   "})]}),u.jsxs(kt,{className:"p-8",children:[u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"fullName",className:"text-base font-medium",children:"  ()"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(su,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"fullName",type:"text",placeholder:"   ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:y=>e(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"email",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"email",type:"email",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:y=>r(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"password",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(F0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"password",type:"password",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:s,onChange:y=>i(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(ea,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"  "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(F0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ln,{id:"confirmPassword",type:"password",placeholder:"   ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:o,onChange:y=>a(y.target.value),required:!0})]})]}),l&&u.jsx(je.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:l}),u.jsx(ve,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:""})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:""})})]}),u.jsxs(ve,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:v,children:[u.jsx(Ik,{className:"h-6 w-6 mr-3"}),"  Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["  "," ",u.jsx(Je,{to:"/login",className:"text-primary hover:underline font-semibold",children:" "})]})]})]})})]})},Ene=()=>{const t=ka();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Tne=()=>u.jsxs("footer",{className:"bg-card text-foreground border-t border-border py-8 md:py-12",children:[u.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("div",{className:"w-8 md:w-10 h-8 md:h-10 rounded-lg flex items-center justify-center shadow-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"w-full h-full object-contain rounded-lg"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Alpha Team"})]}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"           .          ."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:" "}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Je,{to:"/",className:"hover:text-primary transition-colors duration-300",children:""})}),u.jsx("li",{children:u.jsx(Je,{to:"/lectures",className:"hover:text-primary transition-colors duration-300",children:""})}),u.jsx("li",{children:u.jsx(Je,{to:"/about",className:"hover:text-primary transition-colors duration-300",children:""})}),u.jsx("li",{children:u.jsx(Je,{to:"/contact",className:"hover:text-primary transition-colors duration-300",children:" "})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:" "}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx(ad,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"info@alphateam.com"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(JU,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"+964 770 123 4567"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(KU,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:" "})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(V0,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@talpha.dev"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx($0,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@xteam_alpha"})]})]})]})]}),u.jsx("div",{className:"container mx-auto px-4 mt-8 pt-8 border-t border-border text-center text-xs md:text-sm text-muted-foreground",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Alpha Team.   ."]})})]});var Sne=m.createContext(void 0);function qg(t){const e=m.useContext(Sne);return t||e||"ltr"}var Nv=0;function Rb(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??qA()),document.body.insertAdjacentElement("beforeend",t[1]??qA()),Nv++,()=>{Nv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nv--}},[])}function qA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kv="focusScope.autoFocusOnMount",Dv="focusScope.autoFocusOnUnmount",GA={bubbles:!1,cancelable:!0},Cne="FocusScope",Gg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=un(s),d=un(i),f=m.useRef(null),p=Ge(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const A=E.target;a.contains(A)?f.current=A:Ii(f.current,{select:!0})},b=function(E){if(g.paused||!a)return;const A=E.relatedTarget;A!==null&&(a.contains(A)||Ii(f.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&Ii(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),_.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){YA.add(g);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(kv,GA);a.addEventListener(kv,c),a.dispatchEvent(w),w.defaultPrevented||(Ine(kne(pL(a)),{select:!0}),document.activeElement===y&&Ii(a))}return()=>{a.removeEventListener(kv,c),setTimeout(()=>{const w=new CustomEvent(Dv,GA);a.addEventListener(Dv,d),a.dispatchEvent(w),w.defaultPrevented||Ii(y??document.body,{select:!0}),a.removeEventListener(Dv,d),YA.remove(g)},0)}}},[a,c,d,g]);const v=m.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const _=y.currentTarget,[E,A]=Ane(_);E&&A?!y.shiftKey&&w===A?(y.preventDefault(),n&&Ii(E,{select:!0})):y.shiftKey&&w===E&&(y.preventDefault(),n&&Ii(A,{select:!0})):w===_&&y.preventDefault()}},[n,r,g.paused]);return u.jsx(Ie.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Gg.displayName=Cne;function Ine(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ii(r,{select:e}),document.activeElement!==n)return}function Ane(t){const e=pL(t),n=KA(e,t),r=KA(e.reverse(),t);return[n,r]}function pL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KA(t,e){for(const n of t)if(!Pne(n,{upTo:e}))return n}function Pne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rne(t){return t instanceof HTMLInputElement&&"select"in t}function Ii(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Rne(t)&&e&&t.select()}}var YA=Nne();function Nne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=QA(t,e),t.unshift(e)},remove(e){var n;t=QA(t,e),(n=t[0])==null||n.resume()}}}function QA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kne(t){return t.filter(e=>e.tagName!=="A")}function Dne(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,jne(s,...e)]}function jne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jv="rovingFocusGroup.onEntryFocus",Mne={bubbles:!1,cancelable:!0},Kg="RovingFocusGroup",[Xw,mL,One]=Km(Kg),[Lne,Yg]=Dne(Kg,[One]),[Vne,Fne]=Lne(Kg),gL=m.forwardRef((t,e)=>u.jsx(Xw.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Xw.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Une,{...t,ref:e})})}));gL.displayName=Kg;var Une=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=Ge(e,p),v=qg(i),[y=null,b]=ga({prop:o,defaultProp:a,onChange:l}),[w,_]=m.useState(!1),E=un(c),A=mL(n),N=m.useRef(!1),[M,C]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(jv,E),()=>S.removeEventListener(jv,E)},[E]),u.jsx(Vne,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(S=>b(S),[b]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Ie.div,{tabIndex:w||M===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{N.current=!0}),onFocus:se(t.onFocus,S=>{const I=!N.current;if(S.target===S.currentTarget&&I&&!w){const P=new CustomEvent(jv,Mne);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=A().filter(Q=>Q.focusable),j=D.find(Q=>Q.active),k=D.find(Q=>Q.id===y),ie=[j,k,...D].filter(Boolean).map(Q=>Q.ref.current);wL(ie,d)}}N.current=!1}),onBlur:se(t.onBlur,()=>_(!1))})})}),yL="RovingFocusGroupItem",vL=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ss(),l=i||a,c=Fne(yL,n),d=c.currentTabStopId===l,f=mL(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),u.jsx(Xw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Ie.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:se(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=zne(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=c.loop?Wne(w,_+1):w.slice(_+1)}setTimeout(()=>wL(w))}})})})});vL.displayName=yL;var $ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zne(t,e,n){const r=Bne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $ne[r]}function wL(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Wne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xL=gL,_L=vL,Hne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qa=new WeakMap,ff=new WeakMap,pf={},Mv=0,bL=function(t){return t&&(t.host||bL(t.parentNode))},qne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Gne=function(t,e,n,r){var s=qne(e,Array.isArray(t)?t:[t]);pf[n]||(pf[n]=new WeakMap);var i=pf[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(qa.get(p)||0)+1,b=(i.get(p)||0)+1;qa.set(p,y),i.set(p,b),o.push(p),y===1&&v&&ff.set(p,!0),b===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),Mv++,function(){o.forEach(function(f){var p=qa.get(f)-1,g=i.get(f)-1;qa.set(f,p),i.set(f,g),p||(ff.has(f)||f.removeAttribute(r),ff.delete(f)),g||f.removeAttribute(n)}),Mv--,Mv||(qa=new WeakMap,qa=new WeakMap,ff=new WeakMap,pf={})}},Nb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Hne(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Gne(r,s,n,"aria-hidden")):function(){return null}},Jf="right-scroll-bar-position",Zf="width-before-scroll-bar",Kne="with-scroll-bars-hidden",Yne="--removed-body-scroll-bar-size";function Ov(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Qne(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Xne=typeof window<"u"?m.useLayoutEffect:m.useEffect,XA=new WeakMap;function Jne(t,e){var n=Qne(null,function(r){return t.forEach(function(s){return Ov(s,r)})});return Xne(function(){var r=XA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ov(a,null)}),i.forEach(function(a){s.has(a)||Ov(a,o)})}XA.set(n,t)},[t]),n}function Zne(t){return t}function ere(t,e){e===void 0&&(e=Zne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function tre(t){t===void 0&&(t={});var e=ere(null);return e.options=ot({async:!0,ssr:!1},t),e}var EL=function(t){var e=t.sideCar,n=ih(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ot({},n))};EL.isSideCarExport=!0;function nre(t,e){return t.useMedium(e),EL}var TL=tre(),Lv=function(){},Qg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Lv,onWheelCapture:Lv,onTouchMoveCapture:Lv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,_=t.gapMode,E=ih(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,N=Jne([n,e]),M=ot(ot({},E),s);return m.createElement(m.Fragment,null,d&&m.createElement(A,{sideCar:TL,removeScrollBar:c,shards:f,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?m.cloneElement(m.Children.only(a),ot(ot({},M),{ref:N})):m.createElement(w,ot({},M,{className:l,ref:N}),a))});Qg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qg.classNames={fullWidth:Zf,zeroRight:Jf};var rre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rre();return e&&t.setAttribute("nonce",e),t}function ire(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ore(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var are=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sre())&&(ire(e,n),ore(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lre=function(){var t=are();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},SL=function(){var t=lre(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cre={left:0,top:0,right:0,gap:0},Vv=function(t){return parseInt(t||"",10)||0},ure=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Vv(n),Vv(r),Vv(s)]},dre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cre;var e=ure(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hre=SL(),Rl="data-scroll-locked",fre=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Kne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zf," .").concat(Zf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rl,`] {
    `).concat(Yne,": ").concat(a,`px;
  }
`)},JA=function(){var t=parseInt(document.body.getAttribute(Rl)||"0",10);return isFinite(t)?t:0},pre=function(){m.useEffect(function(){return document.body.setAttribute(Rl,(JA()+1).toString()),function(){var t=JA()-1;t<=0?document.body.removeAttribute(Rl):document.body.setAttribute(Rl,t.toString())}},[])},mre=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;pre();var i=m.useMemo(function(){return dre(s)},[s]);return m.createElement(hre,{styles:fre(i,!e,s,n?"":"!important")})},Jw=!1;if(typeof window<"u")try{var mf=Object.defineProperty({},"passive",{get:function(){return Jw=!0,!0}});window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{Jw=!1}var Ga=Jw?{passive:!1}:!1,gre=function(t){return t.tagName==="TEXTAREA"},CL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gre(t)&&n[e]==="visible")},yre=function(t){return CL(t,"overflowY")},vre=function(t){return CL(t,"overflowX")},ZA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=IL(t,r);if(s){var i=AL(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wre=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IL=function(t,e){return t==="v"?yre(e):vre(e)},AL=function(t,e){return t==="v"?wre(e):xre(e)},_re=function(t,e){return t==="h"&&e==="rtl"?-1:1},bre=function(t,e,n,r,s){var i=_re(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=AL(t,a),v=g[0],y=g[1],b=g[2],w=y-b-i*v;(v||w)&&IL(t,a)&&(f+=w,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},gf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},eP=function(t){return[t.deltaX,t.deltaY]},tP=function(t){return t&&"current"in t?t.current:t},Ere=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Tre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Sre=0,Ka=[];function Cre(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Sre++)[0],i=m.useState(SL)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=UZ([t.lockRef.current],(t.shards||[]).map(tP),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=gf(y),_=n.current,E="deltaX"in y?y.deltaX:_[0]-w[0],A="deltaY"in y?y.deltaY:_[1]-w[1],N,M=y.target,C=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in y&&C==="h"&&M.type==="range")return!1;var S=ZA(C,M);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=ZA(C,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(E||A)&&(r.current=N),!N)return!0;var I=r.current||N;return bre(I,b,y,I==="h"?E:A,!0)},[]),l=m.useCallback(function(y){var b=y;if(!(!Ka.length||Ka[Ka.length-1]!==i)){var w="deltaY"in b?eP(b):gf(b),_=e.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&Ere(N.delta,w)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var E=(o.current.shards||[]).map(tP).filter(Boolean).filter(function(N){return N.contains(b.target)}),A=E.length>0?a(b,E[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(y,b,w,_){var E={name:y,delta:b,target:w,should:_,shadowParent:Ire(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=m.useCallback(function(y){n.current=gf(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,eP(y),y.target,a(y,t.lockRef.current))},[]),p=m.useCallback(function(y){c(y.type,gf(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Ka.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ga),document.addEventListener("touchmove",l,Ga),document.addEventListener("touchstart",d,Ga),function(){Ka=Ka.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ga),document.removeEventListener("touchmove",l,Ga),document.removeEventListener("touchstart",d,Ga)}},[]);var g=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:Tre(s)}):null,g?m.createElement(mre,{gapMode:t.gapMode}):null)}function Ire(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Are=nre(TL,Cre);var Xg=m.forwardRef(function(t,e){return m.createElement(Qg,ot({},t,{ref:e,sideCar:Are}))});Xg.classNames=Qg.classNames;var Zw=["Enter"," "],Pre=["ArrowDown","PageUp","Home"],PL=["ArrowUp","PageDown","End"],Rre=[...Pre,...PL],Nre={ltr:[...Zw,"ArrowRight"],rtl:[...Zw,"ArrowLeft"]},kre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uh="Menu",[Nd,Dre,jre]=Km(uh),[Fa,RL]=di(uh,[jre,yc,Yg]),Jg=yc(),NL=Yg(),[Mre,Ua]=Fa(uh),[Ore,dh]=Fa(uh),kL=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Jg(e),[l,c]=m.useState(null),d=m.useRef(!1),f=un(i),p=qg(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(o2,{...a,children:u.jsx(Mre,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(Ore,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};kL.displayName=uh;var Lre="MenuAnchor",kb=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jg(n);return u.jsx(P_,{...s,...r,ref:e})});kb.displayName=Lre;var Db="MenuPortal",[Vre,DL]=Fa(Db,{forceMount:void 0}),jL=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ua(Db,e);return u.jsx(Vre,{scope:e,forceMount:n,children:u.jsx(as,{present:n||i.open,children:u.jsx(Wd,{asChild:!0,container:s,children:r})})})};jL.displayName=Db;var Dr="MenuContent",[Fre,jb]=Fa(Dr),ML=m.forwardRef((t,e)=>{const n=DL(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ua(Dr,t.__scopeMenu),o=dh(Dr,t.__scopeMenu);return u.jsx(Nd.Provider,{scope:t.__scopeMenu,children:u.jsx(as,{present:r||i.open,children:u.jsx(Nd.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Ure,{...s,ref:e}):u.jsx($re,{...s,ref:e})})})})}),Ure=m.forwardRef((t,e)=>{const n=Ua(Dr,t.__scopeMenu),r=m.useRef(null),s=Ge(e,r);return m.useEffect(()=>{const i=r.current;if(i)return Nb(i)},[]),u.jsx(Mb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),$re=m.forwardRef((t,e)=>{const n=Ua(Dr,t.__scopeMenu);return u.jsx(Mb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Mb=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=t,b=Ua(Dr,n),w=dh(Dr,n),_=Jg(n),E=NL(n),A=Dre(n),[N,M]=m.useState(null),C=m.useRef(null),S=Ge(e,C,b.onContentChange),I=m.useRef(0),P=m.useRef(""),D=m.useRef(0),j=m.useRef(null),k=m.useRef("right"),B=m.useRef(0),ie=v?Xg:m.Fragment,Q=v?{as:co,allowPinchZoom:!0}:void 0,X=F=>{var J,me;const K=P.current+F,q=A().filter(_e=>!_e.disabled),Z=document.activeElement,te=(J=q.find(_e=>_e.ref.current===Z))==null?void 0:J.textValue,we=q.map(_e=>_e.textValue),Me=Zre(we,K,te),pe=(me=q.find(_e=>_e.textValue===Me))==null?void 0:me.ref.current;(function _e(fe){P.current=fe,window.clearTimeout(I.current),fe!==""&&(I.current=window.setTimeout(()=>_e(""),1e3))})(K),pe&&setTimeout(()=>pe.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),Rb();const O=m.useCallback(F=>{var q,Z;return k.current===((q=j.current)==null?void 0:q.side)&&tse(F,(Z=j.current)==null?void 0:Z.area)},[]);return u.jsx(Fre,{scope:n,searchRef:P,onItemEnter:m.useCallback(F=>{O(F)&&F.preventDefault()},[O]),onItemLeave:m.useCallback(F=>{var K;O(F)||((K=C.current)==null||K.focus(),M(null))},[O]),onTriggerLeave:m.useCallback(F=>{O(F)&&F.preventDefault()},[O]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(F=>{j.current=F},[]),children:u.jsx(ie,{...Q,children:u.jsx(Gg,{asChild:!0,trapped:s,onMountAutoFocus:se(i,F=>{var K;F.preventDefault(),(K=C.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(fc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:u.jsx(xL,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:M,onEntryFocus:se(l,F=>{w.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(R_,{role:"menu","aria-orientation":"vertical","data-state":XL(b.open),"data-radix-menu-content":"",dir:w.dir,..._,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:se(y.onKeyDown,F=>{const q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,te=F.key.length===1;q&&(F.key==="Tab"&&F.preventDefault(),!Z&&te&&X(F.key));const we=C.current;if(F.target!==we||!Rre.includes(F.key))return;F.preventDefault();const pe=A().filter(J=>!J.disabled).map(J=>J.ref.current);PL.includes(F.key)&&pe.reverse(),Xre(pe)}),onBlur:se(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:se(t.onPointerMove,kd(F=>{const K=F.target,q=B.current!==F.clientX;if(F.currentTarget.contains(K)&&q){const Z=F.clientX>B.current?"right":"left";k.current=Z,B.current=F.clientX}}))})})})})})})});ML.displayName=Dr;var Bre="MenuGroup",Ob=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{role:"group",...r,ref:e})});Ob.displayName=Bre;var zre="MenuLabel",OL=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{...r,ref:e})});OL.displayName=zre;var mm="MenuItem",nP="menu.itemSelect",Zg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=dh(mm,t.__scopeMenu),a=jb(mm,t.__scopeMenu),l=Ge(e,i),c=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(nP,{bubbles:!0,cancelable:!0});f.addEventListener(nP,g=>r==null?void 0:r(g),{once:!0}),g_(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(LL,{...s,ref:l,disabled:n,onClick:se(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:se(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:se(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Zw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zg.displayName=mm;var LL=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=jb(mm,n),a=NL(n),l=m.useRef(null),c=Ge(e,l),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),u.jsx(Nd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(_L,{asChild:!0,...a,focusable:!r,children:u.jsx(Ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:se(t.onPointerMove,kd(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,kd(v=>o.onItemLeave(v))),onFocus:se(t.onFocus,()=>f(!0)),onBlur:se(t.onBlur,()=>f(!1))})})})}),Wre="MenuCheckboxItem",VL=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(zL,{scope:t.__scopeMenu,checked:n,children:u.jsx(Zg,{role:"menuitemcheckbox","aria-checked":gm(n)?"mixed":n,...s,ref:e,"data-state":Vb(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(gm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});VL.displayName=Wre;var FL="MenuRadioGroup",[Hre,qre]=Fa(FL,{value:void 0,onValueChange:()=>{}}),UL=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=un(r);return u.jsx(Hre,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(Ob,{...s,ref:e})})});UL.displayName=FL;var $L="MenuRadioItem",BL=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=qre($L,t.__scopeMenu),i=n===s.value;return u.jsx(zL,{scope:t.__scopeMenu,checked:i,children:u.jsx(Zg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Vb(i),onSelect:se(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});BL.displayName=$L;var Lb="MenuItemIndicator",[zL,Gre]=Fa(Lb,{checked:!1}),WL=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Gre(Lb,n);return u.jsx(as,{present:r||gm(i.checked)||i.checked===!0,children:u.jsx(Ie.span,{...s,ref:e,"data-state":Vb(i.checked)})})});WL.displayName=Lb;var Kre="MenuSeparator",HL=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});HL.displayName=Kre;var Yre="MenuArrow",qL=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Jg(n);return u.jsx(N_,{...s,...r,ref:e})});qL.displayName=Yre;var Qre="MenuSub",[ice,GL]=Fa(Qre),fu="MenuSubTrigger",KL=m.forwardRef((t,e)=>{const n=Ua(fu,t.__scopeMenu),r=dh(fu,t.__scopeMenu),s=GL(fu,t.__scopeMenu),i=jb(fu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(kb,{asChild:!0,...c,children:u.jsx(LL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":XL(n.open),...t,ref:Gm(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,kd(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(t.onPointerLeave,kd(f=>{var g,v;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(v=n.content)==null?void 0:v.dataset.side,b=y==="right",w=b?-5:5,_=p[b?"left":"right"],E=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:_,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:_,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||Nre[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});KL.displayName=fu;var YL="MenuSubContent",QL=m.forwardRef((t,e)=>{const n=DL(Dr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ua(Dr,t.__scopeMenu),o=dh(Dr,t.__scopeMenu),a=GL(YL,t.__scopeMenu),l=m.useRef(null),c=Ge(e,l);return u.jsx(Nd.Provider,{scope:t.__scopeMenu,children:u.jsx(as,{present:r||i.open,children:u.jsx(Nd.Slot,{scope:t.__scopeMenu,children:u.jsx(Mb,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:se(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=kre[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});QL.displayName=YL;function XL(t){return t?"open":"closed"}function gm(t){return t==="indeterminate"}function Vb(t){return gm(t)?"indeterminate":t?"checked":"unchecked"}function Xre(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Jre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Zre(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Jre(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ese(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function tse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return ese(n,e)}function kd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var nse=kL,rse=kb,sse=jL,ise=ML,ose=Ob,ase=OL,lse=Zg,cse=VL,use=UL,dse=BL,hse=WL,fse=HL,pse=qL,mse=KL,gse=QL,Fb="DropdownMenu",[yse,oce]=di(Fb,[RL]),$n=RL(),[vse,JL]=yse(Fb),ZL=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=$n(e),c=m.useRef(null),[d=!1,f]=ga({prop:s,defaultProp:i,onChange:o});return u.jsx(vse,{scope:e,triggerId:Ss(),triggerRef:c,contentId:Ss(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(nse,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};ZL.displayName=Fb;var eV="DropdownMenuTrigger",tV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=JL(eV,n),o=$n(n);return u.jsx(rse,{asChild:!0,...o,children:u.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Gm(e,i.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});tV.displayName=eV;var wse="DropdownMenuPortal",nV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=$n(e);return u.jsx(sse,{...r,...n})};nV.displayName=wse;var rV="DropdownMenuContent",sV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=JL(rV,n),i=$n(n),o=m.useRef(!1);return u.jsx(ise,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sV.displayName=rV;var xse="DropdownMenuGroup",_se=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(ose,{...s,...r,ref:e})});_se.displayName=xse;var bse="DropdownMenuLabel",iV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(ase,{...s,...r,ref:e})});iV.displayName=bse;var Ese="DropdownMenuItem",oV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(lse,{...s,...r,ref:e})});oV.displayName=Ese;var Tse="DropdownMenuCheckboxItem",aV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(cse,{...s,...r,ref:e})});aV.displayName=Tse;var Sse="DropdownMenuRadioGroup",Cse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(use,{...s,...r,ref:e})});Cse.displayName=Sse;var Ise="DropdownMenuRadioItem",lV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(dse,{...s,...r,ref:e})});lV.displayName=Ise;var Ase="DropdownMenuItemIndicator",cV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(hse,{...s,...r,ref:e})});cV.displayName=Ase;var Pse="DropdownMenuSeparator",uV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(fse,{...s,...r,ref:e})});uV.displayName=Pse;var Rse="DropdownMenuArrow",Nse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(pse,{...s,...r,ref:e})});Nse.displayName=Rse;var kse="DropdownMenuSubTrigger",dV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(mse,{...s,...r,ref:e})});dV.displayName=kse;var Dse="DropdownMenuSubContent",hV=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=$n(n);return u.jsx(gse,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hV.displayName=Dse;var jse=ZL,Mse=tV,Ose=nV,fV=sV,pV=iV,mV=oV,gV=aV,yV=lV,vV=cV,wV=uV,xV=dV,_V=hV;const Lse=jse,Vse=Mse,Fse=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(xV,{ref:s,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(Ck,{className:"ml-auto h-4 w-4"})]}));Fse.displayName=xV.displayName;const Use=m.forwardRef(({className:t,...e},n)=>u.jsx(_V,{ref:n,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Use.displayName=_V.displayName;const bV=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Ose,{children:u.jsx(fV,{ref:r,sideOffset:e,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));bV.displayName=fV.displayName;const EV=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(mV,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));EV.displayName=mV.displayName;const $se=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(gV,{ref:s,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(vV,{children:u.jsx(Tk,{className:"h-4 w-4"})})}),e]}));$se.displayName=gV.displayName;const Bse=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(yV,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(vV,{children:u.jsx(BU,{className:"h-2 w-2 fill-current"})})}),e]}));Bse.displayName=yV.displayName;const TV=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(pV,{ref:r,className:oe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));TV.displayName=pV.displayName;const SV=m.forwardRef(({className:t,...e},n)=>u.jsx(wV,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));SV.displayName=wV.displayName;var Ub="Avatar",[zse,ace]=di(Ub),[Wse,CV]=zse(Ub),IV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return u.jsx(Wse,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Ie.span,{...r,ref:e})})});IV.displayName=Ub;var AV="AvatarImage",PV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=CV(AV,n),a=Hse(r,i.referrerPolicy),l=un(c=>{s(c),o.onImageLoadingStatusChange(c)});return tn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Ie.img,{...i,ref:e,src:r}):null});PV.displayName=AV;var RV="AvatarFallback",NV=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=CV(RV,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Ie.span,{...s,ref:e}):null});NV.displayName=RV;function Hse(t,e){const[n,r]=m.useState("idle");return tn(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var kV=IV,DV=PV,jV=NV;const ep=m.forwardRef(({className:t,...e},n)=>u.jsx(kV,{ref:n,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ep.displayName=kV.displayName;const qse=m.forwardRef(({className:t,...e},n)=>u.jsx(DV,{ref:n,className:oe("aspect-square h-full w-full",t),...e}));qse.displayName=DV.displayName;const ex=m.forwardRef(({className:t,...e},n)=>u.jsx(jV,{ref:n,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ex.displayName=jV.displayName;const rP=[{name:"",path:"/"},{name:"",path:"/lectures"},{name:"",path:"/news"},{name:" ",path:"/about"}],Ri=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=wc(),l=ka();m.useEffect(()=>{const d=$g(Ot,async f=>{if(n(f),f){const p=Zt(ze,"users",f.uid),g=await lc(p);g.exists()?s(g.data()):s({fullName:f.displayName||"",email:f.email||"   "})}else s(null)});return()=>d()},[]);const c=async()=>{try{await qee(Ot),a("/")}catch(d){console.error("Error logging out:",d)}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[u.jsxs("header",{className:"bg-card/80 backdrop-blur-xl sticky top-0 z-50 w-full shadow-xl transition-all duration-300 ease-in-out",children:[u.jsxs("div",{className:"container mx-auto px-4 py-3 lg:py-4 flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx(Je,{to:"/",className:"flex items-center space-x-2 group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 rounded-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"h-12 w-12 rounded-lg transition-transform group-hover:scale-105 group-focus:scale-105 shadow-md"})})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[rP.map(d=>u.jsx(Je,{to:d.path,className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                  ${l.pathname===d.path?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
                `,children:d.name},d.path)),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Je,{to:"/admin-dashboard",className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                ${l.pathname==="/admin-dashboard"?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
              `,children:" "}),e?u.jsxs(Lse,{children:[u.jsx(Vse,{asChild:!0,children:u.jsx(ve,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all duration-300 hover:scale-110 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 p-0",children:u.jsx(ep,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:u.jsx(ex,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:u.jsx(Qy,{className:"h-[70%] w-[70%] text-primary"})})})})}),u.jsxs(bV,{className:"w-64 p-3 shadow-2xl rounded-lg border border-border animate-in fade-in-0 zoom-in-95",align:"end",forceMount:!0,children:[u.jsx(TV,{className:"font-normal p-0 mb-3",children:u.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsx(ep,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:u.jsx(Qy,{className:"h-full w-full text-primary"})}),u.jsxs("div",{className:"flex flex-col space-y-1 text-right",children:[u.jsxs("p",{className:"text-sm font-semibold leading-none text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||"",u.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.email)||(e==null?void 0:e.email),u.jsx(ad,{className:"h-4 w-4 text-muted-foreground"})]}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[r.role==="owner"?"":r.role==="admin"?"":"",u.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]})]})]})}),u.jsx(SV,{className:"my-2 bg-border"}),u.jsxs(EV,{onClick:c,className:"cursor-pointer flex items-center justify-end text-red-500 hover:bg-red-50 focus:bg-red-50 hover:text-red-600 focus:text-red-600 rounded-md p-2 transition-colors duration-200 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[" ",u.jsx(rS,{className:"h-4 w-4 mr-2"})]})]})]}):u.jsx(Je,{to:"/login",className:"relative text-sm font-medium text-muted-foreground hover:text-primary transition-colors duration-300 after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full focus:outline-none focus-visible:text-primary",children:" "})]}),u.jsx("button",{className:"md:hidden text-muted-foreground hover:text-primary transition-colors duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",onClick:()=>o(!i),"aria-label":i?"Close menu":"Open menu",children:i?u.jsx(Hi,{className:"h-6 w-6"}):u.jsx(Pk,{className:"h-6 w-6"})})]}),u.jsx(Wp,{children:i&&u.jsx(je.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[rP.map(d=>u.jsx(Je,{to:d.path,className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                      ${l.pathname===d.path?"text-primary":"text-foreground hover:text-primary"}
                    `,onClick:()=>o(!1),children:d.name},d.path)),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Je,{to:"/admin-dashboard",className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                    ${l.pathname==="/admin-dashboard"?"text-primary":"text-foreground hover:text-primary"}
                  `,onClick:()=>o(!1),children:" "}),e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"border-t border-border pt-4 mt-4 flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsx(ep,{className:"h-12 w-12 flex-shrink-0 border-2 border-primary/50 shadow-md",children:u.jsx(ex,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:u.jsx(Qy,{className:"h-[70%] w-[70%] text-primary"})})}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsxs("p",{className:"text-base font-semibold text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||"",u.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.email)||(e==null?void 0:e.email),u.jsx(ad,{className:"h-4 w-4 text-muted-foreground"})]}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[r.role==="owner"?"":r.role==="admin"?"":"",u.jsx(su,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),u.jsxs("button",{onClick:()=>{c(),o(!1)},className:"text-red-500 hover:text-red-600 transition-colors duration-300 text-right font-medium mt-2 flex items-center justify-end gap-1 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[" ",u.jsx(rS,{className:"h-4 w-4 mr-2"})]})]}):u.jsx(Je,{to:"/login",className:"text-base font-medium text-foreground hover:text-primary transition-colors duration-300 pt-4 border-t border-border mt-4 focus:outline-none focus-visible:text-primary",onClick:()=>o(!1),children:" "})]})})})]}),u.jsx("main",{className:"flex-grow",children:u.jsx(Wp,{mode:"wait",children:u.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:t},l.pathname)})}),u.jsx(Tne,{})]})},MV=m.createContext(void 0),Gse=({children:t})=>{const[e,n]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return u.jsx(MV.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})},Kse=()=>{const t=m.useContext(MV);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Yse=()=>{const{theme:t,toggleTheme:e}=Kse();return u.jsxs(ve,{variant:"outline",size:"icon",onClick:e,className:"fixed bottom-4 right-4 rounded-full shadow-lg z-50 transition-all duration-300 hover:scale-110",children:[t==="light"?u.jsx(QU,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}):u.jsx(e$,{className:"h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},tp=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",t),...e})}));tp.displayName="Table";const np=m.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",t),...e}));np.displayName="TableHeader";const rp=m.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",t),...e}));rp.displayName="TableBody";const Qse=m.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Qse.displayName="TableFooter";const $o=m.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));$o.displayName="TableRow";const Nn=m.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Nn.displayName="TableHead";const kn=m.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));kn.displayName="TableCell";const Xse=m.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",t),...e}));Xse.displayName="TableCaption";var $b="Dialog",[OV,LV]=di($b),[Jse,cs]=OV($b),VV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=ga({prop:r,defaultProp:s,onChange:i});return u.jsx(Jse,{scope:e,triggerRef:a,contentRef:l,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};VV.displayName=$b;var FV="DialogTrigger",UV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cs(FV,n),i=Ge(e,s.triggerRef);return u.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wb(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});UV.displayName=FV;var Bb="DialogPortal",[Zse,$V]=OV(Bb,{forceMount:void 0}),BV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=cs(Bb,e);return u.jsx(Zse,{scope:e,forceMount:n,children:m.Children.map(r,o=>u.jsx(as,{present:n||i.open,children:u.jsx(Wd,{asChild:!0,container:s,children:o})}))})};BV.displayName=Bb;var ym="DialogOverlay",zV=m.forwardRef((t,e)=>{const n=$V(ym,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cs(ym,t.__scopeDialog);return i.modal?u.jsx(as,{present:r||i.open,children:u.jsx(eie,{...s,ref:e})}):null});zV.displayName=ym;var eie=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cs(ym,n);return u.jsx(Xg,{as:co,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Ie.div,{"data-state":Wb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ta="DialogContent",WV=m.forwardRef((t,e)=>{const n=$V(Ta,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=cs(Ta,t.__scopeDialog);return u.jsx(as,{present:r||i.open,children:i.modal?u.jsx(tie,{...s,ref:e}):u.jsx(nie,{...s,ref:e})})});WV.displayName=Ta;var tie=m.forwardRef((t,e)=>{const n=cs(Ta,t.__scopeDialog),r=m.useRef(null),s=Ge(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Nb(i)},[]),u.jsx(HV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),nie=m.forwardRef((t,e)=>{const n=cs(Ta,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(HV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HV=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=cs(Ta,n),l=m.useRef(null),c=Ge(e,l);return Rb(),u.jsxs(u.Fragment,{children:[u.jsx(Gg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(fc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Wb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(sie,{titleId:a.titleId}),u.jsx(oie,{contentRef:l,descriptionId:a.descriptionId})]})]})}),zb="DialogTitle",qV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cs(zb,n);return u.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});qV.displayName=zb;var GV="DialogDescription",KV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cs(GV,n);return u.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});KV.displayName=GV;var YV="DialogClose",QV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=cs(YV,n);return u.jsx(Ie.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});QV.displayName=YV;function Wb(t){return t?"open":"closed"}var XV="DialogTitleWarning",[rie,JV]=Q6(XV,{contentName:Ta,titleName:zb,docsSlug:"dialog"}),sie=({titleId:t})=>{const e=JV(XV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},iie="DialogDescriptionWarning",oie=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JV(iie).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Hb=VV,ZV=UV,qb=BV,hh=zV,fh=WV,ph=qV,mh=KV,gh=QV,e4="AlertDialog",[aie,lce]=di(e4,[LV]),mi=LV(),t4=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return u.jsx(Hb,{...r,...n,modal:!0})};t4.displayName=e4;var lie="AlertDialogTrigger",n4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return u.jsx(ZV,{...s,...r,ref:e})});n4.displayName=lie;var cie="AlertDialogPortal",r4=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return u.jsx(qb,{...r,...n})};r4.displayName=cie;var uie="AlertDialogOverlay",s4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return u.jsx(hh,{...s,...r,ref:e})});s4.displayName=uie;var Nl="AlertDialogContent",[die,hie]=aie(Nl),i4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=mi(n),o=m.useRef(null),a=Ge(e,o),l=m.useRef(null);return u.jsx(rie,{contentName:Nl,titleName:o4,docsSlug:"alert-dialog",children:u.jsx(die,{scope:n,cancelRef:l,children:u.jsxs(fh,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:se(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(m_,{children:r}),u.jsx(pie,{contentRef:o})]})})})});i4.displayName=Nl;var o4="AlertDialogTitle",a4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return u.jsx(ph,{...s,...r,ref:e})});a4.displayName=o4;var l4="AlertDialogDescription",c4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return u.jsx(mh,{...s,...r,ref:e})});c4.displayName=l4;var fie="AlertDialogAction",u4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return u.jsx(gh,{...s,...r,ref:e})});u4.displayName=fie;var d4="AlertDialogCancel",h4=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=hie(d4,n),i=mi(n),o=Ge(e,s);return u.jsx(gh,{...i,...r,ref:o})});h4.displayName=d4;var pie=({contentRef:t})=>{const e=`\`${Nl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Nl}\` by passing a \`${l4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Nl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},mie=t4,gie=n4,yie=r4,f4=s4,p4=i4,m4=u4,g4=h4,y4=a4,v4=c4;const tx=mie,nx=gie,vie=yie,w4=m.forwardRef(({className:t,...e},n)=>u.jsx(f4,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));w4.displayName=f4.displayName;const vm=m.forwardRef(({className:t,...e},n)=>u.jsxs(vie,{children:[u.jsx(w4,{}),u.jsx(p4,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));vm.displayName=p4.displayName;const wm=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});wm.displayName="AlertDialogHeader";const xm=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xm.displayName="AlertDialogFooter";const _m=m.forwardRef(({className:t,...e},n)=>u.jsx(y4,{ref:n,className:oe("text-lg font-semibold",t),...e}));_m.displayName=y4.displayName;const bm=m.forwardRef(({className:t,...e},n)=>u.jsx(v4,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));bm.displayName=v4.displayName;const Em=m.forwardRef(({className:t,...e},n)=>u.jsx(m4,{ref:n,className:oe($_(),t),...e}));Em.displayName=m4.displayName;const Tm=m.forwardRef(({className:t,...e},n)=>u.jsx(g4,{ref:n,className:oe($_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Tm.displayName=g4.displayName;function us(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Sa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const x4=6048e5,wie=864e5;let xie={};function ey(){return xie}function Dd(t,e){var a,l,c,d;const n=ey(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=us(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Sm(t){return Dd(t,{weekStartsOn:1})}function _4(t){const e=us(t),n=e.getFullYear(),r=Sa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Sm(r),i=Sa(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Sm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function sP(t){const e=us(t);return e.setHours(0,0,0,0),e}function iP(t){const e=us(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _ie(t,e){const n=sP(t),r=sP(e),s=+n-iP(n),i=+r-iP(r);return Math.round((s-i)/wie)}function bie(t){const e=_4(t),n=Sa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Sm(n)}function Eie(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tie(t){if(!Eie(t)&&typeof t!="number")return!1;const e=us(t);return!isNaN(Number(e))}function Sie(t){const e=us(t),n=Sa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Cie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Iie=(t,e,n)=>{let r;const s=Cie[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Aie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nie={date:kl({formats:Aie,defaultWidth:"full"}),time:kl({formats:Pie,defaultWidth:"full"}),dateTime:kl({formats:Rie,defaultWidth:"full"})},kie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Die=(t,e,n,r)=>kie[t];function _s(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const jie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uie=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$ie={ordinalNumber:Uie,era:_s({values:jie,defaultWidth:"wide"}),quarter:_s({values:Mie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_s({values:Oie,defaultWidth:"wide"}),day:_s({values:Lie,defaultWidth:"wide"}),dayPeriod:_s({values:Vie,defaultWidth:"wide",formattingValues:Fie,defaultFormattingWidth:"wide"})};function bs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?zie(a,f=>f.test(o)):Bie(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function Bie(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function zie(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function b4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Wie=/^(\d+)(th|st|nd|rd)?/i,Hie=/\d+/i,qie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gie={any:[/^b/i,/^(a|c)/i]},Kie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yie={any:[/1/i,/2/i,/3/i,/4/i]},Qie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},toe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},noe={ordinalNumber:b4({matchPattern:Wie,parsePattern:Hie,valueCallback:t=>parseInt(t,10)}),era:bs({matchPatterns:qie,defaultMatchWidth:"wide",parsePatterns:Gie,defaultParseWidth:"any"}),quarter:bs({matchPatterns:Kie,defaultMatchWidth:"wide",parsePatterns:Yie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bs({matchPatterns:Qie,defaultMatchWidth:"wide",parsePatterns:Xie,defaultParseWidth:"any"}),day:bs({matchPatterns:Jie,defaultMatchWidth:"wide",parsePatterns:Zie,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:eoe,defaultMatchWidth:"any",parsePatterns:toe,defaultParseWidth:"any"})},roe={code:"en-US",formatDistance:Iie,formatLong:Nie,formatRelative:Die,localize:$ie,match:noe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function soe(t){const e=us(t);return _ie(e,Sie(e))+1}function ioe(t){const e=us(t),n=+Sm(e)-+bie(e);return Math.round(n/x4)+1}function E4(t,e){var d,f,p,g;const n=us(t),r=n.getFullYear(),s=ey(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Sa(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Dd(o,e),l=Sa(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Dd(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function ooe(t,e){var a,l,c,d;const n=ey(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=E4(t,e),i=Sa(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Dd(i,e)}function aoe(t,e){const n=us(t),r=+Dd(n,e)-+ooe(n,e);return Math.round(r/x4)+1}function et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ei={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):et(n+1,2)},d(t,e){return et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return et(t.getHours()%12||12,e.length)},H(t,e){return et(t.getHours(),e.length)},m(t,e){return et(t.getMinutes(),e.length)},s(t,e){return et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return et(s,e.length)}},Ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oP={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Ei.y(t,e)},Y:function(t,e,n,r){const s=E4(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return et(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):et(i,e.length)},R:function(t,e){const n=_4(t);return et(n,e.length)},u:function(t,e){const n=t.getFullYear();return et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ei.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=aoe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):et(s,e.length)},I:function(t,e,n){const r=ioe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ei.d(t,e)},D:function(t,e,n){const r=soe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return et(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ya.noon:r===0?s=Ya.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ya.evening:r>=12?s=Ya.afternoon:r>=4?s=Ya.morning:s=Ya.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ei.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ei.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ei.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ei.s(t,e)},S:function(t,e){return Ei.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return lP(r);case"XXXX":case"XX":return Bo(r);case"XXXXX":case"XXX":default:return Bo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return lP(r);case"xxxx":case"xx":return Bo(r);case"xxxxx":case"xxx":default:return Bo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aP(r,":");case"OOOO":default:return"GMT"+Bo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aP(r,":");case"zzzz":default:return"GMT"+Bo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return et(r,e.length)},T:function(t,e,n){const r=t.getTime();return et(r,e.length)}};function aP(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+et(i,2)}function lP(t,e){return t%60===0?(t>0?"-":"+")+et(Math.abs(t)/60,2):Bo(t,e)}function Bo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=et(Math.trunc(r/60),2),i=et(r%60,2);return n+s+e+i}const cP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},T4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},loe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return cP(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",cP(r,e)).replace("{{time}}",T4(s,e))},coe={p:T4,P:loe},uoe=/^D+$/,doe=/^Y+$/,hoe=["D","DD","YY","YYYY"];function foe(t){return uoe.test(t)}function poe(t){return doe.test(t)}function moe(t,e,n){const r=goe(t,e,n);if(console.warn(r),hoe.includes(t))throw new RangeError(r)}function goe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,voe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,woe=/^'([^]*?)'?$/,xoe=/''/g,_oe=/[a-zA-Z]/;function uP(t,e,n){var d,f,p,g,v,y,b,w;const r=ey(),s=(n==null?void 0:n.locale)??r.locale??roe,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,a=us(t);if(!Tie(a))throw new RangeError("Invalid time value");let l=e.match(voe).map(_=>{const E=_[0];if(E==="p"||E==="P"){const A=coe[E];return A(_,s.formatLong)}return _}).join("").match(yoe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:boe(_)};if(oP[E])return{isToken:!0,value:_};if(E.match(_oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&poe(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&foe(E))&&moe(E,e,String(t));const A=oP[E[0]];return A(a,E,s.localize,c)}).join("")}function boe(t){const e=t.match(woe);return e?e[1].replace(xoe,"'"):t}const rx=Hb,Eoe=qb,S4=m.forwardRef(({className:t,...e},n)=>u.jsx(hh,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));S4.displayName=hh.displayName;const Cm=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Eoe,{children:[u.jsx(S4,{}),u.jsxs(fh,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(gh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Hi,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Cm.displayName=fh.displayName;const Im=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Im.displayName="DialogHeader";const C4=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});C4.displayName="DialogFooter";const Am=m.forwardRef(({className:t,...e},n)=>u.jsx(ph,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Am.displayName=ph.displayName;const Toe=m.forwardRef(({className:t,...e},n)=>u.jsx(mh,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));Toe.displayName=mh.displayName;const Soe=qd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Coe({className:t,variant:e,...n}){return u.jsx("div",{className:oe(Soe({variant:e}),t),...n})}const Ioe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Aoe=(t,e,n)=>{const r=Ioe[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},Poe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Roe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Noe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},koe={date:kl({formats:Poe,defaultWidth:"full"}),time:kl({formats:Roe,defaultWidth:"full"}),dateTime:kl({formats:Noe,defaultWidth:"full"})},Doe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},joe=t=>Doe[t],Moe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Ooe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Loe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Voe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Foe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Uoe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},$oe=t=>String(t),Boe={ordinalNumber:$oe,era:_s({values:Moe,defaultWidth:"wide"}),quarter:_s({values:Ooe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_s({values:Loe,defaultWidth:"wide"}),day:_s({values:Voe,defaultWidth:"wide"}),dayPeriod:_s({values:Foe,defaultWidth:"wide",formattingValues:Uoe,defaultFormattingWidth:"wide"})},zoe=/^(\d+)(th|st|nd|rd)?/i,Woe=/\d+/i,Hoe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},qoe={any:[//,//]},Goe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Koe={any:[/1/i,/2/i,/3/i,/4/i]},Yoe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Qoe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Xoe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Joe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Zoe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},eae={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},tae={ordinalNumber:b4({matchPattern:zoe,parsePattern:Woe,valueCallback:t=>parseInt(t,10)}),era:bs({matchPatterns:Hoe,defaultMatchWidth:"wide",parsePatterns:qoe,defaultParseWidth:"any"}),quarter:bs({matchPatterns:Goe,defaultMatchWidth:"wide",parsePatterns:Koe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bs({matchPatterns:Yoe,defaultMatchWidth:"wide",parsePatterns:Qoe,defaultParseWidth:"any"}),day:bs({matchPatterns:Xoe,defaultMatchWidth:"wide",parsePatterns:Joe,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:Zoe,defaultMatchWidth:"any",parsePatterns:eae,defaultParseWidth:"any"})},dP={code:"ar",formatDistance:Aoe,formatLong:koe,formatRelative:joe,localize:Boe,match:tae,options:{weekStartsOn:6,firstWeekContainsDate:1}},nae=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(null),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const f=ws(Jt(ze,"activities"),sh("timestamp","desc")),p=aO(f,g=>{const v=[];g.forEach(y=>{v.push({id:y.id,...y.data()})}),e(v),i(!1)},g=>{console.error("Error fetching activities:",g),a("    "),i(!1)});return()=>p()},[]);const d=f=>({register:{icon:Nk,color:"bg-green-500",text:"  "},add_lecture:{icon:Ko,color:"bg-blue-500",text:" "},delete_lecture:{icon:aa,color:"bg-red-500",text:" "},add_subject:{icon:dr,color:"bg-purple-500",text:" "},delete_subject:{icon:aa,color:"bg-red-500",text:" "},update_lecture:{icon:B0,color:"bg-yellow-500",text:" "},update_subject:{icon:B0,color:"bg-yellow-500",text:" "},delete_user_by_admin:{icon:aa,color:"bg-red-500",text:" "},ban_user_by_admin:{icon:Ek,color:"bg-red-500",text:" "},unban_user:{icon:Ak,color:"bg-green-500",text:"  "}})[f]||{icon:$U,color:"bg-gray-500",text:f};return s?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.jsxs(wt,{className:"shadow-lg",children:[u.jsx(kt,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border",children:u.jsx(Wp,{children:t.map(f=>{const p=d(f.type),g=p.icon;return u.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 hover:bg-accent/50 transition-colors",children:u.jsx("button",{onClick:()=>{r(f),c(!0)},className:"w-full text-right",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Coe,{className:`${p.color} p-2`,children:u.jsx(g,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-foreground",children:p.text}),u.jsx("p",{className:"text-sm text-muted-foreground",children:uP(f.timestamp.toDate(),"PPpp",{locale:dP})}),f.details&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:f.details})]})]})})},f.id)})})})}),u.jsx(rx,{open:l,onOpenChange:c,children:u.jsxs(Cm,{className:"sm:max-w-[500px]",children:[u.jsx(Im,{children:u.jsx(Am,{className:"text-2xl font-bold mb-4",children:" "})}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:" "}),u.jsx("p",{children:d(n.type).text})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.username||" "})]})]}),n.subjectName&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.subjectName})]}),n.lectureTitle&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.lectureTitle})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.details||"   "})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:uP(n.timestamp.toDate(),"PPpp",{locale:dP})})]}),n.ipAddress&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:" IP"}),u.jsx("p",{className:"font-mono",children:n.ipAddress})]})]}),u.jsx(C4,{children:u.jsx(ve,{onClick:()=>c(!1),children:""})})]})})]})};var Gb="Tabs",[rae,cce]=di(Gb,[Yg]),I4=Yg(),[sae,Kb]=rae(Gb),A4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=qg(a),[f,p]=ga({prop:r,onChange:s,defaultProp:i});return u.jsx(sae,{scope:n,baseId:Ss(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(Ie.div,{dir:d,"data-orientation":o,...c,ref:e})})});A4.displayName=Gb;var P4="TabsList",R4=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Kb(P4,n),o=I4(n);return u.jsx(xL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});R4.displayName=P4;var N4="TabsTrigger",k4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Kb(N4,n),a=I4(n),l=M4(o.baseId,r),c=O4(o.baseId,r),d=r===o.value;return u.jsx(_L,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:se(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});k4.displayName=N4;var D4="TabsContent",j4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Kb(D4,n),l=M4(a.baseId,r),c=O4(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(as,{present:s||d,children:({present:p})=>u.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});j4.displayName=D4;function M4(t,e){return`${t}-trigger-${e}`}function O4(t,e){return`${t}-content-${e}`}var iae=A4,L4=R4,V4=k4,F4=j4;const oae=iae,U4=m.forwardRef(({className:t,...e},n)=>u.jsx(L4,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));U4.displayName=L4.displayName;const pu=m.forwardRef(({className:t,...e},n)=>u.jsx(V4,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));pu.displayName=V4.displayName;const mu=m.forwardRef(({className:t,...e},n)=>u.jsx(F4,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));mu.displayName=F4.displayName;function hP(t,[e,n]){return Math.min(n,Math.max(e,t))}function aae(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lae=[" ","Enter","ArrowUp","ArrowDown"],cae=[" ","Enter"],yh="Select",[ty,ny,uae]=Km(yh),[Nc,uce]=di(yh,[uae,yc]),ry=yc(),[dae,Ro]=Nc(yh),[hae,fae]=Nc(yh),$4=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:v}=t,y=ry(e),[b,w]=m.useState(null),[_,E]=m.useState(null),[A,N]=m.useState(!1),M=qg(c),[C=!1,S]=ga({prop:r,defaultProp:s,onChange:i}),[I,P]=ga({prop:o,defaultProp:a,onChange:l}),D=m.useRef(null),j=b?v||!!b.closest("form"):!0,[k,B]=m.useState(new Set),ie=Array.from(k).map(Q=>Q.props.value).join(";");return u.jsx(o2,{...y,children:u.jsxs(dae,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:_,onValueNodeChange:E,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:Ss(),value:I,onValueChange:P,open:C,onOpenChange:S,dir:M,triggerPointerDownPosRef:D,disabled:p,children:[u.jsx(ty.Provider,{scope:e,children:u.jsx(hae,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Q=>{B(X=>new Set(X).add(Q))},[]),onNativeOptionRemove:m.useCallback(Q=>{B(X=>{const O=new Set(X);return O.delete(Q),O})},[]),children:n})}),j?u.jsxs(hF,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:Q=>P(Q.target.value),disabled:p,form:v,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},ie):null]})})};$4.displayName=yh;var B4="SelectTrigger",z4=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ry(n),o=Ro(B4,n),a=o.disabled||r,l=Ge(e,o.onTriggerChange),c=ny(n),d=m.useRef("touch"),[f,p,g]=fF(y=>{const b=c().filter(E=>!E.disabled),w=b.find(E=>E.value===o.value),_=pF(b,y,w);_!==void 0&&o.onValueChange(_.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(P_,{asChild:!0,...i,children:u.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":dF(o.value)?"":void 0,...s,ref:l,onClick:se(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:se(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:se(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&lae.includes(y.key)&&(v(),y.preventDefault())})})})});z4.displayName=B4;var W4="SelectValue",H4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ro(W4,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Ge(e,l.onValueNodeChange);return tn(()=>{c(d)},[c,d]),u.jsx(Ie.span,{...a,ref:f,style:{pointerEvents:"none"},children:dF(l.value)?u.jsx(u.Fragment,{children:o}):i})});H4.displayName=W4;var pae="SelectIcon",q4=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});q4.displayName=pae;var mae="SelectPortal",G4=t=>u.jsx(Wd,{asChild:!0,...t});G4.displayName=mae;var Ca="SelectContent",K4=m.forwardRef((t,e)=>{const n=Ro(Ca,t.__scopeSelect),[r,s]=m.useState();if(tn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ra.createPortal(u.jsx(Y4,{scope:t.__scopeSelect,children:u.jsx(ty.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(Q4,{...t,ref:e})});K4.displayName=Ca;var Br=10,[Y4,No]=Nc(Ca),gae="SelectContentImpl",Q4=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b,...w}=t,_=Ro(Ca,n),[E,A]=m.useState(null),[N,M]=m.useState(null),C=Ge(e,J=>A(J)),[S,I]=m.useState(null),[P,D]=m.useState(null),j=ny(n),[k,B]=m.useState(!1),ie=m.useRef(!1);m.useEffect(()=>{if(E)return Nb(E)},[E]),Rb();const Q=m.useCallback(J=>{const[me,..._e]=j().map(G=>G.ref.current),[fe]=_e.slice(-1),ce=document.activeElement;for(const G of J)if(G===ce||(G==null||G.scrollIntoView({block:"nearest"}),G===me&&N&&(N.scrollTop=0),G===fe&&N&&(N.scrollTop=N.scrollHeight),G==null||G.focus(),document.activeElement!==ce))return},[j,N]),X=m.useCallback(()=>Q([S,E]),[Q,S,E]);m.useEffect(()=>{k&&X()},[k,X]);const{onOpenChange:O,triggerPointerDownPosRef:F}=_;m.useEffect(()=>{if(E){let J={x:0,y:0};const me=fe=>{var ce,G;J={x:Math.abs(Math.round(fe.pageX)-(((ce=F.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((G=F.current)==null?void 0:G.y)??0))}},_e=fe=>{J.x<=10&&J.y<=10?fe.preventDefault():E.contains(fe.target)||O(!1),document.removeEventListener("pointermove",me),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",_e,{capture:!0})}}},[E,O,F]),m.useEffect(()=>{const J=()=>O(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[O]);const[K,q]=fF(J=>{const me=j().filter(ce=>!ce.disabled),_e=me.find(ce=>ce.ref.current===document.activeElement),fe=pF(me,J,_e);fe&&setTimeout(()=>fe.ref.current.focus())}),Z=m.useCallback((J,me,_e)=>{const fe=!ie.current&&!_e;(_.value!==void 0&&_.value===me||fe)&&(I(J),fe&&(ie.current=!0))},[_.value]),te=m.useCallback(()=>E==null?void 0:E.focus(),[E]),we=m.useCallback((J,me,_e)=>{const fe=!ie.current&&!_e;(_.value!==void 0&&_.value===me||fe)&&D(J)},[_.value]),Me=r==="popper"?sx:X4,pe=Me===sx?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return u.jsx(Y4,{scope:n,content:E,viewport:N,onViewportChange:M,itemRefCallback:Z,selectedItem:S,onItemLeave:te,itemTextRefCallback:we,focusSelectedItem:X,selectedItemText:P,position:r,isPositioned:k,searchRef:K,children:u.jsx(Xg,{as:co,allowPinchZoom:!0,children:u.jsx(Gg,{asChild:!0,trapped:_.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:se(s,J=>{var me;(me=_.trigger)==null||me.focus({preventScroll:!0}),J.preventDefault()}),children:u.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(Me,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:J=>J.preventDefault(),...w,...pe,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:se(w.onKeyDown,J=>{const me=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!me&&J.key.length===1&&q(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let fe=j().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(J.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ce=J.target,G=fe.indexOf(ce);fe=fe.slice(G+1)}setTimeout(()=>Q(fe)),J.preventDefault()}})})})})})})});Q4.displayName=gae;var yae="SelectItemAlignedPosition",X4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ro(Ca,n),o=No(Ca,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=Ge(e,C=>d(C)),p=ny(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:_}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&b&&w){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const ce=P.left-S.left,G=I.left-ce,xe=C.left-G,Ae=C.width+xe,Be=Math.max(Ae,S.width),V=window.innerWidth-Br,de=hP(G,[Br,Math.max(Br,V-Be)]);a.style.minWidth=Ae+"px",a.style.left=de+"px"}else{const ce=S.right-P.right,G=window.innerWidth-I.right-ce,xe=window.innerWidth-C.right-G,Ae=C.width+xe,Be=Math.max(Ae,S.width),V=window.innerWidth-Br,de=hP(G,[Br,Math.max(Br,V-Be)]);a.style.minWidth=Ae+"px",a.style.right=de+"px"}const D=p(),j=window.innerHeight-Br*2,k=y.scrollHeight,B=window.getComputedStyle(c),ie=parseInt(B.borderTopWidth,10),Q=parseInt(B.paddingTop,10),X=parseInt(B.borderBottomWidth,10),O=parseInt(B.paddingBottom,10),F=ie+Q+k+O+X,K=Math.min(b.offsetHeight*5,F),q=window.getComputedStyle(y),Z=parseInt(q.paddingTop,10),te=parseInt(q.paddingBottom,10),we=C.top+C.height/2-Br,Me=j-we,pe=b.offsetHeight/2,J=b.offsetTop+pe,me=ie+Q+J,_e=F-me;if(me<=we){const ce=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const G=c.clientHeight-y.offsetTop-y.offsetHeight,xe=Math.max(Me,pe+(ce?te:0)+G+X),Ae=me+xe;a.style.height=Ae+"px"}else{const ce=D.length>0&&b===D[0].ref.current;a.style.top="0px";const xe=Math.max(we,ie+y.offsetTop+(ce?Z:0)+pe)+_e;a.style.height=xe+"px",y.scrollTop=me-we+y.offsetTop}a.style.margin=`${Br}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,b,w,i.dir,r]);tn(()=>E(),[E]);const[A,N]=m.useState();tn(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const M=m.useCallback(C=>{C&&v.current===!0&&(E(),_==null||_(),v.current=!1)},[E,_]);return u.jsx(wae,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Ie.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});X4.displayName=yae;var vae="SelectPopperPosition",sx=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Br,...i}=t,o=ry(n);return u.jsx(R_,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sx.displayName=vae;var[wae,Yb]=Nc(Ca,{}),ix="SelectViewport",J4=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=No(ix,n),o=Yb(ix,n),a=Ge(e,i.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(ty.Slot,{scope:n,children:u.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-Br*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(y,b);if(w<v){const _=w+g,E=Math.min(v,_),A=_-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});J4.displayName=ix;var Z4="SelectGroup",[xae,_ae]=Nc(Z4),bae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ss();return u.jsx(xae,{scope:n,id:s,children:u.jsx(Ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});bae.displayName=Z4;var eF="SelectLabel",tF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_ae(eF,n);return u.jsx(Ie.div,{id:s.id,...r,ref:e})});tF.displayName=eF;var Pm="SelectItem",[Eae,nF]=Nc(Pm),rF=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ro(Pm,n),l=No(Pm,n),c=a.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),v=Ge(e,_=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,_,r,s)}),y=Ss(),b=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Eae,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:m.useCallback(_=>{f(E=>E||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(ty.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(Ie.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:se(o.onFocus,()=>g(!0)),onBlur:se(o.onBlur,()=>g(!1)),onClick:se(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:se(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:se(o.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:se(o.onPointerMove,_=>{var E;b.current=_.pointerType,s?(E=l.onItemLeave)==null||E.call(l):b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(o.onPointerLeave,_=>{var E;_.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:se(o.onKeyDown,_=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&_.key===" "||(cae.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});rF.displayName=Pm;var gu="SelectItemText",sF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ro(gu,n),a=No(gu,n),l=nF(gu,n),c=fae(gu,n),[d,f]=m.useState(null),p=Ge(e,w=>f(w),l.onItemTextChange,w=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return tn(()=>(y(v),()=>b(v)),[y,b,v]),u.jsxs(u.Fragment,{children:[u.jsx(Ie.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ra.createPortal(i.children,o.valueNode):null]})});sF.displayName=gu;var iF="SelectItemIndicator",oF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return nF(iF,n).isSelected?u.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});oF.displayName=iF;var ox="SelectScrollUpButton",aF=m.forwardRef((t,e)=>{const n=No(ox,t.__scopeSelect),r=Yb(ox,t.__scopeSelect),[s,i]=m.useState(!1),o=Ge(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(cF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});aF.displayName=ox;var ax="SelectScrollDownButton",lF=m.forwardRef((t,e)=>{const n=No(ax,t.__scopeSelect),r=Yb(ax,t.__scopeSelect),[s,i]=m.useState(!1),o=Ge(e,r.onScrollButtonChange);return tn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(cF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});lF.displayName=ax;var cF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=No("SelectScrollButton",n),o=m.useRef(null),a=ny(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),tn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{l()})})}),Tae="SelectSeparator",uF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});uF.displayName=Tae;var lx="SelectArrow",Sae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ry(n),i=Ro(lx,n),o=No(lx,n);return i.open&&o.position==="popper"?u.jsx(N_,{...s,...r,ref:e}):null});Sae.displayName=lx;function dF(t){return t===""||t===void 0}var hF=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Ge(e,s),o=aae(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(Hd,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});hF.displayName="BubbleSelect";function fF(t){const e=un(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function pF(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Cae(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Cae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Iae=$4,mF=z4,Aae=H4,Pae=q4,Rae=G4,gF=K4,Nae=J4,yF=tF,vF=rF,kae=sF,Dae=oF,wF=aF,xF=lF,_F=uF;const Fv=Iae,Uv=Aae,sp=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(mF,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Pae,{asChild:!0,children:u.jsx(Sk,{className:"h-4 w-4 opacity-50"})})]}));sp.displayName=mF.displayName;const bF=m.forwardRef(({className:t,...e},n)=>u.jsx(wF,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(UU,{className:"h-4 w-4"})}));bF.displayName=wF.displayName;const EF=m.forwardRef(({className:t,...e},n)=>u.jsx(xF,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Sk,{className:"h-4 w-4"})}));EF.displayName=xF.displayName;const ip=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(Rae,{children:u.jsxs(gF,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(bF,{}),u.jsx(Nae,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(EF,{})]})}));ip.displayName=gF.displayName;const jae=m.forwardRef(({className:t,...e},n)=>u.jsx(yF,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));jae.displayName=yF.displayName;const yu=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(vF,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Dae,{children:u.jsx(Tk,{className:"h-4 w-4"})})}),u.jsx(kae,{children:e})]}));yu.displayName=vF.displayName;const Mae=m.forwardRef(({className:t,...e},n)=>u.jsx(_F,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));Mae.displayName=_F.displayName;const Oae=Hb,Lae=ZV,yf=gh,Vae=qb,TF=m.forwardRef(({className:t,...e},n)=>u.jsx(hh,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));TF.displayName=hh.displayName;const Fae=qd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SF=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(Vae,{children:[u.jsx(TF,{}),u.jsxs(fh,{ref:s,className:oe(Fae({side:t}),e),...r,children:[n,u.jsxs(gh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Hi,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SF.displayName=fh.displayName;const CF=({className:t,...e})=>u.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...e});CF.displayName="SheetHeader";const IF=m.forwardRef(({className:t,...e},n)=>u.jsx(ph,{ref:n,className:oe("text-lg font-semibold text-foreground",t),...e}));IF.displayName=ph.displayName;const AF=m.forwardRef(({className:t,...e},n)=>u.jsx(mh,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));AF.displayName=mh.displayName;const Uae=()=>{var Be;const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,c]=m.useState(!0),[d,f]=m.useState(""),[p,g]=m.useState(void 0),[v,y]=m.useState(null),b=(Be=Ot.currentUser)==null?void 0:Be.uid,[w,_]=m.useState(null),{toast:E}=XN(),[A,N]=m.useState("all");m.useState("all");const[M,C]=m.useState(""),[S,I]=m.useState(""),[P,D]=m.useState("2");m.useState(null);const[j,k]=m.useState(""),[B,ie]=m.useState(""),[Q,X]=m.useState(null),[O,F]=m.useState("");m.useState(""),m.useState(null);const[K,q]=m.useState([]),[Z,te]=m.useState("users"),we=async()=>{try{c(!0),f("");const V=Jt(ze,"users"),Ne=(await Ar(V)).docs.map(he=>({id:he.id,...he.data()}));e(Ne)}catch(V){console.error("Error fetching users:",V),f("    .")}finally{c(!1)}},Me=async()=>{try{const V=await Wg();r(V)}catch(V){console.error("Error fetching subjects:",V),E({title:"",description:"   .",variant:"destructive"})}},pe=async()=>{try{const de=(await Pb()).sort((Ne,he)=>{const Ke=Ne.createdAt?new Date(Ne.createdAt.toMillis()):new Date(0),Ve=he.createdAt?new Date(he.createdAt.toMillis()):new Date(0);return Ke.getTime()-Ve.getTime()});i(de)}catch(V){console.error("Error fetching lectures:",V),E({title:"",description:"   .",variant:"destructive"})}},J=async()=>{try{const V=Jt(ze,"stages"),Ne=(await Ar(V)).docs.map(he=>({id:he.id,name:he.data().name}));a(Ne)}catch(V){console.error("Error fetching stages:",V),E({title:"",description:"    .",variant:"destructive"})}};m.useEffect(()=>{we(),Me(),pe(),J(),(async()=>{const he=Ot.currentUser;if(he){const Ke=Zt(ze,"users",he.uid),Ve=await lc(Ke);Ve.exists()&&_(Ve.data().role)}})();const de=ws(Jt(ze,"activities"),sh("timestamp","desc"),db(5)),Ne=aO(de,he=>{const Ke=he.docs.map(Ve=>({id:Ve.id,...Ve.data()}));q(Ke)});return()=>Ne()},[]);const me=async V=>{var de,Ne,he,Ke;try{const Ve=t.find(pt=>pt.id===V);if(!Ve){console.warn("User not found in the current state.");return}const _r=ws(Jt(ze,"activities"),du("userId","==",V)),Lr=(await Ar(_r)).docs.map(pt=>Di(pt.ref));await Promise.all(Lr);const br=ws(Jt(ze,"lectures"),du("createdBy","==",V)),nt=(await Ar(br)).docs.map(pt=>Di(pt.ref));await Promise.all(nt);const Bn=ws(Jt(ze,"subjects"),du("createdBy","==",V)),Wt=(await Ar(Bn)).docs.map(pt=>Di(pt.ref));await Promise.all(Wt);const Vr=ws(Jt(ze,"news"),du("createdBy","==",V)),zn=(await Ar(Vr)).docs.map(pt=>Di(pt.ref));await Promise.all(zn),await Di(Zt(ze,"users",V));try{console.warn("Client-side Firebase Auth user deletion is not supported. User must be deleted from Auth via Admin SDK.")}catch(pt){console.warn("Could not delete user from Auth:",pt)}((de=Ot.currentUser)==null?void 0:de.uid)===V&&await Ot.signOut(),e(pt=>pt.filter(sr=>sr.id!==V)),await Rd({type:"delete_user_by_admin",userId:(Ne=Ot.currentUser)==null?void 0:Ne.uid,username:((he=Ot.currentUser)==null?void 0:he.email)||"N/A",details:` ${(Ke=Ot.currentUser)==null?void 0:Ke.email}   ${Ve.fullName||Ve.email}    .`}),E({title:"  ",description:`   (${Ve.fullName||Ve.email})     .`,variant:"default"})}catch(Ve){console.error("Error deleting user:",Ve),f("   ."),E({title:"",description:"     .",variant:"destructive"})}},_e=async V=>{y(V),g(void 0)},fe=async V=>{try{if(!t.find(he=>he.id===V))return;const Ne=Zt(ze,"users",V);await ua(Ne,{isBanned:!1,banUntil:null}),e(t.map(he=>he.id===V?{...he,isBanned:!1,banUntil:null}:he))}catch(de){console.error("Error unbanning user:",de),f("    .")}},ce=async V=>{try{f(""),c(!0),console.log("Uploading file:",{name:V.name,size:V.size,type:V.type});const{fileId:de,fileName:Ne,fileUrl:he}=await dL(V);console.log("File uploaded successfully:",{fileId:de,fileName:Ne,fileUrl:he}),await cne(O,j,B,V),E({title:"",description:"   ."}),k(""),ie(""),F(""),X(null),pe()}catch(de){console.error("Error uploading lecture:",de),E({title:"",description:`   : ${de.message||"  "}`,variant:"destructive"})}finally{c(!1)}},G=async V=>{try{const de=V.course==="1"?"2":"1";await ane(V.id,V.name,V.stageId,de),E({title:"",description:`   "${V.name}"  ${de==="1"?" ":" "}.`}),Me()}catch(de){console.error("Error moving subject course:",de),E({title:"",description:"      .",variant:"destructive"})}},xe=async(V,de)=>{var Ne,he,Ke;try{const Ve=t.find(gt=>gt.id===V);if(!Ve){console.warn("User not found in the current state.");return}const _r=Zt(ze,"users",V);await ua(_r,{role:de,updatedAt:new Date}),e(t.map(gt=>gt.id===V?{...gt,role:de}:gt)),await Rd({type:"change_user_role",userId:(Ne=Ot.currentUser)==null?void 0:Ne.uid,username:((he=Ot.currentUser)==null?void 0:he.email)||"N/A",details:` ${(Ke=Ot.currentUser)==null?void 0:Ke.email}     ${Ve.fullName||Ve.email}  ${de==="admin"?"":""}.`}),E({title:"  ",description:`    (${Ve.fullName||Ve.email})  ${de==="admin"?"":""} .`,variant:"default"})}catch(Ve){console.error("Error changing user role:",Ve),E({title:"",description:"    .",variant:"destructive"})}};t.length,t.filter(V=>!V.isBanned).length,t.filter(V=>V.isBanned).length,t.filter(V=>V.role==="admin").length,t.filter(V=>V.role==="user").length,s.filter(V=>A==="all"||V.subjectId===A);const Ae=[{label:" ",value:t.length,icon:u.jsx(Wi,{className:"h-7 w-7 text-primary"})},{label:" ",value:s.length,icon:u.jsx(Ko,{className:"h-7 w-7 text-primary"})},{label:" ",value:n.length,icon:u.jsx(dr,{className:"h-7 w-7 text-primary"})}];return u.jsxs("div",{className:"container mx-auto py-8 animate-fade-in",children:[u.jsxs(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative rounded-2xl bg-gradient-to-r from-primary/80 to-primary/40 p-8 mb-8 flex items-center shadow-lg overflow-hidden",children:[u.jsx(Rk,{className:"absolute right-6 top-6 text-white/30 h-16 w-16 animate-pulse"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[u.jsx(HU,{className:"h-8 w-8 text-white/90"}),"  "]}),u.jsx("p",{className:"text-lg text-white/80",children:"    .        ."})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:Ae.map((V,de)=>u.jsxs(je.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*de,duration:.6,type:"spring"},className:"dashboard-card flex items-center gap-4 p-6 bg-background/80 hover:scale-[1.03] transition-transform",children:[u.jsx("div",{className:"flex-shrink-0",children:V.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-foreground",children:V.value}),u.jsx("div",{className:"text-muted-foreground",children:V.label})]})]},V.label))}),u.jsx("div",{className:"md:hidden flex justify-end mb-4",children:u.jsxs(Oae,{children:[u.jsx(Lae,{asChild:!0,children:u.jsx(ve,{variant:"outline",size:"icon",children:u.jsx(Pk,{className:"h-6 w-6"})})}),u.jsxs(SF,{side:"left",className:"w-64",children:[u.jsxs(CF,{children:[u.jsx(IF,{children:" "}),u.jsx(AF,{children:"    ."})]}),u.jsxs("div",{className:"flex flex-col space-y-4 py-6",children:[u.jsx(yf,{asChild:!0,children:u.jsxs(ve,{variant:"ghost",className:"justify-start",onClick:()=>te("users"),children:[u.jsx(Wi,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(yf,{asChild:!0,children:u.jsxs(ve,{variant:"ghost",className:"justify-start",onClick:()=>te("subjects"),children:[u.jsx(dr,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(yf,{asChild:!0,children:u.jsxs(ve,{variant:"ghost",className:"justify-start",onClick:()=>te("lectures"),children:[u.jsx(Ko,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(yf,{asChild:!0,children:u.jsxs(ve,{variant:"ghost",className:"justify-start",onClick:()=>te("activities"),children:[u.jsx(Yy,{className:"h-5 w-5 ml-2"}),"  "]})})]})]})]})}),u.jsxs(oae,{defaultValue:"users",value:Z,onValueChange:te,className:"w-full",children:[u.jsxs(U4,{className:"hidden md:grid md:grid-cols-4 gap-0 mb-8 p-1 bg-muted rounded-lg",children:[u.jsxs(pu,{value:"users",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Wi,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(pu,{value:"subjects",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(dr,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(pu,{value:"lectures",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Ko,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(pu,{value:"activities",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Yy,{className:"h-5 w-5 ml-2"})," "]})]}),u.jsx(mu,{value:"users",className:"space-y-6",children:u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Ft,{className:"p-6",children:u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Wi,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsx(kt,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(tp,{className:"admin-dashboard-table",children:[u.jsx(np,{children:u.jsxs($o,{children:[u.jsx(Nn,{children:""}),u.jsx(Nn,{children:" "}),u.jsx(Nn,{children:""}),u.jsx(Nn,{children:""}),u.jsx(Nn,{className:"text-right",children:""})]})}),u.jsx(rp,{children:t.map(V=>u.jsxs($o,{children:[u.jsx(kn,{children:V.fullName||"-"}),u.jsx(kn,{children:V.email}),u.jsx(kn,{children:V.role==="owner"?"":V.role==="admin"?"":""}),u.jsx(kn,{children:V.isBanned?u.jsx("span",{className:"text-red-500",children:""}):u.jsx("span",{className:"text-green-600",children:""})}),u.jsxs(kn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[w==="owner"&&V.role!=="owner"&&V.id!==b&&u.jsxs(u.Fragment,{children:[u.jsxs(tx,{children:[u.jsx(nx,{asChild:!0,children:u.jsx(ve,{variant:"destructive",size:"icon",children:u.jsx(aa,{className:"h-5 w-5"})})}),u.jsxs(vm,{children:[u.jsxs(wm,{children:[u.jsx(_m,{children:"      "}),u.jsx(bm,{children:"     .      ."})]}),u.jsxs(xm,{children:[u.jsx(Tm,{children:""}),u.jsx(Em,{onClick:()=>me(V.id),children:" "})]})]})]}),u.jsxs(tx,{children:[u.jsx(nx,{asChild:!0,children:u.jsx(ve,{variant:"outline",size:"icon",className:V.role==="admin"?"text-yellow-500 hover:text-yellow-600":"text-blue-500 hover:text-blue-600",children:V.role==="admin"?u.jsx(s$,{className:"h-5 w-5"}):u.jsx(r$,{className:"h-5 w-5"})})}),u.jsxs(vm,{children:[u.jsxs(wm,{children:[u.jsx(_m,{children:V.role==="admin"?"  ":"  "}),u.jsx(bm,{children:V.role==="admin"?"         ":"        "})]}),u.jsxs(xm,{children:[u.jsx(Tm,{children:""}),u.jsx(Em,{onClick:()=>xe(V.id,V.role==="admin"?"user":"admin"),children:V.role==="admin"?" ":""})]})]})]})]}),V.isBanned?u.jsx(ve,{variant:"outline",onClick:()=>fe(V.id),size:"icon",children:u.jsx(Ak,{className:"h-5 w-5 text-green-600"})}):u.jsx(ve,{variant:"outline",onClick:()=>_e(V),size:"icon",children:u.jsx(Ek,{className:"h-5 w-5 text-red-500"})})]})]},V.id))})]})})})]})}),u.jsx(mu,{value:"subjects",children:u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Ft,{className:"p-6",children:u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(dr,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsxs(kt,{children:[u.jsxs("form",{onSubmit:async V=>{V.preventDefault();try{const de=await one(M,S,P);E({title:" ",description:"   ."}),Me()}catch(de){console.error("Error adding subject: ",de),E({title:"",description:"    .",variant:"destructive"})}},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Ln,{placeholder:" ",value:M,onChange:V=>C(V.target.value)}),u.jsxs(Fv,{value:S,onValueChange:V=>I(V),children:[u.jsx(sp,{children:u.jsx(Uv,{placeholder:" "})}),u.jsx(ip,{children:o.map(V=>u.jsx(yu,{value:V.id,children:V.name},V.id))})]}),u.jsxs(Fv,{value:P,onValueChange:V=>D(V),children:[u.jsx(sp,{children:u.jsx(Uv,{placeholder:" "})}),u.jsxs(ip,{children:[u.jsx(yu,{value:"1",children:" "}),u.jsx(yu,{value:"2",children:" "})]})]})]}),u.jsx(ve,{type:"submit",className:"w-full",children:" "})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(tp,{className:"admin-dashboard-table",children:[u.jsx(np,{children:u.jsxs($o,{children:[u.jsx(Nn,{children:" "}),u.jsx(Nn,{children:""}),u.jsx(Nn,{children:""}),u.jsx(Nn,{className:"text-right",children:""})]})}),u.jsx(rp,{children:n.map(V=>{var de;return u.jsxs($o,{children:[u.jsx(kn,{children:V.name}),u.jsx(kn,{children:((de=o.find(Ne=>Ne.id===V.stageId))==null?void 0:de.name)||"-"}),u.jsx(kn,{children:V.course==="1"?" ":" "}),u.jsxs(kn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(ve,{variant:"outline",onClick:()=>G(V),size:"icon",children:u.jsx(OU,{className:"h-5 w-5"})}),u.jsx(ve,{variant:"destructive",onClick:async()=>{try{await lne(V.id),E({title:"",description:"   "}),Me()}catch(Ne){console.error("Error deleting subject: ",Ne),E({title:"",description:"  ",variant:"destructive"})}},size:"icon",children:u.jsx(aa,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),u.jsx(mu,{value:"lectures",children:u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Ft,{className:"p-6",children:u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Ko,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsxs(kt,{children:[u.jsxs("form",{onSubmit:V=>{if(V.preventDefault(),!O){E({title:"",description:"   ",variant:"destructive"});return}Q&&ce(Q)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(Ln,{placeholder:" ",value:j,onChange:V=>k(V.target.value)}),u.jsx(Ln,{placeholder:" ",value:B,onChange:V=>ie(V.target.value)}),u.jsxs(Fv,{value:O,onValueChange:V=>F(V),children:[u.jsx(sp,{children:u.jsx(Uv,{placeholder:" "})}),u.jsx(ip,{children:n.map(V=>u.jsx(yu,{value:V.id,children:V.name},V.id))})]}),u.jsx(Ln,{type:"file",onChange:V=>{var de;return X(((de=V.target.files)==null?void 0:de[0])||null)}})]}),u.jsx(ve,{type:"submit",className:"w-full",children:" "})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(tp,{className:"admin-dashboard-table",children:[u.jsx(np,{children:u.jsxs($o,{children:[u.jsx(Nn,{children:" "}),u.jsx(Nn,{children:" "}),u.jsx(Nn,{children:""}),u.jsx(Nn,{children:" "}),u.jsx(Nn,{className:"text-right",children:""})]})}),u.jsx(rp,{children:s.map(V=>{var de;return u.jsxs($o,{children:[u.jsx(kn,{children:((de=n.find(Ne=>Ne.id===V.subjectId))==null?void 0:de.name)||"-"}),u.jsx(kn,{children:V.title}),u.jsx(kn,{children:V.description}),u.jsx(kn,{children:V.fileName}),u.jsxs(kn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(ve,{variant:"outline",onClick:()=>une(V.id,V.title,V.description),size:"icon",children:u.jsx(B0,{className:"h-5 w-5"})}),u.jsx(ve,{variant:"destructive",onClick:async()=>{try{await dne(V.id,V.fileId),E({title:"",description:"   "}),pe()}catch(Ne){console.error("Error deleting lecture: ",Ne),E({title:"",description:"  ",variant:"destructive"})}},size:"icon",children:u.jsx(aa,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),u.jsx(mu,{value:"activities",className:"space-y-6",children:u.jsxs(wt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsxs(Ft,{className:"p-6",children:[u.jsxs(Nt,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Yy,{className:"h-6 w-6 ml-2 text-primary"})," "]}),u.jsx(on,{children:"      "})]}),u.jsx(kt,{children:u.jsx(nae,{})})]})})]}),u.jsxs(je.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},className:"fixed bottom-8 left-8 z-50 bg-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 dashboard-button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},title:"  ",children:[u.jsx(U0,{className:"h-6 w-6"}),""]})]})},fP=({allowedRoles:t})=>{const[e,n]=m.useState(!0),[r,s]=m.useState(!1),[i,o]=m.useState(void 0);return m.useEffect(()=>{const a=$g(Ot,async l=>{if(l){s(!0);const c=Zt(ze,"users",l.uid),d=await lc(c);d.exists()?o(d.data().role):o("user")}else s(!1),o(null)});return()=>a()},[]),m.useEffect(()=>{r!==!1&&i!==void 0&&n(!1),r===!1&&i===null&&n(!1)},[r,i]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsx("p",{children:"   ..."})}):!r||i===null?u.jsx(J0,{to:"/login",replace:!0}):t&&!t.includes(i)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"   "}),u.jsx("p",{className:"text-muted-foreground",children:"      ."}),u.jsx(J0,{to:"/",replace:!0})," "]})}):u.jsx(n8,{})},cx=m.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));cx.displayName="Textarea";function $ae(t){return Object.prototype.toString.call(t)==="[object Object]"}function pP(t){return $ae(t)||Array.isArray(t)}function Bae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Qb(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!pP(a)||!pP(l)?a===l:Qb(a,l)})}function mP(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function zae(t,e){if(t.length!==e.length)return!1;const n=mP(t),r=mP(e);return n.every((s,i)=>{const o=r[i];return Qb(s,o)})}function Xb(t){return typeof t=="number"}function ux(t){return typeof t=="string"}function sy(t){return typeof t=="boolean"}function gP(t){return Object.prototype.toString.call(t)==="[object Object]"}function _t(t){return Math.abs(t)}function Jb(t){return Math.sign(t)}function zu(t,e){return _t(t-e)}function Wae(t,e){if(t===0||e===0||_t(t)<=_t(e))return 0;const n=zu(_t(t),_t(e));return _t(n/t)}function jd(t){return Md(t).map(Number)}function es(t){return t[vh(t)]}function vh(t){return Math.max(0,t.length-1)}function Zb(t,e){return e===vh(t)}function yP(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Md(t){return Object.keys(t)}function PF(t,e){return[t,e].reduce((n,r)=>(Md(r).forEach(s=>{const i=n[s],o=r[s],a=gP(i)&&gP(o);n[s]=a?PF(i,o):o}),n),{})}function dx(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Hae(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return ux(t)?n[t](l):t(e,l,c)}return{measure:o}}function Od(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function qae(t,e,n,r){const s=Od(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){g(),s.clear()}function f(b){if(!l)return;o||(o=b);const w=b-o;for(o=b,a+=w;a>=i;)n(i),a-=i;const _=a/i;r(_),l&&e.requestAnimationFrame(f)}function p(){l||(l=e.requestAnimationFrame(f))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:d,start:p,stop:g,update:()=>n(i),render:r}}function Gae(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=f();function c(v){const{height:y,width:b}=v;return r?y:b}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function p(v){return v*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Ia(t=0,e=0){const n=_t(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function RF(t,e,n){const{constrain:r}=Ia(0,t),s=t+1;let i=o(e);function o(p){return n?_t((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),f}function c(p){return d().set(a()+p)}function d(){return RF(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function Kae(t,e,n,r,s,i,o,a,l,c,d,f,p,g,v,y,b,w,_){const{cross:E,direction:A}=t,N=["INPUT","SELECT","TEXTAREA"],M={passive:!1},C=Od(),S=Od(),I=Ia(50,225).constrain(g.measure(20)),P={mouse:300,touch:400},D={mouse:500,touch:600},j=v?43:25;let k=!1,B=0,ie=0,Q=!1,X=!1,O=!1,F=!1;function K(G){if(!_)return;function xe(Be){(sy(_)||_(G,Be))&&pe(Be)}const Ae=e;C.add(Ae,"dragstart",Be=>Be.preventDefault(),M).add(Ae,"touchmove",()=>{},M).add(Ae,"touchend",()=>{}).add(Ae,"touchstart",xe).add(Ae,"mousedown",xe).add(Ae,"touchcancel",me).add(Ae,"contextmenu",me).add(Ae,"click",_e,!0)}function q(){C.clear(),S.clear()}function Z(){const G=F?n:e;S.add(G,"touchmove",J,M).add(G,"touchend",me).add(G,"mousemove",J,M).add(G,"mouseup",me)}function te(G){const xe=G.nodeName||"";return N.includes(xe)}function we(){return(v?D:P)[F?"mouse":"touch"]}function Me(G,xe){const Ae=f.add(Jb(G)*-1),Be=d.byDistance(G,!v).distance;return v||_t(G)<I?Be:b&&xe?Be*.5:d.byIndex(Ae.get(),0).distance}function pe(G){const xe=dx(G,r);F=xe,O=v&&xe&&!G.buttons&&k,k=zu(s.get(),o.get())>=2,!(xe&&G.button!==0)&&(te(G.target)||(Q=!0,i.pointerDown(G),c.useFriction(0).useDuration(0),s.set(o),Z(),B=i.readPoint(G),ie=i.readPoint(G,E),p.emit("pointerDown")))}function J(G){if(!dx(G,r)&&G.touches.length>=2)return me(G);const Ae=i.readPoint(G),Be=i.readPoint(G,E),V=zu(Ae,B),de=zu(Be,ie);if(!X&&!F&&(!G.cancelable||(X=V>de,!X)))return me(G);const Ne=i.pointerMove(G);V>y&&(O=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(A(Ne)),G.preventDefault()}function me(G){const Ae=d.byDistance(0,!1).index!==f.get(),Be=i.pointerUp(G)*we(),V=Me(A(Be),Ae),de=Wae(Be,V),Ne=j-10*de,he=w+de/50;X=!1,Q=!1,S.clear(),c.useDuration(Ne).useFriction(he),l.distance(V,!v),F=!1,p.emit("pointerUp")}function _e(G){O&&(G.stopPropagation(),G.preventDefault(),O=!1)}function fe(){return Q}return{init:K,destroy:q,pointerDown:fe}}function Yae(t,e){let r,s;function i(f){return f.timeStamp}function o(f,p){const v=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(dx(f,e)?f:f.touches[0])[v]}function a(f){return r=f,s=f,o(f)}function l(f){const p=o(f)-o(s),g=i(f)-i(r)>170;return s=f,g&&(r=f),p}function c(f){if(!r||!s)return 0;const p=o(s)-o(r),g=i(f)-i(r),v=i(f)-i(s)>170,y=p/g;return g&&!v&&_t(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function Qae(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function Xae(t){function e(r){return t*(r/100)}return{measure:e}}function Jae(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],f=!1;function p(b){return s.measureSize(o.measure(b))}function g(b){if(!i)return;c=p(t),d=r.map(p);function w(_){for(const E of _){if(f)return;const A=E.target===t,N=r.indexOf(E.target),M=A?c:d[N],C=p(A?t:r[N]);if(_t(C-M)>=.5){b.reInit(),e.emit("resize");break}}}l=new ResizeObserver(_=>{(sy(i)||i(b,_))&&w(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>l.observe(_))})}function v(){f=!0,l&&l.disconnect()}return{init:g,destroy:v}}function Zae(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),f=0;function p(M){const C=M/1e3,S=l*C,I=r.get()-t.get(),P=!l;let D=0;return P?(o=0,n.set(r),t.set(r),D=I):(n.set(t),o+=I/S,o*=c,d+=o,t.add(o*C),D=d-f),a=Jb(D),f=d,N}function g(){const M=r.get()-e.get();return _t(M)<.001}function v(){return l}function y(){return a}function b(){return o}function w(){return E(s)}function _(){return A(i)}function E(M){return l=M,N}function A(M){return c=M,N}const N={direction:y,duration:v,velocity:b,seek:p,settled:g,useBaseFriction:_,useBaseDuration:w,useFriction:A,useDuration:E};return N}function ele(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=Ia(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",y=_t(t[v]-e.get()),b=n.get()-e.get(),w=a.constrain(y/o);n.subtract(b*w),!g&&_t(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:f}}function tle(t,e,n,r,s){const i=Ia(-e+t,0),o=f(),a=d(),l=p();function c(v,y){return zu(v,y)<1}function d(){const v=o[0],y=es(o),b=o.lastIndexOf(v),w=o.indexOf(y)+1;return Ia(b,w)}function f(){return n.map((v,y)=>{const{min:b,max:w}=i,_=i.constrain(v),E=!y,A=Zb(n,y);return E?w:A||c(b,_)?b:c(w,_)?w:_}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:v,max:y}=a;return o.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function nle(t,e,n){const r=e[0],s=n?r-t:es(e);return{limit:Ia(s,r)}}function rle(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Ia(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const g=t*(p*-1);r.forEach(v=>v.add(g))}return{loop:d}}function sle(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function ile(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=f().map(e.measure),c=p(),d=g();function f(){return a(r).map(y=>es(y)[o]-y[0][i]).map(_t)}function p(){return r.map(y=>n[i]-y[i]).map(y=>-_t(y))}function g(){return a(c).map(y=>y[0]).map((y,b)=>y+l[b])}return{snaps:c,snapsAligned:d}}function ole(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const p=o(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?p:p.slice(a,l).map((v,y,b)=>{const w=!y,_=Zb(b,y);if(w){const E=es(b[0])+1;return yP(E)}if(_){const E=vh(i)-es(b)[0]+1;return yP(E,es(b)[0])}return v})}return{slideRegistry:c}}function ale(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((y,b)=>_t(y)-_t(b))[0]}function c(v){const y=t?o(v):a(v),b=e.map((_,E)=>({diff:d(_-y,0),index:E})).sort((_,E)=>_t(_.diff)-_t(E.diff)),{index:w}=b[0];return{index:w,distance:y}}function d(v,y){const b=[v,v+n,v-n];if(!t)return v;if(!y)return l(b);const w=b.filter(_=>Jb(_)===y);return w.length?l(w):es(b)-n}function f(v,y){const b=e[v]-s.get(),w=d(b,y);return{index:v,distance:w}}function p(v,y){const b=s.get()+v,{index:w,distance:_}=c(b),E=!t&&i(b);if(!y||E)return{index:w,distance:v};const A=e[w]-_,N=v+d(A,0);return{index:w,distance:N}}return{byDistance:p,byIndex:f,shortcut:d}}function lle(t,e,n,r,s,i,o){function a(f){const p=f.distance,g=f.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function l(f,p){const g=s.byDistance(f,p);a(g)}function c(f,p){const g=e.clone().set(f),v=s.byIndex(g.get(),p);a(v)}return{distance:l,index:c}}function cle(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const _=n.findIndex(E=>E.includes(y));Xb(_)&&(s.useDuration(0),r.index(_,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),e.forEach((y,b)=>{i.add(y,"focus",w=>{(sy(a)||a(g,w))&&v(b)},l)})}function f(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function vu(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return Xb(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function NF(t,e){const n=t.scroll==="x"?i:o,r=e.style;let s=!1;function i(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function a(f){s||(r.transform=n(t.direction(f)))}function l(f){s=!f}function c(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function ule(t,e,n,r,s,i,o,a,l){const d=jd(s),f=jd(s).reverse(),p=w().concat(_());function g(C,S){return C.reduce((I,P)=>I-s[P],S)}function v(C,S){return C.reduce((I,P)=>g(I,S)>0?I.concat([P]):I,[])}function y(C){return i.map((S,I)=>({start:S-r[I]+.5+C,end:S+e-.5+C}))}function b(C,S,I){const P=y(S);return C.map(D=>{const j=I?0:-n,k=I?n:0,B=I?"end":"start",ie=P[D][B];return{index:D,loopPoint:ie,slideLocation:vu(-1),translate:NF(t,l[D]),target:()=>a.get()>ie?j:k}})}function w(){const C=o[0],S=v(f,C);return b(S,n,!1)}function _(){const C=e-o[0]-1,S=v(d,C);return b(S,-n,!0)}function E(){return p.every(({index:C})=>{const S=d.filter(I=>I!==C);return g(S,e)<=.1})}function A(){p.forEach(C=>{const{target:S,translate:I,slideLocation:P}=C,D=S();D!==P.get()&&(I.to(D),P.set(D))})}function N(){p.forEach(C=>C.translate.clear())}return{canLoop:E,clear:N,loop:A,loopPoints:p}}function dle(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(sy(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function hle(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function f(v){return Md(s).reduce((y,b)=>{const w=parseInt(b),{isIntersecting:_}=s[w];return(v&&_||!v&&!_)&&y.push(w),y},[])}function p(v=!0){if(v&&i)return i;if(!v&&o)return o;const y=f(v);return v&&(i=y),v||(o=y),y}return{init:c,destroy:d,get:p}}function fle(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=v(),f=y(),p=n.map(o),g=b();function v(){if(!c)return 0;const _=n[0];return _t(e[a]-_[a])}function y(){if(!c)return 0;const _=i.getComputedStyle(es(r));return parseFloat(_.getPropertyValue(`margin-${l}`))}function b(){return n.map((_,E,A)=>{const N=!E,M=Zb(A,E);return N?p[E]+d:M?p[E]+f:A[E+1][a]-_[a]}).map(_t)}return{slideSizes:p,slideSizesWithGaps:g,startGap:d,endGap:f}}function ple(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:f}=t,p=Xb(n);function g(w,_){return jd(w).filter(E=>E%_===0).map(E=>w.slice(E,E+_))}function v(w){return w.length?jd(w).reduce((_,E,A)=>{const N=es(_)||0,M=N===0,C=E===vh(w),S=s[c]-i[N][c],I=s[c]-i[E][d],P=!r&&M?f(o):0,D=!r&&C?f(a):0,j=_t(I-D-(S+P));return A&&j>e+l&&_.push(E),C&&_.push(w.length),_},[]).map((_,E,A)=>{const N=Math.max(A[E-1]||0);return w.slice(N,_)}):[]}function y(w){return p?g(w,n):v(w)}return{groupSlides:y}}function mle(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:p,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:b,skipSnaps:w,containScroll:_,watchResize:E,watchSlides:A,watchDrag:N,watchFocus:M}=i,C=2,S=Qae(),I=S.measure(e),P=n.map(S.measure),D=Gae(l,c),j=D.measureSize(I),k=Xae(j),B=Hae(a,j),ie=!f&&!!_,Q=f||!!_,{slideSizes:X,slideSizesWithGaps:O,startGap:F,endGap:K}=fle(D,I,P,n,Q,s),q=ple(D,j,b,f,I,P,F,K,C),{snaps:Z,snapsAligned:te}=ile(D,B,I,P,q),we=-es(Z)+es(O),{snapsContained:Me,scrollContainLimit:pe}=tle(j,we,te,_,C),J=ie?Me:te,{limit:me}=nle(we,J,f),_e=RF(vh(J),d,f),fe=_e.clone(),ce=jd(n),G=({dragHandler:Wt,scrollBody:Vr,scrollBounds:Pn,options:{loop:zn}},pt)=>{zn||Pn.constrain(Wt.pointerDown()),Vr.seek(pt)},xe=({scrollBody:Wt,translate:Vr,location:Pn,offsetLocation:zn,scrollLooper:pt,slideLooper:sr,dragHandler:Wn,animation:ko,eventHandler:be,scrollBounds:Ye,options:{loop:We}},jt)=>{const Ht=Wt.settled(),ir=!Ye.shouldConstrain(),$=We?Ht:Ht&&ir;$&&!Wn.pointerDown()&&(ko.stop(),be.emit("settle")),$||be.emit("scroll");const ee=Pn.get()*jt+Ne.get()*(1-jt);zn.set(ee),We&&(pt.loop(Wt.direction()),sr.loop()),Vr.to(zn.get())},Ae=qae(r,s,Wt=>G(An,Wt),Wt=>xe(An,Wt)),Be=.68,V=J[_e.get()],de=vu(V),Ne=vu(V),he=vu(V),Ke=vu(V),Ve=Zae(de,he,Ne,Ke,p,Be),_r=ale(f,J,we,me,Ke),gt=lle(Ae,_e,fe,Ve,_r,Ke,o),Lr=sle(me),br=Od(),ft=hle(e,n,o,y),{slideRegistry:nt}=ole(ie,_,J,pe,q,ce),Bn=cle(t,n,nt,gt,Ve,br,o,M),An={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:I,slideRects:P,animation:Ae,axis:D,dragHandler:Kae(D,t,r,s,Ke,Yae(D,s),de,Ae,gt,Ve,_r,_e,o,k,g,v,w,Be,N),eventStore:br,percentOfView:k,index:_e,indexPrevious:fe,limit:me,location:de,offsetLocation:he,previousLocation:Ne,options:i,resizeHandler:Jae(e,o,s,n,D,E,S),scrollBody:Ve,scrollBounds:ele(me,he,Ke,Ve,k),scrollLooper:rle(we,me,he,[de,he,Ne,Ke]),scrollProgress:Lr,scrollSnapList:J.map(Lr.get),scrollSnaps:J,scrollTarget:_r,scrollTo:gt,slideLooper:ule(D,j,we,X,O,Z,J,he,n),slideFocus:Bn,slidesHandler:dle(e,o,A),slidesInView:ft,slideIndexes:ce,slideRegistry:nt,slidesToScroll:q,target:Ke,translate:NF(D,e)};return An}function gle(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const yle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function vle(t){function e(i,o){return PF(i,o||{})}function n(i){const o=i.breakpoints||{},a=Md(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>Md(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function wle(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function Rm(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=vle(s),o=wle(i),a=Od(),l=gle(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:p,off:g,emit:v}=l,y=D;let b=!1,w,_=c(yle,Rm.globalOptions),E=c(_),A=[],N,M,C;function S(){const{container:ce,slides:G}=E;M=(ux(ce)?t.querySelector(ce):ce)||t.children[0];const Ae=ux(G)?M.querySelectorAll(G):G;C=[].slice.call(Ae||M.children)}function I(ce){const G=mle(t,M,C,r,s,ce,l);if(ce.loop&&!G.slideLooper.canLoop()){const xe=Object.assign({},ce,{loop:!1});return I(xe)}return G}function P(ce,G){b||(_=c(_,ce),E=d(_),A=G||A,S(),w=I(E),f([_,...A.map(({options:xe})=>xe)]).forEach(xe=>a.add(xe,"change",D)),E.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(fe),w.eventHandler.init(fe),w.resizeHandler.init(fe),w.slidesHandler.init(fe),w.options.loop&&w.slideLooper.loop(),M.offsetParent&&C.length&&w.dragHandler.init(fe),N=o.init(fe,A)))}function D(ce,G){const xe=q();j(),P(c({startIndex:xe},ce),G),l.emit("reInit")}function j(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),a.clear()}function k(){b||(b=!0,a.clear(),j(),l.emit("destroy"),l.clear())}function B(ce,G,xe){!E.active||b||(w.scrollBody.useBaseFriction().useDuration(G===!0?0:E.duration),w.scrollTo.index(ce,xe||0))}function ie(ce){const G=w.index.add(1).get();B(G,ce,-1)}function Q(ce){const G=w.index.add(-1).get();B(G,ce,1)}function X(){return w.index.add(1).get()!==q()}function O(){return w.index.add(-1).get()!==q()}function F(){return w.scrollSnapList}function K(){return w.scrollProgress.get(w.location.get())}function q(){return w.index.get()}function Z(){return w.indexPrevious.get()}function te(){return w.slidesInView.get()}function we(){return w.slidesInView.get(!1)}function Me(){return N}function pe(){return w}function J(){return t}function me(){return M}function _e(){return C}const fe={canScrollNext:X,canScrollPrev:O,containerNode:me,internalEngine:pe,destroy:k,off:g,on:p,emit:v,plugins:Me,previousScrollSnap:Z,reInit:y,rootNode:J,scrollNext:ie,scrollPrev:Q,scrollProgress:K,scrollSnapList:F,scrollTo:B,selectedScrollSnap:q,slideNodes:_e,slidesInView:te,slidesNotInView:we};return P(e,n),setTimeout(()=>l.emit("init"),0),fe}Rm.globalOptions=void 0;function eE(t={},e=[]){const n=m.useRef(t),r=m.useRef(e),[s,i]=m.useState(),[o,a]=m.useState(),l=m.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return m.useEffect(()=>{Qb(n.current,t)||(n.current=t,l())},[t,l]),m.useEffect(()=>{zae(r.current,e)||(r.current=e,l())},[e,l]),m.useEffect(()=>{if(Bae()&&o){Rm.globalOptions=eE.globalOptions;const c=Rm(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}eE.globalOptions=void 0;const kF=m.createContext(null);function iy(){const t=m.useContext(kF);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const DF=m.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=eE({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=m.useState(!1),[p,g]=m.useState(!1),v=m.useCallback(_=>{_&&(f(_.canScrollPrev()),g(_.canScrollNext()))},[]),y=m.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=m.useCallback(()=>{c==null||c.scrollNext()},[c]),w=m.useCallback(_=>{_.key==="ArrowLeft"?(_.preventDefault(),y()):_.key==="ArrowRight"&&(_.preventDefault(),b())},[y,b]);return m.useEffect(()=>{!c||!n||n(c)},[c,n]),m.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),u.jsx(kF.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:d,canScrollNext:p},children:u.jsx("div",{ref:a,onKeyDownCapture:w,className:oe("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});DF.displayName="Carousel";const jF=m.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=iy();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:oe("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});jF.displayName="CarouselContent";const MF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r}=iy();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:oe("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});MF.displayName="CarouselItem";const OF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollPrev:s,canScrollPrev:i}=iy();return u.jsxs(ve,{ref:n,variant:"outline",size:"icon",className:oe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"left-4 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(Ck,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:""})]})});OF.displayName="CarouselPrevious";const LF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollNext:s,canScrollNext:i}=iy();return u.jsxs(ve,{ref:n,variant:"outline",size:"icon",className:oe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"right-4 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(FU,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:""})]})});LF.displayName="CarouselNext";var vP=!1,Wo,hx,fx,op,ap,VF,lp,px,mx,gx,FF,yx,vx,UF,$F;function qn(){if(!vP){vP=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(yx=/\b(iPhone|iP[ao]d)/.exec(t),vx=/\b(iP[ao]d)/.exec(t),gx=/Android/i.exec(t),UF=/FBAN\/\w+;/i.exec(t),$F=/Mobile/i.exec(t),FF=!!/Win64/.exec(t),e){Wo=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Wo&&document&&document.documentMode&&(Wo=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);VF=r?parseFloat(r[1])+4:Wo,hx=e[2]?parseFloat(e[2]):NaN,fx=e[3]?parseFloat(e[3]):NaN,op=e[4]?parseFloat(e[4]):NaN,op?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),ap=e&&e[1]?parseFloat(e[1]):NaN):ap=NaN}else Wo=hx=fx=ap=op=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);lp=s?parseFloat(s[1].replace("_",".")):!0}else lp=!1;px=!!n[2],mx=!!n[3]}else lp=px=mx=!1}}var wx={ie:function(){return qn()||Wo},ieCompatibilityMode:function(){return qn()||VF>Wo},ie64:function(){return wx.ie()&&FF},firefox:function(){return qn()||hx},opera:function(){return qn()||fx},webkit:function(){return qn()||op},safari:function(){return wx.webkit()},chrome:function(){return qn()||ap},windows:function(){return qn()||px},osx:function(){return qn()||lp},linux:function(){return qn()||mx},iphone:function(){return qn()||yx},mobile:function(){return qn()||yx||vx||gx||$F},nativeApp:function(){return qn()||UF},android:function(){return qn()||gx},ipad:function(){return qn()||vx}},xle=wx,vf=!!(typeof window<"u"&&window.document&&window.document.createElement),_le={canUseDOM:vf,canUseWorkers:typeof Worker<"u",canUseEventListeners:vf&&!!(window.addEventListener||window.attachEvent),canUseViewport:vf&&!!window.screen,isInWorker:!vf},ble=_le,BF=ble,zF;BF.canUseDOM&&(zF=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ele(t,e){if(!BF.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&zF&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Tle=Ele,Sle=xle,Cle=Tle,wP=10,xP=40,_P=800;function WF(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*wP,s=n*wP,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=xP,s*=xP):(r*=_P,s*=_P)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}WF.getEventType=function(){return Sle.firefox()?"DOMMouseScroll":Cle("wheel")?"wheel":"mousewheel"};var Ile=WF,Ale=Ile;const Ple=xx(Ale);function Rle(t,e,n,r,s,i){i===void 0&&(i=0);var o=cc(t,e,i),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*s?{width:d*s,height:d}:{width:c,height:c/s}}function Nle(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Zc(t,e,n,r,s){s===void 0&&(s=0);var i=cc(e.width,e.height,s),o=i.width,a=i.height;return{x:bP(t.x,o,n.width,r),y:bP(t.y,a,n.height,r)}}function bP(t,e,n,r){var s=e*r/2-n/2;return oy(t,-s,s)}function EP(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function TP(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function kle(t,e,n,r,s,i,o){i===void 0&&(i=0),o===void 0&&(o=!0);var a=o?Dle:jle,l=cc(e.width,e.height,i),c=cc(e.naturalWidth,e.naturalHeight,i),d={x:a(100,((l.width-n.width/s)/2-t.x/s)/l.width*100),y:a(100,((l.height-n.height/s)/2-t.y/s)/l.height*100),width:a(100,n.width/l.width*100/s),height:a(100,n.height/l.height*100/s)},f=Math.round(a(c.width,d.width*c.width/100)),p=Math.round(a(c.height,d.height*c.height/100)),g=c.width>=c.height*r,v=g?{width:Math.round(p*r),height:p}:{width:f,height:Math.round(f/r)},y=ot(ot({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:y}}function Dle(t,e){return Math.min(t,Math.max(0,e))}function jle(t,e){return e}function Mle(t,e,n,r,s,i){var o=cc(e.width,e.height,n),a=oy(r.width/o.width*(100/t.width),s,i),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function Ole(t,e,n){var r=Nle(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function Lle(t,e,n,r,s,i){n===void 0&&(n=0);var o=cc(e.naturalWidth,e.naturalHeight,n),a=oy(Ole(t,e,r),s,i),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function SP(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Vle(t){return t*Math.PI/180}function cc(t,e,n){var r=Vle(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function oy(t,e,n){return Math.min(Math.max(t,e),n)}function wf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Fle=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Ule=1,$le=3,Ble=1,zle=function(t){FZ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=m.createRef(),n.imageRef=m.createRef(),n.videoRef=m.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=Mle(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=s.crop,o=s.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=Lle(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=a.crop,o=a.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,s,i,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,p=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=c.offsetWidth<f||c.offsetHeight<p,v=f/p,y=void 0;if(g)switch(n.state.mediaObjectFit){default:case"contain":y=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":y={width:n.containerRect.height*v,height:n.containerRect.height};break}else y={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ot(ot({},y),{naturalWidth:f,naturalHeight:p}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var b=n.props.cropSize?n.props.cropSize:Rle(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==b.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==b.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(b),n.setState({cropSize:b},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(b),b}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,i,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ot({},n.props.crop),(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s)},n.onDrag=function(r){var s=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||i===void 0)){var o=s-n.dragStartPosition.x,a=i-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?Zc(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),i=Ple(r).pixelY,o=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,s){var i=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-s.x),y:n.containerRect.height/2-(o-s.y)}},n.getPointOnMedia=function(r){var s=r.x,i=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(s+a.x)/l,y:(i+a.y)/l}},n.setNewZoom=function(r,s,i){var o=i===void 0?{}:i,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=oy(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(s,n.containerPosition),f=n.getPointOnMedia(d),p={x:f.x*c-d.x,y:f.y*c-d.y},g=n.props.restrictPosition?Zc(p,n.mediaSize,n.state.cropSize,c,n.props.rotation):p;n.props.onCropChange(g)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Zc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return kle(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Zc(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,i,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,f=o.rotation,p=c;if(n.state.cropSize){r.shiftKey&&(p*=.2);var g=ot({},a);switch(r.key){case"ArrowUp":g.y-=p,r.preventDefault();break;case"ArrowDown":g.y+=p,r.preventDefault();break;case"ArrowLeft":g.x-=p,r.preventDefault();break;case"ArrowRight":g.x+=p,r.preventDefault();break;default:return}n.props.restrictPosition&&(g=Zc(g,n.mediaSize,n.state.cropSize,d,f)),r.repeat||(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s),l(g)}},n.onKeyUp=function(r){var s,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(i=(s=n.props).onInteractionEnd)===null||i===void 0||i.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Fle,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,i,o,a,l,c,d,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,i;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=EP(r,s),this.lastPinchRotation=TP(r,s),this.onDragStart(SP(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),o=SP(s,i);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=EP(s,i),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=TP(s,i),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,s=this.props,i=s.image,o=s.video,a=s.mediaProps,l=s.cropperProps,c=s.transform,d=s.crop,f=d.x,p=d.y,g=s.rotation,v=s.zoom,y=s.cropShape,b=s.showGrid,w=s.style,_=w.containerStyle,E=w.cropAreaStyle,A=w.mediaStyle,N=s.classes,M=N.containerClassName,C=N.cropAreaClassName,S=N.mediaClassName,I=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return m.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(D){return n.containerRef=D},"data-testid":"container",style:_,className:wf("reactEasyCrop_Container",M)},i?m.createElement("img",ot({alt:"",className:wf("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{src:i,ref:this.imageRef,style:ot(ot({},A),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&m.createElement("video",ot({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:wf("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ot(ot({},A),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(P){return m.createElement("source",ot({key:P.src},P))})),this.state.cropSize&&m.createElement("div",ot({ref:this.cropperRef,style:ot(ot({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:wf("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",b&&"reactEasyCrop_CropAreaGrid",C)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:$le,minZoom:Ule,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Ble},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(m.Component);const CP=async t=>{var i;const e="dmao2zbvt",n="news_unsigned",r=[],s=[];for(const o of t){const a=new FormData;a.append("file",o),a.append("upload_preset",n),a.append("cloud_name",e);const l=await fetch(`https://api.cloudinary.com/v1_1/${e}/image/upload`,{method:"POST",body:a,mode:"cors"});if(!l.ok){const d=await l.json();throw new Error(`  : ${((i=d.error)==null?void 0:i.message)||l.statusText}`)}const c=await l.json();if(!c.secure_url)throw new Error("      Cloudinary");r.push(c.secure_url),s.push(o.name)}return{urls:r,names:s}},IP=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState([]),[o,a]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(!1),[p,g]=m.useState(Ot.currentUser);m.useState(!1);const[v,y]=m.useState(""),[b,w]=m.useState(""),[_,E]=m.useState([]),[A,N]=m.useState(0),[M,C]=m.useState([]),[S,I]=m.useState(null),[P,D]=m.useState(!1),[j,k]=m.useState(null),[B,ie]=m.useState({x:0,y:0}),[Q,X]=m.useState(1),[O,F]=m.useState(null),K=m.useRef(null),[q,Z]=m.useState([]),[te,we]=m.useState(null),[Me,pe]=m.useState(!1),[J,me]=m.useState(""),[_e,fe]=m.useState(""),[ce,G]=m.useState([]),[xe,Ae]=m.useState([]),[Be,V]=m.useState([]),[de,Ne]=m.useState(null),[he,Ke]=m.useState({}),[Ve,_r]=m.useState(""),[gt,Lr]=m.useState(null),[br,ft]=m.useState("latest");m.useState(!1);const[nt,Bn]=m.useState(!1),[An,Wt]=m.useState({}),Vr=s.filter($=>{const ee=$.title.toLowerCase().includes(Ve.toLowerCase())||$.description.toLowerCase().includes(Ve.toLowerCase()),Ee=!gt||gt==="all"||$.category===gt;return ee&&Ee}).sort(($,ee)=>{switch(br){case"trending":return(ee.trending?1:0)-($.trending?1:0);case"popular":return(ee.likes||0)-($.likes||0);default:return new Date(ee.createdAt).getTime()-new Date($.createdAt).getTime()}}),Pn=$=>{Bn(!0);const ee=window.open("","_blank");ee&&(ee.document.write(`
        <html dir="rtl">
          <head>
            <title>${$.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .header { text-align: center; margin-bottom: 20px; }
              .image { max-width: 100%; height: auto; margin: 20px 0; }
              .content { line-height: 1.6; }
              .footer { margin-top: 20px; text-align: center; font-size: 0.8em; color: #666; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${$.title}</h1>
              <p>${new Date($.createdAt).toLocaleDateString("ar-EG")}</p>
            </div>
            ${$.imageUrls[0]?`<img src="${$.imageUrls[0]}" class="image" alt="${$.title}">`:""}
            <div class="content">${$.description}</div>
            <div class="footer">
              <p> Alpha </p>
            </div>
          </body>
        </html>
      `),ee.document.close(),ee.print(),Bn(!1))};m.useEffect(()=>{const $=$g(Ot,ee=>{g(ee)});return()=>$()},[]),m.useEffect(()=>{(async()=>{if(!p)return e(!1);const ee=Zt(ze,"users",p.uid),Ee=await lc(ee);e(Ee.exists()&&Ee.data().role==="owner"||Ee.data().role==="admin")})()},[p]),m.useEffect(()=>{(async()=>{a(!0);const ee=ws(Jt(ze,"news"),sh("createdAt","desc")),Ee=await Ar(ee);i(Ee.docs.map(Pe=>({id:Pe.id,...Pe.data()}))),a(!1)})()},[]),m.useEffect(()=>{if(!ce.length){Ae([]);return}const $=[];let ee=!1;return Promise.all(ce.map((Ee,Pe)=>new Promise(Ct=>{const Hn=new FileReader;$[Pe]=Hn,Hn.onloadend=()=>Ct(Hn.result),Hn.readAsDataURL(Ee)}))).then(Ee=>{ee||Ae(Ee)}),()=>{ee=!0,$.forEach(Ee=>Ee&&Ee.abort&&Ee.abort())}},[ce]);const zn=$=>{if($.target.files&&$.target.files.length>0){const ee=Array.from($.target.files);if(Z(ee),E(ee),C([]),N(0),I(null),ee.length>0){const Ee=new FileReader;Ee.addEventListener("load",()=>{k(Ee.result),D(!0)}),Ee.readAsDataURL(ee[0])}}},pt=m.useCallback(($,ee)=>{F(ee)},[]),sr=m.useCallback(async()=>{if(!j||!O||_.length===0||!K.current)return null;try{const $=document.createElement("canvas"),ee=K.current,Ee=ee.naturalWidth/ee.width,Pe=ee.naturalHeight/ee.height;$.width=O.width,$.height=O.height;const Ct=$.getContext("2d");return Ct?(Ct.drawImage(ee,O.x*Ee,O.y*Pe,O.width*Ee,O.height*Pe,0,0,O.width,O.height),new Promise(Hn=>{$.toBlob(it=>{if(it){const yt=new File([it],`cropped_${_[A].name}`,{type:it.type});Hn(yt)}else Hn(null)},_[A].type,1)})):null}catch($){return console.error("Error cropping image:",$),null}},[j,O,_,A,K]),Wn=async $=>{if($.preventDefault(),I(null),!v.trim()||!b.trim()||M.length===0){I("        .");return}a(!0);try{const{urls:ee,names:Ee}=await CP(M),Pe=await Og(Jt(ze,"news"),{title:v.trim(),description:b.trim(),imageUrls:ee,imageNames:Ee,createdAt:Et.now(),tag:"",likes:0,likedBy:[]});r(!1),y(""),w(""),E([]),N(0),C([]),Z([]),i(Ct=>[{id:Pe.id,title:v.trim(),description:b.trim(),imageUrls:ee,imageNames:Ee,createdAt:new Date,tag:"",likes:0,likedBy:[]},...Ct])}catch{I("    .")}a(!1)},ko=$=>{we($),me($.title),fe($.description),G([]),Ae([]),V([]),pe(!0)},be=async $=>{if($.preventDefault(),!!te){a(!0);try{const ee=te.imageUrls.filter((yt,Rn)=>!Be.includes(Rn)),Ee=te.imageNames.filter((yt,Rn)=>!Be.includes(Rn));let Pe=[],Ct=[];if(ce.length>0){const yt=await CP(ce);Pe=yt.urls,Ct=yt.names}const Hn=[...ee,...Pe],it=[...Ee,...Ct];await ua(Zt(ze,"news",te.id),{title:J.trim(),description:_e.trim(),imageUrls:Hn,imageNames:it}),i(yt=>yt.map(Rn=>Rn.id===te.id?{...Rn,title:J.trim(),description:_e.trim(),imageUrls:Hn,imageNames:it}:Rn)),pe(!1),we(null),fs({title:" ",description:"   ."})}catch{fs({title:"",description:"    ",variant:"destructive"})}a(!1)}},Ye=async $=>{if(!p){fs({title:"",description:"   ",variant:"destructive"});return}Wt(Pe=>({...Pe,[$]:!0})),setTimeout(()=>{Wt(Pe=>({...Pe,[$]:!1}))},1e3);const ee=Zt(ze,"news",$),Ee=await lc(ee);Ee.exists()&&((Ee.data().likedBy||[]).includes(p.uid)?(await ua(ee,{likes:vA(-1),likedBy:yJ(p.uid)}),i(it=>it.map(yt=>yt.id===$?{...yt,likes:(yt.likes||0)-1,likedBy:yt.likedBy.filter(Rn=>Rn!==p.uid)}:yt))):(await ua(ee,{likes:vA(1),likedBy:gJ(p.uid)}),i(it=>it.map(yt=>yt.id===$?{...yt,likes:(yt.likes||0)+1,likedBy:[...yt.likedBy||[],p.uid]}:yt))))},We=async $=>{try{await Di(Zt(ze,"news",$)),i(ee=>ee.filter(Ee=>Ee.id!==$)),f(!1),fs({title:"  ",description:"   "})}catch(ee){console.error("Error deleting news:",ee),fs({title:"",description:"    ",variant:"destructive"})}},jt=async $=>{const ee=`${window.location.origin}/#news/${$}`;try{await navigator.clipboard.writeText(ee),fs({title:" ",description:"     ."})}catch(Ee){console.error("Failed to copy link: ",Ee),fs({title:"",description:"   .",variant:"destructive"})}},Ht=$=>{Ke(ee=>({...ee,[$]:!ee[$]})),fs({title:he[$]?"   ":"   ",description:he[$]?"     ":"     "})},ir=async $=>{if(navigator.share)try{await navigator.share({title:$.title,text:$.description,url:`${window.location.origin}/#news/${$.id}`})}catch(ee){console.error("Error sharing:",ee)}else jt($.id)};return u.jsx(Ri,{children:u.jsxs("div",{className:"container mx-auto py-6 px-1 md:px-0 animate-fade-in",children:[u.jsxs(je.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"mb-12 text-center relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 blur-3xl -z-10"}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(je.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:u.jsx(XU,{className:"h-16 w-16 text-primary drop-shadow-lg"})})}),u.jsx(je.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl md:text-5xl font-extrabold text-primary mb-2 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/80",children:" "}),u.jsx(je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg md:text-xl text-muted-foreground font-medium",children:s.length===0?"   .":"      Alpha "}),u.jsxs(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center items-center gap-4 mt-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx(V0,{className:"h-6 w-6"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx($0,{className:"h-6 w-6"})})]})]}),t&&u.jsx("div",{className:"flex justify-center mt-8 mb-8",children:u.jsxs(ve,{size:"lg",className:"flex items-center gap-2 text-lg font-bold",onClick:()=>r($=>!$),variant:n?"secondary":"default",children:[u.jsx(U0,{className:"h-5 w-5"}),n?"":" "]})}),t&&n&&u.jsxs(je.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:Wn,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-6",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-6 text-primary flex items-center gap-2 border-b pb-4 border-border/70",children:[u.jsx(U0,{className:"h-6 w-6"}),"   "]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"news-title",className:"block mb-2 font-medium text-foreground",children:" "}),u.jsx(Ln,{id:"news-title",placeholder:"   ",value:v,onChange:$=>y($.target.value),className:"mb-3",maxLength:120,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"news-description",className:"block mb-2 font-medium text-foreground",children:" "}),u.jsx(cx,{id:"news-description",placeholder:"   ",value:b,onChange:$=>w($.target.value),className:"mb-3",rows:4,maxLength:800,required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"news-images",className:"block mb-3 font-bold text-foreground flex items-center gap-2",children:[u.jsx(Xy,{className:"h-5 w-5"}),"  (    ) ",u.jsx("span",{className:"font-normal text-muted-foreground text-sm",children:"(      )"})]}),u.jsx(Ln,{id:"news-images",type:"file",accept:"image/*",multiple:!0,onChange:zn,required:!0})]}),q.length>0&&u.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[u.jsx("p",{className:"col-span-full text-sm font-medium text-muted-foreground mb-1",children:"  ( ):"}),q.map(($,ee)=>u.jsxs("div",{className:"relative group aspect-video overflow-hidden rounded-lg shadow border border-border/70",children:[u.jsx("img",{src:URL.createObjectURL($),alt:`  ${ee+1}`,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:u.jsxs("span",{className:"text-white text-xs font-bold",children:["#",ee+1]})})]},ee))]}),M.length>0&&u.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[u.jsx("p",{className:"col-span-full text-sm font-medium text-muted-foreground mb-1",children:" :"}),M.map(($,ee)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:URL.createObjectURL($),alt:`  ${ee+1}`,className:"max-h-24 rounded-lg shadow border"}),u.jsx(ve,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500 bg-card/60 rounded-full",onClick:()=>C(Ee=>Ee.filter((Pe,Ct)=>Ct!==ee)),title:" ",children:u.jsx(Hi,{className:"h-3 w-3"})})]},ee))]}),S&&u.jsx("div",{className:"text-red-500 text-center mt-4",children:S}),u.jsx(ve,{type:"submit",className:"w-full",disabled:o||M.length===0,children:o?u.jsxs(u.Fragment,{children:[u.jsx(nS,{className:"h-5 w-5 mr-2 animate-spin"})," ..."]}):" "})]}),t&&Me&&te&&u.jsxs(je.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:be,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[u.jsx(sS,{className:"h-6 w-6"}),"  "]}),u.jsx(Ln,{placeholder:" ",value:J,onChange:$=>me($.target.value),className:"mb-3",maxLength:120,required:!0}),u.jsx(cx,{placeholder:" ",value:_e,onChange:$=>fe($.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(Xy,{className:"h-5 w-5"}),"  "]}),u.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:te.imageUrls.map(($,ee)=>Be.includes(ee)?null:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:$,alt:` ${ee+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(ve,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>V(Ee=>[...Ee,ee]),title:" ",children:u.jsx(Hi,{className:"h-4 w-4"})})]},ee))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(Xy,{className:"h-5 w-5"}),"   ()"]}),u.jsx(Ln,{type:"file",accept:"image/*",multiple:!0,onChange:$=>G($.target.files?Array.from($.target.files):[])}),xe.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-3 items-center",children:xe.map(($,ee)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:$,alt:`  ${ee+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(ve,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>{G(Ee=>Ee.filter((Pe,Ct)=>Ct!==ee)),Ae(Ee=>Ee.filter((Pe,Ct)=>Ct!==ee))},title:" ",children:u.jsx(Hi,{className:"h-4 w-4"})})]},ee))})]}),u.jsx(ve,{type:"submit",className:"w-full",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx(nS,{className:"h-5 w-5 mr-2 animate-spin"})," ..."]}):" "}),u.jsx(ve,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>pe(!1),children:""})]}),de&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center",onClick:()=>Ne(null),children:[u.jsx("img",{src:de,alt:" ",className:"max-w-full max-h-full rounded-lg shadow-2xl border-4 border-white",style:{objectFit:"contain"}}),u.jsx("button",{className:"absolute top-4 left-4 bg-white/80 rounded-full p-2 text-black",onClick:()=>Ne(null),children:u.jsx(Hi,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8",children:u.jsx(Wp,{children:Vr.map(($,ee)=>{var Ee;return u.jsx(je.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*ee,duration:.6,type:"spring"},onClick:()=>{c($),f(!0)},className:"group",children:u.jsxs(wt,{className:"relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 rounded-2xl border bg-gradient-to-br from-card via-background/50 to-background flex flex-col h-full",children:[u.jsxs("div",{className:"relative card-image w-full h-48 sm:h-56 object-cover rounded-t-xl overflow-hidden",children:[$.imageUrls&&$.imageUrls.length>0?u.jsx(je.img,{src:$.imageUrls[0],alt:$.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.5}}):u.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center text-muted-foreground",children:"  "}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),$.imageUrls&&$.imageUrls.length>1&&u.jsxs(je.span,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full backdrop-blur-sm",children:[$.imageUrls.length," "]}),u.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 right-2 flex gap-2",children:[u.jsx(ve,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Pe=>{Pe.stopPropagation(),Ht($.id)},children:u.jsx(LU,{className:`h-4 w-4 ${he[$.id]?"fill-white":""}`})}),u.jsx(ve,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Pe=>{Pe.stopPropagation(),ir($)},children:u.jsx(iS,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"relative p-4 sm:p-6 z-10 flex-grow",children:u.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-xl p-4 sm:p-6 shadow-lg border border-border/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx(Nt,{className:"text-lg sm:text-xl md:text-2xl font-bold line-clamp-2 text-foreground flex-1 ml-4",children:$.title}),t&&u.jsxs(ve,{variant:"outline",size:"sm",onClick:Pe=>{Pe.stopPropagation(),ko($),f(!1)},children:[u.jsx(sS,{className:"h-4 w-4 ml-2"}),""]})]}),u.jsx(on,{className:"text-xs sm:text-sm md:text-base text-muted-foreground/90 line-clamp-3 mb-4",children:$.description}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Pe=>Pe.stopPropagation(),children:u.jsx(V0,{className:"h-4 w-4"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Pe=>Pe.stopPropagation(),children:u.jsx($0,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ve,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Pe=>{Pe.stopPropagation(),Pn($)},title:"",children:u.jsx(ZU,{className:"h-4 w-4"})}),u.jsx(ve,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Pe=>{Pe.stopPropagation(),Ye($.id)},children:u.jsx(n$,{className:`h-4 w-4 ${(Ee=$.likedBy)!=null&&Ee.includes(p==null?void 0:p.uid)?"fill-primary":""}`})}),u.jsx(ve,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Pe=>{Pe.stopPropagation(),ir($)},children:u.jsx(iS,{className:"h-4 w-4"})})]})]})]})}),t&&u.jsx("div",{className:"absolute bottom-4 left-4 z-20",children:u.jsxs(tx,{children:[u.jsx(nx,{asChild:!0,children:u.jsxs(ve,{variant:"destructive",size:"sm",onClick:Pe=>Pe.stopPropagation(),children:[u.jsx(aa,{className:"h-4 w-4 ml-2"})," "]})}),u.jsxs(vm,{children:[u.jsxs(wm,{children:[u.jsx(_m,{children:"     "}),u.jsx(bm,{children:"     .     ."})]}),u.jsxs(xm,{children:[u.jsx(Tm,{onClick:Pe=>Pe.stopPropagation(),children:""}),u.jsx(Em,{onClick:Pe=>{Pe.stopPropagation(),We($.id)},children:""})]})]})]})})]})},$.id)})})}),u.jsx(rx,{open:d,onOpenChange:f,children:u.jsx(Cm,{className:"max-w-4xl",children:l&&u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx(Im,{children:u.jsx(Am,{className:"text-2xl font-bold mb-4",children:l.title})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:l.description}),u.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:u.jsx("time",{className:"text-sm",children:l.createdAt instanceof Et?new Date(l.createdAt.toMillis()).toLocaleDateString("ar-EG"):new Date(l.createdAt).toLocaleDateString("ar-EG")})})]})]}),u.jsx("div",{className:"w-full md:w-1/2",children:l.imageUrls&&l.imageUrls.length>0&&u.jsxs(DF,{children:[u.jsx(jF,{children:l.imageUrls.map(($,ee)=>u.jsx(MF,{children:u.jsx("img",{src:$,alt:`${l.title} -  ${ee+1}`,className:"w-full h-auto rounded-lg"})},ee))}),u.jsx(OF,{}),u.jsx(LF,{})]})})]})})}),j&&P&&u.jsx(rx,{open:P,onOpenChange:D,children:u.jsxs(Cm,{className:"sm:max-w-[600px]",children:[u.jsx(Im,{children:u.jsx(Am,{children:" "})}),u.jsx("div",{className:"relative h-[400px]",children:u.jsx(zle,{image:j,crop:B,zoom:Q,aspect:16/9,onCropChange:ie,onCropComplete:pt,onZoomChange:X})}),u.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[u.jsx(ve,{variant:"outline",onClick:()=>D(!1),children:""}),u.jsx(ve,{onClick:sr,children:" "})]})]})})]})})},Qa=[{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/bghcpeiacxnthdxgiup6.jpg",link:"https://linktr.ee/hsabadix"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/uhen7u7sr3aa2rx1uxpa.jpg",link:"https://linktr.ee/4pv_1"},{name:" ",role:"  ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/cka4s6p8geysflkp2s77.jpg",link:"http://Linktr.ee/wski4"},{name:" ",role:"  ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748568146/jcs4zyfsmg7xqyllzcmb.jpg",link:"https://linktr.ee/Hasan.21"},{name:" ",role:"  ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/ni2wrrr54v2ep3pnef2v.jpg",link:"https://linktr.ee/humam1500"},{name:" ",role:"  ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/zyfjcos1xkgtrixnwfia.jpg",link:"https://linktr.ee/Dve_Hussein"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748618880/qwbvrxcuo700z8zdqi2g.jpg",link:"https://linktr.ee/elaf_8"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/wqltditgxyk9skpksxxo.jpg",link:"https://linktr.ee/sa_is1"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/gt1tologlhpmtor694nk.jpg",link:"https://linktr.ee/xalpha_team"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/wg9xa205iy3oxgknzome.jpg",link:"https://linktr.ee/awsyaas"},{name:" ",role:" ",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/xzlcssrx6wpjy7rwpbg8.jpg",link:"https://linktr.ee/null4"}],Wle=()=>u.jsxs(Ri,{children:[u.jsxs("div",{className:"relative w-full bg-gradient-to-br from-primary via-primary/90 to-primary/80 py-20 flex flex-col items-center justify-center gap-6 rounded-b-[3rem] shadow-2xl mb-20 overflow-hidden backdrop-blur-md",children:[u.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 to-transparent"}),u.jsx(Wi,{className:"h-20 w-20 text-white drop-shadow-xl z-10 mb-4 animate-float"}),u.jsxs("h1",{className:"text-6xl md:text-7xl font-extrabold text-white tracking-tight drop-shadow-2xl z-10 mb-4 relative",children:["Alpha Team",u.jsx("span",{className:"block mx-auto mt-4 h-1.5 w-32 bg-white/80 rounded-full"})]}),u.jsx("p",{className:"text-2xl md:text-3xl text-white/90 font-medium max-w-4xl mx-auto leading-relaxed z-10 text-center px-4",children:"                     ."})]}),u.jsxs("div",{className:"container mx-auto py-16 px-4 animate-fade-in",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-32",children:[u.jsxs(wt,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(t$,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(Nt,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:""})]}),u.jsx(kt,{children:u.jsx(on,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"               ."})})]}),u.jsxs(wt,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(dr,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(Nt,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:" "})]}),u.jsx(kt,{children:u.jsx(on,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"          ."})})]}),u.jsxs(wt,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(Wi,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(Nt,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:" "})]}),u.jsx(kt,{children:u.jsx(on,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"          ."})})]}),u.jsxs(wt,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(WU,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(Nt,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:""})]}),u.jsx(kt,{children:u.jsx(on,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"       ."})})]})]}),u.jsx("div",{className:"flex justify-center mb-24",children:u.jsx("div",{className:"w-1/2 h-1 bg-gradient-to-r from-transparent via-primary/60 to-transparent rounded-full shadow-lg"})}),u.jsxs("h2",{className:"text-4xl font-extrabold text-primary mb-16 text-center flex items-center justify-center gap-3 drop-shadow relative",children:[u.jsx(Wi,{className:"h-12 w-12"}),"  ",u.jsx("span",{className:"absolute left-1/2 -bottom-3 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-primary/60 via-primary to-primary/60 rounded-full"})]}),u.jsx("div",{className:"flex justify-center mb-16",children:u.jsxs(wt,{className:"text-center shadow-2xl hover:shadow-3xl border-0 transition-all duration-300 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 group rounded-3xl backdrop-blur-md w-full md:w-2/3 lg:w-1/2",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-44 h-44 mx-auto mb-8 group",children:[u.jsx("img",{src:Qa[0].img,alt:Qa[0].name,className:"w-44 h-44 rounded-full border-4 border-primary shadow-lg object-cover group-hover:scale-110 transition-transform duration-300 bg-white/90 dark:bg-background/80"}),u.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/30 to-primary/0 blur-[12px] opacity-60 -z-10 group-hover:blur-[16px] transition-all duration-300"})]}),u.jsx(Nt,{className:"text-3xl font-bold mb-2 text-primary group-hover:text-primary/90 transition-colors duration-200 drop-shadow-lg",children:Qa[0].name}),u.jsx(on,{className:"text-primary/80 dark:text-white/80 font-semibold mb-6 text-xl drop-shadow",children:Qa[0].role})]}),u.jsx(kt,{children:u.jsxs("a",{href:Qa[0].link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-gradient-to-r from-primary to-primary/80 text-white shadow-lg hover:scale-105 hover:from-primary/90 hover:to-primary/70 transition-all duration-200 text-lg font-semibold drop-shadow-lg",children:[u.jsx(YU,{className:"h-5 w-5"}),u.jsx("span",{children:" "})]})})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:Qa.slice(1).map((t,e)=>u.jsxs(wt,{className:"text-center shadow-xl hover:shadow-2xl border-0 transition-all duration-300 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 group rounded-3xl backdrop-blur-md",children:[u.jsxs(Ft,{children:[u.jsxs("div",{className:"relative w-28 h-28 mx-auto mb-4 group",children:[u.jsx("img",{src:t.img,alt:t.name,className:"w-28 h-28 rounded-full border-4 border-primary shadow-lg object-cover group-hover:scale-110 transition-transform duration-300 bg-white/90 dark:bg-background/80"}),u.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/30 to-primary/0 blur-[8px] opacity-60 -z-10 group-hover:blur-[12px] transition-all duration-300"})]}),u.jsx(Nt,{className:"text-xl font-bold mb-1 text-primary group-hover:text-primary/90 transition-colors duration-200 drop-shadow-lg",children:t.name}),u.jsx(on,{className:"text-primary/80 dark:text-white/80 font-semibold mb-2 text-base drop-shadow",children:t.role})]}),u.jsx(kt,{children:u.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-all duration-300 group relative overflow-hidden",children:[u.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/20 to-primary/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),u.jsx(qU,{className:"h-4 w-4 transition-transform duration-300 group-hover:rotate-12"}),u.jsx("span",{className:"text-sm relative z-10 transition-transform duration-300 group-hover:translate-x-1",children:" "})]})})]},e))}),u.jsx("div",{className:"flex justify-center mt-24",children:u.jsx("div",{className:"w-1/2 h-1 bg-gradient-to-r from-transparent via-primary/60 to-transparent rounded-full shadow-lg"})})]})]}),Hle=new dz,qle=()=>(m.useEffect(()=>{const t=$g(Ot,e=>{e&&Rd({userId:e.uid,type:"app_loaded",details:JSON.stringify({pathname:window.location.pathname,search:window.location.search})})});return()=>t()},[]),u.jsx(fz,{client:Hle,children:u.jsxs(BB,{children:[u.jsx(U$,{}),u.jsx(m9,{}),u.jsx(d8,{children:u.jsxs(s8,{children:[u.jsx(vn,{path:"/",element:u.jsx(Ri,{children:u.jsx(fne,{})})}),u.jsx(vn,{path:"/login",element:u.jsx(xne,{})}),u.jsx(vn,{path:"/register",element:u.jsx(bne,{})}),u.jsx(vn,{path:"/news",element:u.jsx(IP,{})}),u.jsx(vn,{path:"/news/:newsId",element:u.jsx(IP,{})}),u.jsx(vn,{path:"/about",element:u.jsx(Wle,{})}),u.jsxs(vn,{element:u.jsx(fP,{}),children:[u.jsx(vn,{path:"/lectures",element:u.jsx(Ri,{children:u.jsx(pne,{})})}),u.jsx(vn,{path:"/lectures/:stageId",element:u.jsx(Ri,{children:u.jsx(mne,{})})}),u.jsx(vn,{path:"/lectures/:stageId/:subjectId",element:u.jsx(Ri,{children:u.jsx(gne,{})})}),u.jsx(vn,{path:"/lectures/:stageId/:subjectId/:lectureId",element:u.jsx(Ri,{children:u.jsx(yne,{})})})]}),u.jsx(vn,{element:u.jsx(fP,{allowedRoles:["admin","owner"]}),children:u.jsx(vn,{path:"/admin-dashboard",element:u.jsx(Ri,{children:u.jsx(Uae,{})})})}),u.jsx(vn,{path:"/AlphaTeam/*",element:u.jsx(J0,{to:"/",replace:!0})}),u.jsx(vn,{path:"*",element:u.jsx(Ene,{})})]})}),u.jsx(Yse,{})]})}));QN(document.getElementById("root")).render(u.jsx(Gse,{children:u.jsx(qle,{})}));
