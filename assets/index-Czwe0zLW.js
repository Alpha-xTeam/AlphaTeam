var n_=t=>{throw TypeError(t)};var zy=(t,e,n)=>e.has(t)||n_("Cannot "+n);var K=(t,e,n)=>(zy(t,e,"read from private field"),n?n.call(t):e.get(t)),it=(t,e,n)=>e.has(t)?n_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Be=(t,e,n,r)=>(zy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Tn=(t,e,n)=>(zy(t,e,"access private method"),n);var lf=(t,e,n,r)=>({set _(s){Be(t,e,s,n)},get _(){return K(t,e,r)}});function R5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eP={exports:{}},ng={},tP={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),k5=Symbol.for("react.portal"),D5=Symbol.for("react.fragment"),j5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),O5=Symbol.for("react.provider"),L5=Symbol.for("react.context"),V5=Symbol.for("react.forward_ref"),F5=Symbol.for("react.suspense"),U5=Symbol.for("react.memo"),$5=Symbol.for("react.lazy"),r_=Symbol.iterator;function z5(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var nP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rP=Object.assign,sP={};function Ac(t,e,n){this.props=t,this.context=e,this.refs=sP,this.updater=n||nP}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iP(){}iP.prototype=Ac.prototype;function Vx(t,e,n){this.props=t,this.context=e,this.refs=sP,this.updater=n||nP}var Fx=Vx.prototype=new iP;Fx.constructor=Vx;rP(Fx,Ac.prototype);Fx.isPureReactComponent=!0;var s_=Array.isArray,oP=Object.prototype.hasOwnProperty,Ux={current:null},aP={key:!0,ref:!0,__self:!0,__source:!0};function lP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oP.call(e,r)&&!aP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fh,type:t,key:i,ref:o,props:s,_owner:Ux.current}}function B5(t,e){return{$$typeof:fh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $x(t){return typeof t=="object"&&t!==null&&t.$$typeof===fh}function W5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i_=/\/+/g;function By(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W5(""+t.key):e.toString(36)}function Qf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fh:case k5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+By(o,0):r,s_(s)?(n="",t!=null&&(n=t.replace(i_,"$&/")+"/"),Qf(s,e,n,"",function(c){return c})):s!=null&&($x(s)&&(s=B5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(i_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",s_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+By(i,a);o+=Qf(i,e,n,l,s)}else if(l=z5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+By(i,a++),o+=Qf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cf(t,e,n){if(t==null)return t;var r=[],s=0;return Qf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function q5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Yf={transition:null},H5={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Yf,ReactCurrentOwner:Ux};function cP(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:cf,forEach:function(t,e,n){cf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cf(t,function(){e++}),e},toArray:function(t){return cf(t,function(e){return e})||[]},only:function(t){if(!$x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Ac;Ge.Fragment=D5;Ge.Profiler=M5;Ge.PureComponent=Vx;Ge.StrictMode=j5;Ge.Suspense=F5;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;Ge.act=cP;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ux.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oP.call(e,l)&&!aP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fh,type:t.type,key:s,ref:i,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:L5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O5,_context:t},t.Consumer=t};Ge.createElement=lP;Ge.createFactory=function(t){var e=lP.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:V5,render:t}};Ge.isValidElement=$x;Ge.lazy=function(t){return{$$typeof:$5,_payload:{_status:-1,_result:t},_init:q5}};Ge.memo=function(t,e){return{$$typeof:U5,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Yf.transition;Yf.transition={};try{t()}finally{Yf.transition=e}};Ge.unstable_act=cP;Ge.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Ge.useContext=function(t){return Hn.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Ge.useId=function(){return Hn.current.useId()};Ge.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Ge.useRef=function(t){return Hn.current.useRef(t)};Ge.useState=function(t){return Hn.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return Hn.current.useTransition()};Ge.version="18.3.1";tP.exports=Ge;var m=tP.exports;const ce=Lx(m),uP=R5({__proto__:null,default:ce},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5=m,K5=Symbol.for("react.element"),Q5=Symbol.for("react.fragment"),Y5=Object.prototype.hasOwnProperty,X5=G5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J5={key:!0,ref:!0,__self:!0,__source:!0};function dP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y5.call(e,r)&&!J5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:K5,type:t,key:i,ref:o,props:s,_owner:X5.current}}ng.Fragment=Q5;ng.jsx=dP;ng.jsxs=dP;eP.exports=ng;var u=eP.exports,hP={exports:{}},Sr={},fP={exports:{}},pP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var J=O.length;O.push(L);e:for(;0<J;){var W=J-1>>>1,ne=O[W];if(0<s(ne,L))O[W]=L,O[J]=ne,J=W;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],J=O.pop();if(J!==L){O[0]=J;e:for(var W=0,ne=O.length,le=ne>>>1;W<le;){var G=2*(W+1)-1,be=O[G],oe=G+1,te=O[oe];if(0>s(be,J))oe<ne&&0>s(te,be)?(O[W]=te,O[oe]=J,W=oe):(O[W]=be,O[G]=J,W=G);else if(oe<ne&&0>s(te,J))O[W]=te,O[oe]=J,W=oe;else break e}}return L}function s(O,L){var J=O.sortIndex-L.sortIndex;return J!==0?J:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,v=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=O)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function I(O){if(y=!1,E(O),!v)if(n(l)!==null)v=!0,X(P);else{var L=n(c);L!==null&&Z(I,L.startTime-O)}}function P(O,L){v=!1,y&&(y=!1,w(S),S=-1),g=!0;var J=p;try{for(E(L),f=n(l);f!==null&&(!(f.expirationTime>L)||O&&!D());){var W=f.callback;if(typeof W=="function"){f.callback=null,p=f.priorityLevel;var ne=W(f.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),E(L)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var G=n(c);G!==null&&Z(I,G.startTime-L),le=!1}return le}finally{f=null,p=J,g=!1}}var j=!1,C=null,S=-1,A=5,N=-1;function D(){return!(t.unstable_now()-N<A)}function M(){if(C!==null){var O=t.unstable_now();N=O;var L=!0;try{L=C(!0,O)}finally{L?k():(j=!1,C=null)}}else j=!1}var k;if(typeof b=="function")k=function(){b(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=M,k=function(){re.postMessage(null)}}else k=function(){T(M,0)};function X(O){C=O,j||(j=!0,k())}function Z(O,L){S=T(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,X(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var J=p;p=L;try{return O()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=p;p=O;try{return L()}finally{p=J}},t.unstable_scheduleCallback=function(O,L,J){var W=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=J+ne,O={id:d++,callback:L,priorityLevel:O,startTime:J,expirationTime:ne,sortIndex:-1},J>W?(O.sortIndex=J,e(c,O),n(l)===null&&O===n(c)&&(y?(w(S),S=-1):y=!0,Z(I,J-W))):(O.sortIndex=ne,e(l,O),v||g||(v=!0,X(P))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var L=p;return function(){var J=p;p=L;try{return O.apply(this,arguments)}finally{p=J}}}})(pP);fP.exports=pP;var Z5=fP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=m,_r=Z5;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mP=new Set,yd={};function Va(t,e){ic(t,e),ic(t+"Capture",e)}function ic(t,e){for(yd[t]=e,t=0;t<e.length;t++)mP.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l0=Object.prototype.hasOwnProperty,t3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o_={},a_={};function n3(t){return l0.call(a_,t)?!0:l0.call(o_,t)?!1:t3.test(t)?a_[t]=!0:(o_[t]=!0,!1)}function r3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s3(t,e,n,r){if(e===null||typeof e>"u"||r3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zx=/[\-:]([a-z])/g;function Bx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zx,Bx);gn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zx,Bx);gn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zx,Bx);gn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wx(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s3(e,n,s,r)&&(n=null),r||s===null?n3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=e3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uf=Symbol.for("react.element"),pl=Symbol.for("react.portal"),ml=Symbol.for("react.fragment"),qx=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),gP=Symbol.for("react.provider"),yP=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),d0=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),vP=Symbol.for("react.offscreen"),l_=Symbol.iterator;function ou(t){return t===null||typeof t!="object"?null:(t=l_&&t[l_]||t["@@iterator"],typeof t=="function"?t:null)}var Pt=Object.assign,Wy;function xu(t){if(Wy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wy=e&&e[1]||""}return`
`+Wy+t}var qy=!1;function Hy(t,e){if(!t||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xu(t):""}function i3(t){switch(t.tag){case 5:return xu(t.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function h0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ml:return"Fragment";case pl:return"Portal";case c0:return"Profiler";case qx:return"StrictMode";case u0:return"Suspense";case d0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yP:return(t.displayName||"Context")+".Consumer";case gP:return(t._context.displayName||"Context")+".Provider";case Hx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gx:return e=t.displayName||null,e!==null?e:h0(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return h0(t(e))}catch{}}return null}function o3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h0(e);case 8:return e===qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a3(t){var e=wP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function df(t){t._valueTracker||(t._valueTracker=a3(t))}function xP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f0(t,e){var n=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function c_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bP(t,e){e=e.checked,e!=null&&Wx(t,"checked",e,!1)}function p0(t,e){bP(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m0(t,e.type,n):e.hasOwnProperty("defaultValue")&&m0(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m0(t,e,n){(e!=="number"||jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bu=Array.isArray;function kl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function g0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function d_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(bu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function TP(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hf,_P=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hf=hf||document.createElement("div"),hf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l3=["Webkit","ms","Moz","O"];Object.keys(Bu).forEach(function(t){l3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bu[e]=Bu[t]})});function SP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bu.hasOwnProperty(t)&&Bu[t]?(""+e).trim():e+"px"}function CP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=SP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var c3=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(t,e){if(e){if(c3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function w0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=null;function Kx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var b0=null,Dl=null,jl=null;function f_(t){if(t=gh(t)){if(typeof b0!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=ag(e),b0(t.stateNode,t.type,e))}}function AP(t){Dl?jl?jl.push(t):jl=[t]:Dl=t}function IP(){if(Dl){var t=Dl,e=jl;if(jl=Dl=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function NP(t,e){return t(e)}function PP(){}var Gy=!1;function RP(t,e,n){if(Gy)return t(e,n);Gy=!0;try{return NP(t,e,n)}finally{Gy=!1,(Dl!==null||jl!==null)&&(PP(),IP())}}function wd(t,e){var n=t.stateNode;if(n===null)return null;var r=ag(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var T0=!1;if(ai)try{var au={};Object.defineProperty(au,"passive",{get:function(){T0=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{T0=!1}function u3(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Wu=!1,Mp=null,Op=!1,E0=null,d3={onError:function(t){Wu=!0,Mp=t}};function h3(t,e,n,r,s,i,o,a,l){Wu=!1,Mp=null,u3.apply(d3,arguments)}function f3(t,e,n,r,s,i,o,a,l){if(h3.apply(this,arguments),Wu){if(Wu){var c=Mp;Wu=!1,Mp=null}else throw Error(ee(198));Op||(Op=!0,E0=c)}}function Fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p_(t){if(Fa(t)!==t)throw Error(ee(188))}function p3(t){var e=t.alternate;if(!e){if(e=Fa(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return p_(s),t;if(i===r)return p_(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function DP(t){return t=p3(t),t!==null?jP(t):null}function jP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jP(t);if(e!==null)return e;t=t.sibling}return null}var MP=_r.unstable_scheduleCallback,m_=_r.unstable_cancelCallback,m3=_r.unstable_shouldYield,g3=_r.unstable_requestPaint,$t=_r.unstable_now,y3=_r.unstable_getCurrentPriorityLevel,Qx=_r.unstable_ImmediatePriority,OP=_r.unstable_UserBlockingPriority,Lp=_r.unstable_NormalPriority,v3=_r.unstable_LowPriority,LP=_r.unstable_IdlePriority,rg=null,As=null;function w3(t){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(rg,t,void 0,(t.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:T3,x3=Math.log,b3=Math.LN2;function T3(t){return t>>>=0,t===0?32:31-(x3(t)/b3|0)|0}var ff=64,pf=4194304;function Tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Tu(a):(i&=o,i!==0&&(r=Tu(i)))}else o=n&~s,o!==0?r=Tu(o):i!==0&&(r=Tu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ns(e),s=1<<n,r|=t[n],e&=~s;return r}function E3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ns(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=E3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VP(){var t=ff;return ff<<=1,!(ff&4194240)&&(ff=64),t}function Ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ph(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ns(e),t[e]=n}function S3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ns(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ns(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ut=0;function FP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UP,Xx,$P,zP,BP,S0=!1,mf=[],to=null,no=null,ro=null,xd=new Map,bd=new Map,Ui=[],C3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g_(t,e){switch(t){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(e.pointerId)}}function lu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gh(e),e!==null&&Xx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function A3(t,e,n,r,s){switch(e){case"focusin":return to=lu(to,t,e,n,r,s),!0;case"dragenter":return no=lu(no,t,e,n,r,s),!0;case"mouseover":return ro=lu(ro,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xd.set(i,lu(xd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bd.set(i,lu(bd.get(i)||null,t,e,n,r,s)),!0}return!1}function WP(t){var e=ta(t.target);if(e!==null){var n=Fa(e);if(n!==null){if(e=n.tag,e===13){if(e=kP(n),e!==null){t.blockedOn=e,BP(t.priority,function(){$P(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=C0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x0=r,n.target.dispatchEvent(r),x0=null}else return e=gh(n),e!==null&&Xx(e),t.blockedOn=n,!1;e.shift()}return!0}function y_(t,e,n){Xf(t)&&n.delete(e)}function I3(){S0=!1,to!==null&&Xf(to)&&(to=null),no!==null&&Xf(no)&&(no=null),ro!==null&&Xf(ro)&&(ro=null),xd.forEach(y_),bd.forEach(y_)}function cu(t,e){t.blockedOn===e&&(t.blockedOn=null,S0||(S0=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,I3)))}function Td(t){function e(s){return cu(s,t)}if(0<mf.length){cu(mf[0],t);for(var n=1;n<mf.length;n++){var r=mf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(to!==null&&cu(to,t),no!==null&&cu(no,t),ro!==null&&cu(ro,t),xd.forEach(e),bd.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)WP(n),n.blockedOn===null&&Ui.shift()}var Ml=xi.ReactCurrentBatchConfig,Fp=!0;function N3(t,e,n,r){var s=ut,i=Ml.transition;Ml.transition=null;try{ut=1,Jx(t,e,n,r)}finally{ut=s,Ml.transition=i}}function P3(t,e,n,r){var s=ut,i=Ml.transition;Ml.transition=null;try{ut=4,Jx(t,e,n,r)}finally{ut=s,Ml.transition=i}}function Jx(t,e,n,r){if(Fp){var s=C0(t,e,n,r);if(s===null)sv(t,e,r,Up,n),g_(t,r);else if(A3(s,t,e,n,r))r.stopPropagation();else if(g_(t,r),e&4&&-1<C3.indexOf(t)){for(;s!==null;){var i=gh(s);if(i!==null&&UP(i),i=C0(t,e,n,r),i===null&&sv(t,e,r,Up,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sv(t,e,r,null,n)}}var Up=null;function C0(t,e,n,r){if(Up=null,t=Kx(r),t=ta(t),t!==null)if(e=Fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Up=t,null}function qP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y3()){case Qx:return 1;case OP:return 4;case Lp:case v3:return 16;case LP:return 536870912;default:return 16}default:return 16}}var Yi=null,Zx=null,Jf=null;function HP(){if(Jf)return Jf;var t,e=Zx,n=e.length,r,s="value"in Yi?Yi.value:Yi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Jf=s.slice(t,1<r?1-r:void 0)}function Zf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gf(){return!0}function v_(){return!1}function Cr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gf:v_,this.isPropagationStopped=v_,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=Cr(Ic),mh=Pt({},Ic,{view:0,detail:0}),R3=Cr(mh),Qy,Yy,uu,sg=Pt({},mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uu&&(uu&&t.type==="mousemove"?(Qy=t.screenX-uu.screenX,Yy=t.screenY-uu.screenY):Yy=Qy=0,uu=t),Qy)},movementY:function(t){return"movementY"in t?t.movementY:Yy}}),w_=Cr(sg),k3=Pt({},sg,{dataTransfer:0}),D3=Cr(k3),j3=Pt({},mh,{relatedTarget:0}),Xy=Cr(j3),M3=Pt({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),O3=Cr(M3),L3=Pt({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V3=Cr(L3),F3=Pt({},Ic,{data:0}),x_=Cr(F3),U3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z3[t])?!!e[t]:!1}function t1(){return B3}var W3=Pt({},mh,{key:function(t){if(t.key){var e=U3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(t){return t.type==="keypress"?Zf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),q3=Cr(W3),H3=Pt({},sg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=Cr(H3),G3=Pt({},mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),K3=Cr(G3),Q3=Pt({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y3=Cr(Q3),X3=Pt({},sg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J3=Cr(X3),Z3=[9,13,27,32],n1=ai&&"CompositionEvent"in window,qu=null;ai&&"documentMode"in document&&(qu=document.documentMode);var e6=ai&&"TextEvent"in window&&!qu,GP=ai&&(!n1||qu&&8<qu&&11>=qu),T_=" ",E_=!1;function KP(t,e){switch(t){case"keyup":return Z3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gl=!1;function t6(t,e){switch(t){case"compositionend":return QP(e);case"keypress":return e.which!==32?null:(E_=!0,T_);case"textInput":return t=e.data,t===T_&&E_?null:t;default:return null}}function n6(t,e){if(gl)return t==="compositionend"||!n1&&KP(t,e)?(t=HP(),Jf=Zx=Yi=null,gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GP&&e.locale!=="ko"?null:e.data;default:return null}}var r6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r6[t.type]:e==="textarea"}function YP(t,e,n,r){AP(r),e=$p(e,"onChange"),0<e.length&&(n=new e1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hu=null,Ed=null;function s6(t){aR(t,0)}function ig(t){var e=wl(t);if(xP(e))return t}function i6(t,e){if(t==="change")return e}var XP=!1;if(ai){var Jy;if(ai){var Zy="oninput"in document;if(!Zy){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),Zy=typeof S_.oninput=="function"}Jy=Zy}else Jy=!1;XP=Jy&&(!document.documentMode||9<document.documentMode)}function C_(){Hu&&(Hu.detachEvent("onpropertychange",JP),Ed=Hu=null)}function JP(t){if(t.propertyName==="value"&&ig(Ed)){var e=[];YP(e,Ed,t,Kx(t)),RP(s6,e)}}function o6(t,e,n){t==="focusin"?(C_(),Hu=e,Ed=n,Hu.attachEvent("onpropertychange",JP)):t==="focusout"&&C_()}function a6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ig(Ed)}function l6(t,e){if(t==="click")return ig(e)}function c6(t,e){if(t==="input"||t==="change")return ig(e)}function u6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:u6;function _d(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!l0.call(e,s)||!as(t[s],e[s]))return!1}return!0}function A_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=A_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A_(n)}}function ZP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eR(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jp(t.document)}return e}function r1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d6(t){var e=eR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZP(n.ownerDocument.documentElement,n)){if(r!==null&&r1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=I_(n,i);var o=I_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h6=ai&&"documentMode"in document&&11>=document.documentMode,yl=null,A0=null,Gu=null,I0=!1;function N_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I0||yl==null||yl!==jp(r)||(r=yl,"selectionStart"in r&&r1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gu&&_d(Gu,r)||(Gu=r,r=$p(A0,"onSelect"),0<r.length&&(e=new e1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yl)))}function yf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vl={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},ev={},tR={};ai&&(tR=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function og(t){if(ev[t])return ev[t];if(!vl[t])return t;var e=vl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tR)return ev[t]=e[n];return t}var nR=og("animationend"),rR=og("animationiteration"),sR=og("animationstart"),iR=og("transitionend"),oR=new Map,P_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){oR.set(t,e),Va(e,[t])}for(var tv=0;tv<P_.length;tv++){var nv=P_[tv],f6=nv.toLowerCase(),p6=nv[0].toUpperCase()+nv.slice(1);No(f6,"on"+p6)}No(nR,"onAnimationEnd");No(rR,"onAnimationIteration");No(sR,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(iR,"onTransitionEnd");ic("onMouseEnter",["mouseout","mouseover"]);ic("onMouseLeave",["mouseout","mouseover"]);ic("onPointerEnter",["pointerout","pointerover"]);ic("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function R_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f3(r,e,void 0,t),t.currentTarget=null}function aR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;R_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;R_(s,a,c),i=l}}}if(Op)throw t=E0,Op=!1,E0=null,t}function xt(t,e){var n=e[D0];n===void 0&&(n=e[D0]=new Set);var r=t+"__bubble";n.has(r)||(lR(e,t,2,!1),n.add(r))}function rv(t,e,n){var r=0;e&&(r|=4),lR(n,t,r,e)}var vf="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[vf]){t[vf]=!0,mP.forEach(function(n){n!=="selectionchange"&&(m6.has(n)||rv(n,!1,t),rv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vf]||(e[vf]=!0,rv("selectionchange",!1,e))}}function lR(t,e,n,r){switch(qP(e)){case 1:var s=N3;break;case 4:s=P3;break;default:s=Jx}n=s.bind(null,e,n,t),s=void 0,!T0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ta(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}RP(function(){var c=i,d=Kx(n),f=[];e:{var p=oR.get(t);if(p!==void 0){var g=e1,v=t;switch(t){case"keypress":if(Zf(n)===0)break e;case"keydown":case"keyup":g=q3;break;case"focusin":v="focus",g=Xy;break;case"focusout":v="blur",g=Xy;break;case"beforeblur":case"afterblur":g=Xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=w_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=D3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=K3;break;case nR:case rR:case sR:g=O3;break;case iR:g=Y3;break;case"scroll":g=R3;break;case"wheel":g=J3;break;case"copy":case"cut":case"paste":g=V3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=b_}var y=(e&4)!==0,T=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,E;b!==null;){E=b;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,w!==null&&(I=wd(b,w),I!=null&&y.push(Cd(b,I,E)))),T)break;b=b.return}0<y.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==x0&&(v=n.relatedTarget||n.fromElement)&&(ta(v)||v[li]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?ta(v):null,v!==null&&(T=Fa(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=w_,I="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=b_,I="onPointerLeave",w="onPointerEnter",b="pointer"),T=g==null?p:wl(g),E=v==null?p:wl(v),p=new y(I,b+"leave",g,n,d),p.target=T,p.relatedTarget=E,I=null,ta(d)===c&&(y=new y(w,b+"enter",v,n,d),y.target=E,y.relatedTarget=T,I=y),T=I,g&&v)t:{for(y=g,w=v,b=0,E=y;E;E=il(E))b++;for(E=0,I=w;I;I=il(I))E++;for(;0<b-E;)y=il(y),b--;for(;0<E-b;)w=il(w),E--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=il(y),w=il(w)}y=null}else y=null;g!==null&&k_(f,p,g,y,!1),v!==null&&T!==null&&k_(f,T,v,y,!0)}}e:{if(p=c?wl(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=i6;else if(__(p))if(XP)P=c6;else{P=a6;var j=o6}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=l6);if(P&&(P=P(t,c))){YP(f,P,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&m0(p,"number",p.value)}switch(j=c?wl(c):window,t){case"focusin":(__(j)||j.contentEditable==="true")&&(yl=j,A0=c,Gu=null);break;case"focusout":Gu=A0=yl=null;break;case"mousedown":I0=!0;break;case"contextmenu":case"mouseup":case"dragend":I0=!1,N_(f,n,d);break;case"selectionchange":if(h6)break;case"keydown":case"keyup":N_(f,n,d)}var C;if(n1)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else gl?KP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(GP&&n.locale!=="ko"&&(gl||S!=="onCompositionStart"?S==="onCompositionEnd"&&gl&&(C=HP()):(Yi=d,Zx="value"in Yi?Yi.value:Yi.textContent,gl=!0)),j=$p(c,S),0<j.length&&(S=new x_(S,t,null,n,d),f.push({event:S,listeners:j}),C?S.data=C:(C=QP(n),C!==null&&(S.data=C)))),(C=e6?t6(t,n):n6(t,n))&&(c=$p(c,"onBeforeInput"),0<c.length&&(d=new x_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}aR(f,e)})}function Cd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $p(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wd(t,n),i!=null&&r.unshift(Cd(t,i,s)),i=wd(t,e),i!=null&&r.push(Cd(t,i,s))),t=t.return}return r}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=wd(n,i),l!=null&&o.unshift(Cd(n,l,a))):s||(l=wd(n,i),l!=null&&o.push(Cd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g6=/\r\n?/g,y6=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(g6,`
`).replace(y6,"")}function wf(t,e,n){if(e=D_(e),D_(t)!==e&&n)throw Error(ee(425))}function zp(){}var N0=null,P0=null;function R0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k0=typeof setTimeout=="function"?setTimeout:void 0,v6=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(x6)}:k0;function x6(t){setTimeout(function(){throw t})}function iv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Td(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Td(e)}function so(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nc=Math.random().toString(36).slice(2),Es="__reactFiber$"+Nc,Ad="__reactProps$"+Nc,li="__reactContainer$"+Nc,D0="__reactEvents$"+Nc,b6="__reactListeners$"+Nc,T6="__reactHandles$"+Nc;function ta(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M_(t);t!==null;){if(n=t[Es])return n;t=M_(t)}return e}t=n,n=t.parentNode}return null}function gh(t){return t=t[Es]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function ag(t){return t[Ad]||null}var j0=[],xl=-1;function Po(t){return{current:t}}function Tt(t){0>xl||(t.current=j0[xl],j0[xl]=null,xl--)}function gt(t,e){xl++,j0[xl]=t.current,t.current=e}var go={},Mn=Po(go),sr=Po(!1),ba=go;function oc(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ir(t){return t=t.childContextTypes,t!=null}function Bp(){Tt(sr),Tt(Mn)}function O_(t,e,n){if(Mn.current!==go)throw Error(ee(168));gt(Mn,e),gt(sr,n)}function cR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,o3(t)||"Unknown",s));return Pt({},n,r)}function Wp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,ba=Mn.current,gt(Mn,t),gt(sr,sr.current),!0}function L_(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=cR(t,e,ba),r.__reactInternalMemoizedMergedChildContext=t,Tt(sr),Tt(Mn),gt(Mn,t)):Tt(sr),gt(sr,n)}var Qs=null,lg=!1,ov=!1;function uR(t){Qs===null?Qs=[t]:Qs.push(t)}function E6(t){lg=!0,uR(t)}function Ro(){if(!ov&&Qs!==null){ov=!0;var t=0,e=ut;try{var n=Qs;for(ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,lg=!1}catch(s){throw Qs!==null&&(Qs=Qs.slice(t+1)),MP(Qx,Ro),s}finally{ut=e,ov=!1}}return null}var bl=[],Tl=0,qp=null,Hp=0,Pr=[],Rr=0,Ta=null,Xs=1,Js="";function Ko(t,e){bl[Tl++]=Hp,bl[Tl++]=qp,qp=t,Hp=e}function dR(t,e,n){Pr[Rr++]=Xs,Pr[Rr++]=Js,Pr[Rr++]=Ta,Ta=t;var r=Xs;t=Js;var s=32-ns(r)-1;r&=~(1<<s),n+=1;var i=32-ns(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xs=1<<32-ns(e)+s|n<<s|r,Js=i+t}else Xs=1<<i|n<<s|r,Js=t}function s1(t){t.return!==null&&(Ko(t,1),dR(t,1,0))}function i1(t){for(;t===qp;)qp=bl[--Tl],bl[Tl]=null,Hp=bl[--Tl],bl[Tl]=null;for(;t===Ta;)Ta=Pr[--Rr],Pr[Rr]=null,Js=Pr[--Rr],Pr[Rr]=null,Xs=Pr[--Rr],Pr[Rr]=null}var br=null,wr=null,Et=!1,Xr=null;function hR(t,e){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,wr=so(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ta!==null?{id:Xs,overflow:Js}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,wr=null,!0):!1;default:return!1}}function M0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O0(t){if(Et){var e=wr;if(e){var n=e;if(!V_(t,e)){if(M0(t))throw Error(ee(418));e=so(n.nextSibling);var r=br;e&&V_(t,e)?hR(r,n):(t.flags=t.flags&-4097|2,Et=!1,br=t)}}else{if(M0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Et=!1,br=t}}}function F_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function xf(t){if(t!==br)return!1;if(!Et)return F_(t),Et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!R0(t.type,t.memoizedProps)),e&&(e=wr)){if(M0(t))throw fR(),Error(ee(418));for(;e;)hR(t,e),e=so(e.nextSibling)}if(F_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=so(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=br?so(t.stateNode.nextSibling):null;return!0}function fR(){for(var t=wr;t;)t=so(t.nextSibling)}function ac(){wr=br=null,Et=!1}function o1(t){Xr===null?Xr=[t]:Xr.push(t)}var _6=xi.ReactCurrentBatchConfig;function du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function bf(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function U_(t){var e=t._init;return e(t._payload)}function pR(t){function e(w,b){if(t){var E=w.deletions;E===null?(w.deletions=[b],w.flags|=16):E.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=lo(w,b),w.index=0,w.sibling=null,w}function i(w,b,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<b?(w.flags|=2,b):E):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,E,I){return b===null||b.tag!==6?(b=fv(E,w.mode,I),b.return=w,b):(b=s(b,E),b.return=w,b)}function l(w,b,E,I){var P=E.type;return P===ml?d(w,b,E.props.children,I,E.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&U_(P)===b.type)?(I=s(b,E.props),I.ref=du(w,b,E),I.return=w,I):(I=op(E.type,E.key,E.props,null,w.mode,I),I.ref=du(w,b,E),I.return=w,I)}function c(w,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=pv(E,w.mode,I),b.return=w,b):(b=s(b,E.children||[]),b.return=w,b)}function d(w,b,E,I,P){return b===null||b.tag!==7?(b=ma(E,w.mode,I,P),b.return=w,b):(b=s(b,E),b.return=w,b)}function f(w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=fv(""+b,w.mode,E),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uf:return E=op(b.type,b.key,b.props,null,w.mode,E),E.ref=du(w,null,b),E.return=w,E;case pl:return b=pv(b,w.mode,E),b.return=w,b;case Vi:var I=b._init;return f(w,I(b._payload),E)}if(bu(b)||ou(b))return b=ma(b,w.mode,E,null),b.return=w,b;bf(w,b)}return null}function p(w,b,E,I){var P=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(w,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uf:return E.key===P?l(w,b,E,I):null;case pl:return E.key===P?c(w,b,E,I):null;case Vi:return P=E._init,p(w,b,P(E._payload),I)}if(bu(E)||ou(E))return P!==null?null:d(w,b,E,I,null);bf(w,E)}return null}function g(w,b,E,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(E)||null,a(b,w,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case uf:return w=w.get(I.key===null?E:I.key)||null,l(b,w,I,P);case pl:return w=w.get(I.key===null?E:I.key)||null,c(b,w,I,P);case Vi:var j=I._init;return g(w,b,E,j(I._payload),P)}if(bu(I)||ou(I))return w=w.get(E)||null,d(b,w,I,P,null);bf(b,I)}return null}function v(w,b,E,I){for(var P=null,j=null,C=b,S=b=0,A=null;C!==null&&S<E.length;S++){C.index>S?(A=C,C=null):A=C.sibling;var N=p(w,C,E[S],I);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(w,C),b=i(N,b,S),j===null?P=N:j.sibling=N,j=N,C=A}if(S===E.length)return n(w,C),Et&&Ko(w,S),P;if(C===null){for(;S<E.length;S++)C=f(w,E[S],I),C!==null&&(b=i(C,b,S),j===null?P=C:j.sibling=C,j=C);return Et&&Ko(w,S),P}for(C=r(w,C);S<E.length;S++)A=g(C,w,S,E[S],I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),b=i(A,b,S),j===null?P=A:j.sibling=A,j=A);return t&&C.forEach(function(D){return e(w,D)}),Et&&Ko(w,S),P}function y(w,b,E,I){var P=ou(E);if(typeof P!="function")throw Error(ee(150));if(E=P.call(E),E==null)throw Error(ee(151));for(var j=P=null,C=b,S=b=0,A=null,N=E.next();C!==null&&!N.done;S++,N=E.next()){C.index>S?(A=C,C=null):A=C.sibling;var D=p(w,C,N.value,I);if(D===null){C===null&&(C=A);break}t&&C&&D.alternate===null&&e(w,C),b=i(D,b,S),j===null?P=D:j.sibling=D,j=D,C=A}if(N.done)return n(w,C),Et&&Ko(w,S),P;if(C===null){for(;!N.done;S++,N=E.next())N=f(w,N.value,I),N!==null&&(b=i(N,b,S),j===null?P=N:j.sibling=N,j=N);return Et&&Ko(w,S),P}for(C=r(w,C);!N.done;S++,N=E.next())N=g(C,w,S,N.value,I),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),b=i(N,b,S),j===null?P=N:j.sibling=N,j=N);return t&&C.forEach(function(M){return e(w,M)}),Et&&Ko(w,S),P}function T(w,b,E,I){if(typeof E=="object"&&E!==null&&E.type===ml&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case uf:e:{for(var P=E.key,j=b;j!==null;){if(j.key===P){if(P=E.type,P===ml){if(j.tag===7){n(w,j.sibling),b=s(j,E.props.children),b.return=w,w=b;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&U_(P)===j.type){n(w,j.sibling),b=s(j,E.props),b.ref=du(w,j,E),b.return=w,w=b;break e}n(w,j);break}else e(w,j);j=j.sibling}E.type===ml?(b=ma(E.props.children,w.mode,I,E.key),b.return=w,w=b):(I=op(E.type,E.key,E.props,null,w.mode,I),I.ref=du(w,b,E),I.return=w,w=I)}return o(w);case pl:e:{for(j=E.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(w,b.sibling),b=s(b,E.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=pv(E,w.mode,I),b.return=w,w=b}return o(w);case Vi:return j=E._init,T(w,b,j(E._payload),I)}if(bu(E))return v(w,b,E,I);if(ou(E))return y(w,b,E,I);bf(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(w,b.sibling),b=s(b,E),b.return=w,w=b):(n(w,b),b=fv(E,w.mode,I),b.return=w,w=b),o(w)):n(w,b)}return T}var lc=pR(!0),mR=pR(!1),Gp=Po(null),Kp=null,El=null,a1=null;function l1(){a1=El=Kp=null}function c1(t){var e=Gp.current;Tt(Gp),t._currentValue=e}function L0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ol(t,e){Kp=t,a1=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(a1!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Kp===null)throw Error(ee(308));El=t,Kp.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var na=null;function u1(t){na===null?na=[t]:na.push(t)}function gR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,u1(e)):(n.next=s.next,s.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function d1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function io(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ci(t,n)}return s=r.interleaved,s===null?(e.next=e,u1(r)):(e.next=s.next,s.next=e),r.interleaved=e,ci(t,n)}function ep(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yx(t,n)}}function $_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qp(t,e,n,r){var s=t.updateQueue;Fi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=Pt({},f,p);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_a|=o,t.lanes=o,t.memoizedState=f}}function z_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var yh={},Is=Po(yh),Id=Po(yh),Nd=Po(yh);function ra(t){if(t===yh)throw Error(ee(174));return t}function h1(t,e){switch(gt(Nd,e),gt(Id,t),gt(Is,yh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y0(e,t)}Tt(Is),gt(Is,e)}function cc(){Tt(Is),Tt(Id),Tt(Nd)}function vR(t){ra(Nd.current);var e=ra(Is.current),n=y0(e,t.type);e!==n&&(gt(Id,t),gt(Is,n))}function f1(t){Id.current===t&&(Tt(Is),Tt(Id))}var Ct=Po(0);function Yp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var av=[];function p1(){for(var t=0;t<av.length;t++)av[t]._workInProgressVersionPrimary=null;av.length=0}var tp=xi.ReactCurrentDispatcher,lv=xi.ReactCurrentBatchConfig,Ea=0,Nt=null,Jt=null,an=null,Xp=!1,Ku=!1,Pd=0,S6=0;function En(){throw Error(ee(321))}function m1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function g1(t,e,n,r,s,i){if(Ea=i,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tp.current=t===null||t.memoizedState===null?N6:P6,t=n(r,s),Ku){i=0;do{if(Ku=!1,Pd=0,25<=i)throw Error(ee(301));i+=1,an=Jt=null,e.updateQueue=null,tp.current=R6,t=n(r,s)}while(Ku)}if(tp.current=Jp,e=Jt!==null&&Jt.next!==null,Ea=0,an=Jt=Nt=null,Xp=!1,e)throw Error(ee(300));return t}function y1(){var t=Pd!==0;return Pd=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Nt.memoizedState=an=t:an=an.next=t,an}function Fr(){if(Jt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=an===null?Nt.memoizedState:an.next;if(e!==null)an=e,Jt=t;else{if(t===null)throw Error(ee(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},an===null?Nt.memoizedState=an=t:an=an.next=t}return an}function Rd(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ea&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Nt.lanes|=d,_a|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,as(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Nt.lanes|=i,_a|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uv(t){var e=Fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);as(i,e.memoizedState)||(nr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wR(){}function xR(t,e){var n=Nt,r=Fr(),s=e(),i=!as(r.memoizedState,s);if(i&&(r.memoizedState=s,nr=!0),r=r.queue,v1(ER.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,kd(9,TR.bind(null,n,r,s,e),void 0,null),cn===null)throw Error(ee(349));Ea&30||bR(n,e,s)}return s}function bR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TR(t,e,n,r){e.value=n,e.getSnapshot=r,_R(e)&&SR(t)}function ER(t,e,n){return n(function(){_R(e)&&SR(t)})}function _R(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function SR(t){var e=ci(t,1);e!==null&&rs(e,t,1,-1)}function B_(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},e.queue=t,t=t.dispatch=I6.bind(null,Nt,t),[e.memoizedState,t]}function kd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CR(){return Fr().memoizedState}function np(t,e,n,r){var s=vs();Nt.flags|=t,s.memoizedState=kd(1|e,n,void 0,r===void 0?null:r)}function cg(t,e,n,r){var s=Fr();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,r!==null&&m1(r,o.deps)){s.memoizedState=kd(e,n,i,r);return}}Nt.flags|=t,s.memoizedState=kd(1|e,n,i,r)}function W_(t,e){return np(8390656,8,t,e)}function v1(t,e){return cg(2048,8,t,e)}function AR(t,e){return cg(4,2,t,e)}function IR(t,e){return cg(4,4,t,e)}function NR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PR(t,e,n){return n=n!=null?n.concat([t]):null,cg(4,4,NR.bind(null,e,t),n)}function w1(){}function RR(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kR(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DR(t,e,n){return Ea&21?(as(n,e)||(n=VP(),Nt.lanes|=n,_a|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function C6(t,e){var n=ut;ut=n!==0&&4>n?n:4,t(!0);var r=lv.transition;lv.transition={};try{t(!1),e()}finally{ut=n,lv.transition=r}}function jR(){return Fr().memoizedState}function A6(t,e,n){var r=ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MR(t))OR(e,n);else if(n=gR(t,e,n,r),n!==null){var s=qn();rs(n,t,r,s),LR(n,e,r)}}function I6(t,e,n){var r=ao(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MR(t))OR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(s.next=s,u1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=gR(t,e,s,r),n!==null&&(s=qn(),rs(n,t,r,s),LR(n,e,r))}}function MR(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function OR(t,e){Ku=Xp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yx(t,n)}}var Jp={readContext:Vr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},N6={readContext:Vr,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:W_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,np(4194308,4,NR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return np(4194308,4,t,e)},useInsertionEffect:function(t,e){return np(4,2,t,e)},useMemo:function(t,e){var n=vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A6.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:B_,useDebugValue:w1,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=B_(!1),e=t[0];return t=C6.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nt,s=vs();if(Et){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),cn===null)throw Error(ee(349));Ea&30||bR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,W_(ER.bind(null,r,i,t),[t]),r.flags|=2048,kd(9,TR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vs(),e=cn.identifierPrefix;if(Et){var n=Js,r=Xs;n=(r&~(1<<32-ns(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},P6={readContext:Vr,useCallback:RR,useContext:Vr,useEffect:v1,useImperativeHandle:PR,useInsertionEffect:AR,useLayoutEffect:IR,useMemo:kR,useReducer:cv,useRef:CR,useState:function(){return cv(Rd)},useDebugValue:w1,useDeferredValue:function(t){var e=Fr();return DR(e,Jt.memoizedState,t)},useTransition:function(){var t=cv(Rd)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:xR,useId:jR,unstable_isNewReconciler:!1},R6={readContext:Vr,useCallback:RR,useContext:Vr,useEffect:v1,useImperativeHandle:PR,useInsertionEffect:AR,useLayoutEffect:IR,useMemo:kR,useReducer:uv,useRef:CR,useState:function(){return uv(Rd)},useDebugValue:w1,useDeferredValue:function(t){var e=Fr();return Jt===null?e.memoizedState=t:DR(e,Jt.memoizedState,t)},useTransition:function(){var t=uv(Rd)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:wR,useSyncExternalStore:xR,useId:jR,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=Pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function V0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ug={isMounted:function(t){return(t=t._reactInternals)?Fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qn(),s=ao(t),i=ri(r,s);i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(rs(e,t,s,r),ep(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qn(),s=ao(t),i=ri(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=io(t,i,s),e!==null&&(rs(e,t,s,r),ep(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qn(),r=ao(t),s=ri(n,r);s.tag=2,e!=null&&(s.callback=e),e=io(t,s,r),e!==null&&(rs(e,t,r,n),ep(e,t,r))}};function q_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(s,i):!0}function VR(t,e,n){var r=!1,s=go,i=e.contextType;return typeof i=="object"&&i!==null?i=Vr(i):(s=ir(e)?ba:Mn.current,r=e.contextTypes,i=(r=r!=null)?oc(t,s):go),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ug,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function H_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ug.enqueueReplaceState(e,e.state,null)}function F0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},d1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vr(i):(i=ir(e)?ba:Mn.current,s.context=oc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(V0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ug.enqueueReplaceState(s,s.state,null),Qp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function uc(t,e){try{var n="",r=e;do n+=i3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function U0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k6=typeof WeakMap=="function"?WeakMap:Map;function FR(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){em||(em=!0,Y0=r),U0(t,e)},n}function UR(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){U0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){U0(t,e),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function G_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=H6.bind(null,t,e,n),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,io(n,e,1))),n.lanes|=1),t)}var D6=xi.ReactCurrentOwner,nr=!1;function $n(t,e,n,r){e.child=t===null?mR(e,null,n,r):lc(e,t.child,n,r)}function Y_(t,e,n,r,s){n=n.render;var i=e.ref;return Ol(e,s),r=g1(t,e,n,r,i,s),n=y1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(Et&&n&&s1(e),e.flags|=1,$n(t,e,r,s),e.child)}function X_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!A1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$R(t,e,i,r,s)):(t=op(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(o,r)&&t.ref===e.ref)return ui(t,e,s)}return e.flags|=1,t=lo(i,r),t.ref=e.ref,t.return=e,e.child=t}function $R(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_d(i,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,ui(t,e,s)}return $0(t,e,n,r,s)}function zR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Sl,yr),yr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(Sl,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(Sl,yr),yr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gt(Sl,yr),yr|=r;return $n(t,e,s,n),e.child}function BR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $0(t,e,n,r,s){var i=ir(n)?ba:Mn.current;return i=oc(e,i),Ol(e,s),n=g1(t,e,n,r,i,s),r=y1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(Et&&r&&s1(e),e.flags|=1,$n(t,e,n,s),e.child)}function J_(t,e,n,r,s){if(ir(n)){var i=!0;Wp(e)}else i=!1;if(Ol(e,s),e.stateNode===null)rp(t,e),VR(e,n,r),F0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vr(c):(c=ir(n)?ba:Mn.current,c=oc(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H_(e,o,r,c),Fi=!1;var p=e.memoizedState;o.state=p,Qp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||sr.current||Fi?(typeof d=="function"&&(V0(e,n,d,r),l=e.memoizedState),(a=Fi||q_(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vr(l):(l=ir(n)?ba:Mn.current,l=oc(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&H_(e,o,r,l),Fi=!1,p=e.memoizedState,o.state=p,Qp(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||sr.current||Fi?(typeof g=="function"&&(V0(e,n,g,r),v=e.memoizedState),(c=Fi||q_(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return z0(t,e,n,r,i,s)}function z0(t,e,n,r,s,i){BR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&L_(e,n,!1),ui(t,e,i);r=e.stateNode,D6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lc(e,t.child,null,i),e.child=lc(e,null,a,i)):$n(t,e,a,i),e.memoizedState=r.state,s&&L_(e,n,!0),e.child}function WR(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),h1(t,e.containerInfo)}function Z_(t,e,n,r,s){return ac(),o1(s),e.flags|=256,$n(t,e,n,r),e.child}var B0={dehydrated:null,treeContext:null,retryLane:0};function W0(t){return{baseLanes:t,cachePool:null,transitions:null}}function qR(t,e,n){var r=e.pendingProps,s=Ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(Ct,s&1),t===null)return O0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fg(o,r,0,null),t=ma(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=W0(n),e.memoizedState=B0,t):x1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return j6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=lo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=lo(a,i):(i=ma(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?W0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=B0,r}return i=t.child,t=i.sibling,r=lo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x1(t,e){return e=fg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,n,r){return r!==null&&o1(r),lc(e,t.child,null,n),t=x1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function j6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dv(Error(ee(422))),Tf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fg({mode:"visible",children:r.children},s,0,null),i=ma(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&lc(e,t.child,null,o),e.child.memoizedState=W0(o),e.memoizedState=B0,i);if(!(e.mode&1))return Tf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=dv(i,r,void 0),Tf(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=cn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ci(t,s),rs(r,t,s,-1))}return C1(),r=dv(Error(ee(421))),Tf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=G6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wr=so(s.nextSibling),br=e,Et=!0,Xr=null,t!==null&&(Pr[Rr++]=Xs,Pr[Rr++]=Js,Pr[Rr++]=Ta,Xs=t.id,Js=t.overflow,Ta=e),e=x1(e,r.children),e.flags|=4096,e)}function eS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),L0(t.return,e,n)}function hv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function HR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($n(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eS(t,n,e);else if(t.tag===19)eS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hv(e,!0,n,null,i);break;case"together":hv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_a|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function M6(t,e,n){switch(e.tag){case 3:WR(e),ac();break;case 5:vR(e);break;case 1:ir(e.type)&&Wp(e);break;case 4:h1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gt(Gp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?qR(t,e,n):(gt(Ct,Ct.current&1),t=ui(t,e,n),t!==null?t.sibling:null);gt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,zR(t,e,n)}return ui(t,e,n)}var GR,q0,KR,QR;GR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q0=function(){};KR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ra(Is.current);var i=null;switch(n){case"input":s=f0(t,s),r=f0(t,r),i=[];break;case"select":s=Pt({},s,{value:void 0}),r=Pt({},r,{value:void 0}),i=[];break;case"textarea":s=g0(t,s),r=g0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zp)}v0(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};QR=function(t,e,n,r){n!==r&&(e.flags|=4)};function hu(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O6(t,e,n){var r=e.pendingProps;switch(i1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return ir(e.type)&&Bp(),_n(e),null;case 3:return r=e.stateNode,cc(),Tt(sr),Tt(Mn),p1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xr!==null&&(Z0(Xr),Xr=null))),q0(t,e),_n(e),null;case 5:f1(e);var s=ra(Nd.current);if(n=e.type,t!==null&&e.stateNode!=null)KR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return _n(e),null}if(t=ra(Is.current),xf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Es]=e,r[Ad]=i,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<Eu.length;s++)xt(Eu[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":c_(r,i),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xt("invalid",r);break;case"textarea":d_(r,i),xt("invalid",r)}v0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wf(r.textContent,a,t),s=["children",""+a]):yd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xt("scroll",r)}switch(n){case"input":df(r),u_(r,i,!0);break;case"textarea":df(r),h_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Es]=e,t[Ad]=r,GR(t,e,!1,!1),e.stateNode=t;e:{switch(o=w0(n,r),n){case"dialog":xt("cancel",t),xt("close",t),s=r;break;case"iframe":case"object":case"embed":xt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Eu.length;s++)xt(Eu[s],t);s=r;break;case"source":xt("error",t),s=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),s=r;break;case"details":xt("toggle",t),s=r;break;case"input":c_(t,r),s=f0(t,r),xt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":d_(t,r),s=g0(t,r),xt("invalid",t);break;default:s=r}v0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?CP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_P(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vd(t,l):typeof l=="number"&&vd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xt("scroll",t):l!=null&&Wx(t,i,l,o))}switch(n){case"input":df(t),u_(t,r,!1);break;case"textarea":df(t),h_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?kl(t,!!r.multiple,i,!1):r.defaultValue!=null&&kl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)QR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ra(Nd.current),ra(Is.current),xf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(i=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:wf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return _n(e),null;case 13:if(Tt(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Et&&wr!==null&&e.mode&1&&!(e.flags&128))fR(),ac(),e.flags|=98560,i=!1;else if(i=xf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[Es]=e}else ac(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else Xr!==null&&(Z0(Xr),Xr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?en===0&&(en=3):C1())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return cc(),q0(t,e),t===null&&Sd(e.stateNode.containerInfo),_n(e),null;case 10:return c1(e.type._context),_n(e),null;case 17:return ir(e.type)&&Bp(),_n(e),null;case 19:if(Tt(Ct),i=e.memoizedState,i===null)return _n(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)hu(i,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yp(t),o!==null){for(e.flags|=128,hu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Ct,Ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&$t()>dc&&(e.flags|=128,r=!0,hu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Et)return _n(e),null}else 2*$t()-i.renderingStartTime>dc&&n!==1073741824&&(e.flags|=128,r=!0,hu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,n=Ct.current,gt(Ct,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return S1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function L6(t,e){switch(i1(e),e.tag){case 1:return ir(e.type)&&Bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cc(),Tt(sr),Tt(Mn),p1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f1(e),null;case 13:if(Tt(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ac()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Ct),null;case 4:return cc(),null;case 10:return c1(e.type._context),null;case 22:case 23:return S1(),null;case 24:return null;default:return null}}var Ef=!1,Nn=!1,V6=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function _l(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function H0(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var tS=!1;function F6(t,e){if(N0=Fp,t=eR(),r1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P0={focusedElem:t,selectionRange:n},Fp=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,T=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Gr(e.type,y),T);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(I){Vt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return v=tS,tS=!1,v}function Qu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&H0(e,n,i)}s=s.next}while(s!==r)}}function dg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function G0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YR(t){var e=t.alternate;e!==null&&(t.alternate=null,YR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[Ad],delete e[D0],delete e[b6],delete e[T6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XR(t){return t.tag===5||t.tag===3||t.tag===4}function nS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zp));else if(r!==4&&(t=t.child,t!==null))for(K0(t,e,n),t=t.sibling;t!==null;)K0(t,e,n),t=t.sibling}function Q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Q0(t,e,n),t=t.sibling;t!==null;)Q0(t,e,n),t=t.sibling}var hn=null,Yr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)JR(t,e,n),n=n.sibling}function JR(t,e,n){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(rg,n)}catch{}switch(n.tag){case 5:Nn||_l(n,e);case 6:var r=hn,s=Yr;hn=null,Ni(t,e,n),hn=r,Yr=s,hn!==null&&(Yr?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Yr?(t=hn,n=n.stateNode,t.nodeType===8?iv(t.parentNode,n):t.nodeType===1&&iv(t,n),Td(t)):iv(hn,n.stateNode));break;case 4:r=hn,s=Yr,hn=n.stateNode.containerInfo,Yr=!0,Ni(t,e,n),hn=r,Yr=s;break;case 0:case 11:case 14:case 15:if(!Nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&H0(n,e,o),s=s.next}while(s!==r)}Ni(t,e,n);break;case 1:if(!Nn&&(_l(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vt(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Nn=(r=Nn)||n.memoizedState!==null,Ni(t,e,n),Nn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function rS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V6),e.forEach(function(r){var s=K6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,Yr=!1;break e;case 3:hn=a.stateNode.containerInfo,Yr=!0;break e;case 4:hn=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(hn===null)throw Error(ee(160));JR(i,o,s),hn=null,Yr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Vt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZR(e,t),e=e.sibling}function ZR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),ys(t),r&4){try{Qu(3,t,t.return),dg(3,t)}catch(y){Vt(t,t.return,y)}try{Qu(5,t,t.return)}catch(y){Vt(t,t.return,y)}}break;case 1:Wr(e,t),ys(t),r&512&&n!==null&&_l(n,n.return);break;case 5:if(Wr(e,t),ys(t),r&512&&n!==null&&_l(n,n.return),t.flags&32){var s=t.stateNode;try{vd(s,"")}catch(y){Vt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bP(s,i),w0(a,o);var c=w0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?CP(s,f):d==="dangerouslySetInnerHTML"?_P(s,f):d==="children"?vd(s,f):Wx(s,d,f,c)}switch(a){case"input":p0(s,i);break;case"textarea":TP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kl(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?kl(s,!!i.multiple,i.defaultValue,!0):kl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ad]=i}catch(y){Vt(t,t.return,y)}}break;case 6:if(Wr(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Vt(t,t.return,y)}}break;case 3:if(Wr(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Td(e.containerInfo)}catch(y){Vt(t,t.return,y)}break;case 4:Wr(e,t),ys(t);break;case 13:Wr(e,t),ys(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(E1=$t())),r&4&&rS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Nn=(c=Nn)||d,Wr(e,t),Nn=c):Wr(e,t),ys(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ee=t,d=t.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(p=Ee,g=p.child,p.tag){case 0:case 11:case 14:case 15:Qu(4,p,p.return);break;case 1:_l(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Vt(r,n,y)}}break;case 5:_l(p,p.return);break;case 22:if(p.memoizedState!==null){iS(f);continue}}g!==null?(g.return=p,Ee=g):iS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SP("display",o))}catch(y){Vt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Vt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wr(e,t),ys(t),r&4&&rS(t);break;case 21:break;default:Wr(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XR(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vd(s,""),r.flags&=-33);var i=nS(t);Q0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nS(t);K0(t,a,o);break;default:throw Error(ee(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U6(t,e,n){Ee=t,ek(t)}function ek(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var s=Ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ef;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Nn;a=Ef;var c=Nn;if(Ef=o,(Nn=l)&&!c)for(Ee=s;Ee!==null;)o=Ee,l=o.child,o.tag===22&&o.memoizedState!==null?oS(s):l!==null?(l.return=o,Ee=l):oS(s);for(;i!==null;)Ee=i,ek(i),i=i.sibling;Ee=s,Ef=a,Nn=c}sS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ee=i):sS(t)}}function sS(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nn||dg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&z_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}z_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Td(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Nn||e.flags&512&&G0(e)}catch(p){Vt(e,e.return,p)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function iS(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function oS(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dg(4,e)}catch(l){Vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Vt(e,s,l)}}var i=e.return;try{G0(e)}catch(l){Vt(e,i,l)}break;case 5:var o=e.return;try{G0(e)}catch(l){Vt(e,o,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){Ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ee=a;break}Ee=e.return}}var $6=Math.ceil,Zp=xi.ReactCurrentDispatcher,b1=xi.ReactCurrentOwner,Mr=xi.ReactCurrentBatchConfig,Ze=0,cn=null,Gt=null,mn=0,yr=0,Sl=Po(0),en=0,Dd=null,_a=0,hg=0,T1=0,Yu=null,Zn=null,E1=0,dc=1/0,Ks=null,em=!1,Y0=null,oo=null,_f=!1,Xi=null,tm=0,Xu=0,X0=null,sp=-1,ip=0;function qn(){return Ze&6?$t():sp!==-1?sp:sp=$t()}function ao(t){return t.mode&1?Ze&2&&mn!==0?mn&-mn:_6.transition!==null?(ip===0&&(ip=VP()),ip):(t=ut,t!==0||(t=window.event,t=t===void 0?16:qP(t.type)),t):1}function rs(t,e,n,r){if(50<Xu)throw Xu=0,X0=null,Error(ee(185));ph(t,n,r),(!(Ze&2)||t!==cn)&&(t===cn&&(!(Ze&2)&&(hg|=n),en===4&&$i(t,mn)),or(t,r),n===1&&Ze===0&&!(e.mode&1)&&(dc=$t()+500,lg&&Ro()))}function or(t,e){var n=t.callbackNode;_3(t,e);var r=Vp(t,t===cn?mn:0);if(r===0)n!==null&&m_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m_(n),e===1)t.tag===0?E6(aS.bind(null,t)):uR(aS.bind(null,t)),w6(function(){!(Ze&6)&&Ro()}),n=null;else{switch(FP(r)){case 1:n=Qx;break;case 4:n=OP;break;case 16:n=Lp;break;case 536870912:n=LP;break;default:n=Lp}n=lk(n,tk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tk(t,e){if(sp=-1,ip=0,Ze&6)throw Error(ee(327));var n=t.callbackNode;if(Ll()&&t.callbackNode!==n)return null;var r=Vp(t,t===cn?mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nm(t,r);else{e=r;var s=Ze;Ze|=2;var i=rk();(cn!==t||mn!==e)&&(Ks=null,dc=$t()+500,pa(t,e));do try{W6();break}catch(a){nk(t,a)}while(!0);l1(),Zp.current=i,Ze=s,Gt!==null?e=0:(cn=null,mn=0,e=en)}if(e!==0){if(e===2&&(s=_0(t),s!==0&&(r=s,e=J0(t,s))),e===1)throw n=Dd,pa(t,0),$i(t,r),or(t,$t()),n;if(e===6)$i(t,r);else{if(s=t.current.alternate,!(r&30)&&!z6(s)&&(e=nm(t,r),e===2&&(i=_0(t),i!==0&&(r=i,e=J0(t,i))),e===1))throw n=Dd,pa(t,0),$i(t,r),or(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Qo(t,Zn,Ks);break;case 3:if($i(t,r),(r&130023424)===r&&(e=E1+500-$t(),10<e)){if(Vp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=k0(Qo.bind(null,t,Zn,Ks),e);break}Qo(t,Zn,Ks);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ns(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$6(r/1960))-r,10<r){t.timeoutHandle=k0(Qo.bind(null,t,Zn,Ks),r);break}Qo(t,Zn,Ks);break;case 5:Qo(t,Zn,Ks);break;default:throw Error(ee(329))}}}return or(t,$t()),t.callbackNode===n?tk.bind(null,t):null}function J0(t,e){var n=Yu;return t.current.memoizedState.isDehydrated&&(pa(t,e).flags|=256),t=nm(t,e),t!==2&&(e=Zn,Zn=n,e!==null&&Z0(e)),t}function Z0(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function z6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!as(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~T1,e&=~hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ns(e),r=1<<n;t[n]=-1,e&=~r}}function aS(t){if(Ze&6)throw Error(ee(327));Ll();var e=Vp(t,0);if(!(e&1))return or(t,$t()),null;var n=nm(t,e);if(t.tag!==0&&n===2){var r=_0(t);r!==0&&(e=r,n=J0(t,r))}if(n===1)throw n=Dd,pa(t,0),$i(t,e),or(t,$t()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t,Zn,Ks),or(t,$t()),null}function _1(t,e){var n=Ze;Ze|=1;try{return t(e)}finally{Ze=n,Ze===0&&(dc=$t()+500,lg&&Ro())}}function Sa(t){Xi!==null&&Xi.tag===0&&!(Ze&6)&&Ll();var e=Ze;Ze|=1;var n=Mr.transition,r=ut;try{if(Mr.transition=null,ut=1,t)return t()}finally{ut=r,Mr.transition=n,Ze=e,!(Ze&6)&&Ro()}}function S1(){yr=Sl.current,Tt(Sl)}function pa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v6(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(i1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bp();break;case 3:cc(),Tt(sr),Tt(Mn),p1();break;case 5:f1(r);break;case 4:cc();break;case 13:Tt(Ct);break;case 19:Tt(Ct);break;case 10:c1(r.type._context);break;case 22:case 23:S1()}n=n.return}if(cn=t,Gt=t=lo(t.current,null),mn=yr=e,en=0,Dd=null,T1=hg=_a=0,Zn=Yu=null,na!==null){for(e=0;e<na.length;e++)if(n=na[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}na=null}return t}function nk(t,e){do{var n=Gt;try{if(l1(),tp.current=Jp,Xp){for(var r=Nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xp=!1}if(Ea=0,an=Jt=Nt=null,Ku=!1,Pd=0,b1.current=null,n===null||n.return===null){en=1,Dd=e,Gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=K_(o);if(g!==null){g.flags&=-257,Q_(g,o,a,i,e),g.mode&1&&G_(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){G_(i,c,e),C1();break e}l=Error(ee(426))}}else if(Et&&a.mode&1){var T=K_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Q_(T,o,a,i,e),o1(uc(l,a));break e}}i=l=uc(l,a),en!==4&&(en=2),Yu===null?Yu=[i]:Yu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=FR(i,l,e);$_(i,w);break e;case 1:a=l;var b=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(oo===null||!oo.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=UR(i,a,e);$_(i,I);break e}}i=i.return}while(i!==null)}ik(n)}catch(P){e=P,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(!0)}function rk(){var t=Zp.current;return Zp.current=Jp,t===null?Jp:t}function C1(){(en===0||en===3||en===2)&&(en=4),cn===null||!(_a&268435455)&&!(hg&268435455)||$i(cn,mn)}function nm(t,e){var n=Ze;Ze|=2;var r=rk();(cn!==t||mn!==e)&&(Ks=null,pa(t,e));do try{B6();break}catch(s){nk(t,s)}while(!0);if(l1(),Ze=n,Zp.current=r,Gt!==null)throw Error(ee(261));return cn=null,mn=0,en}function B6(){for(;Gt!==null;)sk(Gt)}function W6(){for(;Gt!==null&&!m3();)sk(Gt)}function sk(t){var e=ak(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?ik(t):Gt=e,b1.current=null}function ik(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L6(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Gt=null;return}}else if(n=O6(n,e,yr),n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);en===0&&(en=5)}function Qo(t,e,n){var r=ut,s=Mr.transition;try{Mr.transition=null,ut=1,q6(t,e,n,r)}finally{Mr.transition=s,ut=r}return null}function q6(t,e,n,r){do Ll();while(Xi!==null);if(Ze&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(S3(t,i),t===cn&&(Gt=cn=null,mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_f||(_f=!0,lk(Lp,function(){return Ll(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mr.transition,Mr.transition=null;var o=ut;ut=1;var a=Ze;Ze|=4,b1.current=null,F6(t,n),ZR(n,t),d6(P0),Fp=!!N0,P0=N0=null,t.current=n,U6(n),g3(),Ze=a,ut=o,Mr.transition=i}else t.current=n;if(_f&&(_f=!1,Xi=t,tm=s),i=t.pendingLanes,i===0&&(oo=null),w3(n.stateNode),or(t,$t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(em)throw em=!1,t=Y0,Y0=null,t;return tm&1&&t.tag!==0&&Ll(),i=t.pendingLanes,i&1?t===X0?Xu++:(Xu=0,X0=t):Xu=0,Ro(),null}function Ll(){if(Xi!==null){var t=FP(tm),e=Mr.transition,n=ut;try{if(Mr.transition=null,ut=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,tm=0,Ze&6)throw Error(ee(331));var s=Ze;for(Ze|=4,Ee=t.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ee=c;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:Qu(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var p=d.sibling,g=d.return;if(YR(d),d===c){Ee=null;break}if(p!==null){p.return=g,Ee=p;break}Ee=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ee=w;break e}Ee=i.return}}var b=t.current;for(Ee=b;Ee!==null;){o=Ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ee=E;else e:for(o=b;Ee!==null;){if(a=Ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dg(9,a)}}catch(P){Vt(a,a.return,P)}if(a===o){Ee=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Ee=I;break e}Ee=a.return}}if(Ze=s,Ro(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(rg,t)}catch{}r=!0}return r}finally{ut=n,Mr.transition=e}}return!1}function lS(t,e,n){e=uc(n,e),e=FR(t,e,1),t=io(t,e,1),e=qn(),t!==null&&(ph(t,1,e),or(t,e))}function Vt(t,e,n){if(t.tag===3)lS(t,t,n);else for(;e!==null;){if(e.tag===3){lS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){t=uc(n,t),t=UR(e,t,1),e=io(e,t,1),t=qn(),e!==null&&(ph(e,1,t),or(e,t));break}}e=e.return}}function H6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(mn&n)===n&&(en===4||en===3&&(mn&130023424)===mn&&500>$t()-E1?pa(t,0):T1|=n),or(t,e)}function ok(t,e){e===0&&(t.mode&1?(e=pf,pf<<=1,!(pf&130023424)&&(pf=4194304)):e=1);var n=qn();t=ci(t,e),t!==null&&(ph(t,e,n),or(t,n))}function G6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ok(t,n)}function K6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),ok(t,n)}var ak;ak=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,M6(t,e,n);nr=!!(t.flags&131072)}else nr=!1,Et&&e.flags&1048576&&dR(e,Hp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rp(t,e),t=e.pendingProps;var s=oc(e,Mn.current);Ol(e,n),s=g1(null,e,r,t,s,n);var i=y1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(r)?(i=!0,Wp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d1(e),s.updater=ug,e.stateNode=s,s._reactInternals=e,F0(e,r,t,n),e=z0(null,e,r,!0,i,n)):(e.tag=0,Et&&i&&s1(e),$n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y6(r),t=Gr(r,t),s){case 0:e=$0(null,e,r,t,n);break e;case 1:e=J_(null,e,r,t,n);break e;case 11:e=Y_(null,e,r,t,n);break e;case 14:e=X_(null,e,r,Gr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),$0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),J_(t,e,r,s,n);case 3:e:{if(WR(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,yR(t,e),Qp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=uc(Error(ee(423)),e),e=Z_(t,e,r,n,s);break e}else if(r!==s){s=uc(Error(ee(424)),e),e=Z_(t,e,r,n,s);break e}else for(wr=so(e.stateNode.containerInfo.firstChild),br=e,Et=!0,Xr=null,n=mR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ac(),r===s){e=ui(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return vR(e),t===null&&O0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,R0(r,s)?o=null:i!==null&&R0(r,i)&&(e.flags|=32),BR(t,e),$n(t,e,o,n),e.child;case 6:return t===null&&O0(e),null;case 13:return qR(t,e,n);case 4:return h1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lc(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Y_(t,e,r,s,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gt(Gp,r._currentValue),r._currentValue=o,i!==null)if(as(i.value,o)){if(i.children===s.children&&!sr.current){e=ui(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ri(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),L0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),L0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ol(e,n),s=Vr(s),r=r(s),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,s=Gr(r,e.pendingProps),s=Gr(r.type,s),X_(t,e,r,s,n);case 15:return $R(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),rp(t,e),e.tag=1,ir(r)?(t=!0,Wp(e)):t=!1,Ol(e,n),VR(e,r,s),F0(e,r,s,n),z0(null,e,r,!0,t,n);case 19:return HR(t,e,n);case 22:return zR(t,e,n)}throw Error(ee(156,e.tag))};function lk(t,e){return MP(t,e)}function Q6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(t,e,n,r){return new Q6(t,e,n,r)}function A1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y6(t){if(typeof t=="function")return A1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hx)return 11;if(t===Gx)return 14}return 2}function lo(t,e){var n=t.alternate;return n===null?(n=jr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function op(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")A1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ml:return ma(n.children,s,i,e);case qx:o=8,s|=8;break;case c0:return t=jr(12,n,e,s|2),t.elementType=c0,t.lanes=i,t;case u0:return t=jr(13,n,e,s),t.elementType=u0,t.lanes=i,t;case d0:return t=jr(19,n,e,s),t.elementType=d0,t.lanes=i,t;case vP:return fg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gP:o=10;break e;case yP:o=9;break e;case Hx:o=11;break e;case Gx:o=14;break e;case Vi:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=jr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ma(t,e,n,r){return t=jr(7,t,r,e),t.lanes=n,t}function fg(t,e,n,r){return t=jr(22,t,r,e),t.elementType=vP,t.lanes=n,t.stateNode={isHidden:!1},t}function fv(t,e,n){return t=jr(6,t,null,e),t.lanes=n,t}function pv(t,e,n){return e=jr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function I1(t,e,n,r,s,i,o,a,l){return t=new X6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(i),t}function J6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ck(t){if(!t)return go;t=t._reactInternals;e:{if(Fa(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(ir(n))return cR(t,n,e)}return e}function uk(t,e,n,r,s,i,o,a,l){return t=I1(n,r,!0,t,s,i,o,a,l),t.context=ck(null),n=t.current,r=qn(),s=ao(n),i=ri(r,s),i.callback=e??null,io(n,i,s),t.current.lanes=s,ph(t,s,r),or(t,r),t}function pg(t,e,n,r){var s=e.current,i=qn(),o=ao(s);return n=ck(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=io(s,e,o),t!==null&&(rs(t,s,o,i),ep(t,s,o)),o}function rm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N1(t,e){cS(t,e),(t=t.alternate)&&cS(t,e)}function Z6(){return null}var dk=typeof reportError=="function"?reportError:function(t){console.error(t)};function P1(t){this._internalRoot=t}mg.prototype.render=P1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));pg(t,e,null,null)};mg.prototype.unmount=P1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sa(function(){pg(null,t,null,null)}),e[li]=null}};function mg(t){this._internalRoot=t}mg.prototype.unstable_scheduleHydration=function(t){if(t){var e=zP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&WP(t)}};function R1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uS(){}function eU(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rm(o);i.call(c)}}var o=uk(e,r,t,0,null,!1,!1,"",uS);return t._reactRootContainer=o,t[li]=o.current,Sd(t.nodeType===8?t.parentNode:t),Sa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rm(l);a.call(c)}}var l=I1(t,0,!1,null,null,!1,!1,"",uS);return t._reactRootContainer=l,t[li]=l.current,Sd(t.nodeType===8?t.parentNode:t),Sa(function(){pg(e,l,n,r)}),l}function yg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rm(o);a.call(l)}}pg(e,o,t,s)}else o=eU(n,e,t,s,r);return rm(o)}UP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tu(e.pendingLanes);n!==0&&(Yx(e,n|1),or(e,$t()),!(Ze&6)&&(dc=$t()+500,Ro()))}break;case 13:Sa(function(){var r=ci(t,1);if(r!==null){var s=qn();rs(r,t,1,s)}}),N1(t,1)}};Xx=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=qn();rs(e,t,134217728,n)}N1(t,134217728)}};$P=function(t){if(t.tag===13){var e=ao(t),n=ci(t,e);if(n!==null){var r=qn();rs(n,t,e,r)}N1(t,e)}};zP=function(){return ut};BP=function(t,e){var n=ut;try{return ut=t,e()}finally{ut=n}};b0=function(t,e,n){switch(e){case"input":if(p0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ag(r);if(!s)throw Error(ee(90));xP(r),p0(r,s)}}}break;case"textarea":TP(t,n);break;case"select":e=n.value,e!=null&&kl(t,!!n.multiple,e,!1)}};NP=_1;PP=Sa;var tU={usingClientEntryPoint:!1,Events:[gh,wl,ag,AP,IP,_1]},fu={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nU={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DP(t),t===null?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||Z6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{rg=Sf.inject(nU),As=Sf}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tU;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R1(e))throw Error(ee(200));return J6(t,e,null,n)};Sr.createRoot=function(t,e){if(!R1(t))throw Error(ee(299));var n=!1,r="",s=dk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=I1(t,1,!1,null,null,n,!1,r,s),t[li]=e.current,Sd(t.nodeType===8?t.parentNode:t),new P1(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=DP(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return Sa(t)};Sr.hydrate=function(t,e,n){if(!gg(e))throw Error(ee(200));return yg(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!R1(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uk(e,null,t,1,n??null,s,!1,i,o),t[li]=e.current,Sd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mg(e)};Sr.render=function(t,e,n){if(!gg(e))throw Error(ee(200));return yg(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!gg(t))throw Error(ee(40));return t._reactRootContainer?(Sa(function(){yg(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Sr.unstable_batchedUpdates=_1;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gg(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return yg(t,e,n,!1,r)};Sr.version="18.3.1-next-f1338f8080-20240426";function hk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hk)}catch(t){console.error(t)}}hk(),hP.exports=Sr;var Ua=hP.exports;const fk=Lx(Ua);var pk,dS=Ua;pk=dS.createRoot,dS.hydrateRoot;const rU=1,sU=1e6;let mv=0;function iU(){return mv=(mv+1)%Number.MAX_SAFE_INTEGER,mv.toString()}const gv=new Map,hS=t=>{if(gv.has(t))return;const e=setTimeout(()=>{gv.delete(t),Ju({type:"REMOVE_TOAST",toastId:t})},sU);gv.set(t,e)},oU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?hS(n):t.toasts.forEach(r=>{hS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ap=[];let lp={toasts:[]};function Ju(t){lp=oU(lp,t),ap.forEach(e=>{e(lp)})}function Xt({...t}){const e=iU(),n=s=>Ju({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ju({type:"DISMISS_TOAST",toastId:e});return Ju({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function k1(){const[t,e]=m.useState(lp);return m.useEffect(()=>(ap.push(e),()=>{const n=ap.indexOf(e);n>-1&&ap.splice(n,1)}),[t]),{...t,toast:Xt,dismiss:n=>Ju({type:"DISMISS_TOAST",toastId:n})}}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function aU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function vg(...t){return e=>t.forEach(n=>aU(n,e))}function et(...t){return m.useCallback(vg(...t),t)}function lU(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,cU(s,...e)]}function cU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var yo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(uU);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return u.jsx(ew,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return u.jsx(ew,{...r,ref:e,children:n})});yo.displayName="Slot";var ew=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=hU(n);return m.cloneElement(n,{...dU(r,n.props),ref:e?vg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});ew.displayName="SlotClone";var D1=({children:t})=>u.jsx(u.Fragment,{children:t});function uU(t){return m.isValidElement(t)&&t.type===D1}function dU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wg(t){const e=t+"CollectionProvider",[n,r]=lU(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,T=ce.useRef(null),w=ce.useRef(new Map).current;return u.jsx(s,{scope:v,itemMap:w,collectionRef:T,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=ce.forwardRef((g,v)=>{const{scope:y,children:T}=g,w=i(a,y),b=et(v,w.collectionRef);return u.jsx(yo,{ref:b,children:T})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=ce.forwardRef((g,v)=>{const{scope:y,children:T,...w}=g,b=ce.useRef(null),E=et(v,b),I=i(c,y);return ce.useEffect(()=>(I.itemMap.set(b,{ref:b,...w}),()=>void I.itemMap.delete(b))),u.jsx(yo,{[d]:"",ref:E,children:T})});f.displayName=c;function p(g){const v=i(t+"CollectionConsumer",g);return ce.useCallback(()=>{const T=v.collectionRef.current;if(!T)return[];const w=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((I,P)=>w.indexOf(I.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function fU(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function bi(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:g,...v}=f,y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pU(s,...e)]}function pU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=mU.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?yo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function j1(t,e){t&&Ua.flushSync(()=>t.dispatchEvent(e))}function yn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gU(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yU="DismissableLayer",tw="dismissableLayer.update",vU="dismissableLayer.pointerDownOutside",wU="dismissableLayer.focusOutside",fS,mk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pc=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(mk),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=et(e,C=>f(C)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(T),b=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,I=b>=w,P=bU(C=>{const S=C.target,A=[...c.branches].some(N=>N.contains(S));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),j=TU(C=>{const S=C.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return gU(C=>{b===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),pS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fS)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),pS())},[d,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(tw,C),()=>document.removeEventListener(tw,C)},[]),u.jsx(Me.div,{...l,ref:v,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,j.onFocusCapture),onBlurCapture:he(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,P.onPointerDownCapture)})});Pc.displayName=yU;var xU="DismissableLayerBranch",gk=m.forwardRef((t,e)=>{const n=m.useContext(mk),r=m.useRef(null),s=et(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Me.div,{...t,ref:s})});gk.displayName=xU;function bU(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){yk(vU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function TU(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&yk(wU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pS(){const t=new CustomEvent(tw);document.dispatchEvent(t)}function yk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var EU=Pc,_U=gk,un=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},SU="Portal",vh=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);un(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?fk.createPortal(u.jsx(Me.div,{...r,ref:e}),o):null});vh.displayName=SU;function CU(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var fs=t=>{const{present:e,children:n}=t,r=AU(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=et(r.ref,IU(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};fs.displayName="Presence";function AU(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=CU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Cf(r.current);i.current=a==="mounted"?c:"none"},[a]),un(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=Cf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),un(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Cf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=g=>{g.target===e&&(i.current=Cf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Cf(t){return(t==null?void 0:t.animationName)||"none"}function IU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ca({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=NU({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=yn(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function NU({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=yn(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var PU="VisuallyHidden",wh=m.forwardRef((t,e)=>u.jsx(Me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));wh.displayName=PU;var RU=wh,M1="ToastProvider",[O1,kU,DU]=wg("Toast"),[vk,Rce]=bi("Toast",[DU]),[jU,xg]=vk(M1),wk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${M1}\`. Expected non-empty \`string\`.`),u.jsx(O1.Provider,{scope:e,children:u.jsx(jU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};wk.displayName=M1;var xk="ToastViewport",MU=["F8"],nw="toast.viewportPause",rw="toast.viewportResume",bk=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=MU,label:s="Notifications ({hotkey})",...i}=t,o=xg(xk,n),a=kU(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=et(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const T=w=>{var E;r.length!==0&&r.every(I=>w[I]||w.code===I)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),m.useEffect(()=>{const T=l.current,w=f.current;if(v&&T&&w){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(nw);w.dispatchEvent(j),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(rw);w.dispatchEvent(j),o.isClosePausedRef.current=!1}},I=j=>{!T.contains(j.relatedTarget)&&E()},P=()=>{T.contains(document.activeElement)||E()};return T.addEventListener("focusin",b),T.addEventListener("focusout",I),T.addEventListener("pointermove",b),T.addEventListener("pointerleave",P),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{T.removeEventListener("focusin",b),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",b),T.removeEventListener("pointerleave",P),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[v,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:T})=>{const b=a().map(E=>{const I=E.ref.current,P=[I,...KU(I)];return T==="forwards"?P:P.reverse()});return(T==="forwards"?b.reverse():b).flat()},[a]);return m.useEffect(()=>{const T=f.current;if(T){const w=b=>{var P,j,C;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const S=document.activeElement,A=b.shiftKey;if(b.target===T&&A){(P=c.current)==null||P.focus();return}const M=y({tabbingDirection:A?"backwards":"forwards"}),k=M.findIndex($=>$===S);yv(M.slice(k+1))?b.preventDefault():A?(j=c.current)==null||j.focus():(C=d.current)==null||C.focus()}};return T.addEventListener("keydown",w),()=>T.removeEventListener("keydown",w)}},[a,y]),u.jsxs(_U,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(sw,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});yv(T)}}),u.jsx(O1.Slot,{scope:n,children:u.jsx(Me.ol,{tabIndex:-1,...i,ref:p})}),v&&u.jsx(sw,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});yv(T)}})]})});bk.displayName=xk;var Tk="ToastFocusProxy",sw=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xg(Tk,n);return u.jsx(wh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});sw.displayName=Tk;var bg="Toast",OU="toast.swipeStart",LU="toast.swipeMove",VU="toast.swipeCancel",FU="toast.swipeEnd",Ek=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ca({prop:r,defaultProp:s,onChange:i});return u.jsx(fs,{present:n||a,children:u.jsx(zU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:yn(t.onPause),onResume:yn(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Ek.displayName=bg;var[UU,$U]=vk(bg,{onClose(){}}),zU=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...v}=t,y=xg(bg,n),[T,w]=m.useState(null),b=et(e,$=>w($)),E=m.useRef(null),I=m.useRef(null),P=s||y.duration,j=m.useRef(0),C=m.useRef(P),S=m.useRef(0),{onToastAdd:A,onToastRemove:N}=y,D=yn(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),M=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(D,$))},[D]);m.useEffect(()=>{const $=y.viewport;if($){const re=()=>{M(C.current),c==null||c()},X=()=>{const Z=new Date().getTime()-j.current;C.current=C.current-Z,window.clearTimeout(S.current),l==null||l()};return $.addEventListener(nw,X),$.addEventListener(rw,re),()=>{$.removeEventListener(nw,X),$.removeEventListener(rw,re)}}},[y.viewport,P,l,c,M]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(P)},[i,P,y.isClosePausedRef,M]),m.useEffect(()=>(A(),()=>N()),[A,N]);const k=m.useMemo(()=>T?Pk(T):null,[T]);return y.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(BU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(UU,{scope:n,onClose:D,children:Ua.createPortal(u.jsx(O1.ItemSlot,{scope:n,children:u.jsx(EU,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:he(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:he(t.onPointerMove,$=>{if(!E.current)return;const re=$.clientX-E.current.x,X=$.clientY-E.current.y,Z=!!I.current,O=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,J=O?L(0,re):0,W=O?0:L(0,X),ne=$.pointerType==="touch"?10:2,le={x:J,y:W},G={originalEvent:$,delta:le};Z?(I.current=le,Af(LU,f,G,{discrete:!1})):mS(le,y.swipeDirection,ne)?(I.current=le,Af(OU,d,G,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(re)>ne||Math.abs(X)>ne)&&(E.current=null)}),onPointerUp:he(t.onPointerUp,$=>{const re=I.current,X=$.target;if(X.hasPointerCapture($.pointerId)&&X.releasePointerCapture($.pointerId),I.current=null,E.current=null,re){const Z=$.currentTarget,O={originalEvent:$,delta:re};mS(re,y.swipeDirection,y.swipeThreshold)?Af(FU,g,O,{discrete:!0}):Af(VU,p,O,{discrete:!0}),Z.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),BU=t=>{const{__scopeToast:e,children:n,...r}=t,s=xg(bg,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return HU(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(vh,{asChild:!0,children:u.jsx(wh,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},WU="ToastTitle",_k=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Me.div,{...r,ref:e})});_k.displayName=WU;var qU="ToastDescription",Sk=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Me.div,{...r,ref:e})});Sk.displayName=qU;var Ck="ToastAction",Ak=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Nk,{altText:n,asChild:!0,children:u.jsx(L1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ck}\`. Expected non-empty \`string\`.`),null)});Ak.displayName=Ck;var Ik="ToastClose",L1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=$U(Ik,n);return u.jsx(Nk,{asChild:!0,children:u.jsx(Me.button,{type:"button",...r,ref:e,onClick:he(t.onClick,s.onClose)})})});L1.displayName=Ik;var Nk=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Pk(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),GU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Pk(r))}}),e}function Af(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var mS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function HU(t=()=>{}){const e=yn(t);un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function GU(t){return t.nodeType===t.ELEMENT_NODE}function KU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QU=wk,Rk=bk,kk=Ek,Dk=_k,jk=Sk,Mk=Ak,Ok=L1;function Lk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Lk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Lk(t))&&(r&&(r+=" "),r+=e);return r}const gS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,yS=Vk,xh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return yS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=gS(d)||gS(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(v=>{let[y,T]=v;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,f,p]:c},[]);return yS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...XU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Fk("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(JU,{ref:i,iconNode:e,className:Fk(`lucide-${YU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Se("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Se("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Se("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Se("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Se("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=Se("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=Se("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Se("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$1="-",I9=t=>{const e=P9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($1);return a[0]===""&&a.length!==1&&a.shift(),Kk(a,e)||N9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Kk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Kk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ES=/^\[(.+)\]$/,N9=t=>{if(ES.test(t)){const e=ES.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return k9(Object.entries(t.classGroups),n).forEach(([i,o])=>{aw(o,r,i,e)}),r},aw=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_S(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(R9(s)){aw(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{aw(o,_S(e,i),n,r)})})},_S=(t,e)=>{let n=t;return e.split($1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},R9=t=>t.isThemeGetter,k9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,D9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Qk="!",j9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let T=0;T<a.length;T++){let w=a[T];if(c===0){if(w===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(w==="/"){f=T;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Qk),v=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},M9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},O9=t=>({cache:D9(t.cacheSize),parseClassName:j9(t),...I9(t)}),L9=/\s+/,V9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(L9);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const T=M9(d).join(":"),w=f?T+Qk:T,b=w+y;if(i.includes(b))continue;i.push(b);const E=s(y,v);for(let I=0;I<E.length;++I){const P=E[I];i.push(w+P)}a=c+(a.length>0?" "+a:a)}return a};function F9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Yk(e))&&(r&&(r+=" "),r+=n);return r}const Yk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Yk(t[r]))&&(n&&(n+=" "),n+=e);return n};function U9(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=O9(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=V9(l,n);return s(l,d),d}return function(){return i(F9.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Xk=/^\[(?:([a-z-]+):)?(.+)\]$/i,$9=/^\d+\/\d+$/,z9=new Set(["px","full","screen"]),B9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,H9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,G9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=t=>Vl(t)||z9.has(t)||$9.test(t),Pi=t=>Rc(t,"length",t$),Vl=t=>!!t&&!Number.isNaN(Number(t)),xv=t=>Rc(t,"number",Vl),pu=t=>!!t&&Number.isInteger(Number(t)),K9=t=>t.endsWith("%")&&Vl(t.slice(0,-1)),$e=t=>Xk.test(t),Ri=t=>B9.test(t),Q9=new Set(["length","size","percentage"]),Y9=t=>Rc(t,Q9,Jk),X9=t=>Rc(t,"position",Jk),J9=new Set(["image","url"]),Z9=t=>Rc(t,J9,r$),e$=t=>Rc(t,"",n$),mu=()=>!0,Rc=(t,e,n)=>{const r=Xk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},t$=t=>W9.test(t)&&!q9.test(t),Jk=()=>!1,n$=t=>H9.test(t),r$=t=>G9.test(t),s$=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),r=wt("brightness"),s=wt("borderColor"),i=wt("borderRadius"),o=wt("borderSpacing"),a=wt("borderWidth"),l=wt("contrast"),c=wt("grayscale"),d=wt("hueRotate"),f=wt("invert"),p=wt("gap"),g=wt("gradientColorStops"),v=wt("gradientColorStopPositions"),y=wt("inset"),T=wt("margin"),w=wt("opacity"),b=wt("padding"),E=wt("saturate"),I=wt("scale"),P=wt("sepia"),j=wt("skew"),C=wt("space"),S=wt("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",$e,e],M=()=>[$e,e],k=()=>["",Hs,Pi],$=()=>["auto",Vl,$e],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",$e],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Vl,$e];return{cacheSize:500,separator:":",theme:{colors:[mu],spacing:[Hs,Pi],blur:["none","",Ri,$e],brightness:W(),borderColor:[t],borderRadius:["none","","full",Ri,$e],borderSpacing:M(),borderWidth:k(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[K9,Pi],inset:D(),margin:D(),opacity:W(),padding:M(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),$e]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pu,$e]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",pu,$e]}],"grid-cols":[{"grid-cols":[mu]}],"col-start-end":[{col:["auto",{span:["full",pu,$e]},$e]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[mu]}],"row-start-end":[{row:["auto",{span:[pu,$e]},$e]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xv]}],"font-family":[{font:[mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Vl,xv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hs,Pi]}],"underline-offset":[{"underline-offset":["auto",Hs,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),X9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Y9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Hs,$e]}],"outline-w":[{outline:[Hs,Pi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Hs,Pi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ri,e$]}],"shadow-color":[{shadow:[mu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ri,$e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[pu,$e]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hs,Pi,xv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},i$=U9(s$);function pe(...t){return i$(Vk(t))}const o$=QU,Zk=m.forwardRef(({className:t,...e},n)=>u.jsx(Rk,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Zk.displayName=Rk.displayName;const a$=xh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),e2=m.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(kk,{ref:r,className:pe(a$({variant:e}),t),...n}));e2.displayName=kk.displayName;const l$=m.forwardRef(({className:t,...e},n)=>u.jsx(Mk,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));l$.displayName=Mk.displayName;const t2=m.forwardRef(({className:t,...e},n)=>u.jsx(Ok,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ei,{className:"h-4 w-4"})}));t2.displayName=Ok.displayName;const n2=m.forwardRef(({className:t,...e},n)=>u.jsx(Dk,{ref:n,className:pe("text-sm font-semibold",t),...e}));n2.displayName=Dk.displayName;const r2=m.forwardRef(({className:t,...e},n)=>u.jsx(jk,{ref:n,className:pe("text-sm opacity-90",t),...e}));r2.displayName=jk.displayName;function c$(){const{toasts:t}=k1();return u.jsxs(o$,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(e2,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(n2,{children:n}),r&&u.jsx(r2,{children:r})]}),s,u.jsx(t2,{})]},e)}),u.jsx(Zk,{})]})}var SS=["light","dark"],u$="(prefers-color-scheme: dark)",d$=m.createContext(void 0),h$={setTheme:t=>{},themes:[]},f$=()=>{var t;return(t=m.useContext(d$))!=null?t:h$};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?SS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,T=!0)=>{let w=o?o[v]:v,b=y?v+"|| ''":`'${w}'`,E="";return s&&T&&!y&&SS.includes(v)&&(E+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?E+=`c.add(${b})`:E+="null":w&&(E+=`d[s](n,${b})`),E},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${u$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var p$=t=>{switch(t){case"success":return y$;case"info":return w$;case"warning":return v$;case"error":return x$;default:return null}},m$=Array(12).fill(0),g$=({visible:t})=>ce.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ce.createElement("div",{className:"sonner-spinner"},m$.map((e,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),y$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),v$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x$=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b$=()=>{let[t,e]=ce.useState(document.hidden);return ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lw=1,T$=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:lw++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(_$(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||lw++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},gr=new T$,E$=(t,e)=>{let n=(e==null?void 0:e.id)||lw++;return gr.addToast({title:t,...e,id:n}),n},_$=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",S$=E$,C$=()=>gr.toasts;Object.assign(S$,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:C$});function A$(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}A$(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nf(t){return t.label!==void 0}var I$=3,N$="32px",P$=4e3,R$=356,k$=14,D$=20,j$=200;function M$(...t){return t.filter(Boolean).join(" ")}var O$=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:T,heights:w,index:b,toasts:E,expanded:I,removeToast:P,defaultRichColors:j,closeButton:C,style:S,cancelButtonStyle:A,actionButtonStyle:N,className:D="",descriptionClassName:M="",duration:k,position:$,gap:re,loadingIcon:X,expandByDefault:Z,classNames:O,icons:L,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:W,cn:ne}=t,[le,G]=ce.useState(!1),[be,oe]=ce.useState(!1),[te,ge]=ce.useState(!1),[Ne,_e]=ce.useState(!1),[we,Y]=ce.useState(0),[ie,Ce]=ce.useState(0),We=ce.useRef(null),V=ce.useRef(null),me=b===0,ke=b+1<=T,Te=p.type,He=p.dismissible!==!1,ze=p.className||"",wn=p.descriptionClassName||"",st=ce.useMemo(()=>w.findIndex(Pe=>Pe.toastId===p.id)||0,[w,p.id]),Qt=ce.useMemo(()=>{var Pe;return(Pe=p.closeButton)!=null?Pe:C},[p.closeButton,C]),kt=ce.useMemo(()=>p.duration||k||P$,[p.duration,k]),ft=ce.useRef(0),z=ce.useRef(0),ae=ce.useRef(0),ye=ce.useRef(null),[de,Ye]=$.split("-"),Ue=ce.useMemo(()=>w.reduce((Pe,rt,Xe)=>Xe>=st?Pe:Pe+rt.height,0),[w,st]),at=b$(),tt=p.invert||f,Dt=Te==="loading";z.current=ce.useMemo(()=>st*re+Ue,[st,Ue]),ce.useEffect(()=>{G(!0)},[]),ce.useLayoutEffect(()=>{if(!le)return;let Pe=V.current,rt=Pe.style.height;Pe.style.height="auto";let Xe=Pe.getBoundingClientRect().height;Pe.style.height=rt,Ce(Xe),y(Wt=>Wt.find(nn=>nn.toastId===p.id)?Wt.map(nn=>nn.toastId===p.id?{...nn,height:Xe}:nn):[{toastId:p.id,height:Xe,position:p.position},...Wt])},[le,p.title,p.description,y,p.id]);let Ln=ce.useCallback(()=>{oe(!0),Y(z.current),y(Pe=>Pe.filter(rt=>rt.toastId!==p.id)),setTimeout(()=>{P(p)},j$)},[p,P,y,z]);ce.useEffect(()=>{if(p.promise&&Te==="loading"||p.duration===1/0||p.type==="loading")return;let Pe,rt=kt;return I||v||W&&at?(()=>{if(ae.current<ft.current){let Xe=new Date().getTime()-ft.current;rt=rt-Xe}ae.current=new Date().getTime()})():rt!==1/0&&(ft.current=new Date().getTime(),Pe=setTimeout(()=>{var Xe;(Xe=p.onAutoClose)==null||Xe.call(p,p),Ln()},rt)),()=>clearTimeout(Pe)},[I,v,Z,p,kt,Ln,p.promise,Te,W,at]),ce.useEffect(()=>{let Pe=V.current;if(Pe){let rt=Pe.getBoundingClientRect().height;return Ce(rt),y(Xe=>[{toastId:p.id,height:rt,position:p.position},...Xe]),()=>y(Xe=>Xe.filter(Wt=>Wt.toastId!==p.id))}},[y,p.id]),ce.useEffect(()=>{p.delete&&Ln()},[Ln,p.delete]);function Ja(){return L!=null&&L.loading?ce.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},L.loading):X?ce.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},X):ce.createElement(g$,{visible:Te==="loading"})}return ce.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:V,className:ne(D,ze,O==null?void 0:O.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[Te],(n=p==null?void 0:p.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:j,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":le,"data-promise":!!p.promise,"data-removed":be,"data-visible":ke,"data-y-position":de,"data-x-position":Ye,"data-index":b,"data-front":me,"data-swiping":te,"data-dismissible":He,"data-type":Te,"data-invert":tt,"data-swipe-out":Ne,"data-expanded":!!(I||Z&&le),style:{"--index":b,"--toasts-before":b,"--z-index":E.length-b,"--offset":`${be?we:z.current}px`,"--initial-height":Z?"auto":`${ie}px`,...S,...p.style},onPointerDown:Pe=>{Dt||!He||(We.current=new Date,Y(z.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(ge(!0),ye.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,rt,Xe,Wt;if(Ne||!He)return;ye.current=null;let nn=Number(((Pe=V.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),dr=new Date().getTime()-((rt=We.current)==null?void 0:rt.getTime()),hr=Math.abs(nn)/dr;if(Math.abs(nn)>=D$||hr>.11){Y(z.current),(Xe=p.onDismiss)==null||Xe.call(p,p),Ln(),_e(!0);return}(Wt=V.current)==null||Wt.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:Pe=>{var rt;if(!ye.current||!He)return;let Xe=Pe.clientY-ye.current.y,Wt=Pe.clientX-ye.current.x,nn=(de==="top"?Math.min:Math.max)(0,Xe),dr=Pe.pointerType==="touch"?10:2;Math.abs(nn)>dr?(rt=V.current)==null||rt.style.setProperty("--swipe-amount",`${Xe}px`):Math.abs(Wt)>dr&&(ye.current=null)}},Qt&&!p.jsx?ce.createElement("button",{"aria-label":J,"data-disabled":Dt,"data-close-button":!0,onClick:Dt||!He?()=>{}:()=>{var Pe;Ln(),(Pe=p.onDismiss)==null||Pe.call(p,p)},className:ne(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||ce.isValidElement(p.title)?p.jsx||p.title:ce.createElement(ce.Fragment,null,Te||p.icon||p.promise?ce.createElement("div",{"data-icon":"",className:ne(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ja():null,p.type!=="loading"?p.icon||(L==null?void 0:L[Te])||p$(Te):null):null,ce.createElement("div",{"data-content":"",className:ne(O==null?void 0:O.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},ce.createElement("div",{"data-title":"",className:ne(O==null?void 0:O.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?ce.createElement("div",{"data-description":"",className:ne(M,wn,O==null?void 0:O.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),ce.isValidElement(p.cancel)?p.cancel:p.cancel&&Nf(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Pe=>{var rt,Xe;Nf(p.cancel)&&He&&((Xe=(rt=p.cancel).onClick)==null||Xe.call(rt,Pe),Ln())},className:ne(O==null?void 0:O.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,ce.isValidElement(p.action)?p.action:p.action&&Nf(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:Pe=>{var rt,Xe;Nf(p.action)&&(Pe.defaultPrevented||((Xe=(rt=p.action).onClick)==null||Xe.call(rt,Pe),Ln()))},className:ne(O==null?void 0:O.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function CS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var L$=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:p=I$,toastOptions:g,dir:v=CS(),gap:y=k$,loadingIcon:T,icons:w,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:E,cn:I=M$}=t,[P,j]=ce.useState([]),C=ce.useMemo(()=>Array.from(new Set([n].concat(P.filter(W=>W.position).map(W=>W.position)))),[P,n]),[S,A]=ce.useState([]),[N,D]=ce.useState(!1),[M,k]=ce.useState(!1),[$,re]=ce.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=ce.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=ce.useRef(null),L=ce.useRef(!1),J=ce.useCallback(W=>{var ne;(ne=P.find(le=>le.id===W.id))!=null&&ne.delete||gr.dismiss(W.id),j(le=>le.filter(({id:G})=>G!==W.id))},[P]);return ce.useEffect(()=>gr.subscribe(W=>{if(W.dismiss){j(ne=>ne.map(le=>le.id===W.id?{...le,delete:!0}:le));return}setTimeout(()=>{fk.flushSync(()=>{j(ne=>{let le=ne.findIndex(G=>G.id===W.id);return le!==-1?[...ne.slice(0,le),{...ne[le],...W},...ne.slice(le+1)]:[W,...ne]})})})}),[]),ce.useEffect(()=>{if(l!=="system"){re(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{re(W?"dark":"light")})},[l]),ce.useEffect(()=>{P.length<=1&&D(!1)},[P]),ce.useEffect(()=>{let W=ne=>{var le,G;r.every(be=>ne[be]||ne.code===be)&&(D(!0),(le=X.current)==null||le.focus()),ne.code==="Escape"&&(document.activeElement===X.current||(G=X.current)!=null&&G.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),ce.useEffect(()=>{if(X.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,L.current=!1)}},[X.current]),P.length?ce.createElement("section",{"aria-label":`${b} ${Z}`,tabIndex:-1},C.map((W,ne)=>{var le;let[G,be]=W.split("-");return ce.createElement("ol",{key:W,dir:v==="auto"?CS():v,tabIndex:-1,ref:X,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":G,"data-x-position":be,style:{"--front-toast-height":`${((le=S[0])==null?void 0:le.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||N$,"--width":`${R$}px`,"--gap":`${y}px`,...f},onBlur:oe=>{L.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(L.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||L.current||(L.current=!0,O.current=oe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},P.filter(oe=>!oe.position&&ne===0||oe.position===W).map((oe,te)=>{var ge,Ne;return ce.createElement(O$,{key:oe.id,icons:w,index:te,toast:oe,defaultRichColors:c,duration:(ge=g==null?void 0:g.duration)!=null?ge:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(Ne=g==null?void 0:g.closeButton)!=null?Ne:i,interacting:M,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:P.filter(_e=>_e.position==oe.position),heights:S.filter(_e=>_e.position==oe.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:T,expanded:N,pauseWhenPageIsHidden:E,cn:I})}))})):null};const V$=({...t})=>{const{theme:e="system"}=f$();return u.jsx(L$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var F$=uP.useId||(()=>{}),U$=0;function Ns(t){const[e,n]=m.useState(F$());return un(()=>{t||n(r=>r??String(U$++))},[t]),t||(e?`radix-${e}`:"")}const $$=["top","right","bottom","left"],vo=Math.min,vr=Math.max,am=Math.round,Pf=Math.floor,wo=t=>({x:t,y:t}),z$={left:"right",right:"left",bottom:"top",top:"bottom"},B$={start:"end",end:"start"};function cw(t,e,n){return vr(t,vo(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function hi(t){return t.split("-")[0]}function kc(t){return t.split("-")[1]}function z1(t){return t==="x"?"y":"x"}function B1(t){return t==="y"?"height":"width"}function xo(t){return["top","bottom"].includes(hi(t))?"y":"x"}function W1(t){return z1(xo(t))}function W$(t,e,n){n===void 0&&(n=!1);const r=kc(t),s=W1(t),i=B1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=lm(o)),[o,lm(o)]}function q$(t){const e=lm(t);return[uw(t),e,uw(e)]}function uw(t){return t.replace(/start|end/g,e=>B$[e])}function H$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function G$(t,e,n,r){const s=kc(t);let i=H$(hi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(uw)))),i}function lm(t){return t.replace(/left|right|bottom|top/g,e=>z$[e])}function K$(t){return{top:0,right:0,bottom:0,left:0,...t}}function s2(t){return typeof t!="number"?K$(t):{top:t,right:t,bottom:t,left:t}}function cm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AS(t,e,n){let{reference:r,floating:s}=t;const i=xo(e),o=W1(e),a=B1(o),l=hi(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(kc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const Q$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=AS(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:T,fn:w}=a[y],{x:b,y:E,data:I,reset:P}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=b??d,f=E??f,g={...g,[T]:{...g[T],...I}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=AS(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Md(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=di(e,t),v=s2(g),T=a[p?f==="floating"?"reference":"floating":f],w=cm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},P=cm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:l}):b);return{top:(w.top-P.top+v.top)/I.y,bottom:(P.bottom-w.bottom+v.bottom)/I.y,left:(w.left-P.left+v.left)/I.x,right:(P.right-w.right+v.right)/I.x}}const Y$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=di(t,e)||{};if(c==null)return{};const f=s2(d),p={x:n,y:r},g=W1(s),v=B1(g),y=await o.getDimensions(c),T=g==="y",w=T?"top":"left",b=T?"bottom":"right",E=T?"clientHeight":"clientWidth",I=i.reference[v]+i.reference[g]-p[g]-i.floating[v],P=p[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=j?j[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[E]||i.floating[v]);const S=I/2-P/2,A=C/2-y[v]/2-1,N=vo(f[w],A),D=vo(f[b],A),M=N,k=C-y[v]-D,$=C/2-y[v]/2+S,re=cw(M,$,k),X=!l.arrow&&kc(s)!=null&&$!==re&&i.reference[v]/2-($<M?N:D)-y[v]/2<0,Z=X?$<M?$-M:$-k:0;return{[g]:p[g]+Z,data:{[g]:re,centerOffset:$-re-Z,...X&&{alignmentOffset:Z}},reset:X}}}),X$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...T}=di(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=hi(s),b=xo(a),E=hi(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(E||!y?[lm(a)]:q$(a)),j=v!=="none";!p&&j&&P.push(...G$(a,y,v,I));const C=[a,...P],S=await Md(e,T),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(S[w]),f){const $=W$(s,o,I);A.push(S[$[0]],S[$[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every($=>$<=0)){var D,M;const $=(((D=i.flip)==null?void 0:D.index)||0)+1,re=C[$];if(re)return{data:{index:$,overflows:N},reset:{placement:re}};let X=(M=N.filter(Z=>Z.overflows[0]<=0).sort((Z,O)=>Z.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!X)switch(g){case"bestFit":{var k;const Z=(k=N.filter(O=>{if(j){const L=xo(O.placement);return L===b||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,J)=>L+J,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:k[0];Z&&(X=Z);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function IS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NS(t){return $$.some(e=>t[e]>=0)}const J$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=di(t,e);switch(r){case"referenceHidden":{const i=await Md(e,{...s,elementContext:"reference"}),o=IS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NS(o)}}}case"escaped":{const i=await Md(e,{...s,altBoundary:!0}),o=IS(i,n.floating);return{data:{escapedOffsets:o,escaped:NS(o)}}}default:return{}}}}};async function Z$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hi(n),a=kc(n),l=xo(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=di(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const ez=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Z$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},tz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:w,y:b}=T;return{x:w,y:b}}},...l}=di(t,e),c={x:n,y:r},d=await Md(e,l),f=xo(hi(s)),p=z1(f);let g=c[p],v=c[f];if(i){const T=p==="y"?"top":"left",w=p==="y"?"bottom":"right",b=g+d[T],E=g-d[w];g=cw(b,g,E)}if(o){const T=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=v+d[T],E=v-d[w];v=cw(b,v,E)}const y=a.fn({...e,[p]:g,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},nz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=di(t,e),d={x:n,y:r},f=xo(s),p=z1(f);let g=d[p],v=d[f];const y=di(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",I=i.reference[p]-i.floating[E]+T.mainAxis,P=i.reference[p]+i.reference[E]-T.mainAxis;g<I?g=I:g>P&&(g=P)}if(c){var w,b;const E=p==="y"?"width":"height",I=["top","left"].includes(hi(s)),P=i.reference[f]-i.floating[E]+(I&&((w=o.offset)==null?void 0:w[f])||0)+(I?0:T.crossAxis),j=i.reference[f]+i.reference[E]+(I?0:((b=o.offset)==null?void 0:b[f])||0)-(I?T.crossAxis:0);v<P?v=P:v>j&&(v=j)}return{[p]:g,[f]:v}}}},rz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=di(t,e),d=await Md(e,c),f=hi(s),p=kc(s),g=xo(s)==="y",{width:v,height:y}=i.floating;let T,w;f==="top"||f==="bottom"?(T=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,T=p==="end"?"top":"bottom");const b=y-d.top-d.bottom,E=v-d.left-d.right,I=vo(y-d[T],b),P=vo(v-d[w],E),j=!e.middlewareData.shift;let C=I,S=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=b),j&&!p){const N=vr(d.left,0),D=vr(d.right,0),M=vr(d.top,0),k=vr(d.bottom,0);g?S=v-2*(N!==0||D!==0?N+D:vr(d.left,d.right)):C=y-2*(M!==0||k!==0?M+k:vr(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const A=await o.getDimensions(a.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Tg(){return typeof window<"u"}function Dc(t){return i2(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $s(t){var e;return(e=(i2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function i2(t){return Tg()?t instanceof Node||t instanceof Tr(t).Node:!1}function ls(t){return Tg()?t instanceof Element||t instanceof Tr(t).Element:!1}function Ls(t){return Tg()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function PS(t){return!Tg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function bh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function sz(t){return["table","td","th"].includes(Dc(t))}function Eg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function q1(t){const e=H1(),n=ls(t)?cs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iz(t){let e=bo(t);for(;Ls(e)&&!hc(e);){if(q1(e))return e;if(Eg(e))return null;e=bo(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hc(t){return["html","body","#document"].includes(Dc(t))}function cs(t){return Tr(t).getComputedStyle(t)}function _g(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bo(t){if(Dc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PS(t)&&t.host||$s(t);return PS(e)?e.host:e}function o2(t){const e=bo(t);return hc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ls(e)&&bh(e)?e:o2(e)}function Od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=o2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Tr(s);if(i){const a=dw(o);return e.concat(o,o.visualViewport||[],bh(s)?s:[],a&&n?Od(a):[])}return e.concat(s,Od(s,[],n))}function dw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function a2(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ls(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=am(n)!==i||am(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function G1(t){return ls(t)?t:t.contextElement}function Fl(t){const e=G1(t);if(!Ls(e))return wo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=a2(e);let o=(i?am(n.width):n.width)/r,a=(i?am(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oz=wo(0);function l2(t){const e=Tr(t);return!H1()||!e.visualViewport?oz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function az(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function Aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=G1(t);let o=wo(1);e&&(r?ls(r)&&(o=Fl(r)):o=Fl(t));const a=az(i,n,r)?l2(i):wo(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Tr(i),g=r&&ls(r)?Tr(r):r;let v=p,y=dw(v);for(;y&&r&&g!==v;){const T=Fl(y),w=y.getBoundingClientRect(),b=cs(y),E=w.left+(y.clientLeft+parseFloat(b.paddingLeft))*T.x,I=w.top+(y.clientTop+parseFloat(b.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,f*=T.y,l+=E,c+=I,v=Tr(y),y=dw(v)}}return cm({width:d,height:f,x:l,y:c})}function lz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$s(r),a=e?Eg(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=wo(1);const d=wo(0),f=Ls(r);if((f||!f&&!i)&&((Dc(r)!=="body"||bh(o))&&(l=_g(r)),Ls(r))){const p=Aa(r);c=Fl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function cz(t){return Array.from(t.getClientRects())}function hw(t,e){const n=_g(t).scrollLeft;return e?e.left+n:Aa($s(t)).left+n}function uz(t){const e=$s(t),n=_g(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+hw(t);const a=-n.scrollTop;return cs(r).direction==="rtl"&&(o+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function dz(t,e){const n=Tr(t),r=$s(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=H1();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function hz(t,e){const n=Aa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ls(t)?Fl(t):wo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function RS(t,e,n){let r;if(e==="viewport")r=dz(t,n);else if(e==="document")r=uz($s(t));else if(ls(e))r=hz(e,n);else{const s=l2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return cm(r)}function c2(t,e){const n=bo(t);return n===e||!ls(n)||hc(n)?!1:cs(n).position==="fixed"||c2(n,e)}function fz(t,e){const n=e.get(t);if(n)return n;let r=Od(t,[],!1).filter(a=>ls(a)&&Dc(a)!=="body"),s=null;const i=cs(t).position==="fixed";let o=i?bo(t):t;for(;ls(o)&&!hc(o);){const a=cs(o),l=q1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bh(o)&&!l&&c2(t,o))?r=r.filter(d=>d!==o):s=a,o=bo(o)}return e.set(t,r),r}function pz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Eg(e)?[]:fz(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=RS(e,d,s);return c.top=vr(f.top,c.top),c.right=vo(f.right,c.right),c.bottom=vo(f.bottom,c.bottom),c.left=vr(f.left,c.left),c},RS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function mz(t){const{width:e,height:n}=a2(t);return{width:e,height:n}}function gz(t,e,n){const r=Ls(e),s=$s(e),i=n==="fixed",o=Aa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=wo(0);if(r||!r&&!i)if((Dc(e)!=="body"||bh(s))&&(a=_g(e)),r){const g=Aa(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=hw(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-hw(s,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function bv(t){return cs(t).position==="static"}function kS(t,e){if(!Ls(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $s(t)===n&&(n=n.ownerDocument.body),n}function u2(t,e){const n=Tr(t);if(Eg(t))return n;if(!Ls(t)){let s=bo(t);for(;s&&!hc(s);){if(ls(s)&&!bv(s))return s;s=bo(s)}return n}let r=kS(t,e);for(;r&&sz(r)&&bv(r);)r=kS(r,e);return r&&hc(r)&&bv(r)&&!q1(r)?n:r||iz(t)||n}const yz=async function(t){const e=this.getOffsetParent||u2,n=this.getDimensions,r=await n(t.floating);return{reference:gz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vz(t){return cs(t).direction==="rtl"}const wz={convertOffsetParentRelativeRectToViewportRelativeRect:lz,getDocumentElement:$s,getClippingRect:pz,getOffsetParent:u2,getElementRects:yz,getClientRects:cz,getDimensions:mz,getScale:Fl,isElement:ls,isRTL:vz};function xz(t,e){let n=null,r;const s=$s(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=Pf(d),v=Pf(s.clientWidth-(c+f)),y=Pf(s.clientHeight-(d+p)),T=Pf(c),b={rootMargin:-g+"px "+-v+"px "+-y+"px "+-T+"px",threshold:vr(0,vo(1,l))||1};let E=!0;function I(P){const j=P[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(I,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,b)}n.observe(t)}return o(!0),i}function bz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=G1(t),d=s||i?[...c?Od(c):[],...Od(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?xz(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[b]=w;b&&b.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Aa(t):null;l&&T();function T(){const w=Aa(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&n(),y=w,v=requestAnimationFrame(T)}return n(),()=>{var w;d.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Tz=ez,Ez=tz,_z=X$,Sz=rz,Cz=J$,DS=Y$,Az=nz,Iz=(t,e,n)=>{const r=new Map,s={platform:wz,...n},i={...s.platform,_c:r};return Q$(t,e,{...s,platform:i})};var cp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function um(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!um(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!um(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function d2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jS(t,e){const n=d2(t);return Math.round(e*n)/n}function Tv(t){const e=m.useRef(t);return cp(()=>{e.current=t}),e}function Nz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);um(p,r)||g(r);const[v,y]=m.useState(null),[T,w]=m.useState(null),b=m.useCallback(O=>{O!==j.current&&(j.current=O,y(O))},[]),E=m.useCallback(O=>{O!==C.current&&(C.current=O,w(O))},[]),I=i||v,P=o||T,j=m.useRef(null),C=m.useRef(null),S=m.useRef(d),A=l!=null,N=Tv(l),D=Tv(s),M=Tv(c),k=m.useCallback(()=>{if(!j.current||!C.current)return;const O={placement:e,strategy:n,middleware:p};D.current&&(O.platform=D.current),Iz(j.current,C.current,O).then(L=>{const J={...L,isPositioned:M.current!==!1};$.current&&!um(S.current,J)&&(S.current=J,Ua.flushSync(()=>{f(J)}))})},[p,e,n,D,M]);cp(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);const $=m.useRef(!1);cp(()=>($.current=!0,()=>{$.current=!1}),[]),cp(()=>{if(I&&(j.current=I),P&&(C.current=P),I&&P){if(N.current)return N.current(I,P,k);k()}},[I,P,k,N,A]);const re=m.useMemo(()=>({reference:j,floating:C,setReference:b,setFloating:E}),[b,E]),X=m.useMemo(()=>({reference:I,floating:P}),[I,P]),Z=m.useMemo(()=>{const O={position:n,left:0,top:0};if(!X.floating)return O;const L=jS(X.floating,d.x),J=jS(X.floating,d.y);return a?{...O,transform:"translate("+L+"px, "+J+"px)",...d2(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:J}},[n,a,X.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:k,refs:re,elements:X,floatingStyles:Z}),[d,k,re,X,Z])}const Pz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DS({element:r.current,padding:s}).fn(n):{}:r?DS({element:r,padding:s}).fn(n):{}}}},Rz=(t,e)=>({...Tz(t),options:[t,e]}),kz=(t,e)=>({...Ez(t),options:[t,e]}),Dz=(t,e)=>({...Az(t),options:[t,e]}),jz=(t,e)=>({..._z(t),options:[t,e]}),Mz=(t,e)=>({...Sz(t),options:[t,e]}),Oz=(t,e)=>({...Cz(t),options:[t,e]}),Lz=(t,e)=>({...Pz(t),options:[t,e]});var Vz="Arrow",h2=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});h2.displayName=Vz;var Fz=h2;function Uz(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,$z(s,...e)]}function $z(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zz(t){const[e,n]=m.useState(void 0);return un(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var K1="Popper",[f2,jc]=Uz(K1),[Bz,p2]=f2(K1),m2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return u.jsx(Bz,{scope:e,anchor:r,onAnchorChange:s,children:n})};m2.displayName=K1;var g2="PopperAnchor",y2=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=p2(g2,n),o=m.useRef(null),a=et(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Me.div,{...s,ref:a})});y2.displayName=g2;var Q1="PopperContent",[Wz,qz]=f2(Q1),v2=m.forwardRef((t,e)=>{var te,ge,Ne,_e,we,Y;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,T=p2(Q1,n),[w,b]=m.useState(null),E=et(e,ie=>b(ie)),[I,P]=m.useState(null),j=zz(I),C=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,k={padding:N,boundary:D.filter(Gz),altBoundary:M},{refs:$,floatingStyles:re,placement:X,isPositioned:Z,middlewareData:O}=Nz({strategy:"fixed",placement:A,whileElementsMounted:(...ie)=>bz(...ie,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[Rz({mainAxis:s+S,alignmentAxis:o}),l&&kz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dz():void 0,...k}),l&&jz({...k}),Mz({...k,apply:({elements:ie,rects:Ce,availableWidth:We,availableHeight:V})=>{const{width:me,height:ke}=Ce.reference,Te=ie.floating.style;Te.setProperty("--radix-popper-available-width",`${We}px`),Te.setProperty("--radix-popper-available-height",`${V}px`),Te.setProperty("--radix-popper-anchor-width",`${me}px`),Te.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),I&&Lz({element:I,padding:a}),Kz({arrowWidth:C,arrowHeight:S}),p&&Oz({strategy:"referenceHidden",...k})]}),[L,J]=b2(X),W=yn(v);un(()=>{Z&&(W==null||W())},[Z,W]);const ne=(te=O.arrow)==null?void 0:te.x,le=(ge=O.arrow)==null?void 0:ge.y,G=((Ne=O.arrow)==null?void 0:Ne.centerOffset)!==0,[be,oe]=m.useState();return un(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:Z?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(_e=O.transformOrigin)==null?void 0:_e.x,(we=O.transformOrigin)==null?void 0:we.y].join(" "),...((Y=O.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Wz,{scope:n,placedSide:L,onArrowChange:P,arrowX:ne,arrowY:le,shouldHideArrow:G,children:u.jsx(Me.div,{"data-side":L,"data-align":J,...y,ref:E,style:{...y.style,animation:Z?void 0:"none"}})})})});v2.displayName=Q1;var w2="PopperArrow",Hz={top:"bottom",right:"left",bottom:"top",left:"right"},x2=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=qz(w2,r),o=Hz[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Fz,{...s,ref:n,style:{...s.style,display:"block"}})})});x2.displayName=w2;function Gz(t){return t!==null}var Kz=t=>({name:"transformOrigin",options:t,fn(e){var T,w,b;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=b2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?f:`${p}px`,y=`${-l}px`):c==="top"?(v=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:v,y}}}});function b2(t){const[e,n="center"]=t.split("-");return[e,n]}var T2=m2,Y1=y2,X1=v2,J1=x2,[Sg,Dce]=bi("Tooltip",[jc]),Z1=jc(),E2="TooltipProvider",Qz=700,MS="tooltip.open",[Yz,_2]=Sg(E2),S2=t=>{const{__scopeTooltip:e,delayDuration:n=Qz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(Yz,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};S2.displayName=E2;var C2="Tooltip",[jce,Cg]=Sg(C2),fw="TooltipTrigger",Xz=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Cg(fw,n),i=_2(fw,n),o=Z1(n),a=m.useRef(null),l=et(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Y1,{asChild:!0,...o,children:u.jsx(Me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:he(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:he(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:he(t.onBlur,s.onClose),onClick:he(t.onClick,s.onClose)})})});Xz.displayName=fw;var Jz="TooltipPortal",[Mce,Zz]=Sg(Jz,{forceMount:void 0}),fc="TooltipContent",A2=m.forwardRef((t,e)=>{const n=Zz(fc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Cg(fc,t.__scopeTooltip);return u.jsx(fs,{present:r||o.open,children:o.disableHoverableContent?u.jsx(I2,{side:s,...i,ref:e}):u.jsx(eB,{side:s,...i,ref:e})})}),eB=m.forwardRef((t,e)=>{const n=Cg(fc,t.__scopeTooltip),r=_2(fc,t.__scopeTooltip),s=m.useRef(null),i=et(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((v,y)=>{const T=v.currentTarget,w={x:v.clientX,y:v.clientY},b=sB(w,T.getBoundingClientRect()),E=iB(w,b),I=oB(y.getBoundingClientRect()),P=lB([...E,...I]);a(P),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const v=T=>g(T,d),y=T=>g(T,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),m.useEffect(()=>{if(o){const v=y=>{const T=y.target,w={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),E=!aB(w,o);b?p():E&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),u.jsx(I2,{...t,ref:i})}),[tB,nB]=Sg(C2,{isInside:!1}),I2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Cg(fc,n),c=Z1(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(MS,d),()=>document.removeEventListener(MS,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(X1,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(D1,{children:r}),u.jsx(tB,{scope:n,isInside:!0,children:u.jsx(RU,{id:l.contentId,role:"tooltip",children:s||r})})]})})});A2.displayName=fc;var N2="TooltipArrow",rB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Z1(n);return nB(N2,n).isInside?null:u.jsx(J1,{...s,...r,ref:e})});rB.displayName=N2;function sB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function oB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function aB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function lB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cB(e)}function cB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uB=S2,P2=A2;const dB=uB,hB=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(P2,{ref:r,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));hB.displayName=P2.displayName;var Ag=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ig=typeof window>"u"||"Deno"in globalThis;function Kr(){}function fB(t,e){return typeof t=="function"?t(e):t}function pB(t){return typeof t=="number"&&t>=0&&t!==1/0}function mB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function OS(t,e){return typeof t=="function"?t(e):t}function gB(t,e){return typeof t=="function"?t(e):t}function LS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==eb(o,e.options))return!1}else if(!Vd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ld(e.options.mutationKey)!==Ld(i))return!1}else if(!Vd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function eb(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ld)(t)}function Ld(t){return JSON.stringify(t,(e,n)=>pw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Vd(t[n],e[n])):!1}function R2(t,e){if(t===e)return t;const n=FS(t)&&FS(e);if(n||pw(t)&&pw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=R2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function FS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pw(t){if(!US(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!US(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function US(t){return Object.prototype.toString.call(t)==="[object Object]"}function yB(t){return new Promise(e=>{setTimeout(e,t)})}function vB(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?R2(t,e):e}function wB(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function xB(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var tb=Symbol();function k2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ua,qi,Yl,HN,bB=(HN=class extends Ag{constructor(){super();it(this,ua);it(this,qi);it(this,Yl);Be(this,Yl,e=>{if(!Ig&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,qi)||this.setEventListener(K(this,Yl))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,qi))==null||e.call(this),Be(this,qi,void 0))}setEventListener(e){var n;Be(this,Yl,e),(n=K(this,qi))==null||n.call(this),Be(this,qi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,ua)!==e&&(Be(this,ua,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,ua)=="boolean"?K(this,ua):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ua=new WeakMap,qi=new WeakMap,Yl=new WeakMap,HN),D2=new bB,Xl,Hi,Jl,GN,TB=(GN=class extends Ag{constructor(){super();it(this,Xl,!0);it(this,Hi);it(this,Jl);Be(this,Jl,e=>{if(!Ig&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Hi)||this.setEventListener(K(this,Jl))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Hi))==null||e.call(this),Be(this,Hi,void 0))}setEventListener(e){var n;Be(this,Jl,e),(n=K(this,Hi))==null||n.call(this),Be(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){K(this,Xl)!==e&&(Be(this,Xl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return K(this,Xl)}},Xl=new WeakMap,Hi=new WeakMap,Jl=new WeakMap,GN),dm=new TB;function EB(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _B(t){return Math.min(1e3*2**t,3e4)}function j2(t){return(t??"online")==="online"?dm.isOnline():!0}var M2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ev(t){return t instanceof M2}function O2(t){let e=!1,n=0,r=!1,s;const i=EB(),o=y=>{var T;r||(p(new M2(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>D2.isFocused()&&(t.networkMode==="always"||dm.isOnline())&&t.canRun(),d=()=>j2(t.networkMode)&&t.canRun(),f=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var T;s=w=>{(r||c())&&y(w)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var j;if(r)return;const b=t.retry??(Ig?0:3),E=t.retryDelay??_B,I=typeof E=="function"?E(n,w):E,P=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!P){p(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),yB(I).then(()=>c()?void 0:g()).then(()=>{e?p(w):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}function SB(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var zn=SB(),da,KN,L2=(KN=class{constructor(){it(this,da)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pB(this.gcTime)&&Be(this,da,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ig?1/0:5*60*1e3))}clearGcTimeout(){K(this,da)&&(clearTimeout(K(this,da)),Be(this,da,void 0))}},da=new WeakMap,KN),Zl,ec,Nr,Cn,dh,ha,Qr,Gs,QN,CB=(QN=class extends L2{constructor(n){super();it(this,Qr);it(this,Zl);it(this,ec);it(this,Nr);it(this,Cn);it(this,dh);it(this,ha);Be(this,ha,!1),Be(this,dh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Be(this,Nr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Be(this,Zl,IB(this.options)),this.state=n.state??K(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=K(this,Cn))==null?void 0:n.promise}setOptions(n){this.options={...K(this,dh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Nr).remove(this)}setData(n,r){const s=vB(this.state.data,n,this.options);return Tn(this,Qr,Gs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Tn(this,Qr,Gs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=K(this,Cn))==null?void 0:s.promise;return(i=K(this,Cn))==null||i.cancel(n),r?r.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Zl))}isActive(){return this.observers.some(n=>gB(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!mB(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Cn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Cn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),K(this,Nr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(K(this,Cn)&&(K(this,ha)?K(this,Cn).cancel({revert:!0}):K(this,Cn).cancelRetry()),this.scheduleGc()),K(this,Nr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tn(this,Qr,Gs).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,Cn))return K(this,Cn).continueRetry(),K(this,Cn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Be(this,ha,!0),s.signal)})},o=()=>{const p=k2(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Be(this,ha,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Be(this,ec,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Tn(this,Qr,Gs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,v,y,T;Ev(p)&&p.silent||Tn(this,Qr,Gs).call(this,{type:"error",error:p}),Ev(p)||((v=(g=K(this,Nr).config).onError)==null||v.call(g,p,this),(T=(y=K(this,Nr).config).onSettled)==null||T.call(y,this.state.data,p,this)),this.scheduleGc()};return Be(this,Cn,O2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,v,y,T;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(v=(g=K(this,Nr).config).onSuccess)==null||v.call(g,p,this),(T=(y=K(this,Nr).config).onSettled)==null||T.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Tn(this,Qr,Gs).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Tn(this,Qr,Gs).call(this,{type:"pause"})},onContinue:()=>{Tn(this,Qr,Gs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,Cn).start()}},Zl=new WeakMap,ec=new WeakMap,Nr=new WeakMap,Cn=new WeakMap,dh=new WeakMap,ha=new WeakMap,Qr=new WeakSet,Gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...AB(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Ev(i)&&i.revert&&K(this,ec)?{...K(this,ec),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,Nr).notify({query:this,type:"updated",action:n})})},QN);function AB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xs,YN,NB=(YN=class extends Ag{constructor(e={}){super();it(this,xs);this.config=e,Be(this,xs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??eb(s,n);let o=this.get(i);return o||(o=new CB({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){K(this,xs).has(e.queryHash)||(K(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,xs).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,xs).get(e)}getAll(){return[...K(this,xs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>LS(e,r)):n}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,YN),bs,Un,fa,Ts,ji,XN,PB=(XN=class extends L2{constructor(n){super();it(this,Ts);it(this,bs);it(this,Un);it(this,fa);this.mutationId=n.mutationId,Be(this,Un,n.mutationCache),Be(this,bs,[]),this.state=n.state||RB(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){K(this,bs).includes(n)||(K(this,bs).push(n),this.clearGcTimeout(),K(this,Un).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Be(this,bs,K(this,bs).filter(r=>r!==n)),this.scheduleGc(),K(this,Un).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){K(this,bs).length||(this.state.status==="pending"?this.scheduleGc():K(this,Un).remove(this))}continue(){var n;return((n=K(this,fa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,v,y,T,w,b,E,I,P,j,C,S;Be(this,fa,O2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{Tn(this,Ts,ji).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{Tn(this,Ts,ji).call(this,{type:"pause"})},onContinue:()=>{Tn(this,Ts,ji).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Un).canRun(this)}));const r=this.state.status==="pending",s=!K(this,fa).canStart();try{if(!r){Tn(this,Ts,ji).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=K(this,Un).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&Tn(this,Ts,ji).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const A=await K(this,fa).start();return await((d=(c=K(this,Un).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,n,this.state.context)),await((v=(g=K(this,Un).config).onSettled)==null?void 0:v.call(g,A,null,this.state.variables,this.state.context,this)),await((T=(y=this.options).onSettled)==null?void 0:T.call(y,A,null,n,this.state.context)),Tn(this,Ts,ji).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(w=K(this,Un).config).onError)==null?void 0:b.call(w,A,n,this.state.context,this)),await((I=(E=this.options).onError)==null?void 0:I.call(E,A,n,this.state.context)),await((j=(P=K(this,Un).config).onSettled)==null?void 0:j.call(P,void 0,A,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,A,n,this.state.context)),A}finally{Tn(this,Ts,ji).call(this,{type:"error",error:A})}}finally{K(this,Un).runNext(this)}}},bs=new WeakMap,Un=new WeakMap,fa=new WeakMap,Ts=new WeakSet,ji=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zn.batch(()=>{K(this,bs).forEach(s=>{s.onMutationUpdate(n)}),K(this,Un).notify({mutation:this,type:"updated",action:n})})},XN);function RB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,hh,JN,kB=(JN=class extends Ag{constructor(e={}){super();it(this,mr);it(this,hh);this.config=e,Be(this,mr,new Map),Be(this,hh,Date.now())}build(e,n,r){const s=new PB({mutationCache:this,mutationId:++lf(this,hh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Rf(e),r=K(this,mr).get(n)??[];r.push(e),K(this,mr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Rf(e);if(K(this,mr).has(n)){const s=(r=K(this,mr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?K(this,mr).delete(n):K(this,mr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=K(this,mr).get(Rf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=K(this,mr).get(Rf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...K(this,mr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VS(n,r))}findAll(e={}){return this.getAll().filter(n=>VS(e,n))}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kr))))}},mr=new WeakMap,hh=new WeakMap,JN);function Rf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $S(t){return{onFetch:(e,n)=>{var d,f,p,g,v;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const T=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=k2(e.options,e.fetchOptions),b=async(E,I,P)=>{if(y)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const j={queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};T(j);const C=await w(j),{maxPages:S}=e.options,A=P?xB:wB;return{pages:A(E.pages,C,S),pageParams:A(E.pageParams,I,S)}};if(s&&i.length){const E=s==="backward",I=E?DB:zS,P={pages:i,pageParams:o},j=I(r,P);a=await b(P,j,E)}else{const E=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:zS(r,a);if(l>0&&I==null)break;a=await b(a,I),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function zS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function DB(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Mt,Gi,Ki,tc,nc,Qi,rc,sc,ZN,jB=(ZN=class{constructor(t={}){it(this,Mt);it(this,Gi);it(this,Ki);it(this,tc);it(this,nc);it(this,Qi);it(this,rc);it(this,sc);Be(this,Mt,t.queryCache||new NB),Be(this,Gi,t.mutationCache||new kB),Be(this,Ki,t.defaultOptions||{}),Be(this,tc,new Map),Be(this,nc,new Map),Be(this,Qi,0)}mount(){lf(this,Qi)._++,K(this,Qi)===1&&(Be(this,rc,D2.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Mt).onFocus())})),Be(this,sc,dm.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Mt).onOnline())})))}unmount(){var t,e;lf(this,Qi)._--,K(this,Qi)===0&&((t=K(this,rc))==null||t.call(this),Be(this,rc,void 0),(e=K(this,sc))==null||e.call(this),Be(this,sc,void 0))}isFetching(t){return K(this,Mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Gi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=K(this,Mt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(OS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return K(this,Mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=K(this,Mt).get(r.queryHash),i=s==null?void 0:s.state.data,o=fB(e,i);if(o!==void 0)return K(this,Mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>K(this,Mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,Mt);zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,Mt),r={type:"active",...t};return zn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=zn.batch(()=>K(this,Mt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(t={},e={}){return zn.batch(()=>{if(K(this,Mt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=zn.batch(()=>K(this,Mt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Kr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,Mt).build(this,e);return n.isStaleByTime(OS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kr).catch(Kr)}fetchInfiniteQuery(t){return t.behavior=$S(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kr).catch(Kr)}ensureInfiniteQueryData(t){return t.behavior=$S(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dm.isOnline()?K(this,Gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Mt)}getMutationCache(){return K(this,Gi)}getDefaultOptions(){return K(this,Ki)}setDefaultOptions(t){Be(this,Ki,t)}setQueryDefaults(t,e){K(this,tc).set(Ld(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,tc).values()];let n={};return e.forEach(r=>{Vd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){K(this,nc).set(Ld(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,nc).values()];let n={};return e.forEach(r=>{Vd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Ki).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=eb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===tb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Ki).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Mt).clear(),K(this,Gi).clear()}},Mt=new WeakMap,Gi=new WeakMap,Ki=new WeakMap,tc=new WeakMap,nc=new WeakMap,Qi=new WeakMap,rc=new WeakMap,sc=new WeakMap,ZN),MB=m.createContext(void 0),OB=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(MB.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const BS="popstate";function LB(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=$a(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),mw("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:hm(i))}function r(s,i){nb(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return FB(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VB(){return Math.random().toString(36).substr(2,8)}function WS(t,e){return{usr:t.state,key:t.key,idx:e}}function mw(t,e,n,r){return n===void 0&&(n=null),Fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$a(e):e,{state:n,key:e&&e.key||r||VB()})}function hm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $a(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ji.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Fd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ji.Pop;let T=d(),w=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:w})}function p(T,w){a=Ji.Push;let b=mw(y.location,T,w);n&&n(b,T),c=d()+1;let E=WS(b,c),I=y.createHref(b);try{o.pushState(E,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function g(T,w){a=Ji.Replace;let b=mw(y.location,T,w);n&&n(b,T),c=d();let E=WS(b,c),I=y.createHref(b);o.replaceState(E,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function v(T){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof T=="string"?T:hm(T);return b=b.replace(/ $/,"%20"),Bt(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(BS,f),l=T,()=>{s.removeEventListener(BS,f),l=null}},createHref(T){return e(s,T)},createURL:v,encodeLocation(T){let w=v(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(T){return o.go(T)}};return y}var qS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qS||(qS={}));function UB(t,e,n){return n===void 0&&(n="/"),$B(t,e,n,!1)}function $B(t,e,n,r){let s=typeof e=="string"?$a(e):e,i=rb(s.pathname||"/",n);if(i==null)return null;let o=V2(t);zB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ZB(i);a=XB(o[l],c,r)}return a}function V2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=co([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),V2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:QB(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of F2(i.path))s(i,o,l)}),e}function F2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=F2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BB=/^:[\w-]+$/,WB=3,qB=2,HB=1,GB=10,KB=-2,HS=t=>t==="*";function QB(t,e){let n=t.split("/"),r=n.length;return n.some(HS)&&(r+=KB),e&&(r+=qB),n.filter(s=>!HS(s)).reduce((s,i)=>s+(BB.test(i)?WB:i===""?HB:GB),r)}function YB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XB(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:co([i,f.pathname]),pathnameBase:r8(co([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=co([i,f.pathnameBase]))}return o}function GS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function JB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?$a(t):t;return{pathname:n?n.startsWith("/")?n:t8(n,e):e,search:s8(r),hash:i8(s)}}function t8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _v(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sb(t,e){let n=n8(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ib(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=$a(t):(s=Fd({},t),Bt(!s.pathname||!s.pathname.includes("?"),_v("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),_v("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),_v("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=e8(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const co=t=>t.join("/").replace(/\/\/+/g,"/"),r8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U2=["post","put","patch","delete"];new Set(U2);const a8=["get",...U2];new Set(a8);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}const ob=m.createContext(null),l8=m.createContext(null),ko=m.createContext(null),Ng=m.createContext(null),Ti=m.createContext({outlet:null,matches:[],isDataRoute:!1}),$2=m.createContext(null);function c8(t,e){let{relative:n}=e===void 0?{}:e;Mc()||Bt(!1);let{basename:r,navigator:s}=m.useContext(ko),{hash:i,pathname:o,search:a}=B2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:co([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Mc(){return m.useContext(Ng)!=null}function za(){return Mc()||Bt(!1),m.useContext(Ng).location}function z2(t){m.useContext(ko).static||m.useLayoutEffect(t)}function Ba(){let{isDataRoute:t}=m.useContext(Ti);return t?_8():u8()}function u8(){Mc()||Bt(!1);let t=m.useContext(ob),{basename:e,future:n,navigator:r}=m.useContext(ko),{matches:s}=m.useContext(Ti),{pathname:i}=za(),o=JSON.stringify(sb(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return z2(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=ib(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const d8=m.createContext(null);function h8(t){let e=m.useContext(Ti).outlet;return e&&m.createElement(d8.Provider,{value:t},e)}function B2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ko),{matches:s}=m.useContext(Ti),{pathname:i}=za(),o=JSON.stringify(sb(s,r.v7_relativeSplatPath));return m.useMemo(()=>ib(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function f8(t,e){return p8(t,e)}function p8(t,e,n,r){Mc()||Bt(!1);let{navigator:s}=m.useContext(ko),{matches:i}=m.useContext(Ti),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=za(),d;if(e){var f;let T=typeof e=="string"?$a(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||Bt(!1),d=T}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=UB(t,{pathname:g}),y=w8(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:co([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:co([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?m.createElement(Ng.Provider,{value:{location:Ud({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},y):y}function m8(){let t=E8(),e=o8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const g8=m.createElement(m8,null);class y8 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ti.Provider,{value:this.props.routeContext},m.createElement($2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v8(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(ob);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ti.Provider,{value:e},r)}function w8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Bt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,v=!1,y=null,T=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||g8,l&&(c<0&&p===0?(v=!0,T=null):c===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),b=()=>{let E;return g?E=y:v?E=T:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,m.createElement(v8,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(y8,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var W2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(W2||{}),fm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fm||{});function x8(t){let e=m.useContext(ob);return e||Bt(!1),e}function b8(t){let e=m.useContext(l8);return e||Bt(!1),e}function T8(t){let e=m.useContext(Ti);return e||Bt(!1),e}function q2(t){let e=T8(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function E8(){var t;let e=m.useContext($2),n=b8(fm.UseRouteError),r=q2(fm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _8(){let{router:t}=x8(W2.UseNavigateStable),e=q2(fm.UseNavigateStable),n=m.useRef(!1);return z2(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ud({fromRouteId:e},i)))},[t,e])}function gw(t){let{to:e,replace:n,state:r,relative:s}=t;Mc()||Bt(!1);let{future:i,static:o}=m.useContext(ko),{matches:a}=m.useContext(Ti),{pathname:l}=za(),c=Ba(),d=ib(e,sb(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function S8(t){return h8(t.context)}function Xn(t){Bt(!1)}function C8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ji.Pop,navigator:i,static:o=!1,future:a}=t;Mc()&&Bt(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Ud({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=$a(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,y=m.useMemo(()=>{let T=rb(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:v},navigationType:s}},[l,d,f,p,g,v,s]);return y==null?null:m.createElement(ko.Provider,{value:c},m.createElement(Ng.Provider,{children:n,value:y}))}function A8(t){let{children:e,location:n}=t;return f8(yw(e),n)}new Promise(()=>{});function yw(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,yw(r.props.children,i));return}r.type!==Xn&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function I8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function N8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P8(t,e){return t.button===0&&(!e||e==="_self")&&!N8(t)}const R8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k8="6";try{window.__reactRouterVersion=k8}catch{}const D8="startTransition",KS=uP[D8];function j8(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=LB({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&KS?KS(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(C8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const M8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ot=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=I8(e,R8),{basename:g}=m.useContext(ko),v,y=!1;if(typeof c=="string"&&O8.test(c)&&(v=c,M8))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),P=rb(I.pathname,g);I.origin===E.origin&&P!=null?c=P+I.search+I.hash:y=!0}catch{}let T=c8(c,{relative:s}),w=L8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function b(E){r&&r(E),E.defaultPrevented||w(E)}return m.createElement("a",vw({},p,{href:v||T,onClick:y||i?r:b,ref:n,target:l}))});var QS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QS||(QS={}));var YS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));function L8(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ba(),c=za(),d=B2(t,{relative:o});return m.useCallback(f=>{if(P8(f,n)){f.preventDefault();let p=r!==void 0?r:hm(c)===hm(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const ab=xh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?yo:"button";return u.jsx(o,{className:pe(ab({variant:e,size:n,className:t})),ref:i,...s})});fe.displayName="Button";const ln=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:pe("rounded-lg border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow duration-300",t),...e}));ln.displayName="Card";const Bn=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));Bn.displayName="CardHeader";const Rn=m.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Rn.displayName="CardTitle";const ss=m.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));ss.displayName="CardDescription";const kn=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:pe("p-6 pt-0",t),...e}));kn.displayName="CardContent";const V8=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",t),...e}));V8.displayName="CardFooter";const lb=m.createContext({});function Oc(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const cb=typeof window<"u",Pg=cb?m.useLayoutEffect:m.useEffect,Rg=m.createContext(null);function ub(t,e){t.indexOf(e)===-1&&t.push(e)}function db(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let F8=()=>{},pm=()=>{};const fi={},H2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function G2(t){return typeof t=="object"&&t!==null}const K2=t=>/^0[^.\s]+$/u.test(t);function hb(t){let e;return()=>(e===void 0&&(e=t()),e)}const ar=t=>t,U8=(t,e)=>n=>e(t(n)),Th=(...t)=>t.reduce(U8),pc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fb{constructor(){this.subscriptions=[]}add(e){return ub(this.subscriptions,e),()=>db(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=t=>t*1e3,Rs=t=>t/1e3;function pb(t,e){return e?t*(1e3/e):0}const Q2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$8=1e-7,z8=12;function B8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Q2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>$8&&++a<z8);return o}function Eh(t,e,n,r){if(t===e&&n===r)return ar;const s=i=>B8(i,0,1,t,n);return i=>i===0||i===1?i:Q2(s(i),e,r)}const Y2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X2=t=>e=>1-t(1-e),J2=Eh(.33,1.53,.69,.99),mb=X2(J2),Z2=Y2(mb),eD=t=>(t*=2)<1?.5*mb(t):.5*(2-Math.pow(2,-10*(t-1))),gb=t=>1-Math.sin(Math.acos(t)),tD=X2(gb),nD=Y2(gb),W8=Eh(.42,0,1,1),q8=Eh(0,0,.58,1),rD=Eh(.42,0,.58,1),H8=t=>Array.isArray(t)&&typeof t[0]!="number",sD=t=>Array.isArray(t)&&typeof t[0]=="number",XS={linear:ar,easeIn:W8,easeInOut:rD,easeOut:q8,circIn:gb,circInOut:nD,circOut:tD,backIn:mb,backInOut:Z2,backOut:J2,anticipate:eD},G8=t=>typeof t=="string",JS=t=>{if(sD(t)){pm(t.length===4);const[e,n,r,s]=t;return Eh(e,n,r,s)}else if(G8(t))return pm(XS[t]!==void 0),XS[t];return t},kf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ZS={value:null,addProjectionMetrics:null};function K8(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,g=!1)=>{const y=g&&s?n:r;return p&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&ZS.value&&ZS.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const Q8=40;function iD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=kf.reduce((E,I)=>(E[I]=K8(i,e?I:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:v}=o,y=()=>{const E=fi.useManualTiming?s.timestamp:performance.now();n=!1,fi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,Q8),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},T=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:kf.reduce((E,I)=>{const P=o[I];return E[I]=(j,C=!1,S=!1)=>(n||T(),P.schedule(j,C,S)),E},{}),cancel:E=>{for(let I=0;I<kf.length;I++)o[kf[I]].cancel(E)},state:s,steps:o}}const{schedule:ht,cancel:us,state:sn,steps:Sv}=iD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let up;function Y8(){up=void 0}const rr={now:()=>(up===void 0&&rr.set(sn.isProcessing||fi.useManualTiming?sn.timestamp:performance.now()),up),set:t=>{up=t,queueMicrotask(Y8)}},oD=t=>e=>typeof e=="string"&&e.startsWith(t),yb=oD("--"),X8=oD("var(--"),vb=t=>X8(t)?J8.test(t.split("/*")[0].trim()):!1,J8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$d={...Lc,transform:t=>Vs(0,1,t)},Df={...Lc,default:1},ed=t=>Math.round(t*1e5)/1e5,wb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z8(t){return t==null}const eW=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xb=(t,e)=>n=>!!(typeof n=="string"&&eW.test(n)&&n.startsWith(t)||e&&!Z8(n)&&Object.prototype.hasOwnProperty.call(n,e)),aD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(wb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},tW=t=>Vs(0,255,t),Cv={...Lc,transform:t=>Math.round(tW(t))},ia={test:xb("rgb","red"),parse:aD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cv.transform(t)+", "+Cv.transform(e)+", "+Cv.transform(n)+", "+ed($d.transform(r))+")"};function nW(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ww={test:xb("#"),parse:nW,transform:ia.transform},_h=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mi=_h("deg"),ks=_h("%"),Oe=_h("px"),rW=_h("vh"),sW=_h("vw"),eC={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Cl={test:xb("hsl","hue"),parse:aD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ks.transform(ed(e))+", "+ks.transform(ed(n))+", "+ed($d.transform(r))+")"},An={test:t=>ia.test(t)||ww.test(t)||Cl.test(t),parse:t=>ia.test(t)?ia.parse(t):Cl.test(t)?Cl.parse(t):ww.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ia.transform(t):Cl.transform(t)},iW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oW(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wb))==null?void 0:e.length)||0)+(((n=t.match(iW))==null?void 0:n.length)||0)>0}const lD="number",cD="color",aW="var",lW="var(",tC="${}",cW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(cW,l=>(An.test(l)?(r.color.push(i),s.push(cD),n.push(An.parse(l))):l.startsWith(lW)?(r.var.push(i),s.push(aW),n.push(l)):(r.number.push(i),s.push(lD),n.push(parseFloat(l))),++i,tC)).split(tC);return{values:n,split:a,indexes:r,types:s}}function uD(t){return zd(t).values}function dD(t){const{split:e,types:n}=zd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===lD?i+=ed(s[o]):a===cD?i+=An.transform(s[o]):i+=s[o]}return i}}const uW=t=>typeof t=="number"?0:t;function dW(t){const e=uD(t);return dD(t)(e.map(uW))}const To={test:oW,parse:uD,createTransformer:dD,getAnimatableNone:dW};function Av(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Av(l,a,t+1/3),i=Av(l,a,t),o=Av(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function mm(t,e){return n=>n>0?e:t}const At=(t,e,n)=>t+(e-t)*n,Iv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},fW=[ww,ia,Cl],pW=t=>fW.find(e=>e.test(t));function nC(t){const e=pW(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=hW(n)),n}const rC=(t,e)=>{const n=nC(t),r=nC(e);if(!n||!r)return mm(t,e);const s={...n};return i=>(s.red=Iv(n.red,r.red,i),s.green=Iv(n.green,r.green,i),s.blue=Iv(n.blue,r.blue,i),s.alpha=At(n.alpha,r.alpha,i),ia.transform(s))},xw=new Set(["none","hidden"]);function mW(t,e){return xw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gW(t,e){return n=>At(t,e,n)}function bb(t){return typeof t=="number"?gW:typeof t=="string"?vb(t)?mm:An.test(t)?rC:wW:Array.isArray(t)?hD:typeof t=="object"?An.test(t)?rC:yW:mm}function hD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>bb(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function yW(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=bb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vW(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const wW=(t,e)=>{const n=To.createTransformer(e),r=zd(t),s=zd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xw.has(t)&&!s.values.length||xw.has(e)&&!r.values.length?mW(t,e):Th(hD(vW(r,s),s.values),n):mm(t,e)};function fD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?At(t,e,n):bb(t)(t,e)}const xW=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>us(e),now:()=>sn.isProcessing?sn.timestamp:rr.now()}},pD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},gm=2e4;function Tb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gm;)e+=n,r=t.next(e);return e>=gm?1/0:e}function bW(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Tb(r),gm);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Rs(s)}}const TW=5;function mD(t,e,n){const r=Math.max(e-TW,0);return pb(n-t(r),e-r)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nv=.001;function EW({duration:t=Lt.duration,bounce:e=Lt.bounce,velocity:n=Lt.velocity,mass:r=Lt.mass}){let s,i,o=1-e;o=Vs(Lt.minDamping,Lt.maxDamping,o),t=Vs(Lt.minDuration,Lt.maxDuration,Rs(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,g=bw(c,o),v=Math.exp(-f);return Nv-p/g*v},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),y=bw(Math.pow(c,2),o);return(-s(c)+Nv>0?-1:1)*((p-g)*v)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Nv+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=SW(s,i,a);if(t=Ps(t),isNaN(l))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const _W=12;function SW(t,e,n){let r=n;for(let s=1;s<_W;s++)r=r-t(r)/e(r);return r}function bw(t,e){return t*Math.sqrt(1-e*e)}const CW=["duration","bounce"],AW=["stiffness","damping","mass"];function sC(t,e){return e.some(n=>t[n]!==void 0)}function IW(t){let e={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...t};if(!sC(t,AW)&&sC(t,CW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Lt.mass,stiffness:s,damping:i}}else{const n=EW(t);e={...e,...n,mass:Lt.mass},e.isResolvedFromDuration=!0}return e}function ym(t=Lt.visualDuration,e=Lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=IW({...n,velocity:-Rs(n.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*d)),T=o-i,w=Rs(Math.sqrt(l/d)),b=Math.abs(T)<5;r||(r=b?Lt.restSpeed.granular:Lt.restSpeed.default),s||(s=b?Lt.restDelta.granular:Lt.restDelta.default);let E;if(y<1){const P=bw(w,y);E=j=>{const C=Math.exp(-y*w*j);return o-C*((v+y*w*T)/P*Math.sin(P*j)+T*Math.cos(P*j))}}else if(y===1)E=P=>o-Math.exp(-w*P)*(T+(v+w*T)*P);else{const P=w*Math.sqrt(y*y-1);E=j=>{const C=Math.exp(-y*w*j),S=Math.min(P*j,300);return o-C*((v+y*w*T)*Math.sinh(S)+P*T*Math.cosh(S))/P}}const I={calculatedDuration:g&&f||null,next:P=>{const j=E(P);if(g)a.done=P>=f;else{let C=P===0?v:0;y<1&&(C=P===0?Ps(v):mD(E,P,j));const S=Math.abs(C)<=r,A=Math.abs(o-j)<=s;a.done=S&&A}return a.value=a.done?o:j,a},toString:()=>{const P=Math.min(Tb(I),gm),j=pD(C=>I.next(P*C).value,P,30);return P+"ms "+j},toTransition:()=>{}};return I}ym.applyToOptions=t=>{const e=bW(t,100,ym);return t.ease=e.ease,t.duration=Ps(e.duration),t.type="keyframes",t};function Tw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const T=f+y,w=o===void 0?T:o(T);w!==T&&(y=w-f);const b=S=>-y*Math.exp(-S/r),E=S=>w+b(S),I=S=>{const A=b(S),N=E(S);p.done=Math.abs(A)<=c,p.value=p.done?w:N};let P,j;const C=S=>{g(p.value)&&(P=S,j=ym({keyframes:[p.value,v(p.value)],velocity:mD(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let A=!1;return!j&&P===void 0&&(A=!0,I(S),C(S)),P!==void 0&&S>=P?j.next(S-P):(!A&&I(S),p)}}}function NW(t,e,n){const r=[],s=n||fi.mix||fD,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ar:e;a=Th(l,a)}r.push(a)}return r}function Eb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(pm(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=NW(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=pc(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Vs(t[0],t[i-1],d)):c}function PW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=pc(0,e,r);t.push(At(n,1,s))}}function gD(t){const e=[0];return PW(e,t.length-1),e}function RW(t,e){return t.map(n=>n*e)}function kW(t,e){return t.map(()=>e||rD).splice(0,t.length-1)}function td({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=H8(r)?r.map(JS):JS(r),i={done:!1,value:e[0]},o=RW(n&&n.length===e.length?n:gD(e),t),a=Eb(o,e,{ease:Array.isArray(s)?s:kW(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const DW=t=>t!==null;function _b(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(DW),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const jW={decay:Tw,inertia:Tw,tween:td,keyframes:td,spring:ym};function yD(t){typeof t.type=="string"&&(t.type=jW[t.type])}class Sb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MW=t=>t/100;class Cb extends Sb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rr.now()&&this.tick(rr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yD(e);const{type:n=td,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||td;l!==td&&typeof a[0]!="number"&&(this.mixKeyframes=Th(MW,fD(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Tb(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,I=r;if(f){const S=Math.min(this.currentTime,s)/a;let A=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(p==="reverse"?(N=1-N,g&&(N-=g/a)):p==="mirror"&&(I=o)),E=Vs(0,1,N)*a}const P=b?{done:!1,value:d[0]}:I.next(E);i&&(P.value=i(P.value));let{done:j}=P;!b&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&v!==Tw&&(P.value=_b(d,this.options,T,this.speed)),y&&y(P.value),C&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Rs(this.calculatedDuration)}get time(){return Rs(this.currentTime)}set time(e){var n;e=Ps(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rs(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=xW,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function OW(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const oa=t=>t*180/Math.PI,Ew=t=>{const e=oa(Math.atan2(t[1],t[0]));return _w(e)},LW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ew,rotateZ:Ew,skewX:t=>oa(Math.atan(t[1])),skewY:t=>oa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_w=t=>(t=t%360,t<0&&(t+=360),t),iC=Ew,oC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oC,scaleY:aC,scale:t=>(oC(t)+aC(t))/2,rotateX:t=>_w(oa(Math.atan2(t[6],t[5]))),rotateY:t=>_w(oa(Math.atan2(-t[2],t[0]))),rotateZ:iC,rotate:iC,skewX:t=>oa(Math.atan(t[4])),skewY:t=>oa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sw(t){return t.includes("scale")?1:0}function Cw(t,e){if(!t||t==="none")return Sw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=VW,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LW,s=a}if(!s)return Sw(e);const i=r[e],o=s[1].split(",").map(UW);return typeof i=="function"?i(o):o[i]}const FW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cw(n,e)};function UW(t){return parseFloat(t.trim())}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fc=new Set(Vc),lC=t=>t===Lc||t===Oe,$W=new Set(["x","y","z"]),zW=Vc.filter(t=>!$W.has(t));function BW(t){const e=[];return zW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cw(e,"x"),y:(t,{transform:e})=>Cw(e,"y")};ga.translateX=ga.x;ga.translateY=ga.y;const ya=new Set;let Aw=!1,Iw=!1,Nw=!1;function vD(){if(Iw){const t=Array.from(ya).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=BW(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iw=!1,Aw=!1,ya.forEach(t=>t.complete(Nw)),ya.clear()}function wD(){ya.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iw=!0)})}function WW(){Nw=!0,wD(),vD(),Nw=!1}class Ab{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ya.add(this),Aw||(Aw=!0,ht.read(wD),ht.resolveKeyframes(vD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}OW(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ya.delete(this)}cancel(){this.state==="scheduled"&&(ya.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qW=t=>t.startsWith("--");function HW(t,e,n){qW(e)?t.style.setProperty(e,n):t.style[e]=n}const xD=hb(()=>window.ScrollTimeline!==void 0),GW={};function KW(t,e){const n=hb(t);return()=>GW[e]??n()}const bD=KW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Au=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Au([0,.65,.55,1]),circOut:Au([.55,0,1,.45]),backIn:Au([.31,.01,.66,-.59]),backOut:Au([.33,1.53,.69,.99])};function TD(t,e){if(t)return typeof t=="function"?bD()?pD(t,e):"ease-out":sD(t)?Au(t):Array.isArray(t)?t.map(n=>TD(n,e)||cC.easeOut):cC[t]}function QW(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=TD(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function ED(t){return typeof t=="function"&&"applyToOptions"in t}function YW({type:t,...e}){return ED(t)&&bD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XW extends Sb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,pm(typeof e.type!="string");const c=YW(e);this.animation=QW(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=_b(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):HW(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Rs(Number(e))}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ps(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xD()?(this.animation.timeline=e,ar):n(this)}}const _D={anticipate:eD,backInOut:Z2,circInOut:nD};function JW(t){return t in _D}function ZW(t){typeof t.ease=="string"&&JW(t.ease)&&(t.ease=_D[t.ease])}const uC=10;class e7 extends XW{constructor(e){ZW(e),yD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Cb({...o,autoplay:!1}),l=Ps(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-uC).value,a.sample(l).value,uC),a.stop()}}const dC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(To.test(t)||t==="0")&&!t.startsWith("url("));function t7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function n7(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=dC(s,e),a=dC(i,e);return!o||!a?!1:t7(t)||(n==="spring"||ED(n))&&r}function kg(t){return G2(t)&&"offsetHeight"in t}const r7=new Set(["opacity","clipPath","filter","transform"]),s7=hb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i7(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!kg((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return s7()&&n&&r7.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const o7=40;class a7 extends Sb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var v;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=rr.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||Ab;this.keyframeResolver=new g(a,(y,T,w)=>this.onKeyframesResolved(y,T,p,!w),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=rr.now(),n7(e,i,o,a)||((fi.instantAnimations||!l)&&(d==null||d(_b(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>o7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&i7(p)?new e7({...p,element:p.motionValue.owner.current}):new Cb(p);g.finished.then(()=>this.notifyFinished()).catch(ar),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),WW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const l7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c7(t){const e=l7.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function SD(t,e,n=1){const[r,s]=c7(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return H2(o)?parseFloat(o):o}return vb(s)?SD(s,e,n+1):s}function Ib(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const CD=new Set(["width","height","top","left","right","bottom",...Vc]),u7={test:t=>t==="auto",parse:t=>t},AD=t=>e=>e.test(t),ID=[Lc,Oe,ks,Mi,sW,rW,u7],hC=t=>ID.find(AD(t));function d7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||K2(t):!0}const h7=new Set(["brightness","contrast","saturate","opacity"]);function f7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wb)||[];if(!r)return t;const s=n.replace(r,"");let i=h7.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const p7=/\b([a-z-]*)\(.*?\)/gu,Pw={...To,getAnimatableNone:t=>{const e=t.match(p7);return e?e.map(f7).join(" "):t}},fC={...Lc,transform:Math.round},m7={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:Mi,skewX:Mi,skewY:Mi,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:$d,originX:eC,originY:eC,originZ:Oe},Nb={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...m7,zIndex:fC,fillOpacity:$d,strokeOpacity:$d,numOctaves:fC},g7={...Nb,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:Pw,WebkitFilter:Pw},ND=t=>g7[t];function PD(t,e){let n=ND(t);return n!==Pw&&(n=To),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y7=new Set(["auto","none","0"]);function v7(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!y7.has(i)&&zd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=PD(n,s)}class w7 extends Ab{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),vb(c))){const d=SD(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!CD.has(r)||e.length!==2)return;const[s,i]=e,o=hC(s),a=hC(i);if(o!==a)if(lC(o)&&lC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ga[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||d7(e[s]))&&r.push(s);r.length&&v7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ga[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function RD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const kD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pC=30,x7=t=>!isNaN(parseFloat(t)),nd={current:void 0};class b7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=rr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=x7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fb);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return nd.current&&nd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pC);return pb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function es(t,e){return new b7(t,e)}const{schedule:Pb,cancel:Vce}=iD(queueMicrotask,!1),qr={x:!1,y:!1};function DD(){return qr.x||qr.y}function T7(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function jD(t,e){const n=RD(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function mC(t){return!(t.pointerType==="touch"||DD())}function E7(t,e,n={}){const[r,s,i]=jD(t,n),o=a=>{if(!mC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{mC(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const MD=(t,e)=>e?t===e?!0:MD(t,e.parentElement):!1,Rb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function S7(t){return _7.has(t.tagName)||t.tabIndex!==-1}const dp=new WeakSet;function gC(t){return e=>{e.key==="Enter"&&t(e)}}function Pv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gC(()=>{if(dp.has(n))return;Pv(n,"down");const s=gC(()=>{Pv(n,"up")}),i=()=>Pv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yC(t){return Rb(t)&&!DD()}function A7(t,e,n={}){const[r,s,i]=jD(t,n),o=a=>{const l=a.currentTarget;if(!yC(a))return;dp.add(l);const c=e(l,a),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),dp.has(l)&&dp.delete(l),yC(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||MD(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),kg(a)&&(a.addEventListener("focus",c=>C7(c,s)),!S7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function OD(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return ht.preUpdate(r,!0),()=>us(r)}function kb(t){return G2(t)&&"ownerSVGElement"in t}function I7(t){return kb(t)&&t.tagName==="svg"}function N7(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=Eb(s,i,o);return e?a(r):a}const Dn=t=>!!(t&&t.getVelocity),P7=[...ID,An,To],R7=t=>P7.find(AD(t)),Dg=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class k7 extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=kg(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function D7({children:t,isPresent:e,anchorX:n}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(Dg);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),u.jsx(k7,{isPresent:e,childRef:s,sizeRef:i,children:m.cloneElement(t,{ref:s})})}const j7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=Oc(M7),c=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(f={...f}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(D7,{isPresent:n,anchorX:a,children:t})),u.jsx(Rg.Provider,{value:f,children:t})};function M7(){return new Map}function LD(t=!0){const e=m.useContext(Rg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{if(t)return s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const jf=t=>t.key||"";function vC(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const vm=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=LD(o),d=m.useMemo(()=>vC(t),[t]),f=o&&!l?[]:d.map(jf),p=m.useRef(!0),g=m.useRef(d),v=Oc(()=>new Map),[y,T]=m.useState(d),[w,b]=m.useState(d);Pg(()=>{p.current=!1,g.current=d;for(let P=0;P<w.length;P++){const j=jf(w[P]);f.includes(j)?v.delete(j):v.get(j)!==!0&&v.set(j,!1)}},[w,f.length,f.join("-")]);const E=[];if(d!==y){let P=[...d];for(let j=0;j<w.length;j++){const C=w[j],S=jf(C);f.includes(S)||(P.splice(j,0,C),E.push(C))}return i==="wait"&&E.length&&(P=E),b(vC(P)),T(d),null}const{forceRender:I}=m.useContext(lb);return u.jsx(u.Fragment,{children:w.map(P=>{const j=jf(P),C=o&&!l?!1:d===w||f.includes(j),S=()=>{if(v.has(j))v.set(j,!0);else return;let A=!0;v.forEach(N=>{N||(A=!1)}),A&&(I==null||I(),b(g.current),o&&(c==null||c()),r&&r())};return u.jsx(j7,{isPresent:C,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:S,anchorX:a,children:P},j)})})},VD=m.createContext({strict:!1}),wC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mc={};for(const t in wC)mc[t]={isEnabled:e=>wC[t].some(n=>!!e[n])};function O7(t){for(const e in t)mc[e]={...mc[e],...t[e]}}const L7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||L7.has(t)}let FD=t=>!wm(t);function V7(t){t&&(FD=e=>e.startsWith("on")?!wm(e):t(e))}try{V7(require("@emotion/is-prop-valid").default)}catch{}function F7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FD(s)||n===!0&&wm(s)||!e&&!wm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function U7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const jg=m.createContext({});function Mg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bd(t){return typeof t=="string"||Array.isArray(t)}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jb=["initial",...Db];function Og(t){return Mg(t.animate)||jb.some(e=>Bd(t[e]))}function UD(t){return!!(Og(t)||t.variants)}function $7(t,e){if(Og(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bd(n)?n:void 0,animate:Bd(r)?r:void 0}}return t.inherit!==!1?e:{}}function z7(t){const{initial:e,animate:n}=$7(t,m.useContext(jg));return m.useMemo(()=>({initial:e,animate:n}),[xC(e),xC(n)])}function xC(t){return Array.isArray(t)?t.join(" "):t}const B7=Symbol.for("motionComponentSymbol");function Al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W7(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Al(n)&&(n.current=r))},[e])}const Mb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q7="framerAppearId",$D="data-"+Mb(q7),zD=m.createContext({});function H7(t,e,n,r,s){var y,T;const{visualElement:i}=m.useContext(jg),o=m.useContext(VD),a=m.useContext(Rg),l=m.useContext(Dg).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=m.useContext(zD);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&G7(c.current,n,s,f);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[$D],v=m.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return Pg(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Pb.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1))}),d}function G7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:BD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Al(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function BD(t){if(t)return t.options.allowProjection!==!1?t.projection:BD(t.parent)}function K7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&O7(t);function i(a,l){let c;const d={...m.useContext(Dg),...a,layoutId:Q7(a)},{isStatic:f}=d,p=z7(a),g=r(a,f);if(!f&&cb){Y7();const v=X7(d);c=v.MeasureLayout,p.visualElement=H7(s,g,d,e,v.ProjectionNode)}return u.jsxs(jg.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,W7(g,p.visualElement,l),g,f,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=m.forwardRef(i);return o[B7]=s,o}function Q7({layoutId:t}){const e=m.useContext(lb).id;return e&&t!==void 0?e+"-"+t:t}function Y7(t,e){m.useContext(VD).strict}function X7(t){const{drag:e,layout:n}=mc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wd={};function J7(t){for(const e in t)Wd[e]=t[e],yb(e)&&(Wd[e].isCSSVariable=!0)}function WD(t,{layout:e,layoutId:n}){return Fc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wd[t]||t==="opacity")}const Z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eq=Vc.length;function tq(t,e,n){let r="",s=!0;for(let i=0;i<eq;i++){const o=Vc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=kD(a,Nb[o]);if(!l){s=!1;const d=Z7[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Ob(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Fc.has(l)){o=!0;continue}else if(yb(l)){s[l]=c;continue}else{const d=kD(c,Nb[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=tq(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const Lb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qD(t,e,n){for(const r in e)!Dn(e[r])&&!WD(r,n)&&(t[r]=e[r])}function nq({transformTemplate:t},e){return m.useMemo(()=>{const n=Lb();return Ob(n,e,t),Object.assign({},n.vars,n.style)},[e])}function rq(t,e){const n=t.style||{},r={};return qD(r,n,t),Object.assign(r,nq(t,e)),r}function sq(t,e){const n={},r=rq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const iq={offset:"stroke-dashoffset",array:"stroke-dasharray"},oq={offset:"strokeDashoffset",array:"strokeDasharray"};function aq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?iq:oq;t[i.offset]=Oe.transform(-r);const o=Oe.transform(e),a=Oe.transform(n);t[i.array]=`${o} ${a}`}function HD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Ob(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&aq(f,s,i,o,!1)}const GD=()=>({...Lb(),attrs:{}}),KD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lq(t,e,n,r){const s=m.useMemo(()=>{const i=GD();return HD(i,e,KD(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};qD(i,t.style,t),s.style={...i,...s.style}}return s}const cq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vb(t){return typeof t!="string"||t.includes("-")?!1:!!(cq.indexOf(t)>-1||/[A-Z]/u.test(t))}function uq(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Vb(n)?lq:sq)(r,i,o,n),c=F7(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:f}=r,p=m.useMemo(()=>Dn(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function bC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fb(t,e,n,r){if(typeof e=="function"){const[s,i]=bC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=bC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function hp(t){return Dn(t)?t.get():t}function dq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:hq(n,r,s,t),renderState:e()}}const QD=t=>(e,n)=>{const r=m.useContext(jg),s=m.useContext(Rg),i=()=>dq(t,e,r,s);return n?i():Oc(i)};function hq(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=hp(i[p]);let{initial:o,animate:a}=t;const l=Og(t),c=UD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Mg(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=Fb(t,p[g]);if(v){const{transitionEnd:y,transition:T,...w}=v;for(const b in w){let E=w[b];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(s[b]=E)}for(const b in y)s[b]=y[b]}}}return s}function Ub(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Dn(r[o])||e.style&&Dn(e.style[o])||WD(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const fq={useVisualState:QD({scrapeMotionValuesFromProps:Ub,createRenderState:Lb})};function YD(t,e,n){const r=Ub(t,e,n);for(const s in t)if(Dn(t[s])||Dn(e[s])){const i=Vc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const pq={useVisualState:QD({scrapeMotionValuesFromProps:YD,createRenderState:GD})};function mq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Vb(r)?pq:fq,preloadedFeatures:t,useRender:uq(s),createVisualElement:e,Component:r};return K7(o)}}function qd(t,e,n){const r=t.getProps();return Fb(r,e,n!==void 0?n:r.custom,t)}const Rw=t=>Array.isArray(t);function gq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,es(n))}function yq(t){return Rw(t)?t[t.length-1]||0:t}function vq(t,e){const n=qd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=yq(i[o]);gq(t,o,a)}}function wq(t){return!!(Dn(t)&&t.add)}function kw(t,e){const n=t.getValue("willChange");if(wq(n))return n.add(e);if(!n&&fi.WillChange){const r=new fi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function XD(t){return t.props[$D]}const xq=t=>t!==null;function bq(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(xq),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Tq={type:"spring",stiffness:500,damping:25,restSpeed:10},Eq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_q={type:"keyframes",duration:.8},Sq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cq=(t,{keyframes:e})=>e.length>2?_q:Fc.has(t)?t.startsWith("scale")?Eq(e[1]):Tq:Sq;function Aq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const $b=(t,e,n,r={},s,i)=>o=>{const a=Ib(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ps(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};Aq(a)||Object.assign(d,Cq(t,d)),d.duration&&(d.duration=Ps(d.duration)),d.repeatDelay&&(d.repeatDelay=Ps(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(fi.instantAnimations||fi.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=bq(d.keyframes,a);if(p!==void 0){ht.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new Cb(d):new a7(d)};function Iq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&Iq(c,d))continue;const g={delay:n,...Ib(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=XD(t);if(w){const b=window.MotionHandoffAnimation(w,d,ht);b!==null&&(g.startTime=b,y=!0)}}kw(t,d),f.start($b(d,f,p,t.shouldReduceMotion&&CD.has(d)?{type:!1}:g,t,y));const T=f.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{ht.update(()=>{o&&vq(t,o)})}),l}function Dw(t,e,n={}){var l;const r=qd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(JD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return Nq(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Nq(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Pq).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Dw(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Pq(t,e){return t.sortNodePosition(e)}function Rq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Dw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Dw(t,e,n);else{const s=typeof e=="function"?qd(t,e,n.custom):e;r=Promise.all(JD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function ZD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const kq=jb.length;function ej(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ej(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kq;n++){const r=jb[n],s=t.props[r];(Bd(s)||s===!1)&&(e[r]=s)}return e}const Dq=[...Db].reverse(),jq=Db.length;function Mq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Rq(t,n,r)))}function Oq(t){let e=Mq(t),n=TC(),r=!0;const s=l=>(c,d)=>{var p;const f=qd(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:v,...y}=f;c={...c,...y,...v}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=ej(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let T=0;T<jq;T++){const w=Dq[T],b=n[w],E=c[w]!==void 0?c[w]:d[w],I=Bd(E),P=w===l?b.isActive:null;P===!1&&(v=T);let j=E===d[w]&&E!==c[w]&&I;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),b.protectedKeys={...g},!b.isActive&&P===null||!E&&!b.prevProp||Mg(E)||typeof E=="boolean")continue;const C=Lq(b.prevProp,E);let S=C||w===l&&b.isActive&&!j&&I||T>v&&I,A=!1;const N=Array.isArray(E)?E:[E];let D=N.reduce(s(w),{});P===!1&&(D={});const{prevResolvedValues:M={}}=b,k={...M,...D},$=Z=>{S=!0,p.has(Z)&&(A=!0,p.delete(Z)),b.needsAnimating[Z]=!0;const O=t.getValue(Z);O&&(O.liveStyle=!1)};for(const Z in k){const O=D[Z],L=M[Z];if(g.hasOwnProperty(Z))continue;let J=!1;Rw(O)&&Rw(L)?J=!ZD(O,L):J=O!==L,J?O!=null?$(Z):p.add(Z):O!==void 0&&p.has(Z)?$(Z):b.protectedKeys[Z]=!0}b.prevProp=E,b.prevResolvedValues=D,b.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&C)||A)&&f.push(...N.map(Z=>({animation:Z,options:{type:w}})))}if(p.size){const T={};if(typeof c.initial!="boolean"){const w=qd(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(T.transition=w.transition)}p.forEach(w=>{const b=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),T[w]=b??null}),f.push({animation:T})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=TC(),r=!0}}}function Lq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZD(e,t):!1}function Go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TC(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class Do{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Vq extends Do{constructor(e){super(e),e.animationState||(e.animationState=Oq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Fq=0;class Uq extends Do{constructor(){super(...arguments),this.id=Fq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $q={animation:{Feature:Vq},exit:{Feature:Uq}};function Hd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Sh(t){return{point:{x:t.pageX,y:t.pageY}}}const zq=t=>e=>Rb(e)&&t(e,Sh(e));function rd(t,e,n,r){return Hd(t,e,zq(n),r)}function tj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Bq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Wq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const nj=1e-4,qq=1-nj,Hq=1+nj,rj=.01,Gq=0-rj,Kq=0+rj;function Wn(t){return t.max-t.min}function Qq(t,e,n){return Math.abs(t-e)<=n}function EC(t,e,n,r=.5){t.origin=r,t.originPoint=At(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=At(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qq&&t.scale<=Hq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gq&&t.translate<=Kq||isNaN(t.translate))&&(t.translate=0)}function sd(t,e,n,r){EC(t.x,e.x,n.x,r?r.originX:void 0),EC(t.y,e.y,n.y,r?r.originY:void 0)}function _C(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function Yq(t,e,n){_C(t.x,e.x,n.x),_C(t.y,e.y,n.y)}function SC(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function id(t,e,n){SC(t.x,e.x,n.x),SC(t.y,e.y,n.y)}const CC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:CC(),y:CC()}),AC=()=>({min:0,max:0}),Ft=()=>({x:AC(),y:AC()});function Ir(t){return[t("x"),t("y")]}function Rv(t){return t===void 0||t===1}function jw({scale:t,scaleX:e,scaleY:n}){return!Rv(t)||!Rv(e)||!Rv(n)}function Yo(t){return jw(t)||sj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sj(t){return IC(t.x)||IC(t.y)}function IC(t){return t&&t!=="0%"}function xm(t,e,n){const r=t-n,s=e*r;return n+s}function NC(t,e,n,r,s){return s!==void 0&&(t=xm(t,s,r)),xm(t,n,r)+e}function Mw(t,e=0,n=1,r,s){t.min=NC(t.min,e,n,r,s),t.max=NC(t.max,e,n,r,s)}function ij(t,{x:e,y:n}){Mw(t.x,e.translate,e.scale,e.originPoint),Mw(t.y,n.translate,n.scale,n.originPoint)}const PC=.999999999999,RC=1.0000000000001;function Xq(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ij(t,o)),r&&Yo(i.latestValues)&&Pl(t,i.latestValues))}e.x<RC&&e.x>PC&&(e.x=1),e.y<RC&&e.y>PC&&(e.y=1)}function Nl(t,e){t.min=t.min+e,t.max=t.max+e}function kC(t,e,n,r,s=.5){const i=At(t.min,t.max,s);Mw(t,e,n,i,r)}function Pl(t,e){kC(t.x,e.x,e.scaleX,e.scale,e.originX),kC(t.y,e.y,e.scaleY,e.scale,e.originY)}function oj(t,e){return tj(Wq(t.getBoundingClientRect(),e))}function Jq(t,e,n){const r=oj(t,n),{scroll:s}=e;return s&&(Nl(r.x,s.offset.x),Nl(r.y,s.offset.y)),r}const aj=({current:t})=>t?t.ownerDocument.defaultView:null,DC=(t,e)=>Math.abs(t-e);function Zq(t,e){const n=DC(t.x,e.x),r=DC(t.y,e.y);return Math.sqrt(n**2+r**2)}class lj{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Dv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Zq(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:y}=sn;this.history.push({...v,timestamp:y});const{onStart:T,onMove:w}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kv(p,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Dv(f.type==="pointercancel"?this.lastMoveEventInfo:kv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,T),v&&v(f,T)},!Rb(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Sh(e),a=kv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=sn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Dv(a,this.history)),this.removeListeners=Th(rd(this.contextWindow,"pointermove",this.handlePointerMove),rd(this.contextWindow,"pointerup",this.handlePointerUp),rd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function kv(t,e){return e?{point:e(t.point)}:t}function jC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dv({point:t},e){return{point:t,delta:jC(t,cj(e)),offset:jC(t,eH(e)),velocity:tH(e,.1)}}function eH(t){return t[0]}function cj(t){return t[t.length-1]}function tH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=cj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Rs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?At(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?At(n,t,r.max):Math.min(t,n)),t}function MC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rH(t,{top:e,left:n,bottom:r,right:s}){return{x:MC(t.x,n,s),y:MC(t.y,e,r)}}function OC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sH(t,e){return{x:OC(t.x,e.x),y:OC(t.y,e.y)}}function iH(t,e){let n=.5;const r=Wn(t),s=Wn(e);return s>r?n=pc(e.min,e.max-r,t.min):r>s&&(n=pc(t.min,t.max-s,e.min)),Vs(0,1,n)}function oH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ow=.35;function aH(t=Ow){return t===!1?t=0:t===!0&&(t=Ow),{x:LC(t,"left","right"),y:LC(t,"top","bottom")}}function LC(t,e,n){return{min:VC(t,e),max:VC(t,n)}}function VC(t,e){return typeof t=="number"?t:t[e]||0}const lH=new WeakMap;class cH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sh(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=T7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(T=>{let w=this.getAxisMotionValue(T).get()||0;if(ks.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[T];E&&(w=Wn(E)*(parseFloat(w)/100))}}this.originPoint[T]=w}),v&&ht.postRender(()=>v(d,f)),kw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(g&&this.currentDirection===null){this.currentDirection=uH(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Ir(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lj(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aj(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ht.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Mf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rH(r.layoutBox,e):this.constraints=!1,this.elastic=aH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ir(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Al(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Jq(r,s.root,this.visualElement.getTransformPagePoint());let o=sH(s.layout.layoutBox,i);if(n){const a=n(Bq(o));this.hasMutatedConstraints=!!a,a&&(o=tj(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ir(d=>{if(!Mf(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return kw(this.visualElement,e),r.start($b(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ir(n=>{const{drag:r}=this.getProps();if(!Mf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-At(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Al(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ir(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=iH({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ir(o=>{if(!Mf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(At(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;lH.set(this.visualElement,this);const e=this.visualElement.current,n=rd(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Al(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=Hd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ir(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ow,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dH extends Do{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new cH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const FC=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class hH extends Do{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new lj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FC(e),onStart:FC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=rd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=UC(t,e.target.x),r=UC(t,e.target.y);return`${n}% ${r}%`}},fH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=To.parse(t);if(s.length>5)return r;const i=To.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=At(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class pH extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;J7(mH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Pb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uj(t){const[e,n]=LD(),r=m.useContext(lb);return u.jsx(pH,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(zD),isPresent:e,safeToRemove:n})}const mH={borderRadius:{...gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gu,borderTopRightRadius:gu,borderBottomLeftRadius:gu,borderBottomRightRadius:gu,boxShadow:fH};function gH(t,e,n){const r=Dn(t)?t:es(t);return r.start($b("",r,e,n)),r.animation}const yH=(t,e)=>t.depth-e.depth;class vH{constructor(){this.children=[],this.isDirty=!1}add(e){ub(this.children,e),this.isDirty=!0}remove(e){db(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yH),this.isDirty=!1,this.children.forEach(e)}}function wH(t,e){const n=rr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(us(r),t(i-e))};return ht.setup(r,!0),()=>us(r)}const dj=["TopLeft","TopRight","BottomLeft","BottomRight"],xH=dj.length,$C=t=>typeof t=="string"?parseFloat(t):t,zC=t=>typeof t=="number"||Oe.test(t);function bH(t,e,n,r,s,i){s?(t.opacity=At(0,n.opacity??1,TH(r)),t.opacityExit=At(e.opacity??1,0,EH(r))):i&&(t.opacity=At(e.opacity??1,n.opacity??1,r));for(let o=0;o<xH;o++){const a=`border${dj[o]}Radius`;let l=BC(e,a),c=BC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zC(l)===zC(c)?(t[a]=Math.max(At($C(l),$C(c),r),0),(ks.test(c)||ks.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=At(e.rotate||0,n.rotate||0,r))}function BC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TH=hj(0,.5,tD),EH=hj(.5,.95,ar);function hj(t,e,n){return r=>r<t?0:r>e?1:n(pc(t,e,r))}function WC(t,e){t.min=e.min,t.max=e.max}function Ar(t,e){WC(t.x,e.x),WC(t.y,e.y)}function qC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HC(t,e,n,r,s){return t-=e,t=xm(t,1/n,r),s!==void 0&&(t=xm(t,1/s,r)),t}function _H(t,e=0,n=1,r=.5,s,i=t,o=t){if(ks.test(e)&&(e=parseFloat(e),e=At(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=At(i.min,i.max,r);t===i&&(a-=e),t.min=HC(t.min,e,n,a,s),t.max=HC(t.max,e,n,a,s)}function GC(t,e,[n,r,s],i,o){_H(t,e[n],e[r],e[s],e.scale,i,o)}const SH=["x","scaleX","originX"],CH=["y","scaleY","originY"];function KC(t,e,n,r){GC(t.x,e,SH,n?n.x:void 0,r?r.x:void 0),GC(t.y,e,CH,n?n.y:void 0,r?r.y:void 0)}function QC(t){return t.translate===0&&t.scale===1}function fj(t){return QC(t.x)&&QC(t.y)}function YC(t,e){return t.min===e.min&&t.max===e.max}function AH(t,e){return YC(t.x,e.x)&&YC(t.y,e.y)}function XC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pj(t,e){return XC(t.x,e.x)&&XC(t.y,e.y)}function JC(t){return Wn(t.x)/Wn(t.y)}function ZC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IH{constructor(){this.members=[]}add(e){ub(this.members,e),e.scheduleRender()}remove(e){if(db(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const jv=["","X","Y","Z"],PH={visibility:"hidden"},RH=1e3;let kH=0;function Mv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mj(r)}function gj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=kH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MH),this.nodes.forEach(UH),this.nodes.forEach($H),this.nodes.forEach(OH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fb),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=kb(o)&&!I7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wH(f,250),fp.hasAnimatedSinceResize&&(fp.hasAnimatedSinceResize=!1,this.nodes.forEach(tA))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||HH,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=c.getProps(),w=!this.targetLayout||!pj(this.targetLayout,g),b=!f&&p;if(this.options.layoutRoot||this.resumeFrom||b||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Ib(v,"layout"),onPlay:y,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,b)}else f||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eA);return}this.isUpdating||this.nodes.forEach(VH),this.isUpdating=!1,this.nodes.forEach(FH),this.nodes.forEach(DH),this.nodes.forEach(jH),this.clearAllSnapshots();const a=rr.now();sn.delta=Vs(0,1e3/60,a-sn.timestamp),sn.timestamp=a,sn.isProcessing=!0,Sv.update.process(sn),Sv.preRender.process(sn),Sv.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Pb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LH),this.sharedNodes.forEach(BH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Yo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),GH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ft();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(KH))){const{scroll:d}=this.root;d&&(Nl(a.x,d.offset.x),Nl(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Ft();if(Ar(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ar(a,o),Nl(a.x,f.offset.x),Nl(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Ft();Ar(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Pl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Yo(d.latestValues)&&Pl(l,d.latestValues)}return Yo(this.latestValues)&&Pl(l,this.latestValues),l}removeTransform(o){const a=Ft();Ar(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Yo(c.latestValues))continue;jw(c.latestValues)&&c.updateSnapshot();const d=Ft(),f=c.measurePageBox();Ar(d,f),KC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Yo(this.latestValues)&&KC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),id(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),ij(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),id(this.relativeTargetOrigin,this.target,g.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jw(this.parent.latestValues)||sj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ar(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Xq(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ft());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qC(this.prevProjectionDelta.x,this.projectionDelta.x),qC(this.prevProjectionDelta.y,this.projectionDelta.y)),sd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!ZC(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ft(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,T=this.getStack(),w=!T||T.members.length<=1,b=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(qH));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const P=I/1e3;nA(f.x,o.x,P),nA(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(id(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WH(this.relativeTarget,this.relativeTargetOrigin,p,P),E&&AH(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ft()),Ar(E,this.relativeTarget)),y&&(this.animationValues=d,bH(d,c,this.latestValues,P,b,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{fp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=es(0)),this.currentAnimation=gH(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&yj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ft();const f=Wn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Wn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ar(a,l),Pl(a,d),sd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new IH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Mv("z",o,c,this.animationValues);for(let d=0;d<jv.length;d++)Mv(`rotate${jv[d]}`,o,c,this.animationValues),Mv(`skew${jv[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return PH;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=hp(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=hp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yo(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=NH(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Wd){if(d[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:T}=Wd[g],w=a.transform==="none"?d[g]:v(d[g],c);if(y){const b=y.length;for(let E=0;E<b;E++)a[y[E]]=w}else T?this.options.visualElement.renderState.vars[g]=w:a[g]=w}return this.options.layoutId&&(a.pointerEvents=c===this?hp(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(eA),this.root.sharedNodes.clear()}}}function DH(t){t.updateLayout()}function jH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ir(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=Wn(p);p.min=r[f].min,p.max=p.min+g}):yj(i,e.layoutBox,r)&&Ir(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=Wn(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Il();sd(a,r,e.layoutBox);const l=Il();o?sd(l,t.applyTransform(s,!0),e.measuredBox):sd(l,r,e.layoutBox);const c=!fj(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Ft();id(v,e.layoutBox,p.layoutBox);const y=Ft();id(y,r,g.layoutBox),pj(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function MH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LH(t){t.clearSnapshot()}function eA(t){t.clearMeasurements()}function VH(t){t.isLayoutDirty=!1}function FH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UH(t){t.resolveTargetDelta()}function $H(t){t.calcProjection()}function zH(t){t.resetSkewAndRotation()}function BH(t){t.removeLeadSnapshot()}function nA(t,e,n){t.translate=At(e.translate,0,n),t.scale=At(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rA(t,e,n,r){t.min=At(e.min,n.min,r),t.max=At(e.max,n.max,r)}function WH(t,e,n,r){rA(t.x,e.x,n.x,r),rA(t.y,e.y,n.y,r)}function qH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const HH={duration:.45,ease:[.4,0,.1,1]},sA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iA=sA("applewebkit/")&&!sA("chrome/")?Math.round:ar;function oA(t){t.min=iA(t.min),t.max=iA(t.max)}function GH(t){oA(t.x),oA(t.y)}function yj(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qq(JC(e),JC(n),.2)}function KH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const QH=gj({attachResizeListener:(t,e)=>Hd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ov={current:void 0},vj=gj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ov.current){const t=new QH({});t.mount(window),t.setOptions({layoutScroll:!0}),Ov.current=t}return Ov.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YH={pan:{Feature:hH},drag:{Feature:dH,ProjectionNode:vj,MeasureLayout:uj}};function aA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ht.postRender(()=>i(e,Sh(e)))}class XH extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=E7(e,(n,r)=>(aA(this.node,r,"Start"),s=>aA(this.node,s,"End"))))}unmount(){}}class JH extends Do{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Th(Hd(this.node.current,"focus",()=>this.onFocus()),Hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ht.postRender(()=>i(e,Sh(e)))}class ZH extends Do{mount(){const{current:e}=this.node;e&&(this.unmount=A7(e,(n,r)=>(lA(this.node,r,"Start"),(s,{success:i})=>lA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lw=new WeakMap,Lv=new WeakMap,eG=t=>{const e=Lw.get(t.target);e&&e(t)},tG=t=>{t.forEach(eG)};function nG({root:t,...e}){const n=t||document;Lv.has(n)||Lv.set(n,{});const r=Lv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(tG,{root:t,...e})),r[s]}function rG(t,e,n){const r=nG(e);return Lw.set(t,n),r.observe(t),()=>{Lw.delete(t),r.unobserve(t)}}const sG={some:0,all:1};class iG extends Do{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sG[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return rG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oG(e,n))&&this.startObserver()}unmount(){}}function oG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aG={inView:{Feature:iG},tap:{Feature:ZH},focus:{Feature:JH},hover:{Feature:XH}},lG={layout:{ProjectionNode:vj,MeasureLayout:uj}},Vw={current:null},wj={current:!1};function cG(){if(wj.current=!0,!!cb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vw.current=t.matches;t.addListener(e),e()}else Vw.current=!1}const uG=new WeakMap;function dG(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Dn(s))t.addValue(r,s);else if(Dn(i))t.addValue(r,es(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,es(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ab,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=rr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Og(n),this.isVariantNode=UD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Dn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,uG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wj.current||cG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mc){const n=mc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cA.length;r++){const s=cA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=es(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(H2(r)||K2(r))?r=parseFloat(r):!R7(r)&&To.test(n)&&(r=PD(e,n)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Fb(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class xj extends hG{constructor(){super(...arguments),this.KeyframeResolver=w7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function fG(t){return window.getComputedStyle(t)}class pG extends xj{constructor(){super(...arguments),this.type="html",this.renderInstance=bj}readValueFromInstance(e,n){var r;if(Fc.has(n))return(r=this.projection)!=null&&r.isProjecting?Sw(n):FW(e,n);{const s=fG(e),i=(yb(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oj(e,n)}build(e,n,r){Ob(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ub(e,n,r)}}const Tj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mG(t,e,n,r){bj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Tj.has(s)?s:Mb(s),e.attrs[s])}class gG extends xj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fc.has(n)){const r=ND(n);return r&&r.default||0}return n=Tj.has(n)?n:Mb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YD(e,n,r)}build(e,n,r){HD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){mG(e,n,r,s)}mount(e){this.isSVGTag=KD(e.tagName),super.mount(e)}}const yG=(t,e)=>Vb(t)?new gG(e):new pG(e,{allowProjection:t!==m.Fragment}),vG=mq({...$q,...aG,...YH,...lG},yG),se=U7(vG),pp=new WeakMap;let Oi;function wG(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return kb(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function xG({target:t,contentRect:e,borderBoxSize:n}){var r;(r=pp.get(t))==null||r.forEach(s=>{s({target:t,contentSize:e,get size(){return wG(t,n)}})})}function bG(t){t.forEach(xG)}function TG(){typeof ResizeObserver>"u"||(Oi=new ResizeObserver(bG))}function EG(t,e){Oi||TG();const n=RD(t);return n.forEach(r=>{let s=pp.get(r);s||(s=new Set,pp.set(r,s)),s.add(e),Oi==null||Oi.observe(r)}),()=>{n.forEach(r=>{const s=pp.get(r);s==null||s.delete(e),s!=null&&s.size||Oi==null||Oi.unobserve(r)})}}const mp=new Set;let od;function _G(){od=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};mp.forEach(n=>n(e))},window.addEventListener("resize",od)}function SG(t){return mp.add(t),od||_G(),()=>{mp.delete(t),!mp.size&&od&&(od=void 0)}}function CG(t,e){return typeof t=="function"?SG(t):EG(t,e)}const AG=50,uA=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),IG=()=>({time:0,x:uA(),y:uA()}),NG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function dA(t,e,n,r){const s=n[e],{length:i,position:o}=NG[e],a=s.current,l=n.time;s.current=t[`scroll${o}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=pc(0,s.scrollLength,s.current);const c=r-l;s.velocity=c>AG?0:pb(s.current-a,c)}function PG(t,e,n){dA(t,"x",e,n),dA(t,"y",e,n),e.time=n}function RG(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(kg(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const Fw={start:0,center:.5,end:1};function hA(t,e,n=0){let r=0;if(t in Fw&&(t=Fw[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const kG=[0,0];function DG(t,e,n,r){let s=Array.isArray(t)?t:kG,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Fw[t]?t:"0"]),i=hA(s[0],n,r),o=hA(s[1],e),i-o}const jG={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},MG={x:0,y:0};function OG(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function LG(t,e,n){const{offset:r=jG.All}=n,{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==t?RG(s,t):MG,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:OG(s),c={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const f=r.length;for(let p=0;p<f;p++){const g=DG(r[p],c[o],l[o],a[i]);!d&&g!==e[i].interpolatorOffsets[p]&&(d=!0),e[i].offset[p]=g}d&&(e[i].interpolate=Eb(e[i].offset,gD(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Vs(0,1,e[i].interpolate(e[i].current))}function VG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function FG(t,e,n,r={}){return{measure:s=>{VG(t,r.target,n),PG(t,n,s),(r.offset||r.target)&&LG(t,n,r)},notify:()=>e(n)}}const yu=new WeakMap,fA=new WeakMap,Vv=new WeakMap,pA=t=>t===document.scrollingElement?window:t;function Ej(t,{container:e=document.scrollingElement,...n}={}){if(!e)return ar;let r=Vv.get(e);r||(r=new Set,Vv.set(e,r));const s=IG(),i=FG(e,t,s,n);if(r.add(i),!yu.has(e)){const a=()=>{for(const f of r)f.measure(sn.timestamp);ht.preUpdate(l)},l=()=>{for(const f of r)f.notify()},c=()=>ht.read(a);yu.set(e,c);const d=pA(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&fA.set(e,CG(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const o=yu.get(e);return ht.read(o,!1,!0),()=>{var c;us(o);const a=Vv.get(e);if(!a||(a.delete(i),a.size))return;const l=yu.get(e);yu.delete(e),l&&(pA(e).removeEventListener("scroll",l),(c=fA.get(e))==null||c(),window.removeEventListener("resize",l))}}const mA=new Map;function UG(t){const e={value:0},n=Ej(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function _j({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=mA.get(e)??new Map;mA.set(e,s);const i=n.target??"self",o=s.get(i)??{},a=r+(n.offset??[]).join(",");return o[a]||(o[a]=!n.target&&xD()?new ScrollTimeline({source:e,axis:r}):UG({container:e,...n})),o[a]}function $G(t,e){const n=_j(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),OD(s=>{r.time=r.duration*s},n))})}function zG(t){return t.length===2}function BG(t,e){return zG(t)?Ej(n=>{t(n[e.axis].progress,n)},e):OD(t,_j(e))}function WG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return ar;const s={axis:e,container:n,...r};return typeof t=="function"?BG(t,s):$G(t,s)}function gA(t,e){F8(!!(!e||e.current))}const qG=()=>({scrollX:es(0),scrollY:es(0),scrollXProgress:es(0),scrollYProgress:es(0)});function Sj({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=Oc(qG);return(n?Pg:m.useEffect)(()=>(gA("target",e),gA("container",t),WG((o,{x:a,y:l})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function HG(t){const e=Oc(()=>es(t)),{isStatic:n}=m.useContext(Dg);if(n){const[,r]=m.useState(t);m.useEffect(()=>e.on("change",r),[])}return e}function Cj(t,e){const n=HG(e()),r=()=>n.set(e());return r(),Pg(()=>{const s=()=>ht.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),us(r)}}),n}function GG(t){nd.current=[],t();const e=Cj(nd.current,t);return nd.current=void 0,e}function bm(t,e,n,r){if(typeof t=="function")return GG(t);const s=typeof e=="function"?e:N7(e,n,r);return Array.isArray(t)?yA(t,s):yA([t],([i])=>s(i))}function yA(t,e){const n=Oc(()=>[]);return Cj(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const KG=()=>{};var Uw={},vA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ij={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Aj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new YG;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XG=function(t){const e=Aj(t);return Ij.encodeByteArray(e,!0)},Tm=function(t){return XG(t).replace(/\./g,"")},Nj=function(t){try{return Ij.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Uw<"u")return Uw;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=()=>JG().__FIREBASE_DEFAULTS__,eK=()=>{if(typeof process>"u"||typeof vA>"u")return;const t=vA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nj(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return KG()||ZG()||eK()||tK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pj=t=>{var e,n;return(n=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rj=t=>{const e=Pj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kj=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},Dj=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return t.endsWith(".cloudworkstations.dev")}async function zb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tm(JSON.stringify(n)),Tm(JSON.stringify(o)),""].join(".")}const ad={};function sK(){const t={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?t.emulator.push(e):t.prod.push(e);return t}function iK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let wA=!1;function Bb(t,e){if(typeof window>"u"||typeof document>"u"||!Uc(window.location.host)||ad[t]===e||ad[t]||wA)return;ad[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=sK().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{wA=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=iK(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),b=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(T,y);const I=c();l(b,w),E.append(b,v,T,I),document.body.appendChild(E)}i?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function aK(){var t;const e=(t=Lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Uw.process)==="[object process]"}catch{return!1}}function lK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uK(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dK(){return!aK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mj(){try{return typeof indexedDB=="object"}catch{return!1}}function Oj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function hK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fK,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?pK(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ps(s,a,r)}}function pK(t,e){return t.replace(mK,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mK=/\{\$([^}]+)}/g;function gK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xA(i)&&xA(o)){if(!Fs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yK(t,e){const n=new vK(t,e);return n.subscribe.bind(n)}class vK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wK(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fv),s.error===void 0&&(s.error=Fv),s.complete===void 0&&(s.complete=Fv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=1e3,bK=2,TK=4*60*60*1e3,EK=.5;function bA(t,e=xK,n=bK){const r=e*Math.pow(n,t),s=Math.round(EK*r*(Math.random()-.5)*2);return Math.min(TK,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CK(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SK(t){return t===Xo?void 0:t}function CK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _K(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const IK={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},NK=Ke.INFO,PK={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},RK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vg{constructor(e){this.name=e,this._logLevel=NK,this._logHandler=RK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const kK=(t,e)=>e.some(n=>t instanceof n);let TA,EA;function DK(){return TA||(TA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jK(){return EA||(EA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lj=new WeakMap,$w=new WeakMap,Vj=new WeakMap,Uv=new WeakMap,Wb=new WeakMap;function MK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(uo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Lj.set(n,t)}).catch(()=>{}),Wb.set(e,t),e}function OK(t){if($w.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$w.set(t,e)}let zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $w.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LK(t){zw=t(zw)}function VK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($v(this),e,...n);return Vj.set(r,e.sort?e.sort():[e]),uo(r)}:jK().includes(t)?function(...e){return t.apply($v(this),e),uo(Lj.get(this))}:function(...e){return uo(t.apply($v(this),e))}}function FK(t){return typeof t=="function"?VK(t):(t instanceof IDBTransaction&&OK(t),kK(t,DK())?new Proxy(t,zw):t)}function uo(t){if(t instanceof IDBRequest)return MK(t);if(Uv.has(t))return Uv.get(t);const e=FK(t);return e!==t&&(Uv.set(t,e),Wb.set(e,t)),e}const $v=t=>Wb.get(t);function Fj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uo(o.result),l.oldVersion,l.newVersion,uo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const UK=["get","getKey","getAll","getAllKeys","count"],$K=["put","add","delete","clear"],zv=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$K.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||UK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zv.set(e,i),i}LK(t=>({...t,get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bw="@firebase/app",SA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Vg("@firebase/app"),WK="@firebase/app-compat",qK="@firebase/analytics-compat",HK="@firebase/analytics",GK="@firebase/app-check-compat",KK="@firebase/app-check",QK="@firebase/auth",YK="@firebase/auth-compat",XK="@firebase/database",JK="@firebase/data-connect",ZK="@firebase/database-compat",eQ="@firebase/functions",tQ="@firebase/functions-compat",nQ="@firebase/installations",rQ="@firebase/installations-compat",sQ="@firebase/messaging",iQ="@firebase/messaging-compat",oQ="@firebase/performance",aQ="@firebase/performance-compat",lQ="@firebase/remote-config",cQ="@firebase/remote-config-compat",uQ="@firebase/storage",dQ="@firebase/storage-compat",hQ="@firebase/firestore",fQ="@firebase/ai",pQ="@firebase/firestore-compat",mQ="firebase",gQ="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="[DEFAULT]",yQ={[Bw]:"fire-core",[WK]:"fire-core-compat",[HK]:"fire-analytics",[qK]:"fire-analytics-compat",[KK]:"fire-app-check",[GK]:"fire-app-check-compat",[QK]:"fire-auth",[YK]:"fire-auth-compat",[XK]:"fire-rtdb",[JK]:"fire-data-connect",[ZK]:"fire-rtdb-compat",[eQ]:"fire-fn",[tQ]:"fire-fn-compat",[nQ]:"fire-iid",[rQ]:"fire-iid-compat",[sQ]:"fire-fcm",[iQ]:"fire-fcm-compat",[oQ]:"fire-perf",[aQ]:"fire-perf-compat",[lQ]:"fire-rc",[cQ]:"fire-rc-compat",[uQ]:"fire-gcs",[dQ]:"fire-gcs-compat",[hQ]:"fire-fst",[pQ]:"fire-fst-compat",[fQ]:"fire-vertex","fire-js":"fire-js",[mQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Map,vQ=new Map,qw=new Map;function CA(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ds(t){const e=t.name;if(qw.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;qw.set(e,t);for(const n of Gd.values())CA(n,t);for(const n of vQ.values())CA(n,t);return!0}function jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function er(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Wa("app","Firebase",wQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=gQ;function Uj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ww,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=kj()),!n)throw ho.create("no-options");const i=Gd.get(s);if(i){if(Fs(n,i.options)&&Fs(r,i.config))return i;throw ho.create("duplicate-app",{appName:s})}const o=new AK(s);for(const l of qw.values())o.addComponent(l);const a=new xQ(n,r,o);return Gd.set(s,a),a}function Ah(t=Ww){const e=Gd.get(t);if(!e&&t===Ww&&kj())return Uj();if(!e)throw ho.create("no-app",{appName:t});return e}function bQ(){return Array.from(Gd.values())}function lr(t,e,n){var r;let s=(r=yQ[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}ds(new Ur(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ="firebase-heartbeat-database",EQ=1,Kd="firebase-heartbeat-store";let Bv=null;function $j(){return Bv||(Bv=Fj(TQ,EQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Bv}async function _Q(t){try{const n=(await $j()).transaction(Kd),r=await n.objectStore(Kd).get(zj(t));return await n.done,r}catch(e){if(e instanceof ps)pi.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function AA(t,e){try{const r=(await $j()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,zj(t)),await r.done}catch(n){if(n instanceof ps)pi.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function zj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=1024,CQ=30;class AQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>CQ){const o=PQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IA(),{heartbeatsToSend:r,unsentEntries:s}=IQ(this._heartbeatsCache.heartbeats),i=Tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pi.warn(n),""}}}function IA(){return new Date().toISOString().substring(0,10)}function IQ(t,e=SQ){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),NA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mj()?Oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _Q(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return AA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return AA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NA(t){return Tm(JSON.stringify({version:2,heartbeats:t})).length}function PQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RQ(t){ds(new Ur("platform-logger",e=>new zK(e),"PRIVATE")),ds(new Ur("heartbeat",e=>new AQ(e),"PRIVATE")),lr(Bw,SA,t),lr(Bw,SA,"esm2017"),lr("fire-js","")}RQ("");var PA={},RA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof PA<"u"?PA:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,Bj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function A(){}A.prototype=S.prototype,C.D=S.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(N,D,M){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return S.prototype[D].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,A){A||(A=0);var N=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)N[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;16>D;++D)N[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=C.g[0],A=C.g[1],D=C.g[2];var M=C.g[3],k=S+(M^A&(D^M))+N[0]+3614090360&4294967295;S=A+(k<<7&4294967295|k>>>25),k=M+(D^S&(A^D))+N[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(A^M&(S^A))+N[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(S^D&(M^S))+N[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=S+(M^A&(D^M))+N[4]+4118548399&4294967295,S=A+(k<<7&4294967295|k>>>25),k=M+(D^S&(A^D))+N[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(A^M&(S^A))+N[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(S^D&(M^S))+N[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=S+(M^A&(D^M))+N[8]+1770035416&4294967295,S=A+(k<<7&4294967295|k>>>25),k=M+(D^S&(A^D))+N[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(A^M&(S^A))+N[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(S^D&(M^S))+N[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=S+(M^A&(D^M))+N[12]+1804603682&4294967295,S=A+(k<<7&4294967295|k>>>25),k=M+(D^S&(A^D))+N[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(A^M&(S^A))+N[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=A+(S^D&(M^S))+N[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=S+(D^M&(A^D))+N[1]+4129170786&4294967295,S=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(S^A))+N[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^A&(M^S))+N[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^S&(D^M))+N[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(A^D))+N[5]+3593408605&4294967295,S=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(S^A))+N[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^A&(M^S))+N[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^S&(D^M))+N[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(A^D))+N[9]+568446438&4294967295,S=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(S^A))+N[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^A&(M^S))+N[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^S&(D^M))+N[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(A^D))+N[13]+2850285829&4294967295,S=A+(k<<5&4294967295|k>>>27),k=M+(A^D&(S^A))+N[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^A&(M^S))+N[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=A+(M^S&(D^M))+N[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=S+(A^D^M)+N[5]+4294588738&4294967295,S=A+(k<<4&4294967295|k>>>28),k=M+(S^A^D)+N[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^A)+N[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^S)+N[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=S+(A^D^M)+N[1]+2763975236&4294967295,S=A+(k<<4&4294967295|k>>>28),k=M+(S^A^D)+N[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^A)+N[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^S)+N[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=S+(A^D^M)+N[13]+681279174&4294967295,S=A+(k<<4&4294967295|k>>>28),k=M+(S^A^D)+N[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^A)+N[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^S)+N[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=S+(A^D^M)+N[9]+3654602809&4294967295,S=A+(k<<4&4294967295|k>>>28),k=M+(S^A^D)+N[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^A)+N[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=A+(D^M^S)+N[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=S+(D^(A|~M))+N[0]+4096336452&4294967295,S=A+(k<<6&4294967295|k>>>26),k=M+(A^(S|~D))+N[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~A))+N[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~S))+N[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=S+(D^(A|~M))+N[12]+1700485571&4294967295,S=A+(k<<6&4294967295|k>>>26),k=M+(A^(S|~D))+N[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~A))+N[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~S))+N[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=S+(D^(A|~M))+N[8]+1873313359&4294967295,S=A+(k<<6&4294967295|k>>>26),k=M+(A^(S|~D))+N[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~A))+N[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~S))+N[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=S+(D^(A|~M))+N[4]+4149444226&4294967295,S=A+(k<<6&4294967295|k>>>26),k=M+(A^(S|~D))+N[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~A))+N[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=A+(M^(D|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var A=S-this.blockSize,N=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=A;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(N[D++]=C.charCodeAt(M++),D==this.blockSize){s(this,N),D=0;break}}else for(;M<S;)if(N[D++]=C[M++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var A=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=A&255,A/=256;for(this.u(C),C=Array(16),S=A=0;4>S;++S)for(var N=0;32>N;N+=8)C[A++]=this.g[S]>>>N&255;return C};function i(C,S){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=S(C)}function o(C,S){this.h=S;for(var A=[],N=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;N&&M==S||(A[D]=M,N=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(c(-C));for(var S=[],A=1,N=0;C>=A;N++)S[N]=C/A|0,A*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return T(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),N=f,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+M),S);8>M?(M=c(Math.pow(S,M)),N=N.j(M).add(c(k))):(N=N.j(A),N=N.add(c(k)))}return N}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var C=0,S=1,A=0;A<this.g.length;A++){var N=this.i(A);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+T(this).toString(C);for(var S=c(Math.pow(C,6)),A=this,N="";;){var D=I(A,S).g;A=w(A,D.j(S));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=D,v(A))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function T(C){for(var S=C.g.length,A=[],N=0;N<S;N++)A[N]=~C.g[N];return new o(A,~C.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0,D=0;D<=S;D++){var M=N+(this.i(D)&65535)+(C.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);N=k>>>16,M&=65535,k&=65535,A[D]=k<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(T(S))}t.j=function(C){if(v(this)||v(C))return f;if(y(this))return y(C)?T(this).j(T(C)):T(T(this).j(C));if(y(C))return T(this.j(T(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,A=[],N=0;N<2*S;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<C.g.length;D++){var M=this.i(N)>>>16,k=this.i(N)&65535,$=C.i(D)>>>16,re=C.i(D)&65535;A[2*N+2*D]+=k*re,b(A,2*N+2*D),A[2*N+2*D+1]+=M*re,b(A,2*N+2*D+1),A[2*N+2*D+1]+=k*$,b(A,2*N+2*D+1),A[2*N+2*D+2]+=M*$,b(A,2*N+2*D+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new o(A,0)};function b(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function I(C,S){if(v(S))throw Error("division by zero");if(v(C))return new E(f,f);if(y(C))return S=I(T(C),S),new E(T(S.g),T(S.h));if(y(S))return S=I(C,T(S)),new E(T(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=S;0>=N.l(C);)A=P(A),N=P(N);var D=j(A,1),M=j(N,1);for(N=j(N,2),A=j(A,2);!v(N);){var k=M.add(N);0>=k.l(C)&&(D=D.add(A),M=k),N=j(N,1),A=j(A,1)}return S=w(C,D.j(S)),new E(D,S)}for(D=f;0<=C.l(S);){for(A=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=c(A),k=M.j(S);y(k)||0<k.l(C);)A-=N,M=c(A),k=M.j(S);v(M)&&(M=p),D=D.add(M),C=w(C,k)}return new E(D,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)&C.i(N);return new o(A,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)|C.i(N);return new o(A,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)^C.i(N);return new o(A,this.h^C.h)};function P(C){for(var S=C.g.length+1,A=[],N=0;N<S;N++)A[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(A,C.h)}function j(C,S){var A=S>>5;S%=32;for(var N=C.g.length-A,D=[],M=0;M<N;M++)D[M]=0<S?C.i(M+A)>>>S|C.i(M+A+1)<<32-S:C.i(M+A);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,fo=o}).apply(typeof RA<"u"?RA:typeof self<"u"?self:typeof window<"u"?window:{});var kA={},Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof kA<"u"?kA:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wj,Pu,qj,gp,Hw,Hj,Gj,Kj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,_){return h==Array.prototype||h==Object.prototype||(h[x]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var x=0;x<h.length;++x){var _=h[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(h,x){if(x)e:{var _=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in _))break e;_=_[F]}h=h[h.length-1],R=_[h],x=x(R),x!=R&&x!=null&&e(_,h,{configurable:!0,writable:!0,value:x})}}function i(h,x){h instanceof String&&(h+="");var _=0,R=!1,F={next:function(){if(!R&&_<h.length){var U=_++;return{value:x(U,h[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(h){return h||function(){return i(this,function(x,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function c(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function d(h,x,_){return h.call.apply(h.bind,arguments)}function f(h,x,_){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),h.apply(x,F)}}return function(){return h.apply(x,arguments)}}function p(h,x,_){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(h,x){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,x){function _(){}_.prototype=x.prototype,h.aa=x.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(R,F,U){for(var ue=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ue[pt-2]=arguments[pt];return x.prototype[F].apply(R,ue)}}function y(h){const x=h.length;if(0<x){const _=Array(x);for(let R=0;R<x;R++)_[R]=h[R];return _}return[]}function T(h,x){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(l(R)){const F=h.length||0,U=R.length||0;h.length=F+U;for(let ue=0;ue<U;ue++)h[F+ue]=R[ue]}else h.push(R)}}class w{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function b(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var P=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(h,x,_){for(const R in h)x.call(_,h[R],R,h)}function C(h,x){for(const _ in h)x.call(void 0,h[_],_,h)}function S(h){const x={};for(const _ in h)x[_]=h[_];return x}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,x){let _,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(_ in R)h[_]=R[_];for(let U=0;U<A.length;U++)_=A[U],Object.prototype.hasOwnProperty.call(R,_)&&(h[_]=R[_])}}function D(h){var x=1;h=h.split(":");const _=[];for(;0<x&&h.length;)_.push(h.shift()),x--;return h.length&&_.push(h.join(":")),_}function M(h){a.setTimeout(()=>{throw h},0)}function k(){var h=L;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,_){const R=re.get();R.set(x,_),this.h?this.h.next=R:this.g=R,this.h=R}}var re=new w(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,O=!1,L=new $,J=()=>{const h=a.Promise.resolve(void 0);Z=()=>{h.then(W)}};var W=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(_){M(_)}var x=re;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}O=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};a.addEventListener("test",_,x),a.removeEventListener("test",_,x)}catch{}return h}();function be(h,x){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(P){e:{try{I(x.nodeName);var F=!0;break e}catch{}F=!1}F||(x=null)}}else _=="mouseover"?x=h.fromElement:_=="mouseout"&&(x=h.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}v(be,le);var oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ge=0;function Ne(h,x,_,R,F){this.listener=h,this.proxy=null,this.src=x,this.type=_,this.capture=!!R,this.ha=F,this.key=++ge,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,x,_,R,F){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var ue=ie(h,x,R,F);return-1<ue?(x=h[ue],_||(x.fa=!1)):(x=new Ne(x,this.src,U,!!R,F),x.fa=_,h.push(x)),x};function Y(h,x){var _=x.type;if(_ in h.g){var R=h.g[_],F=Array.prototype.indexOf.call(R,x,void 0),U;(U=0<=F)&&Array.prototype.splice.call(R,F,1),U&&(_e(x),h.g[_].length==0&&(delete h.g[_],h.h--))}}function ie(h,x,_,R){for(var F=0;F<h.length;++F){var U=h[F];if(!U.da&&U.listener==x&&U.capture==!!_&&U.ha==R)return F}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),We={};function V(h,x,_,R,F){if(Array.isArray(x)){for(var U=0;U<x.length;U++)V(h,x[U],_,R,F);return null}return _=kt(_),h&&h[te]?h.K(x,_,c(R)?!!R.capture:!!R,F):me(h,x,_,!1,R,F)}function me(h,x,_,R,F,U){if(!x)throw Error("Invalid event type");var ue=c(F)?!!F.capture:!!F,pt=st(h);if(pt||(h[Ce]=pt=new we(h)),_=pt.add(x,_,R,ue,U),_.proxy)return _;if(R=ke(),_.proxy=R,R.src=h,R.listener=_,h.addEventListener)G||(F=ue),F===void 0&&(F=!1),h.addEventListener(x.toString(),R,F);else if(h.attachEvent)h.attachEvent(ze(x.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ke(){function h(_){return x.call(h.src,h.listener,_)}const x=wn;return h}function Te(h,x,_,R,F){if(Array.isArray(x))for(var U=0;U<x.length;U++)Te(h,x[U],_,R,F);else R=c(R)?!!R.capture:!!R,_=kt(_),h&&h[te]?(h=h.i,x=String(x).toString(),x in h.g&&(U=h.g[x],_=ie(U,_,R,F),-1<_&&(_e(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete h.g[x],h.h--)))):h&&(h=st(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ie(x,_,R,F)),(_=-1<h?x[h]:null)&&He(_))}function He(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[te])Y(x.i,h);else{var _=h.type,R=h.proxy;x.removeEventListener?x.removeEventListener(_,R,h.capture):x.detachEvent?x.detachEvent(ze(_),R):x.addListener&&x.removeListener&&x.removeListener(R),(_=st(x))?(Y(_,h),_.h==0&&(_.src=null,x[Ce]=null)):_e(h)}}}function ze(h){return h in We?We[h]:We[h]="on"+h}function wn(h,x){if(h.da)h=!0;else{x=new be(x,this);var _=h.listener,R=h.ha||h.src;h.fa&&He(h),h=_.call(R,x)}return h}function st(h){return h=h[Ce],h instanceof we?h:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(h){return typeof h=="function"?h:(h[Qt]||(h[Qt]=function(x){return h.handleEvent(x)}),h[Qt])}function ft(){ne.call(this),this.i=new we(this),this.M=this,this.F=null}v(ft,ne),ft.prototype[te]=!0,ft.prototype.removeEventListener=function(h,x,_,R){Te(this,h,x,_,R)};function z(h,x){var _,R=h.F;if(R)for(_=[];R;R=R.F)_.push(R);if(h=h.M,R=x.type||x,typeof x=="string")x=new le(x,h);else if(x instanceof le)x.target=x.target||h;else{var F=x;x=new le(R,h),N(x,F)}if(F=!0,_)for(var U=_.length-1;0<=U;U--){var ue=x.g=_[U];F=ae(ue,R,!0,x)&&F}if(ue=x.g=h,F=ae(ue,R,!0,x)&&F,F=ae(ue,R,!1,x)&&F,_)for(U=0;U<_.length;U++)ue=x.g=_[U],F=ae(ue,R,!1,x)&&F}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var _=h.g[x],R=0;R<_.length;R++)_e(_[R]);delete h.g[x],h.h--}}this.F=null},ft.prototype.K=function(h,x,_,R){return this.i.add(String(h),x,!1,_,R)},ft.prototype.L=function(h,x,_,R){return this.i.add(String(h),x,!0,_,R)};function ae(h,x,_,R){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var F=!0,U=0;U<x.length;++U){var ue=x[U];if(ue&&!ue.da&&ue.capture==_){var pt=ue.listener,dn=ue.ha||ue.src;ue.fa&&Y(h.i,ue),F=pt.call(dn,R)!==!1&&F}}return F&&!R.defaultPrevented}function ye(h,x,_){if(typeof h=="function")_&&(h=p(h,_));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:a.setTimeout(h,x||0)}function de(h){h.g=ye(()=>{h.g=null,h.i&&(h.i=!1,de(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Ye extends ne{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(h){ne.call(this),this.h=h,this.g={}}v(Ue,ne);var at=[];function tt(h){j(h.g,function(x,_){this.g.hasOwnProperty(_)&&He(x)},h),h.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),tt(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Ln=a.JSON.parse,Ja=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Pe(){}Pe.prototype.h=null;function rt(h){return h.h||(h.h=h.i())}function Xe(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nn(){le.call(this,"d")}v(nn,le);function dr(){le.call(this,"c")}v(dr,le);var hr={},Uo=null;function Za(){return Uo=Uo||new ft}hr.La="serverreachability";function Gh(h){le.call(this,hr.La,h)}v(Gh,le);function $o(h){const x=Za();z(x,new Gh(x))}hr.STAT_EVENT="statevent";function Kh(h,x){le.call(this,hr.STAT_EVENT,h),this.stat=x}v(Kh,le);function rn(h){const x=Za();z(x,new Kh(x,h))}hr.Ma="timingevent";function Yc(h,x){le.call(this,hr.Ma,h),this.size=x}v(Yc,le);function zo(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},x)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function Py(h,x,_,R,F,U){h.info(function(){if(h.g)if(U)for(var ue="",pt=U.split("&"),dn=0;dn<pt.length;dn++){var nt=pt[dn].split("=");if(1<nt.length){var xn=nt[0];nt=nt[1];var bn=xn.split("_");ue=2<=bn.length&&bn[1]=="type"?ue+(xn+"="+nt+"&"):ue+(xn+"=redacted&")}}else ue=null;else ue=U;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+x+`
`+_+`
`+ue})}function Ry(h,x,_,R,F,U,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+x+`
`+_+`
`+U+" "+ue})}function zs(h,x,_,R){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Dy(h,_)+(R?" "+R:"")})}function ky(h,x){h.info(function(){return"TIMEOUT: "+x})}Bo.prototype.info=function(){};function Dy(h,x){if(!h.g)return x;if(!x)return null;try{var _=JSON.parse(x);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var R=_[h];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ue=1;ue<F.length;ue++)F[ue]=""}}}}return Dt(_)}catch{return x}}var el={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xc;function tl(){}v(tl,Pe),tl.prototype.g=function(){return new XMLHttpRequest},tl.prototype.i=function(){return{}},Xc=new tl;function zr(h,x,_,R){this.j=h,this.i=x,this.l=_,this.R=R||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B}function B(){this.i=null,this.g="",this.h=!1}var Q={},Ae={};function Re(h,x,_){h.L=1,h.v=Jh(Ws(x)),h.m=_,h.P=!0,Yt(h,null)}function Yt(h,x){h.F=Date.now(),lt(h),h.A=Ws(h.v);var _=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),jE(_.i,"t",R),h.C=0,_=h.j.J,h.h=new B,h.g=JE(h.j,_?x:null,!h.m),0<h.O&&(h.M=new Ye(p(h.Y,h,h.g),h.O)),x=h.U,_=h.g,R=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(at[0]=F.toString()),F=at);for(var U=0;U<F.length;U++){var ue=V(_,F[U],R||x.handleEvent,!1,x.h||x);if(!ue)break;x.g[ue.key]=ue}x=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),$o(),Py(h.i,h.u,h.A,h.l,h.R,h.m)}zr.prototype.ca=function(h){h=h.target;const x=this.M;x&&qs(h)==3?x.j():this.Y(h)},zr.prototype.Y=function(h){try{if(h==this.g)e:{const bn=qs(this.g);var x=this.g.Ba();const sl=this.g.Z();if(!(3>bn)&&(bn!=3||this.g&&(this.h.h||this.g.oa()||$E(this.g)))){this.J||bn!=4||x==7||(x==8||0>=sl?$o(3):$o(2)),Bs(this);var _=this.g.Z();this.X=_;t:if(fr(this)){var R=$E(this.g);h="";var F=R.length,U=qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wo(this),Jc(this);var ue="";break t}this.h.i=new a.TextDecoder}for(x=0;x<F;x++)this.h.h=!0,h+=this.h.i.decode(R[x],{stream:!(U&&x==F-1)});R.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,Ry(this.i,this.u,this.A,this.l,this.R,bn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,dn=this.g;if((pt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(pt)){var nt=pt;break t}}nt=null}if(_=nt)zs(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jy(this,_);else{this.o=!1,this.s=3,rn(12),Wo(this),Jc(this);break e}}if(this.P){_=!0;let Br;for(;!this.J&&this.C<ue.length;)if(Br=dt(this,ue),Br==Ae){bn==4&&(this.s=4,rn(14),_=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Br==Q){this.s=4,rn(15),zs(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else zs(this.i,this.l,Br,null),jy(this,Br);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bn!=4||ue.length!=0||this.h.h||(this.s=1,rn(16),_=!1),this.o=this.o&&_,!_)zs(this.i,this.l,ue,"[Invalid Chunked Response]"),Wo(this),Jc(this);else if(0<ue.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Uy(xn),xn.M=!0,rn(11))}}else zs(this.i,this.l,ue,null),jy(this,ue);bn==4&&Wo(this),this.o&&!this.J&&(bn==4?KE(this.j,this):(this.o=!1,lt(this)))}else N5(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Wo(this),Jc(this)}}}catch{}finally{}};function fr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function dt(h,x){var _=h.C,R=x.indexOf(`
`,_);return R==-1?Ae:(_=Number(x.substring(_,R)),isNaN(_)?Q:(R+=1,R+_>x.length?Ae:(x=x.slice(R,R+_),h.C=R+_,x)))}zr.prototype.cancel=function(){this.J=!0,Wo(this)};function lt(h){h.S=Date.now()+h.I,Qn(h,h.I)}function Qn(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=zo(p(h.ba,h),x)}function Bs(h){h.B&&(a.clearTimeout(h.B),h.B=null)}zr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ky(this.i,this.A),this.L!=2&&($o(),rn(17)),Wo(this),this.s=2,Jc(this)):Qn(this,this.S-h)};function Jc(h){h.j.G==0||h.J||KE(h.j,h)}function Wo(h){Bs(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,tt(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function jy(h,x){try{var _=h.j;if(_.G!=0&&(_.g==h||My(_.h,h))){if(!h.K&&My(_.h,h)&&_.G==3){try{var R=_.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)sf(_),nf(_);else break e;Fy(_),rn(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=zo(p(_.Za,_),6e3));if(1>=SE(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ho(_,11)}else if((h.K||_.g==h)&&sf(_),!b(x))for(F=_.Da.g.parse(x),x=0;x<F.length;x++){let nt=F[x];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];const xn=nt[3];xn!=null&&(_.la=xn,_.j.info("VER="+_.la));const bn=nt[4];bn!=null&&(_.Aa=bn,_.j.info("SVER="+_.Aa));const sl=nt[5];sl!=null&&typeof sl=="number"&&0<sl&&(R=1.5*sl,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Br=h.g;if(Br){const af=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(af){var U=R.h;U.g||af.indexOf("spdy")==-1&&af.indexOf("quic")==-1&&af.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Oy(U,U.h),U.h=null))}if(R.D){const $y=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;$y&&(R.ya=$y,vt(R.I,R.D,$y))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ue=h;if(R.qa=XE(R,R.J?R.ia:null,R.W),ue.K){CE(R.h,ue);var pt=ue,dn=R.L;dn&&(pt.I=dn),pt.B&&(Bs(pt),lt(pt)),R.g=ue}else HE(R);0<_.i.length&&rf(_)}else nt[0]!="stop"&&nt[0]!="close"||Ho(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Ho(_,7):Vy(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}$o(4)}catch{}}var f5=class{constructor(h,x){this.g=h,this.map=x}};function EE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _E(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function SE(h){return h.h?1:h.g?h.g.size:0}function My(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Oy(h,x){h.g?h.g.add(x):h.h=x}function CE(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}EE.prototype.cancel=function(){if(this.i=AE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function AE(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const _ of h.g.values())x=x.concat(_.D);return x}return y(h.i)}function p5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var x=[],_=h.length,R=0;R<_;R++)x.push(h[R]);return x}x=[],_=0;for(R in h)x[_++]=h[R];return x}function m5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var x=[];h=h.length;for(var _=0;_<h;_++)x.push(_);return x}x=[],_=0;for(const R in h)x[_++]=R;return x}}}function IE(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var _=m5(h),R=p5(h),F=R.length,U=0;U<F;U++)x.call(void 0,R[U],_&&_[U],h)}var NE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g5(h,x){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var R=h[_].indexOf("="),F=null;if(0<=R){var U=h[_].substring(0,R);F=h[_].substring(R+1)}else U=h[_];x(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function qo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qo){this.h=h.h,Yh(this,h.j),this.o=h.o,this.g=h.g,Xh(this,h.s),this.l=h.l;var x=h.i,_=new tu;_.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),PE(this,_),this.m=h.m}else h&&(x=String(h).match(NE))?(this.h=!1,Yh(this,x[1]||"",!0),this.o=Zc(x[2]||""),this.g=Zc(x[3]||"",!0),Xh(this,x[4]),this.l=Zc(x[5]||"",!0),PE(this,x[6]||"",!0),this.m=Zc(x[7]||"")):(this.h=!1,this.i=new tu(null,this.h))}qo.prototype.toString=function(){var h=[],x=this.j;x&&h.push(eu(x,RE,!0),":");var _=this.g;return(_||x=="file")&&(h.push("//"),(x=this.o)&&h.push(eu(x,RE,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(eu(_,_.charAt(0)=="/"?w5:v5,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",eu(_,b5)),h.join("")};function Ws(h){return new qo(h)}function Yh(h,x,_){h.j=_?Zc(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Xh(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function PE(h,x,_){x instanceof tu?(h.i=x,T5(h.i,h.h)):(_||(x=eu(x,x5)),h.i=new tu(x,h.h))}function vt(h,x,_){h.i.set(x,_)}function Jh(h){return vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zc(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function eu(h,x,_){return typeof h=="string"?(h=encodeURI(h).replace(x,y5),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function y5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var RE=/[#\/\?@]/g,v5=/[#\?:]/g,w5=/[#\?]/g,x5=/[#\?@]/g,b5=/#/g;function tu(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Ai(h){h.g||(h.g=new Map,h.h=0,h.i&&g5(h.i,function(x,_){h.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}t=tu.prototype,t.add=function(h,x){Ai(this),this.i=null,h=nl(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(x),this.h+=1,this};function kE(h,x){Ai(h),x=nl(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function DE(h,x){return Ai(h),x=nl(h,x),h.g.has(x)}t.forEach=function(h,x){Ai(this),this.g.forEach(function(_,R){_.forEach(function(F){h.call(x,F,R,this)},this)},this)},t.na=function(){Ai(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),_=[];for(let R=0;R<x.length;R++){const F=h[R];for(let U=0;U<F.length;U++)_.push(x[R])}return _},t.V=function(h){Ai(this);let x=[];if(typeof h=="string")DE(this,h)&&(x=x.concat(this.g.get(nl(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)x=x.concat(h[_])}return x},t.set=function(h,x){return Ai(this),this.i=null,h=nl(this,h),DE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},t.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function jE(h,x,_){kE(h,x),0<_.length&&(h.i=null,h.g.set(nl(h,x),y(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var _=0;_<x.length;_++){var R=x[_];const U=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var F=U;ue[R]!==""&&(F+="="+encodeURIComponent(String(ue[R]))),h.push(F)}}return this.i=h.join("&")};function nl(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function T5(h,x){x&&!h.j&&(Ai(h),h.i=null,h.g.forEach(function(_,R){var F=R.toLowerCase();R!=F&&(kE(this,R),jE(this,F,_))},h)),h.j=x}function E5(h,x){const _=new Bo;if(a.Image){const R=new Image;R.onload=g(Ii,_,"TestLoadImage: loaded",!0,x,R),R.onerror=g(Ii,_,"TestLoadImage: error",!1,x,R),R.onabort=g(Ii,_,"TestLoadImage: abort",!1,x,R),R.ontimeout=g(Ii,_,"TestLoadImage: timeout",!1,x,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else x(!1)}function _5(h,x){const _=new Bo,R=new AbortController,F=setTimeout(()=>{R.abort(),Ii(_,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout(F),U.ok?Ii(_,"TestPingServer: ok",!0,x):Ii(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(F),Ii(_,"TestPingServer: error",!1,x)})}function Ii(h,x,_,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(_)}catch{}}function S5(){this.g=new Ja}function C5(h,x,_){const R=_||"";try{IE(h,function(F,U){let ue=F;c(F)&&(ue=Dt(F)),x.push(R+U+"="+encodeURIComponent(ue))})}catch(F){throw x.push(R+"type="+encodeURIComponent("_badmap")),F}}function Zh(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Zh,Pe),Zh.prototype.g=function(){return new ef(this.l,this.j)},Zh.prototype.i=function(h){return function(){return h}}({});function ef(h,x){ft.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ef,ft),t=ef.prototype,t.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,ru(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||a).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ME(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ME(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?nu(this):ru(this),this.readyState==3&&ME(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,nu(this))},t.Qa=function(h){this.g&&(this.response=h,nu(this))},t.ga=function(){this.g&&nu(this)};function nu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ru(h)}t.setRequestHeader=function(h,x){this.u.append(h,x)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=x.next();return h.join(`\r
`)};function ru(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function OE(h){let x="";return j(h,function(_,R){x+=R,x+=":",x+=_,x+=`\r
`}),x}function Ly(h,x,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=OE(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):vt(h,x,_))}function jt(h){ft.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(jt,ft);var A5=/^https?$/i,I5=["POST","PUT"];t=jt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,x,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xc.g(),this.v=this.o?rt(this.o):rt(Xc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(U){LE(this,U);return}if(h=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)_.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())_.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(I5,x,void 0))||R||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ue]of _)this.g.setRequestHeader(U,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UE(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){LE(this,U)}};function LE(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,VE(h),tf(h)}function VE(h){h.A||(h.A=!0,z(h,"complete"),z(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,z(this,"complete"),z(this,"abort"),tf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tf(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?FE(this):this.bb())},t.bb=function(){FE(this)};function FE(h){if(h.h&&typeof o<"u"&&(!h.v[1]||qs(h)!=4||h.Z()!=2)){if(h.u&&qs(h)==4)ye(h.Ea,0,h);else if(z(h,"readystatechange"),qs(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var R;if(R=ue===0){var F=String(h.D).match(NE)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!A5.test(F?F.toLowerCase():"")}_=R}if(_)z(h,"complete"),z(h,"success");else{h.m=6;try{var U=2<qs(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",VE(h)}}finally{tf(h)}}}}function tf(h,x){if(h.g){UE(h);const _=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||z(h,"ready");try{_.onreadystatechange=R}catch{}}}function UE(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function qs(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Ln(x)}};function $E(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function N5(h){const x={};h=(h.g&&2<=qs(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(b(h[R]))continue;var _=D(h[R]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=x[F]||[];x[F]=U,U.push(_)}C(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(h,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||x}function zE(h){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,h),this.cb=su("retryDelaySeedMs",1e4,h),this.Wa=su("forwardChannelMaxRetries",2,h),this.wa=su("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new EE(h&&h.concurrentRequestLimit),this.Da=new S5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zE.prototype,t.la=8,t.G=1,t.connect=function(h,x,_,R){rn(0),this.W=h,this.H=x||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=XE(this,null,this.W),rf(this)};function Vy(h){if(BE(h),h.G==3){var x=h.U++,_=Ws(h.I);if(vt(_,"SID",h.K),vt(_,"RID",x),vt(_,"TYPE","terminate"),iu(h,_),x=new zr(h,h.j,x),x.L=2,x.v=Jh(Ws(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(x.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=x.v,_=!0),_||(x.g=JE(x.j,null),x.g.ea(x.v)),x.F=Date.now(),lt(x)}YE(h)}function nf(h){h.g&&(Uy(h),h.g.cancel(),h.g=null)}function BE(h){nf(h),h.u&&(a.clearTimeout(h.u),h.u=null),sf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function rf(h){if(!_E(h.h)&&!h.s){h.s=!0;var x=h.Ga;Z||J(),O||(Z(),O=!0),L.add(x,h),h.B=0}}function P5(h,x){return SE(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=zo(p(h.Ga,h,x),QE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new zr(this,this.j,h);let U=this.o;if(this.S&&(U?(U=S(U),N(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=qE(this,F,x),_=Ws(this.I),vt(_,"RID",h),vt(_,"CVER",22),this.D&&vt(_,"X-HTTP-Session-Id",this.D),iu(this,_),U&&(this.O?x="headers="+encodeURIComponent(String(OE(U)))+"&"+x:this.m&&Ly(_,this.m,U)),Oy(this.h,F),this.Ua&&vt(_,"TYPE","init"),this.P?(vt(_,"$req",x),vt(_,"SID","null"),F.T=!0,Re(F,_,null)):Re(F,_,x),this.G=2}}else this.G==3&&(h?WE(this,h):this.i.length==0||_E(this.h)||WE(this))};function WE(h,x){var _;x?_=x.l:_=h.U++;const R=Ws(h.I);vt(R,"SID",h.K),vt(R,"RID",_),vt(R,"AID",h.T),iu(h,R),h.m&&h.o&&Ly(R,h.m,h.o),_=new zr(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),x&&(h.i=x.D.concat(h.i)),x=qE(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oy(h.h,_),Re(_,R,x)}function iu(h,x){h.H&&j(h.H,function(_,R){vt(x,R,_)}),h.l&&IE({},function(_,R){vt(x,R,_)})}function qE(h,x,_){_=Math.min(h.i.length,_);var R=h.l?p(h.l.Na,h.l,h):null;e:{var F=h.i;let U=-1;for(;;){const ue=["count="+_];U==-1?0<_?(U=F[0].g,ue.push("ofs="+U)):U=0:ue.push("ofs="+U);let pt=!0;for(let dn=0;dn<_;dn++){let nt=F[dn].g;const xn=F[dn].map;if(nt-=U,0>nt)U=Math.max(0,F[dn].g-100),pt=!1;else try{C5(xn,ue,"req"+nt+"_")}catch{R&&R(xn)}}if(pt){R=ue.join("&");break e}}}return h=h.i.splice(0,_),x.D=h,R}function HE(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;Z||J(),O||(Z(),O=!0),L.add(x,h),h.v=0}}function Fy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=zo(p(h.Fa,h),QE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,GE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=zo(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),nf(this),GE(this))};function Uy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function GE(h){h.g=new zr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=Ws(h.qa);vt(x,"RID","rpc"),vt(x,"SID",h.K),vt(x,"AID",h.T),vt(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&vt(x,"TO",h.ja),vt(x,"TYPE","xmlhttp"),iu(h,x),h.m&&h.o&&Ly(x,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Jh(Ws(x)),_.m=null,_.P=!0,Yt(_,h)}t.Za=function(){this.C!=null&&(this.C=null,nf(this),Fy(this),rn(19))};function sf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function KE(h,x){var _=null;if(h.g==x){sf(h),Uy(h),h.g=null;var R=2}else if(My(h.h,x))_=x.D,CE(h.h,x),R=1;else return;if(h.G!=0){if(x.o)if(R==1){_=x.m?x.m.length:0,x=Date.now()-x.F;var F=h.B;R=Za(),z(R,new Yc(R,_)),rf(h)}else HE(h);else if(F=x.s,F==3||F==0&&0<x.X||!(R==1&&P5(h,x)||R==2&&Fy(h)))switch(_&&0<_.length&&(x=h.h,x.i=x.i.concat(_)),F){case 1:Ho(h,5);break;case 4:Ho(h,10);break;case 3:Ho(h,6);break;default:Ho(h,2)}}}function QE(h,x){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*x}function Ho(h,x){if(h.j.info("Error code "+x),x==2){var _=p(h.fb,h),R=h.Xa;const F=!R;R=new qo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yh(R,"https"),Jh(R),F?E5(R.toString(),_):_5(R.toString(),_)}else rn(2);h.G=0,h.l&&h.l.sa(x),YE(h),BE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function YE(h){if(h.G=0,h.ka=[],h.l){const x=AE(h.h);(x.length!=0||h.i.length!=0)&&(T(h.ka,x),T(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function XE(h,x,_){var R=_ instanceof qo?Ws(_):new qo(_);if(R.g!="")x&&(R.g=x+"."+R.g),Xh(R,R.s);else{var F=a.location;R=F.protocol,x=x?x+"."+F.hostname:F.hostname,F=+F.port;var U=new qo(null);R&&Yh(U,R),x&&(U.g=x),F&&Xh(U,F),_&&(U.l=_),R=U}return _=h.D,x=h.ya,_&&x&&vt(R,_,x),vt(R,"VER",h.la),iu(h,R),R}function JE(h,x,_){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new jt(new Zh({eb:_})):new jt(h.pa),x.Ha(h.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZE(){}t=ZE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function of(){}of.prototype.g=function(h,x){return new pr(h,x)};function pr(h,x){ft.call(this),this.g=new zE(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!b(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!b(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new rl(this)}v(pr,ft),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Vy(this.g)},pr.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Dt(h),h=_);x.i.push(new f5(x.Ya++,h)),x.G==3&&rf(x)},pr.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,pr.aa.N.call(this)};function e_(h){nn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const _ in x){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(e_,nn);function t_(){dr.call(this),this.status=1}v(t_,dr);function rl(h){this.g=h}v(rl,ZE),rl.prototype.ua=function(){z(this.g,"a")},rl.prototype.ta=function(h){z(this.g,new e_(h))},rl.prototype.sa=function(h){z(this.g,new t_)},rl.prototype.ra=function(){z(this.g,"b")},of.prototype.createWebChannel=of.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Kj=function(){return new of},Gj=function(){return Za()},Hj=hr,Hw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},el.NO_ERROR=0,el.TIMEOUT=8,el.HTTP_ERROR=6,gp=el,Qh.COMPLETE="complete",qj=Qh,Xe.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Pu=Xe,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Wj=jt}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const DA="@firebase/firestore",jA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Vg("@firebase/firestore");function ul(){return Ia.logLevel}function xe(t,...e){if(Ia.logLevel<=Ke.DEBUG){const n=e.map(qb);Ia.debug(`Firestore (${zc}): ${t}`,...n)}}function mi(t,...e){if(Ia.logLevel<=Ke.ERROR){const n=e.map(qb);Ia.error(`Firestore (${zc}): ${t}`,...n)}}function gc(t,...e){if(Ia.logLevel<=Ke.WARN){const n=e.map(qb);Ia.warn(`Firestore (${zc}): ${t}`,...n)}}function qb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Qj(t,r,n)}function Qj(t,e,n){let r=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function ot(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Qj(e,s,r)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class DQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jQ{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ii,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new Yj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class MQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new MQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=i=>{i.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new MA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=VQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Gw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return qe(r,s);{const i=Xj(),o=FQ(i.encode(OA(t,n)),i.encode(OA(e,n)));return o!==0?o:qe(r,s)}}n+=r>65535?2:1}return qe(t.length,e.length)}function OA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function FQ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return qe(t[n],e[n]);return qe(t.length,e.length)}function yc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=-62135596800,VA=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VA);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<LA)throw new ve(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VA}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-LA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new _t(0,0))}static max(){return new Le(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ws.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return qe(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),s=ws.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ws.extractNumericId(e).compare(ws.extractNumericId(n)):Gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class bt extends ws{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const UQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends ws{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return UQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FA}static keyField(){return new pn([FA])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ve(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ve(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(bt.fromString(e))}static fromName(e){return new Ie(bt.fromString(e).popFirst(5))}static empty(){return new Ie(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=-1;function $Q(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Eo(s,Ie.empty(),e)}function zQ(t){return new Eo(t.readTime,t.key,Qd)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(Le.min(),Ie.empty(),Qd)}static max(){return new Eo(Le.max(),Ie.empty(),Qd)}}function BQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==WQ)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=-1;function Ug(t){return t==null}function Em(t){return t===0&&1/t==-1/0}function GQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="";function KQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UA(e)),e=QQ(t.get(n),e);return UA(e)}function QQ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Zj:n+="";break;default:n+=i}}return n}function UA(t){return t+Zj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zA(this.data.getIterator())}getIteratorFrom(e){return new zA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class zA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new xr([])}unionWith(e){let n=new tn(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tM("Invalid base64 string: "+i):i}}(e);return new vn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const YQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=YQ.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="server_timestamp",rM="__type__",sM="__previous_value__",iM="__local_write_time__";function Gb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rM])===null||n===void 0?void 0:n.stringValue)===nM}function $g(t){const e=t.mapValue.fields[sM];return Gb(e)?$g(e):e}function Yd(t){const e=_o(t.mapValue.fields[iM].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const _m="(default)";class Xd{constructor(e,n){this.projectId=e,this.database=n||_m}static empty(){return new Xd("","")}get isDefaultDatabase(){return this.database===_m}isEqual(e){return e instanceof Xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="__type__",aM="__max__",Vf={mapValue:{fields:{__type__:{stringValue:aM}}}},lM="__vector__",Sm="value";function Co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gb(t)?4:ZQ(t)?9007199254740991:JQ(t)?10:11:je(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=Co(t);if(n!==Co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yd(t).isEqual(Yd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=_o(s.timestampValue),a=_o(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return So(s.bytesValue).isEqual(So(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ut(s.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ut(s.integerValue)===Ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ut(s.doubleValue),a=Ut(i.doubleValue);return o===a?Em(o)===Em(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yc(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if($A(o)!==$A(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Us(o[l],a[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Jd(t,e){return(t.values||[]).find(n=>Us(n,e))!==void 0}function vc(t,e){if(t===e)return 0;const n=Co(t),r=Co(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ut(i.integerValue||i.doubleValue),l=Ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return BA(t.timestampValue,e.timestampValue);case 4:return BA(Yd(t),Yd(e));case 5:return Gw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=So(i),l=So(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=qe(a[c],l[c]);if(d!==0)return d}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=qe(Ut(i.latitude),Ut(o.latitude));return a!==0?a:qe(Ut(i.longitude),Ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return WA(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Sm])===null||a===void 0?void 0:a.arrayValue,v=(l=p[Sm])===null||l===void 0?void 0:l.arrayValue,y=qe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:WA(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vf.mapValue&&o===Vf.mapValue)return 0;if(i===Vf.mapValue)return 1;if(o===Vf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Gw(l[f],d[f]);if(p!==0)return p;const g=vc(a[l[f]],c[d[f]]);if(g!==0)return g}return qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw je(23264,{Pe:n})}}function BA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=_o(t),r=_o(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function WA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vc(n[s],r[s]);if(i)return i}return qe(n.length,r.length)}function wc(t){return Kw(t)}function Kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return So(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Kw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Kw(n.fields[o])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function yp(t){switch(Co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$g(t);return e?16+yp(e):16;case 5:return 2*t.stringValue.length;case 6:return So(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+yp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Mo(r.fields,(i,o)=>{s+=i.length+yp(o)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function qA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qw(t){return!!t&&"integerValue"in t}function Kb(t){return!!t&&"arrayValue"in t}function HA(t){return!!t&&"nullValue"in t}function GA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function JQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oM])===null||n===void 0?void 0:n.stringValue)===lM}function ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ld(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(n)}setAll(e){let n=pn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ld(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];vp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new tr(ld(this.value))}}function cM(t){const e=[];return Mo(t.fields,(n,r)=>{const s=new pn([n]);if(vp(r)){const i=cM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pn(e,0,Le.min(),Le.min(),Le.min(),tr.empty(),0)}static newFoundDocument(e,n,r,s){return new Pn(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new Pn(e,2,n,Le.min(),Le.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Pn(e,3,n,Le.min(),Le.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.position=e,this.inclusive=n}}function KA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ie.comparator(Ie.fromName(o.referenceValue),n.key):r=vc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function QA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class Kt extends uM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nY(e,n,r):n==="array-contains"?new iY(e,r):n==="in"?new oY(e,r):n==="not-in"?new aY(e,r):n==="array-contains-any"?new lY(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rY(e,r):new sY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vc(n,this.value)):n!==null&&Co(this.value)===Co(n)&&this.matchesComparison(vc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends uM{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new hs(e,n)}matches(e){return dM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function dM(t){return t.op==="and"}function hM(t){return tY(t)&&dM(t)}function tY(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function Yw(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+wc(t.value);if(hM(t))return t.filters.map(e=>Yw(e)).join(",");{const e=t.filters.map(n=>Yw(n)).join(",");return`${t.op}(${e})`}}function fM(t,e){return t instanceof Kt?function(r,s){return s instanceof Kt&&r.op===s.op&&r.field.isEqual(s.field)&&Us(r.value,s.value)}(t,e):t instanceof hs?function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&fM(o,s.filters[a]),!0):!1}(t,e):void je(19439)}function pM(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${wc(n.value)}`}(t):t instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(pM).join(" ,")+"}"}(t):"Filter"}class nY extends Kt{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class rY extends Kt{constructor(e,n){super(e,"in",n),this.keys=mM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sY extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=mM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class iY extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kb(n)&&Jd(n.arrayValue,this.value)}}class oY extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jd(this.value.arrayValue,n)}}class aY extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jd(this.value.arrayValue,n)}}class lY extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function YA(t,e=null,n=[],r=[],s=null,i=null,o=null){return new cY(t,e,n,r,s,i,o)}function Qb(t){const e=Fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ug(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wc(r)).join(",")),e.Ie=n}return e.Ie}function Yb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QA(t.startAt,e.startAt)&&QA(t.endAt,e.endAt)}function Xw(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uY(t,e,n,r,s,i,o,a){return new qc(t,e,n,r,s,i,o,a)}function zg(t){return new qc(t)}function XA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gM(t){return t.collectionGroup!==null}function cd(t){const e=Fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(pn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Zd(i,r))}),n.has(pn.keyField().canonicalString())||e.Ee.push(new Zd(pn.keyField(),r))}return e.Ee}function Ds(t){const e=Fe(t);return e.de||(e.de=dY(e,cd(t))),e.de}function dY(t,e){if(t.limitType==="F")return YA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zd(s.field,i)});const n=t.endAt?new Cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cm(t.startAt.position,t.startAt.inclusive):null;return YA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jw(t,e){const n=t.filters.concat([e]);return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Am(t,e,n){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bg(t,e){return Yb(Ds(t),Ds(e))&&t.limitType===e.limitType}function yM(t){return`${Qb(Ds(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pM(s)).join(", ")}]`),Ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wc(s)).join(",")),`Target(${r})`}(Ds(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=KA(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,cd(r),s)||r.endAt&&!function(o,a,l){const c=KA(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,cd(r),s))}(t,e)}function hY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vM(t){return(e,n)=>{let r=!1;for(const s of cd(t)){const i=fY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function fY(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?vc(l,c):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY=new Rt(Ie.comparator);function gi(){return pY}const wM=new Rt(Ie.comparator);function Ru(...t){let e=wM;for(const n of t)e=e.insert(n.key,n);return e}function xM(t){let e=wM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return ud()}function bM(){return ud()}function ud(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const mY=new Rt(Ie.comparator),gY=new tn(Ie.comparator);function Qe(...t){let e=gY;for(const n of t)e=e.add(n);return e}const yY=new tn(qe);function vY(){return yY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(e)?"-0":e}}function TM(t){return{integerValue:""+t}}function EM(t,e){return GQ(e)?TM(e):Xb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this._=void 0}}function wY(t,e,n){return t instanceof eh?function(s,i){const o={fields:{[rM]:{stringValue:nM},[iM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Gb(i)&&(i=$g(i)),i&&(o.fields[sM]=i),{mapValue:o}}(n,e):t instanceof xc?SM(t,e):t instanceof bc?CM(t,e):function(s,i){const o=_M(s,i),a=JA(o)+JA(s.Re);return Qw(o)&&Qw(s.Re)?TM(a):Xb(s.serializer,a)}(t,e)}function xY(t,e,n){return t instanceof xc?SM(t,e):t instanceof bc?CM(t,e):n}function _M(t,e){return t instanceof th?function(r){return Qw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eh extends qg{}class xc extends qg{constructor(e){super(),this.elements=e}}function SM(t,e){const n=AM(e);for(const r of t.elements)n.some(s=>Us(s,r))||n.push(r);return{arrayValue:{values:n}}}class bc extends qg{constructor(e){super(),this.elements=e}}function CM(t,e){let n=AM(e);for(const r of t.elements)n=n.filter(s=>!Us(s,r));return{arrayValue:{values:n}}}class th extends qg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function JA(t){return Ut(t.integerValue||t.doubleValue)}function AM(t){return Kb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.field=e,this.transform=n}}function bY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xc&&s instanceof xc||r instanceof bc&&s instanceof bc?yc(r.elements,s.elements,Us):r instanceof th&&s instanceof th?Us(r.Re,s.Re):r instanceof eh&&s instanceof eh}(t.transform,e.transform)}class TY{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function IM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jb(t.key,Or.none()):new Ih(t.key,t.data,Or.none());{const n=t.data,r=tr.empty();let s=new tn(pn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oo(t.key,r,new xr(s.toArray()),Or.none())}}function EY(t,e,n){t instanceof Ih?function(s,i,o){const a=s.value.clone(),l=eI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(s,i,o){if(!wp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(NM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dd(t,e,n,r){return t instanceof Ih?function(i,o,a,l){if(!wp(i.precondition,o))return a;const c=i.value.clone(),d=tI(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(i,o,a,l){if(!wp(i.precondition,o))return a;const c=tI(i.fieldTransforms,l,o),d=o.data;return d.setAll(NM(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return wp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function _Y(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=_M(r.transform,s||null);i!=null&&(n===null&&(n=tr.empty()),n.set(r.field,i))}return n||null}function ZA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yc(r,s,(i,o)=>bY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ih extends Gg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends Gg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eI(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,xY(o,a,n[s]))}return r}function tI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,wY(i,o,e))}return r}class Jb extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SY extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&EY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=IM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(n,r)=>ZA(n,r))&&yc(this.baseMutations,e.baseMutations,(n,r)=>ZA(n,r))}}class Zb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ot(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return mY}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function NY(t){switch(t){case q.OK:return je(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function PM(t){if(t===void 0)return mi("GRPC error has no .code"),q.UNKNOWN;switch(t){case qt.OK:return q.OK;case qt.CANCELLED:return q.CANCELLED;case qt.UNKNOWN:return q.UNKNOWN;case qt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case qt.INTERNAL:return q.INTERNAL;case qt.UNAVAILABLE:return q.UNAVAILABLE;case qt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case qt.NOT_FOUND:return q.NOT_FOUND;case qt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case qt.ABORTED:return q.ABORTED;case qt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case qt.DATA_LOSS:return q.DATA_LOSS;default:return je(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=new fo([4294967295,4294967295],0);function nI(t){const e=Xj().encode(t),n=new Bj;return n.update(e),new Uint8Array(n.digest())}function rI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,i],0)]}class eT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(PY)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=nI(e),[r,s]=rI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new eT(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=nI(e),[r,s]=rI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kg(Le.min(),s,new Rt(qe),gi(),Qe())}}class Nh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nh(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class RM{constructor(e,n){this.targetId=e,this.Ce=n}}class kM{constructor(e,n,r=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sI{constructor(){this.Fe=0,this.Me=iI(),this.xe=vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),n=Qe(),r=Qe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new Nh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=iI()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ot(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RY{constructor(e){this.ze=e,this.je=new Map,this.He=gi(),this.Je=Ff(),this.Ye=Ff(),this.Ze=new Rt(qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Xw(i))if(r===0){const o=new Ie(i.path);this.tt(n,o,Pn.newNoDocument(o,Le.min()))}else ot(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=So(r).toUint8Array()}catch(l){if(l instanceof tM)return gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new eT(o,s,i)}catch(l){return gc(l instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Xw(a.target)){const l=new Ie(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Pn.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Qe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Kg(e,n,this.Ze,this.He,r);return this.He=gi(),this.Je=Ff(),this.Ye=Ff(),this.Ze=new Rt(qe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new sI,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new tn(qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new tn(qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new sI),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new Rt(Ie.comparator)}function iI(){return new Rt(Ie.comparator)}const kY={asc:"ASCENDING",desc:"DESCENDING"},DY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jY={and:"AND",or:"OR"};class MY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zw(t,e){return t.useProto3Json||Ug(e)?e:{value:e}}function Im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OY(t,e){return Im(t,e.toTimestamp())}function js(t){return ot(!!t,49232),Le.fromTimestamp(function(n){const r=_o(n);return new _t(r.seconds,r.nanos)}(t))}function tT(t,e){return ex(t,e).canonicalString()}function ex(t,e){const n=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jM(t){const e=bt.fromString(t);return ot(FM(e),10190,{key:e.toString()}),e}function tx(t,e){return tT(t.databaseId,e.path)}function Wv(t,e){const n=jM(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(OM(n))}function MM(t,e){return tT(t.databaseId,e)}function LY(t){const e=jM(t);return e.length===4?bt.emptyPath():OM(e)}function nx(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OM(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oI(t,e,n){return{name:tx(t,e),fields:n.value.mapValue.fields}}function VY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(ot(d===void 0||typeof d=="string",58123),vn.fromBase64String(d||"")):(ot(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:PM(c.code);return new ve(d,c.message||"")}(o);n=new kM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wv(t,r.document.name),i=js(r.document.updateTime),o=r.document.createTime?js(r.document.createTime):Le.min(),a=new tr({mapValue:{fields:r.document.fields}}),l=Pn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new xp(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wv(t,r.document),i=r.readTime?js(r.readTime):Le.min(),o=Pn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new xp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wv(t,r.document),i=r.removedTargetIds||[];n=new xp([],i,s,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new IY(s,i),a=r.targetId;n=new RM(a,o)}}return n}function FY(t,e){let n;if(e instanceof Ih)n={update:oI(t,e.key,e.value)};else if(e instanceof Jb)n={delete:tx(t,e.key)};else if(e instanceof Oo)n={update:oI(t,e.key,e.data),updateMask:KY(e.fieldMask)};else{if(!(e instanceof SY))return je(16599,{ft:e.type});n={verify:tx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof th)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:OY(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:je(27497)}(t,e.precondition)),n}function UY(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?js(s.updateTime):js(i);return o.isEqual(Le.min())&&(o=js(i)),new TY(o,s.transformResults||[])}(n,e))):[]}function $Y(t,e){return{documents:[MM(t,e.path)]}}function zY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MM(t,s);const i=function(c){if(c.length!==0)return VM(hs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:hl(p.field),direction:qY(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function BY(t){let e=LY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ot(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=LM(f);return p instanceof hs&&hM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Zd(fl(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ug(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Cm(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Cm(g,p)}(n.endAt)),uY(e,s,o,i,a,"F",l,c)}function WY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fl(n.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fl(n.unaryFilter.field);return Kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fl(n.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(r=>LM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function qY(t){return kY[t]}function HY(t){return DY[t]}function GY(t){return jY[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return pn.fromServerFormat(t.fieldPath)}function VM(t){return t instanceof Kt?function(n){if(n.op==="=="){if(GA(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(HA(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GA(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(HA(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:HY(n.op),value:n.value}}}(t):t instanceof hs?function(n){const r=n.getFilters().map(s=>VM(s));return r.length===1?r[0]:{compositeFilter:{op:GY(n.op),filters:r}}}(t):je(54877,{filter:t})}function KY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,i=Le.min(),o=Le.min(),a=vn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e){this.wt=e}}function YY(t){const e=BY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.Cn=new JY}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Eo.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class JY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(bt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UM=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(UM,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Tc(0)}static lr(){return new Tc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="LruGarbageCollector",ZY=1048576;function cI([t,e],[n,r]){const s=qe(t,n);return s===0?qe(e,r):s}class eX{constructor(e){this.Er=e,this.buffer=new tn(cI),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(lI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wc(n)?xe(lI,"Ignoring IndexedDB error during garbage collection: ",n):await Bc(n)}await this.mr(3e5)})}}class nX{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Fg.le);const r=new eX(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(aI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aI):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ul()<=Ke.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function rX(t,e){return new nX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dd(r.mutation,s,xr.empty(),_t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ru();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gi();const o=ud(),a=function(){return ud()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Oo)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),dd(d.mutation,c,d.mutation.getFieldMask(),_t.now())):o.set(c.key,xr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new iX(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ud();let s=new Rt((o,a)=>o-a),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||xr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Qe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=bM();d.forEach(p=>{if(!i.has(p)){const g=IM(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(aa());let a=Qd,l=i;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Qe())).next(d=>({batchId:a,changes:xM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let s=Ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ru();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(f,p){return new qc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Pn.newInvalidDocument(d)))});let a=Ru();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&dd(d.mutation,c,xr.empty(),_t.now()),Wg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return H.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:js(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:YY(s.bundledQuery),readTime:js(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.overlays=new Rt(Ie.comparator),this.Qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=aa(),i=n.length+1,o=new Ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Rt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=aa(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=aa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AY(n,r));let i=this.Qr.get(n);i===void 0&&(i=Qe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.$r=new tn(on.Ur),this.Kr=new tn(on.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new on(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new on(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ie(new bt([])),r=new on(n,e),s=new on(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ie(new bt([])),r=new on(n,e),s=new on(n,e+1);let i=Qe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new on(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ie.comparator(e.key,n.key)||qe(e.Zr,n.Zr)}static Wr(e,n){return qe(e.Zr,n.Zr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new tn(on.Ur)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CY(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new on(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Hb:this.nr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(qe);return n.forEach(s=>{const i=new on(s,0),o=new on(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),H.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ie.isDocumentKey(i)||(i=i.child(""));const o=new on(new Ie(i),0);let a=new tn(qe);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),H.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ot(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return H.forEach(n.mutations,s=>{const i=new on(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new on(n,0),s=this.Xr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.ii=e,this.docs=function(){return new Rt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Pn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gi();const o=n.path,a=new Ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||BQ(zQ(d),r)<=0||(s.has(d.key)||Wg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}si(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hX(this)}getSize(e){return H.resolve(this.size)}}class hX extends sX{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e){this.persistence=e,this.oi=new qa(n=>Qb(n),Yb),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new nT,this.targetCount=0,this.ui=Tc.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),H.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Tc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Tr(n),H.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.ci={},this.overlays={},this.li=new Fg(0),this.hi=!1,this.hi=!0,this.Pi=new cX,this.referenceDelegate=e(this),this.Ti=new fX(this),this.indexManager=new XY,this.remoteDocumentCache=function(s){return new dX(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new QY(n),this.Ei=new aX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new uX(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const s=new pX(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return H.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class pX extends qQ{constructor(e){super(),this.currentSequenceNumber=e}}class rT{constructor(e){this.persistence=e,this.Vi=new nT,this.mi=null}static fi(e){return new rT(e)}get gi(){if(this.mi)return this.mi;throw je(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.gi,r=>{const s=Ie.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return H.or([()=>H.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Nm{constructor(e,n){this.persistence=e,this.yi=new qa(r=>KQ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=rX(this,n)}static fi(e,n){return new Nm(e,n)}di(){}Ai(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return H.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yp(e.data.value)),n}Dr(e,n,r){return H.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new sT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dK()?8:HQ(On())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new mX;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ul()<=Ke.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),H.resolve()):(ul()<=Ke.DEBUG&&xe("QueryEngine","Query:",dl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ul()<=Ke.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):H.resolve())}ws(e,n){if(XA(n))return H.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Am(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Qe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Am(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return XA(n)||s.isEqual(Le.min())?H.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(ul()<=Ke.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dl(n)),this.Fs(e,o,n,$Q(s,Qd)).next(a=>a))})}vs(e,n){let r=new tn(vM(e));return n.forEach((s,i)=>{Wg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return ul()<=Ke.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ys.getDocumentsMatchingQuery(e,n,Eo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="LocalStore",yX=3e8;class vX{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Rt(qe),this.Os=new qa(i=>Qb(i),Yb),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oX(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function wX(t,e,n,r){return new vX(t,e,n,r)}async function zM(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Qe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function xX(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=H.resolve();return p.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(y=>{const T=c.docVersions.get(v);ot(T!==null,48541),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BM(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function bX(t,e){const n=Fe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(vn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,T,w){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=yX?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Ti.updateTargetData(i,g))});let l=gi(),c=Qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(TX(i,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(Le.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function TX(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):xe(iT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function EX(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _X(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function rx(t,e,n){const r=Fe(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wc(o))throw o;xe(iT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function uI(t,e,n){const r=Fe(t);let s=Le.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Fe(l),p=f.Os.get(d);return p!==void 0?H.resolve(f.xs.get(p)):f.Ti.getTargetData(c,d)}(r,o,Ds(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Le.min(),n?i:Qe())).next(a=>(SX(r,hY(e),a),{documents:a,$s:i})))}function SX(t,e,n){let r=t.Ns.get(e)||Le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class dI{constructor(){this.activeTargetIds=vY()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CX{constructor(){this.xo=new dI,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new dI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="ConnectivityMonitor";class fI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe(hI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe(hI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf=null;function sx(){return Uf===null?Uf=function(){return 268435456+Math.round(2147483648*Math.random())}():Uf++,"0x"+Uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="RestConnection",IX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===_m?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=sx(),a=this.jo(e,n.toUriEncodedString());xe(qv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),d=Uc(c);return this.Jo(e,a,l,r,d).then(f=>(xe(qv,`Received RPC '${e}' ${o}: `,f),f),f=>{throw gc(qv,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=IX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class RX extends NX{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=sx();return new Promise((a,l)=>{const c=new Wj;c.setWithCredentials(!0),c.listenOnce(qj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gp.NO_ERROR:const f=c.getResponseJson();xe(Sn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case gp.TIMEOUT:xe(Sn,`RPC '${e}' ${o} timed out`),l(new ve(q.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const p=c.getStatus();if(xe(Sn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(v.status);l(new ve(y,v.message))}else l(new ve(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ve(q.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{xe(Sn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);xe(Sn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=sx(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kj(),a=Gj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");xe(Sn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const v=new PX({Zo:T=>{g?xe(Sn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(xe(Sn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),xe(Sn,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Xo:()=>f.close()}),y=(T,w,b)=>{T.listen(w,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,Pu.EventType.OPEN,()=>{g||(xe(Sn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(f,Pu.EventType.CLOSE,()=>{g||(g=!0,xe(Sn,`RPC '${e}' stream ${s} transport closed`),v.u_())}),y(f,Pu.EventType.ERROR,T=>{g||(g=!0,gc(Sn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),v.u_(new ve(q.UNAVAILABLE,"The operation could not be completed")))}),y(f,Pu.EventType.MESSAGE,T=>{var w;if(!g){const b=T.data[0];ot(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(I){xe(Sn,`RPC '${e}' stream ${s} received error:`,I);const P=I.status;let j=function(A){const N=qt[A];if(N!==void 0)return PM(N)}(P),C=I.message;j===void 0&&(j=q.INTERNAL,C="Unknown error status: "+P+" with message "+I.message),g=!0,v.u_(new ve(j,C)),f.close()}else xe(Sn,`RPC '${e}' stream ${s} received:`,b),v.c_(b)}}),y(a,Hj.STAT_EVENT,T=>{T.stat===Hw.PROXY?xe(Sn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Hw.NOPROXY&&xe(Sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new MY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="PersistentStream";class qM{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new WM(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ve(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return xe(pI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(xe(pI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kX extends qM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=VY(this.serializer,e),r=function(i){if(!("targetChange"in i))return Le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Le.min():o.readTime?js(o.readTime):Le.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=nx(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Xw(l)?{documents:$Y(i,l)}:{query:zY(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DM(i,o.resumeToken);const c=Zw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Le.min())>0){a.readTime=Im(i,o.snapshotVersion.toTimestamp());const c=Zw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=WY(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=nx(this.serializer),n.removeTarget=e,this.L_(n)}}class DX extends qM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=UY(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=nx(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FY(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{}class MX extends jX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ve(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ex(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(q.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ex(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(q.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class OX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(mi(n),this.oa=!1):xe("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class LX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ha(this)&&(xe(Na,"Restarting streams for network reachability change."),await async function(l){const c=Fe(l);c.Ta.add(4),await Ph(c),c.da.set("Unknown"),c.Ta.delete(4),await Yg(c)}(this))})}),this.da=new OX(r,s)}}async function Yg(t){if(Ha(t))for(const e of t.Ia)await e(!0)}async function Ph(t){for(const e of t.Ia)await e(!1)}function HM(t,e){const n=Fe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),cT(n)?lT(n):Hc(n).M_()&&aT(n,e))}function oT(t,e){const n=Fe(t),r=Hc(n);n.Pa.delete(e),r.M_()&&GM(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ha(n)&&n.da.set("Unknown"))}function aT(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hc(t).H_(e)}function GM(t,e){t.Aa.Ke(e),Hc(t).J_(e)}function lT(t){t.Aa=new RY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Hc(t).start(),t.da._a()}function cT(t){return Ha(t)&&!Hc(t).F_()&&t.Pa.size>0}function Ha(t){return Fe(t).Ta.size===0}function KM(t){t.Aa=void 0}async function VX(t){t.da.set("Online")}async function FX(t){t.Pa.forEach((e,n)=>{aT(t,e)})}async function UX(t,e){KM(t),cT(t)?(t.da.ca(e),lT(t)):t.da.set("Unknown")}async function $X(t,e,n){if(t.da.set("Online"),e instanceof kM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){xe(Na,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pm(t,r)}else if(e instanceof xp?t.Aa.Xe(e):e instanceof RM?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Le.min()))try{const r=await BM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(vn.EMPTY_BYTE_STRING,d.snapshotVersion)),GM(i,l);const f=new Zi(d.target,l,c,d.sequenceNumber);aT(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xe(Na,"Failed to raise snapshot:",r),await Pm(t,r)}}async function Pm(t,e,n){if(!Wc(e))throw e;t.Ta.add(1),await Ph(t),t.da.set("Offline"),n||(n=()=>BM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe(Na,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Yg(t)})}function QM(t,e){return e().catch(n=>Pm(t,n,e))}async function Xg(t){const e=Fe(t),n=Ao(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Hb;for(;zX(e);)try{const s=await EX(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,BX(e,s)}catch(s){await Pm(e,s)}YM(e)&&XM(e)}function zX(t){return Ha(t)&&t.ha.length<10}function BX(t,e){t.ha.push(e);const n=Ao(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function YM(t){return Ha(t)&&!Ao(t).F_()&&t.ha.length>0}function XM(t){Ao(t).start()}async function WX(t){Ao(t).ta()}async function qX(t){const e=Ao(t);for(const n of t.ha)e.Z_(n.mutations)}async function HX(t,e,n){const r=t.ha.shift(),s=Zb.from(r,e,n);await QM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xg(t)}async function GX(t,e){e&&Ao(t).Y_&&await async function(r,s){if(function(o){return NY(o)&&o!==q.ABORTED}(s.code)){const i=r.ha.shift();Ao(r).O_(),await QM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xg(r)}}(t,e),YM(t)&&XM(t)}async function mI(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),xe(Na,"RemoteStore received new credentials");const r=Ha(n);n.Ta.add(3),await Ph(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Yg(n)}async function KX(t,e){const n=Fe(t);e?(n.Ta.delete(2),await Yg(n)):e||(n.Ta.add(2),await Ph(n),n.da.set("Unknown"))}function Hc(t){return t.Ra||(t.Ra=function(n,r,s){const i=Fe(n);return i.ra(),new kX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:VX.bind(null,t),n_:FX.bind(null,t),i_:UX.bind(null,t),j_:$X.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),cT(t)?lT(t):t.da.set("Unknown")):(await t.Ra.stop(),KM(t))})),t.Ra}function Ao(t){return t.Va||(t.Va=function(n,r,s){const i=Fe(n);return i.ra(),new DX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:WX.bind(null,t),i_:GX.bind(null,t),X_:qX.bind(null,t),ea:HX.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Xg(t)):(await t.Va.stop(),t.ha.length>0&&(xe(Na,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new uT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dT(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Wc(t))return new ve(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.ma=new Rt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ec{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ec(e,n,Ul.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class YX{constructor(){this.queries=yI(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Fe(n),i=s.queries;s.queries=yI(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ve(q.ABORTED,"Firestore shutting down"))}}function yI(){return new qa(t=>yM(t),Bg)}async function hT(t,e){const n=Fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new QX,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=dT(o,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&pT(n)}async function fT(t,e){const n=Fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XX(t,e){const n=Fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&pT(n)}function JX(t,e,n){const r=Fe(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function pT(t){t.ba.forEach(e=>{e.next()})}var ix,vI;(vI=ix||(ix={})).Ca="default",vI.Cache="cache";class mT{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ec(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.key=e}}class ZM{constructor(e){this.key=e}}class ZX{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Qe(),this.mutatedKeys=Qe(),this.Ha=vM(e),this.Ja=new Ul(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new gI,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Wg(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),T=!0):this.eu(p,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(g,v){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:T})}};return y(g)-y(v)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new Ec(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new gI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Qe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new ZM(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new JM(r))}),n}su(e){this.Ga=e.$s,this.ja=Qe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Ec.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const gT="SyncEngine";class eJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tJ{constructor(e){this.key=e,this._u=!1}}class nJ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new qa(a=>yM(a),Bg),this.cu=new Map,this.lu=new Set,this.hu=new Rt(Ie.comparator),this.Pu=new Map,this.Tu=new nT,this.Iu={},this.Eu=new Map,this.du=Tc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function rJ(t,e,n=!0){const r=iO(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await eO(r,e,n,!0),s}async function sJ(t,e){const n=iO(t);await eO(n,e,!0,!1)}async function eO(t,e,n,r){const s=await _X(t.localStore,Ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await iJ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&HM(t.remoteStore,s),a}async function iJ(t,e,n,r,s){t.Ru=(f,p,g)=>async function(y,T,w,b){let E=T.view.Za(w);E.Cs&&(E=await uI(y.localStore,T.query,!1).then(({documents:C})=>T.view.Za(C,E)));const I=b&&b.targetChanges.get(T.targetId),P=b&&b.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(E,y.isPrimaryClient,I,P);return xI(y,T.targetId,j.ru),j.snapshot}(t,f,p,g);const i=await uI(t.localStore,e,!0),o=new ZX(e,i.$s),a=o.Za(i.documents),l=Nh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);xI(t,n,c.ru);const d=new eJ(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function oJ(t,e,n){const r=Fe(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Bg(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&oT(r.remoteStore,s.targetId),ox(r,s.targetId)}).catch(Bc)):(ox(r,s.targetId),await rx(r.localStore,s.targetId,!0))}async function aJ(t,e){const n=Fe(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oT(n.remoteStore,r.targetId))}async function lJ(t,e,n){const r=mJ(t);try{const s=await function(o,a){const l=Fe(o),c=_t.now(),d=a.reduce((g,v)=>g.add(v.key),Qe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=gi(),y=Qe();return l.Bs.getEntries(g,d).next(T=>{v=T,v.forEach((w,b)=>{b.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(T=>{f=T;const w=[];for(const b of a){const E=_Y(b,f.get(b.key).overlayedDocument);E!=null&&w.push(new Oo(b.key,E,cM(E.value.mapValue),Or.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(T=>{p=T;const w=T.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,T.batchId,w)})}).then(()=>({batchId:p.batchId,changes:xM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new Rt(qe)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Rh(r,s.changes),await Xg(r.remoteStore)}catch(s){const i=dT(s,"Failed to persist write");n.reject(i)}}async function tO(t,e){const n=Fe(t);try{const r=await bX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?ot(o._u,14607):s.removedDocuments.size>0&&(ot(o._u,42227),o._u=!1))}),await Rh(n,r,e)}catch(r){await Bc(r)}}function wI(t,e,n){const r=Fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Fe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&pT(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cJ(t,e,n){const r=Fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Rt(Ie.comparator);o=o.insert(i,Pn.newNoDocument(i,Le.min()));const a=Qe().add(i),l=new Kg(Le.min(),new Map,new Rt(qe),o,a);await tO(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),yT(r)}else await rx(r.localStore,e,!1).then(()=>ox(r,e,n)).catch(Bc)}async function uJ(t,e){const n=Fe(t),r=e.batch.batchId;try{const s=await xX(n.localStore,e);rO(n,r,null),nO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rh(n,s)}catch(s){await Bc(s)}}async function dJ(t,e,n){const r=Fe(t);try{const s=await function(o,a){const l=Fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ot(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);rO(r,e,n),nO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rh(r,s)}catch(s){await Bc(s)}}function nO(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function rO(t,e,n){const r=Fe(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function ox(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||sO(t,r)})}function sO(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(oT(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),yT(t))}function xI(t,e,n){for(const r of n)r instanceof JM?(t.Tu.addReference(r.key,e),hJ(t,r)):r instanceof ZM?(xe(gT,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||sO(t,r.key)):je(19791,{mu:r})}function hJ(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(xe(gT,"New document in limbo: "+n),t.lu.add(r),yT(t))}function yT(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ie(bt.fromString(e)),r=t.du.next();t.Pu.set(r,new tJ(n)),t.hu=t.hu.insert(n,r),HM(t.remoteStore,new Zi(Ds(zg(n.path)),r,"TargetPurposeLimboResolution",Fg.le))}}async function Rh(t,e,n){const r=Fe(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=sT.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const d=Fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,p=>H.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>H.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Wc(f))throw f;xe(iT,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(p,y)}}}(r.localStore,i))}async function fJ(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){xe(gT,"User change. New user:",e.toKey());const r=await zM(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ve(q.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rh(n,r.ks)}}function pJ(t,e){const n=Fe(t),r=n.Pu.get(e);if(r&&r._u)return Qe().add(r.key);{let s=Qe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function iO(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cJ.bind(null,e),e.au.j_=XX.bind(null,e.eventManager),e.au.Vu=JX.bind(null,e.eventManager),e}function mJ(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dJ.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return wX(this.persistence,new gX,e.initialUser,this.serializer)}yu(e){return new $M(rT.fi,this.serializer)}pu(e){return new CX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class gJ extends Rm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ot(this.persistence.referenceDelegate instanceof Nm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tX(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new $M(r=>Nm.fi(r,n),this.serializer)}}class ax{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fJ.bind(null,this.syncEngine),await KX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YX}()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=function(i){return new RX(i)}(e.databaseInfo);return function(i,o,a,l){return new MX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new LX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wI(this.syncEngine,n,0),function(){return fI.C()?new fI:new AX}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new nJ(s,i,o,a,l,c);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Fe(s);xe(Na,"RemoteStore shutting down."),i.Ta.add(5),await Ph(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ax.provider={build:()=>new ax};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class yJ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=In.UNAUTHENTICATED,this.clientId=Jj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{xe(Io,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(xe(Io,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gv(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Io,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vJ(t);xe(Io,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mI(e.remoteStore,s)),t._onlineComponents=e}async function vJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Io,"Using user provided OfflineComponentProvider");try{await Gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await Gv(t,new Rm)}}else xe(Io,"Using default OfflineComponentProvider"),await Gv(t,new gJ(void 0));return t._offlineComponents}async function oO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Io,"Using user provided OnlineComponentProvider"),await bI(t,t._uninitializedComponentsProvider._online)):(xe(Io,"Using default OnlineComponentProvider"),await bI(t,new ax))),t._onlineComponents}function wJ(t){return oO(t).then(e=>e.syncEngine)}async function km(t){const e=await oO(t),n=e.eventManager;return n.onListen=rJ.bind(null,e.syncEngine),n.onUnlisten=oJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aJ.bind(null,e.syncEngine),n}function xJ(t,e,n={}){const r=new ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new vT({next:p=>{d.Cu(),o.enqueueAndForget(()=>fT(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ve(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ve(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new mT(zg(a.path),d,{includeMetadataChanges:!0,La:!0});return hT(i,f)}(await km(t),t.asyncQueue,e,n,r)),r.promise}function bJ(t,e,n={}){const r=new ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new vT({next:p=>{d.Cu(),o.enqueueAndForget(()=>fT(i,f)),p.fromCache&&l.source==="server"?c.reject(new ve(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new mT(a,d,{includeMetadataChanges:!0,La:!0});return hT(i,f)}(await km(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e,n){if(!n)throw new ve(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TJ(t,e,n,r){if(e===!0&&r===!0)throw new ve(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EI(t){if(!Ie.isDocumentKey(t))throw new ve(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _I(t){if(Ie.isDocumentKey(t))throw new ve(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new ve(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function EJ(t,e){if(e<=0)throw new ve(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firestore.googleapis.com",SI=!0;class CI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cO,this.ssl=SI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:SI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZY)throw new ve(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kQ;switch(r.type){case"firstParty":return new OQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TI.get(n);r&&(xe("ComponentProvider","Removing Datastore"),TI.delete(n),r.terminate())}(this),Promise.resolve()}}function _J(t,e,n,r={}){var s;t=cr(t,Zg);const i=Uc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(zb(`https://${l}`),Bb("Firestore",!0)),o.host!==cO&&o.host!==l&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Fs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=In.MOCK_USER;else{d=rK(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new In(p)}t._authCredentials=new DQ(new Yj(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class po extends Ei{constructor(e,n,r){super(e,n,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ie(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=St(t),lO("collection","path",e),t instanceof Zg){const r=bt.fromString(e,...n);return _I(r),new po(t,null,r)}{if(!(t instanceof jn||t instanceof po))throw new ve(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return _I(r),new po(t.firestore,null,r)}}function yt(t,e,...n){if(t=St(t),arguments.length===1&&(e=Jj.newId()),lO("doc","path",e),t instanceof Zg){const r=bt.fromString(e,...n);return EI(r),new jn(t,null,new Ie(r))}{if(!(t instanceof jn||t instanceof po))throw new ve(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return EI(r),new jn(t.firestore,t instanceof po?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="AsyncQueue";class II{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new WM(this,"async_queue_retry"),this.ec=()=>{const r=Hv();r&&xe(AI,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ii;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Wc(e))throw e;xe(AI,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,mi("INTERNAL UNHANDLED ERROR: ",NI(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=uT.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&je(47125,{_c:NI(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function NI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class yi extends Zg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new II,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new II(e),this._firestoreClient=void 0,await e}}}function SJ(t,e){const n=typeof t=="object"?t:Ah(),r=typeof t=="string"?t:_m,s=jo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Rj("firestore");i&&_J(s,...i)}return s}function ey(t){if(t._terminated)throw new ve(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||CJ(t),t._firestoreClient}function CJ(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new XQ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new yJ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _c(vn.fromBase64String(e))}catch(n){throw new ve(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _c(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AJ=/^__.*__$/;class IJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(e,this.data,n,this.fieldTransforms)}}class uO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{hc:t})}}class ny{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Dm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(dO(this.hc)&&AJ.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class NJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}gc(e,n,r,s=!1){return new ny({hc:e,methodName:n,fc:r,path:pn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new NJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hO(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);ST("Data must be an object, but it was:",o,r);const a=pO(r,o);let l,c;if(i.merge)l=new xr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=lx(e,f,n);if(!o.contains(p))throw new ve(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gO(d,p)||d.push(p)}l=new xr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new IJ(new tr(a),l,c)}class sy extends Ga{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sy}}function fO(t,e,n){return new ny({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bT extends Ga{_toFieldTransform(e){return new Hg(e.path,new eh)}isEqual(e){return e instanceof bT}}class TT extends Ga{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=fO(this,e,!0),r=this.yc.map(i=>Ka(i,n)),s=new xc(r);return new Hg(e.path,s)}isEqual(e){return e instanceof TT&&Fs(this.yc,e.yc)}}class ET extends Ga{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=fO(this,e,!0),r=this.yc.map(i=>Ka(i,n)),s=new bc(r);return new Hg(e.path,s)}isEqual(e){return e instanceof ET&&Fs(this.yc,e.yc)}}class _T extends Ga{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new th(e.serializer,EM(e.serializer,this.wc));return new Hg(e.path,n)}isEqual(e){return e instanceof _T&&this.wc===e.wc}}function PJ(t,e,n,r){const s=t.gc(1,e,n);ST("Data must be an object, but it was:",s,r);const i=[],o=tr.empty();Mo(r,(l,c)=>{const d=CT(e,l,n);c=St(c);const f=s.Ac(d);if(c instanceof sy)i.push(d);else{const p=Ka(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new xr(i);return new uO(o,a,s.fieldTransforms)}function RJ(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[lx(e,r,n)],l=[s];if(i.length%2!=0)throw new ve(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(lx(e,i[p])),l.push(i[p+1]);const c=[],d=tr.empty();for(let p=a.length-1;p>=0;--p)if(!gO(c,a[p])){const g=a[p];let v=l[p];v=St(v);const y=o.Ac(g);if(v instanceof sy)c.push(g);else{const T=Ka(v,y);T!=null&&(c.push(g),d.set(g,T))}}const f=new xr(c);return new uO(d,f,o.fieldTransforms)}function kJ(t,e,n,r=!1){return Ka(n,t.gc(r?4:3,e))}function Ka(t,e){if(mO(t=St(t)))return ST("Unsupported field value:",e,t),pO(t,e);if(t instanceof Ga)return function(r,s){if(!dO(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ka(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_t.fromDate(r);return{timestampValue:Im(s.serializer,i)}}if(r instanceof _t){const i=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(s.serializer,i)}}if(r instanceof wT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:DM(s.serializer,r._byteString)};if(r instanceof jn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tT(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xT)return function(o,a){return{mapValue:{fields:{[oM]:{stringValue:lM},[Sm]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Xb(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Jg(r)}`)}(t,e)}function pO(t,e){const n={};return eM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,s)=>{const i=Ka(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof wT||t instanceof _c||t instanceof jn||t instanceof Ga||t instanceof xT)}function ST(t,e,n){if(!mO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function lx(t,e,n){if((e=St(e))instanceof ty)return e._internalPath;if(typeof e=="string")return CT(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const DJ=new RegExp("[~\\*/\\[\\]]");function CT(t,e,n){if(e.search(DJ)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ty(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ve(q.INVALID_ARGUMENT,a+t+l)}function gO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jJ extends yO{data(){return super.data()}}function iy(t,e){return typeof e=="string"?CT(t,e):e instanceof ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AT{}class IT extends AT{}function Zr(t,e,...n){let r=[];e instanceof AT&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof NT).length,a=i.filter(l=>l instanceof oy).length;if(o>1||o>0&&a>0)throw new ve(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class oy extends IT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oy(e,n,r)}_apply(e){const n=this._parse(e);return wO(e._query,n),new Ei(e.firestore,e.converter,Jw(e._query,n))}_parse(e){const n=ry(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){kI(f,d);const v=[];for(const y of f)v.push(RI(l,i,y));p={arrayValue:{values:v}}}else p=RI(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||kI(f,d),p=kJ(a,o,f,d==="in"||d==="not-in");return Kt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Du(t,e,n){const r=e,s=iy("where",t);return oy._create(s,r,n)}class NT extends AT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new NT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)wO(o,l),o=Jw(o,l)}(e._query,n),new Ei(e.firestore,e.converter,Jw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class PT extends IT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PT(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ve(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(i,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new qc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Gc(t,e="asc"){const n=e,r=iy("orderBy",t);return PT._create(r,n)}class RT extends IT{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new RT(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,Am(e._query,this._limit,this._limitType))}}function kT(t){return EJ("limit",t),RT._create("limit",t,"F")}function RI(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new ve(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gM(e)&&n.indexOf("/")!==-1)throw new ve(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!Ie.isDocumentKey(r))throw new ve(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qA(t,new Ie(r))}if(n instanceof jn)return qA(t,n._key);throw new ve(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(n)}.`)}function kI(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wO(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MJ{convertValue(e,n="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Sm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ut(o.doubleValue));return new xT(i)}convertGeoPoint(e){return new wT(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$g(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const n=_o(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);ot(FM(r),9688,{name:e});const s=new Xd(r.get(1),r.get(3)),i=new Ie(r.popFirst(5));return s.isEqual(n)||mi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bO extends yO{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bp extends bO{data(e={}){return super.data(e)}}class TO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bp(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new bp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new bp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ju(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:OJ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){t=cr(t,jn);const e=cr(t.firestore,yi);return xJ(ey(e),t._key).then(n=>EO(e,t,n))}class DT extends MJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function Jr(t){t=cr(t,Ei);const e=cr(t.firestore,yi),n=ey(e),r=new DT(e);return vO(t._query),bJ(n,t._query).then(s=>new TO(e,r,t,s))}function Sc(t,e,n){t=cr(t,jn);const r=cr(t.firestore,yi),s=xO(t.converter,e,n);return ay(r,[hO(ry(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Or.none())])}function Ms(t,e,n,...r){t=cr(t,jn);const s=cr(t.firestore,yi),i=ry(s);let o;return o=typeof(e=St(e))=="string"||e instanceof ty?RJ(i,"updateDoc",t._key,e,n,r):PJ(i,"updateDoc",t._key,e),ay(s,[o.toMutation(t._key,Or.exists(!0))])}function Ys(t){return ay(cr(t.firestore,yi),[new Jb(t._key,Or.none())])}function kh(t,e){const n=cr(t.firestore,yi),r=yt(t),s=xO(t.converter,e);return ay(n,[hO(ry(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function jT(t,...e){var n,r,s;t=St(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||PI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(PI(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof jn)c=cr(t.firestore,yi),d=zg(t._key.path),l={next:f=>{e[o]&&e[o](EO(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=cr(t,Ei);c=cr(f.firestore,yi),d=f._query;const p=new DT(c);l={next:g=>{e[o]&&e[o](new TO(c,p,f,g))},error:e[o+1],complete:e[o+2]},vO(t._query)}return function(p,g,v,y){const T=new vT(y),w=new mT(g,T,v);return p.asyncQueue.enqueueAndForget(async()=>hT(await km(p),w)),()=>{T.Cu(),p.asyncQueue.enqueueAndForget(async()=>fT(await km(p),w))}}(ey(c),d,a,l)}function ay(t,e){return function(r,s){const i=new ii;return r.asyncQueue.enqueueAndForget(async()=>lJ(await wJ(r),s,i)),i.promise}(ey(t),e)}function EO(t,e,n){const r=n.docs.get(e._key),s=new DT(t);return new bO(t,s,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e.converter)}function _O(){return new bT("serverTimestamp")}function LJ(...t){return new TT("arrayUnion",t)}function VJ(...t){return new ET("arrayRemove",t)}function DI(t){return new _T("increment",t)}(function(e,n=!0){(function(s){zc=s})($c),ds(new Ur("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new yi(new jQ(r.getProvider("auth-internal")),new LQ(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),lr(DA,jA,e),lr(DA,jA,"esm2017")})();var FJ="firebase",UJ="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(FJ,UJ,"app");const SO="@firebase/installations",MT="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=1e4,AO=`w:${MT}`,IO="FIS_v2",$J="https://firebaseinstallations.googleapis.com/v1",zJ=60*60*1e3,BJ="installations",WJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Wa(BJ,WJ,qJ);function NO(t){return t instanceof ps&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO({projectId:t}){return`${$J}/projects/${t}/installations`}function RO(t){return{token:t.token,requestStatus:2,expiresIn:GJ(t.expiresIn),creationTime:Date.now()}}async function kO(t,e){const r=(await e.json()).error;return Pa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function DO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HJ(t,{refreshToken:e}){const n=DO(t);return n.append("Authorization",KJ(e)),n}async function jO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GJ(t){return Number(t.replace("s","000"))}function KJ(t){return`${IO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=PO(t),s=DO(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:IO,appId:t.appId,sdkVersion:AO},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:RO(c.authToken)}}else throw await kO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ=/^[cdef][\w-]{21}$/,cx="";function JJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ZJ(t);return XJ.test(n)?n:cx}catch{return cx}}function ZJ(t){return YJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Map;function LO(t,e){const n=ly(t);VO(n,e),eZ(n,e)}function VO(t,e){const n=OO.get(t);if(n)for(const r of n)r(e)}function eZ(t,e){const n=tZ();n&&n.postMessage({key:t,fid:e}),nZ()}let la=null;function tZ(){return!la&&"BroadcastChannel"in self&&(la=new BroadcastChannel("[Firebase] FID Change"),la.onmessage=t=>{VO(t.data.key,t.data.fid)}),la}function nZ(){OO.size===0&&la&&(la.close(),la=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ="firebase-installations-database",sZ=1,Ra="firebase-installations-store";let Kv=null;function OT(){return Kv||(Kv=Fj(rZ,sZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ra)}}})),Kv}async function jm(t,e){const n=ly(t),s=(await OT()).transaction(Ra,"readwrite"),i=s.objectStore(Ra),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&LO(t,e.fid),e}async function FO(t){const e=ly(t),r=(await OT()).transaction(Ra,"readwrite");await r.objectStore(Ra).delete(e),await r.done}async function cy(t,e){const n=ly(t),s=(await OT()).transaction(Ra,"readwrite"),i=s.objectStore(Ra),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&LO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t){let e;const n=await cy(t.appConfig,r=>{const s=iZ(r),i=oZ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iZ(t){const e=t||{fid:JJ(),registrationStatus:0};return UO(e)}function oZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aZ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lZ(t)}:{installationEntry:e}}async function aZ(t,e){try{const n=await QJ(t,e);return jm(t.appConfig,n)}catch(n){throw NO(n)&&n.customData.serverCode===409?await FO(t.appConfig):await jm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function lZ(t){let e=await jI(t.appConfig);for(;e.registrationStatus===1;)await MO(100),e=await jI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await LT(t);return r||n}return e}function jI(t){return cy(t,e=>{if(!e)throw Pa.create("installation-not-found");return UO(e)})}function UO(t){return cZ(t)?{fid:t.fid,registrationStatus:0}:t}function cZ(t){return t.registrationStatus===1&&t.registrationTime+CO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uZ({appConfig:t,heartbeatServiceProvider:e},n){const r=dZ(t,n),s=HJ(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:AO,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jO(()=>fetch(r,a));if(l.ok){const c=await l.json();return RO(c)}else throw await kO("Generate Auth Token",l)}function dZ(t,{fid:e}){return`${PO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(t,e=!1){let n;const r=await cy(t.appConfig,i=>{if(!$O(i))throw Pa.create("not-registered");const o=i.authToken;if(!e&&pZ(o))return i;if(o.requestStatus===1)return n=hZ(t,e),i;{if(!navigator.onLine)throw Pa.create("app-offline");const a=gZ(i);return n=fZ(t,a),a}});return n?await n:r.authToken}async function hZ(t,e){let n=await MI(t.appConfig);for(;n.authToken.requestStatus===1;)await MO(100),n=await MI(t.appConfig);const r=n.authToken;return r.requestStatus===0?VT(t,e):r}function MI(t){return cy(t,e=>{if(!$O(e))throw Pa.create("not-registered");const n=e.authToken;return yZ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fZ(t,e){try{const n=await uZ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await jm(t.appConfig,r),n}catch(n){if(NO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jm(t.appConfig,r)}throw n}}function $O(t){return t!==void 0&&t.registrationStatus===2}function pZ(t){return t.requestStatus===2&&!mZ(t)}function mZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+zJ}function gZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function yZ(t){return t.requestStatus===1&&t.requestTime+CO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await LT(e);return r?r.catch(console.error):VT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wZ(t,e=!1){const n=t;return await xZ(n),(await VT(n,e)).token}async function xZ(t){const{registrationPromise:e}=await LT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){if(!t||!t.options)throw Qv("App Configuration");if(!t.name)throw Qv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qv(t){return Pa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="installations",TZ="installations-internal",EZ=t=>{const e=t.getProvider("app").getImmediate(),n=bZ(e),r=jo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_Z=t=>{const e=t.getProvider("app").getImmediate(),n=jo(e,zO).getImmediate();return{getId:()=>vZ(n),getToken:s=>wZ(n,s)}};function SZ(){ds(new Ur(zO,EZ,"PUBLIC")),ds(new Ur(TZ,_Z,"PRIVATE"))}SZ();lr(SO,MT);lr(SO,MT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="analytics",CZ="firebase_id",AZ="origin",IZ=60*1e3,NZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",FT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Vg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Er=new Wa("analytics","Analytics",PZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(t){if(!t.startsWith(FT)){const e=Er.create("invalid-gtag-resource",{gtagURL:t});return ur.warn(e.message),""}return t}function BO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function kZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function DZ(t,e){const n=kZ("firebase-js-sdk-policy",{createScriptURL:RZ}),r=document.createElement("script"),s=`${FT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function jZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function MZ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await BO(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){ur.error(a)}t("config",s,i)}async function OZ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await BO(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){ur.error(i)}}function LZ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await OZ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await MZ(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){ur.error(a)}}return s}function VZ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=LZ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function FZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(FT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=30,$Z=1e3;class zZ{constructor(e={},n=$Z){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WO=new zZ;function BZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function WZ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:BZ(r)},i=NZ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function qZ(t,e=WO,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Er.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Er.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KZ;return setTimeout(async()=>{a.abort()},IZ),qO({appId:r,apiKey:s,measurementId:i},o,a,e)}async function qO(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=WO){var i;const{appId:o,measurementId:a}=t;try{await HZ(r,e)}catch(l){if(a)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await WZ(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!GZ(c)){if(s.deleteThrottleMetadata(o),a)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?bA(n,s.intervalMillis,UZ):bA(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),ur.debug(`Calling attemptFetch again in ${d} millis`),qO(t,f,r,s)}}function HZ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GZ(t){if(!(t instanceof ps)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function QZ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YZ(){if(Mj())try{await Oj()}catch(t){return ur.warn(Er.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ur.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XZ(t,e,n,r,s,i,o){var a;const l=qZ(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>ur.error(g)),e.push(l);const c=YZ().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);FZ(i)||DZ(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[AZ]="firebase",p.update=!0,f!=null&&(p[CZ]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e){this.app=e}_delete(){return delete hd[this.app.options.appId],Promise.resolve()}}let hd={},OI=[];const LI={};let Yv="dataLayer",ZZ="gtag",VI,HO,FI=!1;function eee(){const t=[];if(jj()&&t.push("This is a browser extension environment."),hK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Er.create("invalid-analytics-context",{errorInfo:e});ur.warn(n.message)}}function tee(t,e,n){eee();const r=t.options.appId;if(!r)throw Er.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Er.create("no-api-key");if(hd[r]!=null)throw Er.create("already-exists",{id:r});if(!FI){jZ(Yv);const{wrappedGtag:i,gtagCore:o}=VZ(hd,OI,LI,Yv,ZZ);HO=i,VI=o,FI=!0}return hd[r]=XZ(t,OI,LI,e,VI,Yv,n),new JZ(t)}function nee(t=Ah()){t=St(t);const e=jo(t,Mm);return e.isInitialized()?e.getImmediate():ree(t)}function ree(t,e={}){const n=jo(t,Mm);if(n.isInitialized()){const s=n.getImmediate();if(Fs(e,n.getOptions()))return s;throw Er.create("already-initialized")}return n.initialize({options:e})}function see(t,e,n,r){t=St(t),QZ(HO,hd[t.app.options.appId],e,n,r).catch(s=>ur.error(s))}const UI="@firebase/analytics",$I="0.10.16";function iee(){ds(new Ur(Mm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return tee(r,s,n)},"PUBLIC")),ds(new Ur("analytics-internal",t,"PRIVATE")),lr(UI,$I),lr(UI,$I,"esm2017");function t(e){try{const n=e.getProvider(Mm).getImmediate();return{logEvent:(r,s,i)=>see(n,r,s,i)}}catch(n){throw Er.create("interop-component-reg-failed",{reason:n})}}}iee();var ux=function(t,e){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ux(t,e)};function oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ux(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var mt=function(){return mt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mt.apply(this,arguments)};function Dh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function aee(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function GO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lee=GO,KO=new Wa("auth","Firebase",GO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Vg("@firebase/auth");function cee(t,...e){Om.logLevel<=Ke.WARN&&Om.warn(`Auth (${$c}): ${t}`,...e)}function Tp(t,...e){Om.logLevel<=Ke.ERROR&&Om.error(`Auth (${$c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw $T(t,...e)}function is(t,...e){return $T(t,...e)}function UT(t,e,n){const r=Object.assign(Object.assign({},lee()),{[e]:n});return new Wa("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return UT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(t,"argument-error"),UT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $T(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KO.create(t,...e)}function De(t,e,...n){if(!t)throw $T(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function wi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dee(){return zI()==="http:"||zI()==="https:"}function zI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dee()||jj()||"connection"in navigator)?navigator.onLine:!0}function fee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=oK()||cK()}get(){return hee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gee=new jh(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,s={}){return YO(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ch(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return lK()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Uc(t.emulatorConfig.host)&&(c.credentials="include"),QO.fetch()(await XO(t,t.config.apiHost,n,a),c)})}async function YO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pee),e);try{const s=new vee(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $f(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $f(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $f(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw UT(t,d,c);$r(t,d)}}catch(s){if(s instanceof ps)throw s;$r(t,"network-request-failed",{message:String(s)})}}async function Mh(t,e,n,r,s={}){const i=await Si(t,e,n,r,s);return"mfaPendingCredential"in i&&$r(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function XO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?zT(t.config,s):`${t.config.apiScheme}://${s}`;return mee.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function yee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),gee.get())})}}function $f(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=is(t,e,r);return s.customData._tokenResponse=n,s}function BI(t){return t!==void 0&&t.enterprise!==void 0}class wee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xee(t,e){return Si(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bee(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function Lm(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tee(t,e=!1){const n=St(t),r=await n.getIdToken(e),s=BT(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fd(Xv(s.auth_time)),issuedAtTime:fd(Xv(s.iat)),expirationTime:fd(Xv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xv(t){return Number(t)*1e3}function BT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nj(n);return s?JSON.parse(s):(Tp("Failed to decode base64 JWT payload"),null)}catch(s){return Tp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function WI(t){const e=BT(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&Eee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Eee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await nh(t,Lm(n,{idToken:r}));De(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?JO(i.providerUserInfo):[],a=Cee(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function See(t){const e=St(t);await Vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cee(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function JO(t){return t.map(e=>{var{providerId:n}=e,r=Dh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aee(t,e){const n=await YO(t,{},async()=>{const r=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await XO(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Iee(t,e){return Si(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=WI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Aee(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $l;return r&&(De(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(De(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Dh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nh(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tee(this,e)}reload(){return See(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await nh(this,bee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:P,providerData:j,stsTokenManager:C}=n;De(E&&C,e,"internal-error");const S=$l.fromJSON(this.name,C);De(typeof E=="string",e,"internal-error"),ki(f,e.name),ki(p,e.name),De(typeof I=="boolean",e,"internal-error"),De(typeof P=="boolean",e,"internal-error"),ki(g,e.name),ki(v,e.name),ki(y,e.name),ki(T,e.name),ki(w,e.name),ki(b,e.name);const A=new ts({uid:E,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:P,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:w,lastLoginAt:b});return j&&Array.isArray(j)&&(A.providerData=j.map(N=>Object.assign({},N))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new $l;s.updateFromServerResponse(n);const i=new ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?JO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $l;a.updateFromIdToken(r);const l=new ts({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new Map;function ni(t){wi(t instanceof Function,"Expected a class definition");let e=qI.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZO.type="NONE";const HI=ZO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ep(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ep("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lm(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(ni(HI),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ni(HI);const o=Ep(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Lm(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ts._fromGetAccountInfoResponse(e,p,d)}else f=ts._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new zl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iL(e))return"Blackberry";if(oL(e))return"Webos";if(tL(e))return"Safari";if((e.includes("chrome/")||nL(e))&&!e.includes("edge/"))return"Chrome";if(sL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eL(t=On()){return/firefox\//i.test(t)}function tL(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nL(t=On()){return/crios\//i.test(t)}function rL(t=On()){return/iemobile/i.test(t)}function sL(t=On()){return/android/i.test(t)}function iL(t=On()){return/blackberry/i.test(t)}function oL(t=On()){return/webos/i.test(t)}function WT(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nee(t=On()){var e;return WT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pee(){return uK()&&document.documentMode===10}function aL(t=On()){return WT(t)||sL(t)||oL(t)||iL(t)||/windows phone/i.test(t)||rL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e=[]){let n;switch(t){case"Browser":n=GI(On());break;case"Worker":n=`${GI(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kee(t,e={}){return Si(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee=6;class jee{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Dee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mee{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KI(this),this.idTokenSubscription=new KI(this),this.beforeStateQueue=new Ree(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lm(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(oi(this));const n=e?St(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kee(this),n=new jee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Iee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cee(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lo(t){return St(t)}class KI{constructor(e){this.auth=e,this.observer=null,this.addObserver=yK(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oee(t){uy=t}function cL(t){return uy.loadJS(t)}function Lee(){return uy.recaptchaEnterpriseScript}function Vee(){return uy.gapiScript}function Fee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uee{constructor(){this.enterprise=new $ee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $ee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zee="recaptcha-enterprise",uL="NO_RECAPTCHA";class Bee{constructor(e){this.type=zee,this.auth=Lo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xee(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new wee(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;BI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(uL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uee().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&BI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Lee();l.length!==0&&(l+=a),cL(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function QI(t,e,n,r=!1,s=!1){const i=new Bee(t);let o;if(s)o=uL;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fx(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await QI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await QI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wee(t,e){const n=jo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fs(i,e??{}))return s;$r(s,"already-initialized")}return n.initialize({options:e})}function qee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hee(t,e,n){const r=Lo(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=dL(e),{host:o,port:a}=Gee(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Fs(c,r.config.emulator)&&Fs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Uc(o)?(zb(`${i}//${o}${l}`),Bb("Auth",!0)):Kee()}function dL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gee(t){const e=dL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:YI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:YI(o)}}}function YI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function Qee(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yee(t,e){return Mh(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}async function Xee(t,e){return Si(t,"POST","/v1/accounts:sendOobCode",_i(t,e))}async function Jee(t,e){return Xee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function ete(t,e){return Mh(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends qT{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new rh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fx(e,n,"signInWithPassword",Yee);case"emailLink":return Zee(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fx(e,r,"signUpPassword",Qee);case"emailLink":return ete(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return Mh(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tte="http://localhost";class ka extends qT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Dh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ka(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bl(e,n)}buildRequest(){const e={requestUri:tte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ch(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rte(t){const e=Iu(Nu(t)).link,n=e?Iu(Nu(e)).deep_link_id:null,r=Iu(Nu(t)).deep_link_id;return(r?Iu(Nu(r)).link:null)||r||n||e||t}class HT{constructor(e){var n,r,s,i,o,a;const l=Iu(Nu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=nte((s=l.mode)!==null&&s!==void 0?s:null);De(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rte(e);try{return new HT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,n){return rh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=HT.parseLink(n);return De(r,"argument-error"),rh._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends GT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Oh{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Oh{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Oh{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ste(t,e){return Mh(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ts._fromIdTokenResponse(e,r,s),o=XI(r);return new Da({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=XI(r);return new Da({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends ps{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Fm(e,n,r,s)}}function hL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,i,e,r):i})}async function ite(t,e,n=!1){const r=await nh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ote(t,e,n=!1){const{auth:r}=t;if(er(r.app))return Promise.reject(oi(r));const s="reauthenticate";try{const i=await nh(t,hL(r,s,e,t),n);De(i.idToken,r,"internal-error");const o=BT(i.idToken);De(o,r,"internal-error");const{sub:a}=o;return De(t.uid===a,r,"user-mismatch"),Da._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e,n=!1){if(er(t.app))return Promise.reject(oi(t));const r="signIn",s=await hL(t,r,e),i=await Da._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ate(t,e){return fL(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t){const e=Lo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lte(t,e,n){if(er(t.app))return Promise.reject(oi(t));const r=Lo(t),o=await fx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ste).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pL(t),l}),a=await Da._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cte(t,e,n){return er(t.app)?Promise.reject(oi(t)):ate(St(t),Kc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pL(t),r})}async function ute(t,e){const n=St(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await Jee(n.auth,s);i!==t.email&&await t.reload()}function dte(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function hte(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function dy(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function fte(t){return St(t).signOut()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pte=1e3,mte=10;class gL extends mL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Pee()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mte):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gL.type="LOCAL";const gte=gL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL extends mL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yL.type="SESSION";const vL=yL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await yte(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=KT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function wte(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function xte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Tte(){return wL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="firebaseLocalStorageDb",Ete=1,$m="firebaseLocalStorage",bL="fbase_key";class Lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fy(t,e){return t.transaction([$m],e?"readwrite":"readonly").objectStore($m)}function _te(){const t=indexedDB.deleteDatabase(xL);return new Lh(t).toPromise()}function px(){const t=indexedDB.open(xL,Ete);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($m,{keyPath:bL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($m)?e(r):(r.close(),await _te(),e(await px()))})})}async function JI(t,e,n){const r=fy(t,!0).put({[bL]:e,value:n});return new Lh(r).toPromise()}async function Ste(t,e){const n=fy(t,!1).get(e),r=await new Lh(n).toPromise();return r===void 0?null:r.value}function ZI(t,e){const n=fy(t,!0).delete(e);return new Lh(n).toPromise()}const Cte=800,Ate=3;class TL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await px(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ate)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hy._getInstance(Tte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xte(),!this.activeServiceWorker)return;this.sender=new vte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await px();return await JI(e,Um,"1"),await ZI(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ste(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=fy(s,!1).getAll();return new Lh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TL.type="LOCAL";const Ite=TL;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){return e?ni(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends qT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nte(t){return fL(t.auth,new QT(t),t.bypassAuthState)}function Pte(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),ote(n,new QT(t),t.bypassAuthState)}async function Rte(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),ite(n,new QT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nte;case"linkViaPopup":case"linkViaRedirect":return Rte;case"reauthViaPopup":case"reauthViaRedirect":return Pte;default:$r(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte=new jh(2e3,1e4);async function SL(t,e,n){if(er(t.app))return Promise.reject(is(t,"operation-not-supported-in-this-environment"));const r=Lo(t);uee(t,e,GT);const s=EL(r,n);return new ca(r,"signInViaPopup",e,s).executeNotNull()}class ca extends _L{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ca.currentPopupAction&&ca.currentPopupAction.cancel(),ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=KT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kte.get())};e()}}ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte="pendingRedirect",_p=new Map;class jte extends _L{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const r=await Mte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mte(t,e){const n=Vte(e),r=Lte(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ote(t,e){_p.set(t._key(),e)}function Lte(t){return ni(t._redirectPersistence)}function Vte(t){return Ep(Dte,t.config.apiKey,t.name)}async function Fte(t,e,n=!1){if(er(t.app))return Promise.reject(oi(t));const r=Lo(t),s=EL(r,e),o=await new jte(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=10*60*1e3;class $te{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CL(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ute&&this.cachedEventUids.clear(),this.cachedEventUids.has(eN(e))}saveEventToCache(e){this.cachedEventUids.add(eN(e)),this.lastProcessedEventTime=Date.now()}}function eN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bte(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qte=/^https?/;async function Hte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Bte(t);for(const n of e)try{if(Gte(n))return}catch{}$r(t,"unauthorized-domain")}function Gte(t){const e=dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qte.test(n))return!1;if(Wte.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kte=new jh(3e4,6e4);function tN(){const t=Os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qte(t){return new Promise((e,n)=>{var r,s,i;function o(){tN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tN(),n(is(t,"network-request-failed"))},timeout:Kte.get()})}if(!((s=(r=Os().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Os().gapi)===null||i===void 0)&&i.load)o();else{const a=Fee("iframefcb");return Os()[a]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},cL(`${Vee()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function Yte(t){return Sp=Sp||Qte(t),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xte=new jh(5e3,15e3),Jte="__/auth/iframe",Zte="emulator/auth/iframe",ene={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nne(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zT(e,Zte):`https://${t.config.authDomain}/${Jte}`,r={apiKey:e.apiKey,appName:t.name,v:$c},s=tne.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ch(r).slice(1)}`}async function rne(t){const e=await Yte(t),n=Os().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:nne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ene,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),a=Os().setTimeout(()=>{i(o)},Xte.get());function l(){Os().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ine=500,one=600,ane="_blank",lne="http://localhost";class nN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cne(t,e,n,r=ine,s=one){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sne),{width:r.toString(),height:s.toString(),top:i,left:o}),c=On().toLowerCase();n&&(a=nL(c)?ane:n),eL(c)&&(e=e||lne,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(Nee(c)&&a!=="_self")return une(e||"",a),new nN(null);const f=window.open(e||"",a,d);De(f,t,"popup-blocked");try{f.focus()}catch{}return new nN(f)}function une(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dne="__/auth/handler",hne="emulator/auth/handler",fne=encodeURIComponent("fac");async function rN(t,e,n,r,s,i){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$c,eventId:s};if(e instanceof GT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Oh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fne}=${encodeURIComponent(l)}`:"";return`${pne(t)}?${Ch(a).slice(1)}${c}`}function pne({config:t}){return t.emulator?zT(t,hne):`https://${t.authDomain}/${dne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="webStorageSupport";class mne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vL,this._completeRedirectFn=Fte,this._overrideRedirectResult=Ote}async _openPopup(e,n,r,s){var i;wi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await rN(e,n,r,dx(),s);return cne(e,o,KT())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await rN(e,n,r,dx(),s);return wte(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(wi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rne(e),r=new $te(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jv,{type:Jv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Jv];o!==void 0&&n(!!o),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aL()||tL()||WT()}}const gne=mne;var sN="@firebase/auth",iN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wne(t){ds(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;De(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lL(t)},c=new Mee(r,s,i,l);return qee(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ds(new Ur("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(r=>new yne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(sN,iN,vne(t)),lr(sN,iN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=5*60,bne=Dj("authIdTokenMaxAge")||xne;let oN=null;const Tne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bne)return;const s=n==null?void 0:n.token;oN!==s&&(oN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ene(t=Ah()){const e=jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wee(t,{popupRedirectResolver:gne,persistence:[Ite,gte,vL]}),r=Dj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Tne(i.toString());hte(n,o,()=>o(n.currentUser)),dte(n,a=>o(a))}}const s=Pj("auth");return s&&Hee(n,`http://${s}`),n}function _ne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oee({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_ne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wne("Browser");const AL=async t=>{try{const e=new FormData;e.append("file",t);const n=await fetch("https://store4.gofile.io/uploadFile",{method:"POST",body:e});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const r=await n.json();if(console.log("GoFile API Response:",r),r.status!=="ok"||!r.data)throw new Error("Upload failed: "+JSON.stringify(r));return{fileId:r.data.fileId||r.data.id,fileName:r.data.fileName||r.data.name,fileUrl:r.data.downloadPage||r.data.url}}catch(e){throw console.error("Error in uploadFileToGofile:",e),new Error(`Failed to upload file: ${e.message}`)}},Sne=async t=>{const e="https://api.gofile.io/deleteContent",n=new FormData;n.append("contentsId",t),n.append("token","ADcGHPd8aWmNV0h2Sxr5rEeEDFYLyTFW");try{const s=await(await fetch(e,{method:"POST",body:n})).json();if(s.status==="ok")console.log(`File ${t} deleted from GoFile.`);else throw new Error(`Failed to delete file from GoFile: ${s.status}`)}catch(r){throw console.error("Error deleting file from GoFile:",r),r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,er(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="us-central1";class Ane{constructor(e,n,r,s,i=mx,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Cne(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=mx}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Ine(t,e,n){const r=Uc(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(zb(t.emulatorOrigin),Bb("Functions",!0))}const aN="@firebase/functions",lN="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne="auth-internal",Pne="app-check-internal",Rne="messaging-internal";function kne(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(Nne),o=n.getProvider(Rne),a=n.getProvider(Pne);return new Ane(s,i,o,a,r)};ds(new Ur(IL,e,"PUBLIC").setMultipleInstances(!0)),lr(aN,lN,t),lr(aN,lN,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dne(t=Ah(),e=mx){const r=jo(St(t),IL).getImmediate({identifier:e}),s=Rj("functions");return s&&jne(r,...s),r}function jne(t,e,n){Ine(St(t),e,n)}kne();const Mne={apiKey:"AIzaSyBEQ4RINpi53JYlQfDwtuE8RZ9m9l87BvM",authDomain:"alpha-project-713de.firebaseapp.com",projectId:"alpha-project-713de",storageBucket:"alpha-project-713de.appspot.com",messagingSenderId:"551038009112",appId:"1:551038009112:web:9a3f5ddd6c0d2a0164286d",measurementId:"G-T1LYWSN7PS"},py=bQ().length?Ah():Uj(Mne);nee(py);const Ht=Ene(py),Ve=SJ(py);Dne(py);const One=async(t,e,n)=>{try{return(await kh(Zt(Ve,"subjects"),{name:t,stageId:e,course:n,createdAt:_t.now()})).id}catch(r){throw console.error("Error adding subject: ",r),r}},Lne=async()=>{try{const t=Zt(Ve,"subjects");return(await Jr(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",stageId:r.stageId||"",course:r.course||"2",createdAt:r.createdAt||null}})}catch(t){throw console.error("Error getting subjects: ",t),t}},Vne=async(t,e,n,r)=>{try{const s=yt(Ve,"subjects",t),i={name:e,stageId:n};r&&(i.course=r),await Ms(s,i)}catch(s){throw s}},Fne=async t=>{try{await Ys(yt(Ve,"subjects",t))}catch(e){throw console.error("Error deleting subject: ",e),e}},Une=async(t,e,n,r)=>{try{const s=await AL(r);if(!s||!s.fileId||!s.fileName||!s.fileUrl)throw new Error("Failed to upload file to Gofile, missing file information.");return(await kh(Zt(Ve,"lectures"),{subjectId:t,title:e,description:n,fileId:s.fileId,fileName:s.fileName,fileUrl:s.fileUrl,createdAt:_t.now()})).id}catch(s){throw console.error("Error adding lecture: ",s),s}},$ne=async t=>{try{const e=Zt(Ve,"lectures"),n=t?Zr(e,Du("subjectId","==",t)):e;return(await Jr(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting lectures: ",e),e}},zne=async(t,e,n,r,s)=>{try{const i=yt(Ve,"lectures",t);await Ms(i,{title:e,description:n,fileId:s,fileName:"",fileUrl:""})}catch(i){throw console.error("Error updating lecture: ",i),i}},Bne=async(t,e)=>{try{if(e)try{await Sne(e)}catch(n){console.warn("Could not delete Gofile file, it might not exist or permissions are insufficient:",n)}await Ys(yt(Ve,"lectures",t))}catch(n){throw console.error("Error deleting lecture: ",n),n}},kr={en:{home:"Home",about:"About",services:"Services",contact:"Contact",lectures:"Lectures",news:"News",readMore:"Read More",learnMore:"Learn More",submit:"Submit",cancel:"Cancel",save:"Save",switchToArabic:"",switchToEnglish:"English",welcomeMessage:"Welcome to our educational platform",platformDescription:"A comprehensive platform to help students access lectures and study materials easily and conveniently. We aim to provide an exceptional and organized educational experience for all academic levels.",organizedLectures:"Organized Lectures",organizedLecturesDesc:"All lectures are arranged by stages and subjects for easy access and follow-up",specializedTeam:"Specialized Team",specializedTeamDesc:"The Alpha Team works hard to provide the best educational materials and support for students",highQuality:"High Quality",highQualityDesc:"High-quality content that is constantly updated to ensure the best educational experience",latestNews:"Latest News and Updates",latestNewsDesc:"Check out the latest 3 news and updates on our platform",aboutUs:"Who are we?",aboutUsDesc:"Alpha Team is a group of students and specialists who aim to facilitate the educational process and provide the necessary resources for students' success in their academic journey. We believe that education should be accessible, organized, and easy to reach, which is why we created this platform to be a digital home for all lectures and study materials required in different stages.",joinUs:"Join Us Today",joinUsDesc:"Start your learning journey with us and discover a world of knowledge and opportunities",registerNow:"Register Now",contactUs:"Contact Us",learnAboutOurTeam:"Learn About Our Team",startBrowsing:"Start Browsing",viewAllNews:"View All News",ourMission:"Our Mission",ourMissionDesc:"We strive to provide an integrated educational platform that helps students achieve their academic goals by providing high-quality educational content, an easy and enjoyable user experience, and continuous support from a specialized team.",contentQuality:"Content Quality",contentQualityDesc:"We provide high-quality educational content organized professionally",easeOfUse:"Ease of Use",easeOfUseDesc:"A simple and easy user interface that enables students to access content quickly",continuousSupport:"Continuous Support",continuousSupportDesc:"A specialized support team always available to help students",ourVision:"Our Vision",ourVisionDesc:"To be the first educational platform in the Arab world that provides organized and up-to-date content for all academic levels.",distinguishedContent:"Distinguished Content",distinguishedContentDesc:"Providing high-quality lectures, summaries, and educational materials, organized and easy to search and use.",specializedTeamAbout:"Specialized Team",specializedTeamAboutDesc:"An elite group of programmers and teachers working together to provide the best digital educational experience.",ourValues:"Our Values",ourValuesDesc:"Transparency, cooperation, innovation, and supporting students in their educational journey.",studentTestimonials:"Student Testimonials",noNews:"No news at the moment.",followUpdates:"Follow the latest developments and updates on the Alpha educational platform",addNews:"Add News",close:"Close",lectureTranslation:"Lecture Translation",translationDescription:"Upload your lecture file and get it translated to your desired language.",uploadLecture:"Upload Lecture File",clickToUpload:"Click to upload or drag and drop",supportedFormats:"PDF, DOC, DOCX, TXT (max. 10MB)",targetLanguage:"Target Language",translate:"Translate",translating:"Translating...",originalText:"Original Text",originalTextPlaceholder:"The original text will appear here after uploading the file...",translatedText:"Translated Text",translatedTextPlaceholder:"The translated text will appear here.",downloadTranslated:"Download Translated File",downloadTooltip:"Download the translated text as a PDF file",copyToClipboard:"Copy to Clipboard",pleaseSelectFile:"Please select a file first.",translationError:"An error occurred during translation. Please try again.",pleaseUploadFile:"Please upload a file for translation.",waitMinutes:"Please wait {minutes} minutes before requesting another translation.",aiError:"Sorry, an error occurred while connecting to AI.",tooManyRequests:"Too Many Requests: You have exceeded the AI usage rate limits. Please try again later.",loadingStages:"Loading academic stages...",errorMessageTitle:"Error",lecturesTitle:"Lectures",lecturesDescription:"Select an academic stage to access required materials and lectures or search for a specific lecture",searchLecturePlaceholder:"Search for a lecture...",allStages:"All Stages",academicStages:"Academic Stages",noStagesAvailable:"No academic stages available currently.",noStagesAddedYet:"It seems no academic stages have been added yet.",viewMaterials:"View Materials",filteredResultsTitle:"Filtered Results and Lectures",noLecturesMatchCriteria:"No lectures match the search or filter criteria.",dateNotAvailable:"Date not available",viewLecture:"View Lecture",latestLecturesAdded:"Latest Added Lectures",loadingLatestLectures:"Loading latest lectures...",fetchStagesError:"Failed to fetch academic stages.",fetchLatestLecturesError:"Failed to fetch latest lectures.",fetchAllLecturesError:"Failed to fetch all lectures.",firstCourse:"First Course",secondCourse:"Second Course",loadingStageData:"Loading stage data...",fetchStageError:"Failed to fetch stage data.",backToStages:"Back to Stages",stageNotFound:"Stage not found.",stageNotFoundDescription:"The requested stage could not be found.",stageLabel:"Stage",availableSubjectsForStage:"Available subjects for this stage:",noSubjectsInFirstCourse:"No subjects available in the first course yet.",firstCourseSubjectsLater:"Subjects for the first course will be added later.",noSubjectsAvailable:"No subjects available yet.",noSubjectsAddedYet:"It seems no subjects have been added yet.",exploreSubjectsLectures:"Explore subjects and lectures",viewLectures:"View Lectures",popularLecturesTitle:"Popular Lectures",loadingPopularLectures:"Loading popular lectures...",noPopularLecturesAvailable:"No Popular Lectures Available",noPopularLecturesAddedYet:"Popular lectures will appear here soon.",noDescriptionAvailable:"No description available.",allLecturesTitle:"All Lectures",loadingAllLectures:"Loading all lectures...",noLecturesFound:"No Lectures Found",tryDifferentSearch:"Try a different search term or filter.",page:"Page",of:"of",trendingLectures:"Trending Lectures",recentlyAddedLectures:"Recently Added Lectures",resources:"Resources",resourceLibrary:"Resource Library",resourceLibraryDesc:"Discover our collection of technical resources, tools, and learning materials",searchResources:"Search resources...",categories:"Categories",download:"Download",visit:"Visit",addResource:"Add Resource",addNewResource:"Add New Resource",addResourceDesc:"Add a new resource to the library",resourceTitlePlaceholder:"Enter resource title",resourceDescPlaceholder:"Enter resource description",resourceLinkPlaceholder:"Enter resource link",selectCategory:"Select a category",selectType:"Select resource type",book:"Book",tool:"Tool",type:"Type",link:"Link",adding:"Adding...",add:"Add",title:"Title",description:"Description",category:"Category",error:"Error",success:"Success",fillAllFields:"Please fill all fields",resourceAddedSuccess:"Resource added successfully",resourceAddError:"Error adding resource",noResourcesFound:"No resources match your search",noResourcesAvailable:"No resources available yet",resourceFetchError:"Failed to load resources"},ar:{home:"",about:" ",services:"",contact:" ",lectures:"",news:"",readMore:" ",learnMore:" ",submit:"",cancel:"",save:"",switchToArabic:"",switchToEnglish:"English",welcomeMessage:"    ",platformDescription:"           .          .",organizedLectures:" ",organizedLecturesDesc:"        ",specializedTeam:" ",specializedTeamDesc:" Alpha Team        ",highQuality:" ",highQualityDesc:"        ",latestNews:"  ",latestNewsDesc:"   3    ",aboutUs:" ",aboutUsDesc:" Alpha Team                   .                           .",joinUs:"  ",joinUsDesc:"        ",registerNow:" ",contactUs:" ",learnAboutOurTeam:"  ",startBrowsing:" ",viewAllNews:"  ",ourMission:"",ourMissionDesc:"                           .",contentQuality:" ",contentQualityDesc:"       ",easeOfUse:" ",easeOfUseDesc:"         ",continuousSupport:" ",continuousSupportDesc:"      ",ourVision:"",ourVisionDesc:"               .",distinguishedContent:" ",distinguishedContentDesc:"          .",specializedTeamAbout:" ",specializedTeamAboutDesc:"          .",ourValues:"",ourValuesDesc:"       .",studentTestimonials:" ",noNews:"   .",followUpdates:"      Alpha ",addNews:" ",close:"",lectureTranslation:" ",translationDescription:"         .",uploadLecture:"  ",clickToUpload:"    ",supportedFormats:"PDF, DOC, DOCX, TXT (  10 )",targetLanguage:" ",translate:"",translating:" ...",originalText:" ",originalTextPlaceholder:"      ...",translatedText:" ",translatedTextPlaceholder:"   .",downloadTranslated:"  ",downloadTooltip:"    PDF",copyToClipboard:"  ",pleaseSelectFile:"   .",translationError:"   .    .",pleaseUploadFile:"   .",waitMinutes:"  {minutes}     .",aiError:"      .",tooManyRequests:"Too Many Requests:       AI.   .",loadingStages:"   ...",errorMessageTitle:" ",lecturesTitle:"",lecturesDescription:"            ",searchLecturePlaceholder:"  ...",allStages:" ",academicStages:" ",noStagesAvailable:"    .",noStagesAddedYet:"         .",viewMaterials:" ",filteredResultsTitle:"   ",noLecturesMatchCriteria:"       .",dateNotAvailable:"  ",viewLecture:" ",latestLecturesAdded:"  ",loadingLatestLectures:"   ...",fetchStagesError:"    .",fetchLatestLecturesError:"    .",fetchAllLecturesError:"    .",firstCourse:"  ",secondCourse:"  ",loadingStageData:"   ...",fetchStageError:"    .",backToStages:"  ",stageNotFound:"    .",stageNotFoundDescription:"     .",stageLabel:"",availableSubjectsForStage:"   :",noSubjectsInFirstCourse:"         .",firstCourseSubjectsLater:"      .",noSubjectsAvailable:"     .",noSubjectsAddedYet:"        .",exploreSubjectsLectures:"  ",viewLectures:" ",popularLecturesTitle:"  ",loadingPopularLectures:"   ...",noPopularLecturesAvailable:"    .",noPopularLecturesAddedYet:"    .",noDescriptionAvailable:"   .",allLecturesTitle:" ",loadingAllLectures:"  ...",noLecturesFound:"    ",tryDifferentSearch:"     .",page:"",of:"",trendingLectures:" ",recentlyAddedLectures:"  ",resources:"",resourceLibrary:" ",resourceLibraryDesc:"       ",searchResources:"  ...",categories:"",download:"",visit:"",addResource:" ",addNewResource:"  ",addResourceDesc:"    ",resourceTitlePlaceholder:"  ",resourceDescPlaceholder:"  ",resourceLinkPlaceholder:"  ",selectCategory:" ",selectType:"  ",book:"",tool:"",type:"",link:"",adding:" ...",add:"",title:"",description:"",category:"",error:"",success:"",fillAllFields:"   ",resourceAddedSuccess:"   ",resourceAddError:"    ",noResourcesFound:"    ",noResourcesAvailable:"    ",resourceFetchError:"   "}},NL=m.createContext(void 0),Wne=({children:t})=>{const[e,n]=m.useState(()=>localStorage.getItem("language")||"en");return m.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e},[e]),u.jsxs(NL.Provider,{value:{language:e,setLanguage:n},children:[console.log("LanguageContext language:",e,"translations[language]:",kr[e]),t]})},Qa=()=>{const t=m.useContext(NL);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},qne=()=>{const{scrollYProgress:t}=Sj();bm(t,[0,.5],[1,0]),bm(t,[0,.5],[1,.8]);const[e,n]=m.useState([]),[r,s]=m.useState(!0),i=Ba(),{language:o}=Qa(),a=kr[o];m.useEffect(()=>{(async()=>{try{s(!0);const d=Zt(Ve,"news"),f=Zr(d,Gc("createdAt","desc"),kT(3)),g=(await Jr(f)).docs.map(v=>({id:v.id,...v.data()}));n(g)}catch(d){console.error("Error fetching latest news:",d)}finally{s(!1)}})()},[]);const l=c=>{console.log("Navigating to news with ID:",c),i(`/news/${c}`)};return u.jsx(u.Fragment,{children:u.jsxs("section",{className:"relative min-h-screen container mx-auto px-4 py-20 overflow-hidden bg-gradient-to-b from-background via-background/95 to-muted",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((c,d)=>u.jsx(se.div,{className:"absolute w-2 h-2 bg-primary/20 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-100],opacity:[0,1,0]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2}},d))}),u.jsx(se.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse"},className:"absolute top-10 left-10 w-32 h-32 bg-primary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(se.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute bottom-10 right-10 w-40 h-40 bg-secondary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(se.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:1},className:"absolute top-1/4 right-20 w-28 h-28 bg-accent rounded-full mix-blend-multiply filter blur-3xl"}),u.jsxs("div",{className:"relative z-10 text-center mb-16",children:[u.jsx(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"inline-block",children:u.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-4",children:[u.jsx(U1,{className:"w-4 h-4 mr-2"}),a.welcomeMessage]})}),u.jsx(se.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-5xl md:text-6xl font-extrabold text-foreground mb-6 leading-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:u.jsx("span",{className:"text-primary",children:"ALPHA TEAM"})}),u.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:a.platformDescription}),u.jsx(se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8,type:"spring"},className:"mt-10",children:u.jsx(Ot,{to:"/news",children:u.jsxs(fe,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[a.startBrowsing,u.jsx(_u,{className:"mr-2 h-5 w-5"})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:[{icon:u.jsx(Zs,{className:"h-8 w-8 text-primary"}),title:a.organizedLectures,description:a.organizedLecturesDesc},{icon:u.jsx(sa,{className:"h-8 w-8 text-primary"}),title:a.specializedTeam,description:a.specializedTeamDesc},{icon:u.jsx(TS,{className:"h-8 w-8 text-primary"}),title:a.highQuality,description:a.highQualityDesc}].map((c,d)=>u.jsx(se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},viewport:{once:!0,amount:.5},children:u.jsxs(ln,{className:"text-center shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-gradient-to-b from-card to-card/80 backdrop-blur-sm border-primary/20",children:[u.jsxs(Bn,{children:[u.jsx(se.div,{whileHover:{scale:1.1,rotate:5},className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.icon}),u.jsx(Rn,{className:"text-xl font-semibold text-foreground",children:c.title})]}),u.jsx(kn,{children:u.jsx(ss,{className:"text-base text-muted-foreground",children:c.description})})]})},d))}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-4",children:a.latestNews}),u.jsx("p",{className:"text-xl text-muted-foreground",children:a.latestNewsDesc})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r?Array.from({length:3}).map((c,d)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"bg-muted rounded-lg h-48 mb-4"}),u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]},d)):e.length>0?e.map((c,d)=>{var f;return u.jsx(se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},viewport:{once:!0},children:u.jsxs(ln,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 h-full cursor-pointer",onClick:()=>l(c.id),children:[u.jsxs("div",{className:"relative h-48 overflow-hidden",children:[u.jsx("img",{src:c.imageUrls[0]||"https://placehold.co/600x400",alt:c.title,className:"w-full h-full object-cover transform hover:scale-110 transition-transform duration-300"}),c.tag&&u.jsx("div",{className:"absolute top-4 right-4 bg-primary/90 text-primary-foreground px-3 py-1 rounded-full text-sm",children:c.tag})]}),u.jsxs(Bn,{children:[u.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[u.jsx(s9,{className:"w-4 h-4 mr-2"}),(f=c.createdAt)==null?void 0:f.toDate().toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"})]}),u.jsx(Rn,{className:"text-xl font-semibold line-clamp-2",children:c.title})]}),u.jsxs(kn,{className:"flex flex-col justify-between h-full",children:[u.jsx(ss,{className:"text-base line-clamp-2 mb-4",children:c.description}),u.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-muted-foreground",children:[u.jsx(TS,{className:"w-4 h-4 mr-1"}),c.likes]}),u.jsxs(fe,{variant:"ghost",className:"text-primary hover:text-primary/80",onClick:p=>{p.stopPropagation(),l(c.id)},children:[" ",u.jsx(_u,{className:"mr-2 h-4 w-4"})]})]})]})]})},c.id)}):u.jsx("div",{className:"col-span-3 text-center py-12",children:u.jsx("p",{className:"text-xl text-muted-foreground",children:"   "})})})]})}),u.jsx(se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"relative mt-20",children:u.jsxs(ln,{className:"bg-gradient-to-br from-card to-card/80 backdrop-blur-sm border-primary/20 shadow-xl",children:[u.jsx(Bn,{className:"text-center",children:u.jsx(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:u.jsx(Rn,{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:a.aboutUs})})}),u.jsx(kn,{className:"text-center",children:u.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[u.jsx("p",{className:"text-xl text-muted-foreground max-w-4xl mx-auto leading-relaxed mb-8",children:a.aboutUsDesc}),u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Ot,{to:"/about",children:u.jsxs(fe,{size:"lg",variant:"outline",className:"bg-transparent hover:bg-primary/10 text-primary border-primary hover:border-primary/80 px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[a.readMore,u.jsx(_u,{className:"mr-2 h-5 w-5"})]})})})]})})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsx("div",{className:"container mx-auto px-4 text-center",children:u.jsxs(se.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-6",children:a.joinUs}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:a.joinUsDesc}),u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Ot,{to:"/register",children:u.jsxs(fe,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[a.registerNow,u.jsx(_u,{className:"mr-2 h-5 w-5"})]})})})]})})})]})})},zt=m.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zt.displayName="Input";var Hne="Label",PL=m.forwardRef((t,e)=>u.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));PL.displayName=Hne;var RL=PL;const Gne=xh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dr=m.forwardRef(({className:t,...e},n)=>u.jsx(RL,{ref:n,className:pe(Gne(),t),...e}));Dr.displayName=RL.displayName;const Kne=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),o=Ba(),a=async c=>{if(c.preventDefault(),i(""),!t||!/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(t)){i("   .    .");return}if(!n){i("   .");return}try{if(!(await cte(Ht,t,n)).user.emailVerified){i("      .      ."),await Ht.signOut();return}o("/")}catch(d){console.error("Login error:",d),d.code==="auth/invalid-credential"||d.code==="auth/wrong-password"?i("      ."):d.code==="auth/invalid-email"?i("    ."):d.code==="auth/user-disabled"?i("   .    ."):d.code==="auth/too-many-requests"?i("          .        ."):i("    .    .")}},l=async()=>{i("");try{const c=new _s,f=(await SL(Ht,c)).user,p=yt(Ve,"users",f.uid);(await vi(p)).exists()?await Sc(p,{email:f.email,fullName:f.displayName||"",updatedAt:new Date},{merge:!0}):await Sc(p,{email:f.email,fullName:f.displayName||"",role:"user",createdAt:new Date}),o("/")}catch(c){console.error("Google login error:",c),i("    Google.    .")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Ot,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(fe,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"  "})}),u.jsx(se.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(ln,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(Bn,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(g9,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(Rn,{className:"text-4xl font-extrabold text-primary mb-2",children:" "}),u.jsx(ss,{className:"text-lg text-muted-foreground",children:"    "})]}),u.jsxs(kn,{className:"p-8",children:[u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"email",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"email",type:"email",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:c=>e(c.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"password",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(iw,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"password",type:"password",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),s&&u.jsx(se.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:s}),u.jsx(fe,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:" "})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:""})})]}),u.jsxs(fe,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:l,children:[u.jsx(Bk,{className:"h-6 w-6 mr-3"}),"   Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["  "," ",u.jsx(Ot,{to:"/register",className:"text-primary hover:underline font-semibold",children:" "})]})]})]})})]})},Qne=["register","login","logout","delete_user_by_admin","ban_user_by_admin","unban_user","add_lecture","delete_lecture","add_subject","delete_subject","update_lecture","update_subject"],sh=async t=>{if(!Qne.includes(t.type)){console.warn(`Activity type '${t.type}' is not allowed for logging.`);return}try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error(`Failed to fetch IP address: ${e.statusText}`);const n=await e.json();await kh(Zt(Ve,"activities"),{...t,ipAddress:n.ip,timestamp:_O(),metadata:{browser:navigator.userAgent,platform:navigator.platform,timestamp_client:new Date().toISOString()}}),console.log("Activity logged successfully:",t.type)}catch(e){throw e.code==="permission-denied"?console.error("Error logging activity: Missing or insufficient permissions."):console.error("Error logging activity:",e),new Error("Failed to log activity. Please check Firestore rules or network connectivity.")}},Zv=["https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uchgfbvn93vankxi8ngt.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uemk18ecy4s9l5hkusfg.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ldf6gddraviuecktdv6r.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ypkhs51swkfc6dlwjvsw.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ezpug86k3gkypdx7u0bd.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/mwqpkyy8mnhq5eybpxgr.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/uivpymjbxjfpoiy0i659.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"],Yne=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(Zv[0]),[p,g]=m.useState(!1),[v,y]=m.useState(null),T=Ba(),w=j=>/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(j),b=j=>/^[\u0600-\u06FF\s]+$/.test(j)&&j.trim().split(/\s+/).length>=2,E=async j=>{if(j.preventDefault(),c(""),!t||!n||!s||!o){c("   .");return}if(!b(t)){c("             .");return}if(!w(n)){c("   .    .");return}if(s.length<6){c("      6   .");return}if(s!==o){c("      .");return}try{const S=(await lte(Ht,n,s)).user;await ute(S),await Sc(yt(Ve,"users",S.uid),{fullName:t,email:n,avatar:d,role:"user",createdAt:new Date}),await sh({type:"register",userId:S.uid,username:n,details:`  ${t||n}   `}),Xt({title:"   ",description:"         .",variant:"default",duration:5e3}),T("/login")}catch(C){console.error("Registration error:",C),C.code==="auth/email-already-in-use"?c("    ."):C.code==="auth/invalid-email"?c("    ."):C.code==="auth/weak-password"?c("   .     ."):c("   .    .")}},I=async()=>{c("");try{const j=new _s,S=(await SL(Ht,j)).user;y(S),g(!0)}catch(j){console.error("Google registration error:",j),j.code==="auth/popup-closed-by-user"?c("      Google.    ."):j.code==="auth/cancelled-popup-request"?c("    .    ."):j.code==="auth/operation-not-allowed"?c("     Google.   ."):j.code==="auth/unauthorized-domain"?c("     OAuth.     Firebase."):c("   Google.    . (     Firebase)")}},P=async j=>{if(v)try{const C=yt(Ve,"users",v.uid);await Sc(C,{email:v.email,fullName:v.displayName||"",avatar:j,role:"user",createdAt:new Date},{merge:!0}),await sh({type:"register",userId:v.uid,username:v.email||"N/A",details:`  ${v.email}   Google.`}),g(!1),y(null),T("/")}catch{c("    .    .")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Ot,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(fe,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"  "})}),u.jsx(se.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(ln,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(Bn,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(Gk,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(Rn,{className:"text-4xl font-extrabold text-primary mb-2",children:"  "}),u.jsx(ss,{className:"text-lg text-muted-foreground",children:"   "})]}),u.jsxs(kn,{className:"p-8",children:[u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"fullName",className:"text-base font-medium",children:"  ()"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(Cu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"fullName",type:"text",placeholder:"   ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:j=>e(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"email",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"email",type:"email",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:j=>r(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"password",className:"text-base font-medium",children:" "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(iw,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"password",type:"password",placeholder:"  ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:s,onChange:j=>i(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"  "}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(iw,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(zt,{id:"confirmPassword",type:"password",placeholder:"   ",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:o,onChange:j=>a(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 font-medium",children:" :"}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-4",children:Zv.map((j,C)=>u.jsx("img",{src:j,alt:"avatar",style:{border:d===j?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:"pointer"},onClick:()=>f(j)},C))})]}),l&&u.jsx(se.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:l}),u.jsx(fe,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:""})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:""})})]}),u.jsxs(fe,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:I,children:[u.jsx(Bk,{className:"h-6 w-6 mr-3"}),"  Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["  "," ",u.jsx(Ot,{to:"/login",className:"text-primary hover:underline font-semibold",children:" "})]})]})]})}),p&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-card rounded-xl p-8 shadow-2xl max-w-xs w-full",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"  "}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-4",children:Zv.map((j,C)=>u.jsx("img",{src:j,alt:"avatar",style:{border:d===j?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:"pointer"},onClick:()=>f(j)},C))}),u.jsx(fe,{className:"w-full",onClick:()=>P(d),children:"  "})]})})]})},Xne=()=>{const t=za();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Jne=()=>{const{language:t}=Qa(),e=kr[t];return u.jsxs("footer",{className:"bg-card text-foreground border-t border-border py-8 md:py-12",children:[u.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("div",{className:"w-8 md:w-10 h-8 md:h-10 rounded-lg flex items-center justify-center shadow-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"w-full h-full object-contain rounded-lg"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Alpha Team"})]}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:e.platformDescription})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:t==="en"?"Quick Links":" "}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Ot,{to:"/",className:"hover:text-primary transition-colors duration-300",children:e.home})}),u.jsx("li",{children:u.jsx(Ot,{to:"/lectures",className:"hover:text-primary transition-colors duration-300",children:e.lectures})}),u.jsx("li",{children:u.jsx(Ot,{to:"/about",className:"hover:text-primary transition-colors duration-300",children:e.about})}),u.jsx("li",{children:u.jsx(Ot,{to:"/contact",className:"hover:text-primary transition-colors duration-300",children:e.contact})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:t==="en"?"Contact Us":" "}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx(jd,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"alphateam.dev1234@gmail.com"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(y9,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:t==="en"?"Babil, Iraq":", "})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(im,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@talpha.dev"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(Zu,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@xteam_alpha"})]})]})]})]}),u.jsx("div",{className:"container mx-auto px-4 mt-8 pt-8 border-t border-border text-center text-xs md:text-sm text-muted-foreground",children:u.jsxs("p",{children:[" ",new Date().getFullYear()," Alpha Team. ",t==="en"?"All rights reserved.":"  ."]})})]})};var Zne=m.createContext(void 0);function my(t){const e=m.useContext(Zne);return t||e||"ltr"}var e0=0;function YT(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cN()),document.body.insertAdjacentElement("beforeend",t[1]??cN()),e0++,()=>{e0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),e0--}},[])}function cN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var t0="focusScope.autoFocusOnMount",n0="focusScope.autoFocusOnUnmount",uN={bubbles:!1,cancelable:!0},ere="FocusScope",gy=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=yn(s),d=yn(i),f=m.useRef(null),p=et(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const I=E.target;a.contains(I)?f.current=I:Li(f.current,{select:!0})},T=function(E){if(g.paused||!a)return;const I=E.relatedTarget;I!==null&&(a.contains(I)||Li(f.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Li(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const b=new MutationObserver(w);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),b.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){hN.add(g);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(t0,uN);a.addEventListener(t0,c),a.dispatchEvent(w),w.defaultPrevented||(tre(ore(kL(a)),{select:!0}),document.activeElement===y&&Li(a))}return()=>{a.removeEventListener(t0,c),setTimeout(()=>{const w=new CustomEvent(n0,uN);a.addEventListener(n0,d),a.dispatchEvent(w),w.defaultPrevented||Li(y??document.body,{select:!0}),a.removeEventListener(n0,d),hN.remove(g)},0)}}},[a,c,d,g]);const v=m.useCallback(y=>{if(!n&&!r||g.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(T&&w){const b=y.currentTarget,[E,I]=nre(b);E&&I?!y.shiftKey&&w===I?(y.preventDefault(),n&&Li(E,{select:!0})):y.shiftKey&&w===E&&(y.preventDefault(),n&&Li(I,{select:!0})):w===b&&y.preventDefault()}},[n,r,g.paused]);return u.jsx(Me.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});gy.displayName=ere;function tre(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Li(r,{select:e}),document.activeElement!==n)return}function nre(t){const e=kL(t),n=dN(e,t),r=dN(e.reverse(),t);return[n,r]}function kL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dN(t,e){for(const n of t)if(!rre(n,{upTo:e}))return n}function rre(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sre(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sre(t)&&e&&t.select()}}var hN=ire();function ire(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fN(t,e),t.unshift(e)},remove(e){var n;t=fN(t,e),(n=t[0])==null||n.resume()}}}function fN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ore(t){return t.filter(e=>e.tagName!=="A")}function are(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,lre(s,...e)]}function lre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var r0="rovingFocusGroup.onEntryFocus",cre={bubbles:!1,cancelable:!0},yy="RovingFocusGroup",[gx,DL,ure]=wg(yy),[dre,vy]=are(yy,[ure]),[hre,fre]=dre(yy),jL=m.forwardRef((t,e)=>u.jsx(gx.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(gx.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(pre,{...t,ref:e})})}));jL.displayName=yy;var pre=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=et(e,p),v=my(i),[y=null,T]=Ca({prop:o,defaultProp:a,onChange:l}),[w,b]=m.useState(!1),E=yn(c),I=DL(n),P=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(r0,E),()=>S.removeEventListener(r0,E)},[E]),u.jsx(hre,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(S=>T(S),[T]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Me.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{P.current=!0}),onFocus:he(t.onFocus,S=>{const A=!P.current;if(S.target===S.currentTarget&&A&&!w){const N=new CustomEvent(r0,cre);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=I().filter(X=>X.focusable),M=D.find(X=>X.active),k=D.find(X=>X.id===y),re=[M,k,...D].filter(Boolean).map(X=>X.ref.current);LL(re,d)}}P.current=!1}),onBlur:he(t.onBlur,()=>b(!1))})})}),ML="RovingFocusGroupItem",OL=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ns(),l=i||a,c=fre(ML,n),d=c.currentTabStopId===l,f=DL(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),u.jsx(gx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Me.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:he(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:he(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=yre(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(v.currentTarget);w=c.loop?vre(w,b+1):w.slice(b+1)}setTimeout(()=>LL(w))}})})})});OL.displayName=ML;var mre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gre(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yre(t,e,n){const r=gre(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mre[r]}function LL(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VL=jL,FL=OL,wre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ol=new WeakMap,zf=new WeakMap,Bf={},s0=0,UL=function(t){return t&&(t.host||UL(t.parentNode))},xre=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=UL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bre=function(t,e,n,r){var s=xre(e,Array.isArray(t)?t:[t]);Bf[n]||(Bf[n]=new WeakMap);var i=Bf[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(ol.get(p)||0)+1,T=(i.get(p)||0)+1;ol.set(p,y),i.set(p,T),o.push(p),y===1&&v&&zf.set(p,!0),T===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),s0++,function(){o.forEach(function(f){var p=ol.get(f)-1,g=i.get(f)-1;ol.set(f,p),i.set(f,g),p||(zf.has(f)||f.removeAttribute(r),zf.delete(f)),g||f.removeAttribute(n)}),s0--,s0||(ol=new WeakMap,ol=new WeakMap,zf=new WeakMap,Bf={})}},XT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=wre(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),bre(r,s,n,"aria-hidden")):function(){return null}},Cp="right-scroll-bar-position",Ap="width-before-scroll-bar",Tre="with-scroll-bars-hidden",Ere="--removed-body-scroll-bar-size";function i0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _re(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Sre=typeof window<"u"?m.useLayoutEffect:m.useEffect,pN=new WeakMap;function Cre(t,e){var n=_re(null,function(r){return t.forEach(function(s){return i0(s,r)})});return Sre(function(){var r=pN.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||i0(a,null)}),i.forEach(function(a){s.has(a)||i0(a,o)})}pN.set(n,t)},[t]),n}function Are(t){return t}function Ire(t,e){e===void 0&&(e=Are);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Nre(t){t===void 0&&(t={});var e=Ire(null);return e.options=mt({async:!0,ssr:!1},t),e}var $L=function(t){var e=t.sideCar,n=Dh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,mt({},n))};$L.isSideCarExport=!0;function Pre(t,e){return t.useMedium(e),$L}var zL=Nre(),o0=function(){},wy=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:o0,onWheelCapture:o0,onTouchMoveCapture:o0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,T=t.as,w=T===void 0?"div":T,b=t.gapMode,E=Dh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,P=Cre([n,e]),j=mt(mt({},E),s);return m.createElement(m.Fragment,null,d&&m.createElement(I,{sideCar:zL,removeScrollBar:c,shards:f,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?m.cloneElement(m.Children.only(a),mt(mt({},j),{ref:P})):m.createElement(w,mt({},j,{className:l,ref:P}),a))});wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wy.classNames={fullWidth:Ap,zeroRight:Cp};var Rre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Rre();return e&&t.setAttribute("nonce",e),t}function Dre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kre())&&(Dre(e,n),jre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ore=function(){var t=Mre();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BL=function(){var t=Ore(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Lre={left:0,top:0,right:0,gap:0},a0=function(t){return parseInt(t||"",10)||0},Vre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[a0(n),a0(r),a0(s)]},Fre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lre;var e=Vre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ure=BL(),Wl="data-scroll-locked",$re=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ap,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cp," .").concat(Cp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ap," .").concat(Ap,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(Ere,": ").concat(a,`px;
  }
`)},mN=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},zre=function(){m.useEffect(function(){return document.body.setAttribute(Wl,(mN()+1).toString()),function(){var t=mN()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},Bre=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;zre();var i=m.useMemo(function(){return Fre(s)},[s]);return m.createElement(Ure,{styles:$re(i,!e,s,n?"":"!important")})},yx=!1;if(typeof window<"u")try{var Wf=Object.defineProperty({},"passive",{get:function(){return yx=!0,!0}});window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{yx=!1}var al=yx?{passive:!1}:!1,Wre=function(t){return t.tagName==="TEXTAREA"},WL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wre(t)&&n[e]==="visible")},qre=function(t){return WL(t,"overflowY")},Hre=function(t){return WL(t,"overflowX")},gN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qL(t,r);if(s){var i=HL(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gre=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Kre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qL=function(t,e){return t==="v"?qre(e):Hre(e)},HL=function(t,e){return t==="v"?Gre(e):Kre(e)},Qre=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yre=function(t,e,n,r,s){var i=Qre(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=HL(t,a),v=g[0],y=g[1],T=g[2],w=y-T-i*v;(v||w)&&qL(t,a)&&(f+=w,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},qf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yN=function(t){return[t.deltaX,t.deltaY]},vN=function(t){return t&&"current"in t?t.current:t},Xre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zre=0,ll=[];function ese(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Zre++)[0],i=m.useState(BL)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=aee([t.lockRef.current],(t.shards||[]).map(vN),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=qf(y),b=n.current,E="deltaX"in y?y.deltaX:b[0]-w[0],I="deltaY"in y?y.deltaY:b[1]-w[1],P,j=y.target,C=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var S=gN(C,j);if(!S)return!0;if(S?P=C:(P=C==="v"?"h":"v",S=gN(C,j)),!S)return!1;if(!r.current&&"changedTouches"in y&&(E||I)&&(r.current=P),!P)return!0;var A=r.current||P;return Yre(A,T,y,A==="h"?E:I,!0)},[]),l=m.useCallback(function(y){var T=y;if(!(!ll.length||ll[ll.length-1]!==i)){var w="deltaY"in T?yN(T):qf(T),b=e.current.filter(function(P){return P.name===T.type&&(P.target===T.target||T.target===P.shadowParent)&&Xre(P.delta,w)})[0];if(b&&b.should){T.cancelable&&T.preventDefault();return}if(!b){var E=(o.current.shards||[]).map(vN).filter(Boolean).filter(function(P){return P.contains(T.target)}),I=E.length>0?a(T,E[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),c=m.useCallback(function(y,T,w,b){var E={name:y,delta:T,target:w,should:b,shadowParent:tse(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),d=m.useCallback(function(y){n.current=qf(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,yN(y),y.target,a(y,t.lockRef.current))},[]),p=m.useCallback(function(y){c(y.type,qf(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return ll.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,al),document.addEventListener("touchmove",l,al),document.addEventListener("touchstart",d,al),function(){ll=ll.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,al),document.removeEventListener("touchmove",l,al),document.removeEventListener("touchstart",d,al)}},[]);var g=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:Jre(s)}):null,g?m.createElement(Bre,{gapMode:t.gapMode}):null)}function tse(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nse=Pre(zL,ese);var xy=m.forwardRef(function(t,e){return m.createElement(wy,mt({},t,{ref:e,sideCar:nse}))});xy.classNames=wy.classNames;var vx=["Enter"," "],rse=["ArrowDown","PageUp","Home"],GL=["ArrowUp","PageDown","End"],sse=[...rse,...GL],ise={ltr:[...vx,"ArrowRight"],rtl:[...vx,"ArrowLeft"]},ose={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vh="Menu",[ih,ase,lse]=wg(Vh),[Ya,KL]=bi(Vh,[lse,jc,vy]),by=jc(),QL=vy(),[cse,Xa]=Ya(Vh),[use,Fh]=Ya(Vh),YL=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=by(e),[l,c]=m.useState(null),d=m.useRef(!1),f=yn(i),p=my(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(T2,{...a,children:u.jsx(cse,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(use,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};YL.displayName=Vh;var dse="MenuAnchor",JT=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=by(n);return u.jsx(Y1,{...s,...r,ref:e})});JT.displayName=dse;var ZT="MenuPortal",[hse,XL]=Ya(ZT,{forceMount:void 0}),JL=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Xa(ZT,e);return u.jsx(hse,{scope:e,forceMount:n,children:u.jsx(fs,{present:n||i.open,children:u.jsx(vh,{asChild:!0,container:s,children:r})})})};JL.displayName=ZT;var Lr="MenuContent",[fse,eE]=Ya(Lr),ZL=m.forwardRef((t,e)=>{const n=XL(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Xa(Lr,t.__scopeMenu),o=Fh(Lr,t.__scopeMenu);return u.jsx(ih.Provider,{scope:t.__scopeMenu,children:u.jsx(fs,{present:r||i.open,children:u.jsx(ih.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(pse,{...s,ref:e}):u.jsx(mse,{...s,ref:e})})})})}),pse=m.forwardRef((t,e)=>{const n=Xa(Lr,t.__scopeMenu),r=m.useRef(null),s=et(e,r);return m.useEffect(()=>{const i=r.current;if(i)return XT(i)},[]),u.jsx(tE,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),mse=m.forwardRef((t,e)=>{const n=Xa(Lr,t.__scopeMenu);return u.jsx(tE,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),tE=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=t,T=Xa(Lr,n),w=Fh(Lr,n),b=by(n),E=QL(n),I=ase(n),[P,j]=m.useState(null),C=m.useRef(null),S=et(e,C,T.onContentChange),A=m.useRef(0),N=m.useRef(""),D=m.useRef(0),M=m.useRef(null),k=m.useRef("right"),$=m.useRef(0),re=v?xy:m.Fragment,X=v?{as:yo,allowPinchZoom:!0}:void 0,Z=L=>{var te,ge;const J=N.current+L,W=I().filter(Ne=>!Ne.disabled),ne=document.activeElement,le=(te=W.find(Ne=>Ne.ref.current===ne))==null?void 0:te.textValue,G=W.map(Ne=>Ne.textValue),be=Ase(G,J,le),oe=(ge=W.find(Ne=>Ne.textValue===be))==null?void 0:ge.ref.current;(function Ne(_e){N.current=_e,window.clearTimeout(A.current),_e!==""&&(A.current=window.setTimeout(()=>Ne(""),1e3))})(J),oe&&setTimeout(()=>oe.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),YT();const O=m.useCallback(L=>{var W,ne;return k.current===((W=M.current)==null?void 0:W.side)&&Nse(L,(ne=M.current)==null?void 0:ne.area)},[]);return u.jsx(fse,{scope:n,searchRef:N,onItemEnter:m.useCallback(L=>{O(L)&&L.preventDefault()},[O]),onItemLeave:m.useCallback(L=>{var J;O(L)||((J=C.current)==null||J.focus(),j(null))},[O]),onTriggerLeave:m.useCallback(L=>{O(L)&&L.preventDefault()},[O]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(L=>{M.current=L},[]),children:u.jsx(re,{...X,children:u.jsx(gy,{asChild:!0,trapped:s,onMountAutoFocus:he(i,L=>{var J;L.preventDefault(),(J=C.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:u.jsx(VL,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:j,onEntryFocus:he(l,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(X1,{role:"menu","aria-orientation":"vertical","data-state":m4(T.open),"data-radix-menu-content":"",dir:w.dir,...b,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:he(y.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,ne=L.ctrlKey||L.altKey||L.metaKey,le=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!ne&&le&&Z(L.key));const G=C.current;if(L.target!==G||!sse.includes(L.key))return;L.preventDefault();const oe=I().filter(te=>!te.disabled).map(te=>te.ref.current);GL.includes(L.key)&&oe.reverse(),Sse(oe)}),onBlur:he(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(A.current),N.current="")}),onPointerMove:he(t.onPointerMove,oh(L=>{const J=L.target,W=$.current!==L.clientX;if(L.currentTarget.contains(J)&&W){const ne=L.clientX>$.current?"right":"left";k.current=ne,$.current=L.clientX}}))})})})})})})});ZL.displayName=Lr;var gse="MenuGroup",nE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Me.div,{role:"group",...r,ref:e})});nE.displayName=gse;var yse="MenuLabel",e4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Me.div,{...r,ref:e})});e4.displayName=yse;var zm="MenuItem",wN="menu.itemSelect",Ty=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Fh(zm,t.__scopeMenu),a=eE(zm,t.__scopeMenu),l=et(e,i),c=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(wN,{bubbles:!0,cancelable:!0});f.addEventListener(wN,g=>r==null?void 0:r(g),{once:!0}),j1(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(t4,{...s,ref:l,disabled:n,onClick:he(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:he(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:he(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||vx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ty.displayName=zm;var t4=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=eE(zm,n),a=QL(n),l=m.useRef(null),c=et(e,l),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),u.jsx(ih.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(FL,{asChild:!0,...a,focusable:!r,children:u.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:he(t.onPointerMove,oh(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,oh(v=>o.onItemLeave(v))),onFocus:he(t.onFocus,()=>f(!0)),onBlur:he(t.onBlur,()=>f(!1))})})})}),vse="MenuCheckboxItem",n4=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(a4,{scope:t.__scopeMenu,checked:n,children:u.jsx(Ty,{role:"menuitemcheckbox","aria-checked":Bm(n)?"mixed":n,...s,ref:e,"data-state":sE(n),onSelect:he(s.onSelect,()=>r==null?void 0:r(Bm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});n4.displayName=vse;var r4="MenuRadioGroup",[wse,xse]=Ya(r4,{value:void 0,onValueChange:()=>{}}),s4=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=yn(r);return u.jsx(wse,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(nE,{...s,ref:e})})});s4.displayName=r4;var i4="MenuRadioItem",o4=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=xse(i4,t.__scopeMenu),i=n===s.value;return u.jsx(a4,{scope:t.__scopeMenu,checked:i,children:u.jsx(Ty,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":sE(i),onSelect:he(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});o4.displayName=i4;var rE="MenuItemIndicator",[a4,bse]=Ya(rE,{checked:!1}),l4=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=bse(rE,n);return u.jsx(fs,{present:r||Bm(i.checked)||i.checked===!0,children:u.jsx(Me.span,{...s,ref:e,"data-state":sE(i.checked)})})});l4.displayName=rE;var Tse="MenuSeparator",c4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});c4.displayName=Tse;var Ese="MenuArrow",u4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=by(n);return u.jsx(J1,{...s,...r,ref:e})});u4.displayName=Ese;var _se="MenuSub",[zce,d4]=Ya(_se),Mu="MenuSubTrigger",h4=m.forwardRef((t,e)=>{const n=Xa(Mu,t.__scopeMenu),r=Fh(Mu,t.__scopeMenu),s=d4(Mu,t.__scopeMenu),i=eE(Mu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(JT,{asChild:!0,...c,children:u.jsx(t4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":m4(n.open),...t,ref:vg(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,oh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:he(t.onPointerLeave,oh(f=>{var g,v;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(v=n.content)==null?void 0:v.dataset.side,T=y==="right",w=T?-5:5,b=p[T?"left":"right"],E=p[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:b,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:b,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||ise[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});h4.displayName=Mu;var f4="MenuSubContent",p4=m.forwardRef((t,e)=>{const n=XL(Lr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Xa(Lr,t.__scopeMenu),o=Fh(Lr,t.__scopeMenu),a=d4(f4,t.__scopeMenu),l=m.useRef(null),c=et(e,l);return u.jsx(ih.Provider,{scope:t.__scopeMenu,children:u.jsx(fs,{present:r||i.open,children:u.jsx(ih.Slot,{scope:t.__scopeMenu,children:u.jsx(tE,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=ose[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});p4.displayName=f4;function m4(t){return t?"open":"closed"}function Bm(t){return t==="indeterminate"}function sE(t){return Bm(t)?"indeterminate":t?"checked":"unchecked"}function Sse(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Cse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Ase(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Cse(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Ise(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function Nse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ise(n,e)}function oh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Pse=YL,Rse=JT,kse=JL,Dse=ZL,jse=nE,Mse=e4,Ose=Ty,Lse=n4,Vse=s4,Fse=o4,Use=l4,$se=c4,zse=u4,Bse=h4,Wse=p4,iE="DropdownMenu",[qse,Bce]=bi(iE,[KL]),Kn=KL(),[Hse,g4]=qse(iE),y4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Kn(e),c=m.useRef(null),[d=!1,f]=Ca({prop:s,defaultProp:i,onChange:o});return u.jsx(Hse,{scope:e,triggerId:Ns(),triggerRef:c,contentId:Ns(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(Pse,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};y4.displayName=iE;var v4="DropdownMenuTrigger",w4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=g4(v4,n),o=Kn(n);return u.jsx(Rse,{asChild:!0,...o,children:u.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:vg(e,i.triggerRef),onPointerDown:he(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:he(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});w4.displayName=v4;var Gse="DropdownMenuPortal",x4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kn(e);return u.jsx(kse,{...r,...n})};x4.displayName=Gse;var b4="DropdownMenuContent",T4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=g4(b4,n),i=Kn(n),o=m.useRef(!1);return u.jsx(Dse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:he(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T4.displayName=b4;var Kse="DropdownMenuGroup",Qse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(jse,{...s,...r,ref:e})});Qse.displayName=Kse;var Yse="DropdownMenuLabel",E4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Mse,{...s,...r,ref:e})});E4.displayName=Yse;var Xse="DropdownMenuItem",_4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Ose,{...s,...r,ref:e})});_4.displayName=Xse;var Jse="DropdownMenuCheckboxItem",S4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Lse,{...s,...r,ref:e})});S4.displayName=Jse;var Zse="DropdownMenuRadioGroup",eie=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Vse,{...s,...r,ref:e})});eie.displayName=Zse;var tie="DropdownMenuRadioItem",C4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Fse,{...s,...r,ref:e})});C4.displayName=tie;var nie="DropdownMenuItemIndicator",A4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Use,{...s,...r,ref:e})});A4.displayName=nie;var rie="DropdownMenuSeparator",I4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx($se,{...s,...r,ref:e})});I4.displayName=rie;var sie="DropdownMenuArrow",iie=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(zse,{...s,...r,ref:e})});iie.displayName=sie;var oie="DropdownMenuSubTrigger",N4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Bse,{...s,...r,ref:e})});N4.displayName=oie;var aie="DropdownMenuSubContent",P4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Wse,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P4.displayName=aie;var lie=y4,cie=w4,uie=x4,R4=T4,k4=E4,D4=_4,j4=S4,M4=C4,O4=A4,L4=I4,V4=N4,F4=P4;const die=lie,hie=cie,fie=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(V4,{ref:s,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(zk,{className:"ml-auto h-4 w-4"})]}));fie.displayName=V4.displayName;const pie=m.forwardRef(({className:t,...e},n)=>u.jsx(F4,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));pie.displayName=F4.displayName;const U4=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(uie,{children:u.jsx(R4,{ref:r,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));U4.displayName=R4.displayName;const $4=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(D4,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));$4.displayName=D4.displayName;const mie=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(j4,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(O4,{children:u.jsx($k,{className:"h-4 w-4"})})}),e]}));mie.displayName=j4.displayName;const gie=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(M4,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(O4,{children:u.jsx(c9,{className:"h-2 w-2 fill-current"})})}),e]}));gie.displayName=M4.displayName;const z4=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(k4,{ref:r,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));z4.displayName=k4.displayName;const B4=m.forwardRef(({className:t,...e},n)=>u.jsx(L4,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));B4.displayName=L4.displayName;var oE="Avatar",[yie,Wce]=bi(oE),[vie,W4]=yie(oE),q4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return u.jsx(vie,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Me.span,{...r,ref:e})})});q4.displayName=oE;var H4="AvatarImage",G4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=W4(H4,n),a=wie(r,i.referrerPolicy),l=yn(c=>{s(c),o.onImageLoadingStatusChange(c)});return un(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Me.img,{...i,ref:e,src:r}):null});G4.displayName=H4;var K4="AvatarFallback",Q4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=W4(K4,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Me.span,{...s,ref:e}):null});Q4.displayName=K4;function wie(t,e){const[n,r]=m.useState("idle");return un(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Y4=q4,X4=G4,J4=Q4;const Ou=m.forwardRef(({className:t,...e},n)=>u.jsx(Y4,{ref:n,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ou.displayName=Y4.displayName;const Lu=m.forwardRef(({className:t,src:e,alt:n="Avatar",...r},s)=>e?u.jsx(X4,{ref:s,src:e,alt:n,className:pe("aspect-square h-full w-full object-cover",t),onLoadingStatusChange:i=>{i==="error"&&console.error("Failed to load avatar image: "+e)},onError:i=>{console.warn("Avatar image failed to load, showing fallback"),i.currentTarget&&(i.currentTarget.style.display="none")},...r}):null);Lu.displayName=X4.displayName;const Vu=m.forwardRef(({className:t,name:e,children:n,...r},s)=>{const i=m.useMemo(()=>e?e.split(" ").map(o=>o[0]).slice(0,2).join("").toUpperCase():null,[e]);return u.jsx(J4,{ref:s,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground font-medium",t),delayMs:300,...r,children:n||i||""})});Vu.displayName=J4.displayName;const xie=()=>{const{language:t,setLanguage:e}=Qa(),n=()=>{e(t==="en"?"ar":"en")};return u.jsx(fe,{variant:"outline",size:"icon",onClick:n,className:"h-10 w-10 rounded-full border-2 border-primary/50 bg-background shadow-lg hover:shadow-xl hover:border-primary hover:bg-background/95 transition-all duration-300",children:u.jsx("span",{className:"text-sm font-semibold text-primary",children:t==="en"?"":"EN"})})},Z4=m.createContext(void 0),bie=({children:t})=>{const[e,n]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return u.jsx(Z4.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})},Tie=()=>{const t=m.useContext(Z4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Eie=()=>{const{theme:t,toggleTheme:e}=Tie();return u.jsxs(fe,{variant:"outline",size:"icon",onClick:e,className:"rounded-full shadow-lg transition-all duration-300 hover:scale-110",children:[t==="light"?u.jsx(v9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}):u.jsx(E9,{className:"h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})};var aE="Dialog",[eV,tV]=bi(aE),[_ie,ms]=eV(aE),nV=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=Ca({prop:r,defaultProp:s,onChange:i});return u.jsx(_ie,{scope:e,triggerRef:a,contentRef:l,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};nV.displayName=aE;var rV="DialogTrigger",sV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(rV,n),i=et(e,s.triggerRef);return u.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":uE(s.open),...r,ref:i,onClick:he(t.onClick,s.onOpenToggle)})});sV.displayName=rV;var lE="DialogPortal",[Sie,iV]=eV(lE,{forceMount:void 0}),oV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ms(lE,e);return u.jsx(Sie,{scope:e,forceMount:n,children:m.Children.map(r,o=>u.jsx(fs,{present:n||i.open,children:u.jsx(vh,{asChild:!0,container:s,children:o})}))})};oV.displayName=lE;var Wm="DialogOverlay",aV=m.forwardRef((t,e)=>{const n=iV(Wm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(Wm,t.__scopeDialog);return i.modal?u.jsx(fs,{present:r||i.open,children:u.jsx(Cie,{...s,ref:e})}):null});aV.displayName=Wm;var Cie=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(Wm,n);return u.jsx(xy,{as:yo,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Me.div,{"data-state":uE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ja="DialogContent",lV=m.forwardRef((t,e)=>{const n=iV(ja,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(ja,t.__scopeDialog);return u.jsx(fs,{present:r||i.open,children:i.modal?u.jsx(Aie,{...s,ref:e}):u.jsx(Iie,{...s,ref:e})})});lV.displayName=ja;var Aie=m.forwardRef((t,e)=>{const n=ms(ja,t.__scopeDialog),r=m.useRef(null),s=et(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return XT(i)},[]),u.jsx(cV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault())})}),Iie=m.forwardRef((t,e)=>{const n=ms(ja,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(cV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),cV=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ms(ja,n),l=m.useRef(null),c=et(e,l);return YT(),u.jsxs(u.Fragment,{children:[u.jsx(gy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Pc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":uE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Pie,{titleId:a.titleId}),u.jsx(kie,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cE="DialogTitle",uV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(cE,n);return u.jsx(Me.h2,{id:s.titleId,...r,ref:e})});uV.displayName=cE;var dV="DialogDescription",hV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(dV,n);return u.jsx(Me.p,{id:s.descriptionId,...r,ref:e})});hV.displayName=dV;var fV="DialogClose",pV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(fV,n);return u.jsx(Me.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>s.onOpenChange(!1))})});pV.displayName=fV;function uE(t){return t?"open":"closed"}var mV="DialogTitleWarning",[Nie,gV]=fU(mV,{contentName:ja,titleName:cE,docsSlug:"dialog"}),Pie=({titleId:t})=>{const e=gV(mV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Rie="DialogDescriptionWarning",kie=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gV(Rie).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},dE=nV,hE=sV,fE=oV,Uh=aV,$h=lV,zh=uV,Bh=hV,Wh=pV;const ql=dE,Die=hE,jie=fE,yV=m.forwardRef(({className:t,...e},n)=>u.jsx(Uh,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yV.displayName=Uh.displayName;const va=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(jie,{children:[u.jsx(yV,{}),u.jsxs($h,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ei,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));va.displayName=$h.displayName;const wa=({className:t,...e})=>u.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});wa.displayName="DialogHeader";const vV=({className:t,...e})=>u.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});vV.displayName="DialogFooter";const xa=m.forwardRef(({className:t,...e},n)=>u.jsx(zh,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",t),...e}));xa.displayName=zh.displayName;const wV=m.forwardRef(({className:t,...e},n)=>u.jsx(Bh,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));wV.displayName=Bh.displayName;const Mie=["https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uchgfbvn93vankxi8ngt.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uemk18ecy4s9l5hkusfg.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ldf6gddraviuecktdv6r.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ypkhs51swkfc6dlwjvsw.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ezpug86k3gkypdx7u0bd.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/mwqpkyy8mnhq5eybpxgr.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/uivpymjbxjfpoiy0i659.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"],Rl=({children:t})=>{var P,j,C,S;const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!1),[a,l]=m.useState(!1);m.useState(!1),ce.useRef(null);const c=Ba(),d=za(),{language:f}=Qa(),[p,g]=m.useState(!1),[v,y]=m.useState(!1),[T,w]=m.useState(!1);m.useEffect(()=>{const A=()=>g(window.matchMedia("(min-width: 768px)").matches);return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const b=[{name:f==="en"?kr.en.home:kr.ar.home,path:"/"},{name:f==="en"?kr.en.news:kr.ar.news,path:"/news"},{name:f==="en"?kr.en.about:kr.ar.about,path:"/about"}];m.useEffect(()=>{const A=dy(Ht,async N=>{if(console.log("onAuthStateChanged fired. currentUser:",N),n(N),N){const D=yt(Ve,"users",N.uid),M=await vi(D);console.log("Fetched user docSnap.exists():",M.exists()),M.exists()?(console.log("userProfile from Firestore:",M.data()),s(M.data())):(console.log("No user doc in Firestore, using fallback profile."),s({fullName:N.displayName||(f==="en"?"User":""),email:N.email||(f==="en"?"No email":"   ")}))}else s(null)});return()=>A()},[f]);const E=async()=>{try{await fte(Ht),console.log("User signed out successfully."),c("/")}catch(A){console.error("Error logging out:",A)}},I=async A=>{if(e){w(!0);try{const N=yt(Ve,"users",e.uid);await Ms(N,{avatar:A,updatedAt:_O()}),"updateProfile"in e&&typeof e.updateProfile=="function"&&await e.updateProfile({photoURL:A}),s(D=>D&&{...D,avatar:A}),Xt({title:"   "}),y(!1)}catch{Xt({title:"    ",variant:"destructive"})}w(!1)}};return u.jsxs("div",{className:`min-h-screen bg-background text-foreground flex flex-col ${f==="ar"?"rtl":"ltr"}`,children:[u.jsxs("header",{className:"bg-card/80 backdrop-blur-xl sticky top-0 z-50 w-full shadow-xl transition-all duration-300 ease-in-out",children:[u.jsxs("div",{className:"container mx-auto px-4 py-3 lg:py-4 flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx(Ot,{to:"/",className:"flex items-center space-x-2 group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 rounded-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"h-12 w-12 rounded-lg transition-transform group-hover:scale-105 group-focus:scale-105 shadow-md"})})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[b.map((A,N)=>u.jsx(Ot,{to:A.path,className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                  ${d.pathname===A.path?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
                  ${f==="ar"&&N<b.length-1?"ml-4":""}
                `,children:A.name},A.path)),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"relative text-sm font-medium flex items-center gap-1 transition-colors duration-300 focus:outline-none focus-visible:text-primary text-muted-foreground hover:text-primary",tabIndex:0,type:"button",children:[f==="ar"?"":"Tools",u.jsx(sm,{className:"h-4 w-4"})]}),u.jsxs("div",{className:`
                absolute left-0 mt-2 min-w-[160px] bg-card border border-border rounded-lg shadow-lg
                transition-opacity duration-200 z-50
                ${p?"opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto":"hidden"}
              `,children:[u.jsx(Ot,{to:"/resources",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10 hover:text-primary rounded transition",children:f==="ar"?"":"Resources"}),u.jsx(Ot,{to:"/challenges",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10 hover:text-primary rounded transition",children:f==="ar"?" ":"Programming Challenges"})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Ot,{to:"/admin-dashboard",className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                ${d.pathname==="/admin-dashboard"?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
              `,children:f==="en"?"Dashboard":" "}),e?u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs(die,{children:[u.jsx(hie,{asChild:!0,children:u.jsx(fe,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all duration-300 hover:scale-110 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 p-0",children:u.jsxs(Ou,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:[u.jsx(Lu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Vu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((P=r==null?void 0:r.fullName)==null?void 0:P[0])||"U"})]})})}),u.jsxs(U4,{className:"w-64 p-3 shadow-2xl rounded-lg border border-border animate-in fade-in-0 zoom-in-95",align:f==="ar"?"start":"end",forceMount:!0,children:[u.jsx(z4,{className:"font-normal p-0 mb-3",children:u.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsxs(Ou,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:[u.jsx(Lu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Vu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((j=r==null?void 0:r.fullName)==null?void 0:j[0])||"U"})]}),u.jsxs("div",{className:"flex flex-col space-y-1 text-right",children:[u.jsxs("p",{className:"text-sm font-semibold leading-none text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||(f==="en"?"User":""),u.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[u.jsx(jd,{className:"h-4 w-4 text-muted-foreground"}),r.role==="owner"?f==="en"?"Owner":"":r.role==="admin"?f==="en"?"Admin":"":f==="en"?"User":"",u.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]})]})]})}),u.jsx(B4,{className:"my-2 bg-border"}),u.jsx("button",{className:"w-full text-right px-2 py-2 hover:bg-muted rounded transition",onClick:()=>y(!0),children:"  "}),u.jsxs($4,{onClick:E,className:"cursor-pointer flex items-center justify-end text-red-500 hover:bg-red-50 focus:bg-red-50 hover:text-red-600 focus:text-red-600 rounded-md p-2 transition-colors duration-200 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[u.jsx(wS,{className:"h-4 w-4 mr-2"}),f==="en"?"Logout":" "]})]})]})}):u.jsx(Ot,{to:"/login",className:"relative text-sm font-medium text-muted-foreground hover:text-primary transition-colors duration-300 after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full focus:outline-none focus-visible:text-primary",children:f==="en"?"Login":" "})]}),u.jsx("div",{className:"md:hidden flex items-center gap-2",children:e&&u.jsx(fe,{variant:"ghost",className:"p-0 h-10 w-10 rounded-full border-2 border-primary/50 shadow-sm",onClick:()=>y(!0),title:" ",children:u.jsxs(Ou,{className:"h-10 w-10",children:[u.jsx(Lu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User"}),u.jsx(Vu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((C=r==null?void 0:r.fullName)==null?void 0:C[0])||"U"})]})})}),u.jsx("button",{className:"md:hidden text-muted-foreground hover:text-primary transition-colors duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",onClick:()=>{o(!i),l(!1)},"aria-label":i?f==="en"?"Close menu":" ":f==="en"?"Open menu":" ",children:i?u.jsx(ei,{className:"h-6 w-6"}):u.jsx(qk,{className:"h-6 w-6"})})]}),u.jsxs(vm,{children:[i&&!a&&u.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[b.map(A=>u.jsx(Ot,{to:A.path,onClick:()=>o(!1),className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                      ${d.pathname===A.path?"text-primary":"text-foreground hover:text-primary"}
                    `,children:A.name},A.path)),u.jsx("div",{className:"relative group",children:u.jsxs("button",{className:"relative text-base font-medium flex items-center gap-1 transition-colors duration-300 focus:outline-none focus-visible:text-primary text-muted-foreground hover:text-primary",tabIndex:0,onClick:()=>l(!0),children:[f==="ar"?"":"Tools",u.jsx(sm,{className:"h-4 w-4"})]})}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Ot,{to:"/admin-dashboard",className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                    ${d.pathname==="/admin-dashboard"?"text-primary":"text-foreground hover:text-primary"}
                  `,onClick:()=>o(!1),children:f==="en"?"Dashboard":" "}),u.jsx("div",{className:"border-t border-border pt-4 mt-4 flex items-center space-x-3 rtl:space-x-reverse",children:e?u.jsxs(u.Fragment,{children:[u.jsxs(Ou,{className:"h-12 w-12 flex-shrink-0 border-2 border-primary/50 shadow-md",children:[u.jsx(Lu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"object-cover",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Vu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((S=r==null?void 0:r.fullName)==null?void 0:S[0])||"U"})]}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsxs("p",{className:"text-base font-semibold text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||(f==="en"?"User":""),u.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[u.jsx(jd,{className:"h-4 w-4 text-muted-foreground"}),r.role==="owner"?f==="en"?"Owner":"":r.role==="admin"?f==="en"?"Admin":"":f==="en"?"User":"",u.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("button",{onClick:()=>{E(),o(!1)},className:"text-red-500 hover:text-red-600 transition-colors duration-300 text-right font-medium mt-2 flex items-center justify-end gap-1 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[u.jsx(wS,{className:"h-4 w-4 mr-2"}),f==="en"?"Logout":" "]})]})]}):u.jsx(Ot,{to:"/login",className:"text-base font-medium text-foreground hover:text-primary transition-colors duration-300 pt-4 border-t border-border mt-4 focus:outline-none focus-visible:text-primary",onClick:()=>o(!1),children:f==="en"?"Login":" "})})]})}),i&&a&&u.jsx(se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[u.jsx("button",{className:"flex items-center gap-2 text-base font-medium text-muted-foreground hover:text-primary transition-colors mb-2",onClick:()=>l(!1),children:f==="ar"?" ":" Back"}),u.jsx(Ot,{to:"/resources",className:"block px-4 py-2 text-base text-foreground hover:bg-primary/10 hover:text-primary rounded transition",onClick:()=>{o(!1),l(!1)},children:f==="ar"?"":"Resources"}),u.jsx(Ot,{to:"/challenges",className:"block px-4 py-2 text-base text-foreground hover:bg-primary/10 hover:text-primary rounded transition",onClick:()=>{o(!1),l(!1)},children:f==="ar"?" ":"Programming Challenges"})]})})]})]}),u.jsx("main",{className:"flex-grow",children:u.jsx(vm,{mode:"wait",children:u.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:t},d.pathname)})}),u.jsx(Jne,{}),u.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex items-center gap-4",children:[u.jsx(xie,{}),u.jsx(Eie,{})]}),u.jsx(ql,{open:v,onOpenChange:y,children:u.jsxs(va,{children:[u.jsx(wa,{children:u.jsx(xa,{children:"   "})}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center py-2",children:Mie.map((A,N)=>u.jsx("img",{src:A,alt:"avatar",style:{border:(r==null?void 0:r.avatar)===A?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:T?"not-allowed":"pointer",opacity:T?.5:1},onClick:()=>!T&&I(A)},N))}),T&&u.jsx("div",{className:"text-center py-2",children:" ..."})]})})]})},Ip=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:pe("w-full caption-bottom text-sm",t),...e})}));Ip.displayName="Table";const Np=m.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:pe("[&_tr]:border-b",t),...e}));Np.displayName="TableHeader";const Pp=m.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:pe("[&_tr:last-child]:border-0",t),...e}));Pp.displayName="TableBody";const Oie=m.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Oie.displayName="TableFooter";const Jo=m.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Jo.displayName="TableRow";const Vn=m.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Vn.displayName="TableHead";const Fn=m.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Fn.displayName="TableCell";const Lie=m.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:pe("mt-4 text-sm text-muted-foreground",t),...e}));Lie.displayName="TableCaption";var xV="AlertDialog",[Vie,qce]=bi(xV,[tV]),Ci=tV(),bV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ci(e);return u.jsx(dE,{...r,...n,modal:!0})};bV.displayName=xV;var Fie="AlertDialogTrigger",TV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(hE,{...s,...r,ref:e})});TV.displayName=Fie;var Uie="AlertDialogPortal",EV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ci(e);return u.jsx(fE,{...r,...n})};EV.displayName=Uie;var $ie="AlertDialogOverlay",_V=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(Uh,{...s,...r,ref:e})});_V.displayName=$ie;var Hl="AlertDialogContent",[zie,Bie]=Vie(Hl),SV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Ci(n),o=m.useRef(null),a=et(e,o),l=m.useRef(null);return u.jsx(Nie,{contentName:Hl,titleName:CV,docsSlug:"alert-dialog",children:u.jsx(zie,{scope:n,cancelRef:l,children:u.jsxs($h,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:he(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(D1,{children:r}),u.jsx(qie,{contentRef:o})]})})})});SV.displayName=Hl;var CV="AlertDialogTitle",AV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(zh,{...s,...r,ref:e})});AV.displayName=CV;var IV="AlertDialogDescription",NV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(Bh,{...s,...r,ref:e})});NV.displayName=IV;var Wie="AlertDialogAction",PV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(Wh,{...s,...r,ref:e})});PV.displayName=Wie;var RV="AlertDialogCancel",kV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Bie(RV,n),i=Ci(n),o=et(e,s);return u.jsx(Wh,{...i,...r,ref:o})});kV.displayName=RV;var qie=({contentRef:t})=>{const e=`\`${Hl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hl}\` by passing a \`${IV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Hie=bV,Gie=TV,Kie=EV,DV=_V,jV=SV,MV=PV,OV=kV,LV=AV,VV=NV;const wx=Hie,xx=Gie,Qie=Kie,FV=m.forwardRef(({className:t,...e},n)=>u.jsx(DV,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));FV.displayName=DV.displayName;const qm=m.forwardRef(({className:t,...e},n)=>u.jsxs(Qie,{children:[u.jsx(FV,{}),u.jsx(jV,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));qm.displayName=jV.displayName;const Hm=({className:t,...e})=>u.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Hm.displayName="AlertDialogHeader";const Gm=({className:t,...e})=>u.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gm.displayName="AlertDialogFooter";const Km=m.forwardRef(({className:t,...e},n)=>u.jsx(LV,{ref:n,className:pe("text-lg font-semibold",t),...e}));Km.displayName=LV.displayName;const Qm=m.forwardRef(({className:t,...e},n)=>u.jsx(VV,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));Qm.displayName=VV.displayName;const Ym=m.forwardRef(({className:t,...e},n)=>u.jsx(MV,{ref:n,className:pe(ab(),t),...e}));Ym.displayName=MV.displayName;const Xm=m.forwardRef(({className:t,...e},n)=>u.jsx(OV,{ref:n,className:pe(ab({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Xm.displayName=OV.displayName;function gs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ma(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const UV=6048e5,Yie=864e5;let Xie={};function Ey(){return Xie}function ah(t,e){var a,l,c,d;const n=Ey(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=gs(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Jm(t){return ah(t,{weekStartsOn:1})}function $V(t){const e=gs(t),n=e.getFullYear(),r=Ma(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Jm(r),i=Ma(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Jm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function xN(t){const e=gs(t);return e.setHours(0,0,0,0),e}function bN(t){const e=gs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Jie(t,e){const n=xN(t),r=xN(e),s=+n-bN(n),i=+r-bN(r);return Math.round((s-i)/Yie)}function Zie(t){const e=$V(t),n=Ma(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Jm(n)}function eoe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function toe(t){if(!eoe(t)&&typeof t!="number")return!1;const e=gs(t);return!isNaN(Number(e))}function noe(t){const e=gs(t),n=Ma(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const roe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},soe=(t,e,n)=>{let r;const s=roe[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ioe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ooe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aoe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},loe={date:Gl({formats:ioe,defaultWidth:"full"}),time:Gl({formats:ooe,defaultWidth:"full"}),dateTime:Gl({formats:aoe,defaultWidth:"full"})},coe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uoe=(t,e,n,r)=>coe[t];function Ss(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const doe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},foe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},poe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},moe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},goe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yoe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},voe={ordinalNumber:yoe,era:Ss({values:doe,defaultWidth:"wide"}),quarter:Ss({values:hoe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ss({values:foe,defaultWidth:"wide"}),day:Ss({values:poe,defaultWidth:"wide"}),dayPeriod:Ss({values:moe,defaultWidth:"wide",formattingValues:goe,defaultFormattingWidth:"wide"})};function Cs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?xoe(a,f=>f.test(o)):woe(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function woe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function xoe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function zV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const boe=/^(\d+)(th|st|nd|rd)?/i,Toe=/\d+/i,Eoe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_oe={any:[/^b/i,/^(a|c)/i]},Soe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Coe={any:[/1/i,/2/i,/3/i,/4/i]},Aoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ioe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Noe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Poe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Roe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},koe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Doe={ordinalNumber:zV({matchPattern:boe,parsePattern:Toe,valueCallback:t=>parseInt(t,10)}),era:Cs({matchPatterns:Eoe,defaultMatchWidth:"wide",parsePatterns:_oe,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:Soe,defaultMatchWidth:"wide",parsePatterns:Coe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cs({matchPatterns:Aoe,defaultMatchWidth:"wide",parsePatterns:Ioe,defaultParseWidth:"any"}),day:Cs({matchPatterns:Noe,defaultMatchWidth:"wide",parsePatterns:Poe,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:Roe,defaultMatchWidth:"any",parsePatterns:koe,defaultParseWidth:"any"})},joe={code:"en-US",formatDistance:soe,formatLong:loe,formatRelative:uoe,localize:voe,match:Doe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Moe(t){const e=gs(t);return Jie(e,noe(e))+1}function Ooe(t){const e=gs(t),n=+Jm(e)-+Zie(e);return Math.round(n/UV)+1}function BV(t,e){var d,f,p,g;const n=gs(t),r=n.getFullYear(),s=Ey(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ma(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ah(o,e),l=Ma(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=ah(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Loe(t,e){var a,l,c,d;const n=Ey(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=BV(t,e),i=Ma(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ah(i,e)}function Voe(t,e){const n=gs(t),r=+ah(n,e)-+Loe(n,e);return Math.round(r/UV)+1}function ct(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Di={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ct(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ct(n+1,2)},d(t,e){return ct(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ct(t.getHours()%12||12,e.length)},H(t,e){return ct(t.getHours(),e.length)},m(t,e){return ct(t.getMinutes(),e.length)},s(t,e){return ct(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ct(s,e.length)}},cl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Di.y(t,e)},Y:function(t,e,n,r){const s=BV(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ct(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ct(i,e.length)},R:function(t,e){const n=$V(t);return ct(n,e.length)},u:function(t,e){const n=t.getFullYear();return ct(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Di.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Voe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ct(s,e.length)},I:function(t,e,n){const r=Ooe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ct(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Di.d(t,e)},D:function(t,e,n){const r=Moe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ct(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ct(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ct(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ct(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=cl.noon:r===0?s=cl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=cl.evening:r>=12?s=cl.afternoon:r>=4?s=cl.morning:s=cl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Di.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Di.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Di.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Di.s(t,e)},S:function(t,e){return Di.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _N(r);case"XXXX":case"XX":return Zo(r);case"XXXXX":case"XXX":default:return Zo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return _N(r);case"xxxx":case"xx":return Zo(r);case"xxxxx":case"xxx":default:return Zo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+EN(r,":");case"OOOO":default:return"GMT"+Zo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+EN(r,":");case"zzzz":default:return"GMT"+Zo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ct(r,e.length)},T:function(t,e,n){const r=t.getTime();return ct(r,e.length)}};function EN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ct(i,2)}function _N(t,e){return t%60===0?(t>0?"-":"+")+ct(Math.abs(t)/60,2):Zo(t,e)}function Zo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ct(Math.trunc(r/60),2),i=ct(r%60,2);return n+s+e+i}const SN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Foe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return SN(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",SN(r,e)).replace("{{time}}",WV(s,e))},Uoe={p:WV,P:Foe},$oe=/^D+$/,zoe=/^Y+$/,Boe=["D","DD","YY","YYYY"];function Woe(t){return $oe.test(t)}function qoe(t){return zoe.test(t)}function Hoe(t,e,n){const r=Goe(t,e,n);if(console.warn(r),Boe.includes(t))throw new RangeError(r)}function Goe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Koe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qoe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yoe=/^'([^]*?)'?$/,Xoe=/''/g,Joe=/[a-zA-Z]/;function CN(t,e,n){var d,f,p,g,v,y,T,w;const r=Ey(),s=(n==null?void 0:n.locale)??r.locale??joe,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(T=r.locale)==null?void 0:T.options)==null?void 0:w.weekStartsOn)??0,a=gs(t);if(!toe(a))throw new RangeError("Invalid time value");let l=e.match(Qoe).map(b=>{const E=b[0];if(E==="p"||E==="P"){const I=Uoe[E];return I(b,s.formatLong)}return b}).join("").match(Koe).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const E=b[0];if(E==="'")return{isToken:!1,value:Zoe(b)};if(TN[E])return{isToken:!0,value:b};if(E.match(Joe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(b=>{if(!b.isToken)return b.value;const E=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qoe(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Woe(E))&&Hoe(E,e,String(t));const I=TN[E[0]];return I(a,E,s.localize,c)}).join("")}function Zoe(t){const e=t.match(Yoe);return e?e[1].replace(Xoe,"'"):t}const eae=xh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zm({className:t,variant:e,...n}){return u.jsx("div",{className:pe(eae({variant:e}),t),...n})}const tae={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},nae=(t,e,n)=>{const r=tae[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},rae={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},sae={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},iae={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oae={date:Gl({formats:rae,defaultWidth:"full"}),time:Gl({formats:sae,defaultWidth:"full"}),dateTime:Gl({formats:iae,defaultWidth:"full"})},aae={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},lae=t=>aae[t],cae={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},uae={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},dae={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},hae={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},fae={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},pae={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},mae=t=>String(t),gae={ordinalNumber:mae,era:Ss({values:cae,defaultWidth:"wide"}),quarter:Ss({values:uae,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ss({values:dae,defaultWidth:"wide"}),day:Ss({values:hae,defaultWidth:"wide"}),dayPeriod:Ss({values:fae,defaultWidth:"wide",formattingValues:pae,defaultFormattingWidth:"wide"})},yae=/^(\d+)(th|st|nd|rd)?/i,vae=/\d+/i,wae={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},xae={any:[//,//]},bae={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Tae={any:[/1/i,/2/i,/3/i,/4/i]},Eae={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},_ae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Sae={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},Cae={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Aae={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Iae={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},Nae={ordinalNumber:zV({matchPattern:yae,parsePattern:vae,valueCallback:t=>parseInt(t,10)}),era:Cs({matchPatterns:wae,defaultMatchWidth:"wide",parsePatterns:xae,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:bae,defaultMatchWidth:"wide",parsePatterns:Tae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cs({matchPatterns:Eae,defaultMatchWidth:"wide",parsePatterns:_ae,defaultParseWidth:"any"}),day:Cs({matchPatterns:Sae,defaultMatchWidth:"wide",parsePatterns:Cae,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:Aae,defaultMatchWidth:"any",parsePatterns:Iae,defaultParseWidth:"any"})},AN={code:"ar",formatDistance:nae,formatLong:oae,formatRelative:lae,localize:gae,match:Nae,options:{weekStartsOn:6,firstWeekContainsDate:1}},Pae=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(null),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const f=Zr(Zt(Ve,"activities"),Gc("timestamp","desc")),p=jT(f,g=>{const v=[];g.forEach(y=>{v.push({id:y.id,...y.data()})}),e(v),i(!1)},g=>{console.error("Error fetching activities:",g),a("    "),i(!1)});return()=>p()},[]);const d=f=>({register:{icon:Gk,color:"bg-green-500",text:"  "},add_lecture:{icon:Su,color:"bg-blue-500",text:" "},delete_lecture:{icon:si,color:"bg-red-500",text:" "},add_subject:{icon:Zs,color:"bg-purple-500",text:" "},delete_subject:{icon:si,color:"bg-red-500",text:" "},update_lecture:{icon:ow,color:"bg-yellow-500",text:" "},update_subject:{icon:ow,color:"bg-yellow-500",text:" "},delete_user_by_admin:{icon:si,color:"bg-red-500",text:" "},ban_user_by_admin:{icon:Uk,color:"bg-red-500",text:" "},unban_user:{icon:Wk,color:"bg-green-500",text:"  "}})[f]||{icon:l9,color:"bg-gray-500",text:f};return s?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.jsxs(ln,{className:"shadow-lg",children:[u.jsx(kn,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border",children:u.jsx(vm,{children:t.map(f=>{const p=d(f.type),g=p.icon;return u.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 hover:bg-accent/50 transition-colors",children:u.jsx("button",{onClick:()=>{r(f),c(!0)},className:"w-full text-right",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Zm,{className:`${p.color} p-2`,children:u.jsx(g,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-foreground",children:p.text}),u.jsx("p",{className:"text-sm text-muted-foreground",children:CN(f.timestamp.toDate(),"PPpp",{locale:AN})}),f.details&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:f.details})]})]})})},f.id)})})})}),u.jsx(ql,{open:l,onOpenChange:c,children:u.jsxs(va,{className:"sm:max-w-[500px]",children:[u.jsx(wa,{children:u.jsx(xa,{className:"text-2xl font-bold mb-4",children:" "})}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:" "}),u.jsx("p",{children:d(n.type).text})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.username||" "})]})]}),n.subjectName&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.subjectName})]}),n.lectureTitle&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.lectureTitle})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:n.details||"   "})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:""}),u.jsx("p",{children:CN(n.timestamp.toDate(),"PPpp",{locale:AN})})]}),n.ipAddress&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:" IP"}),u.jsx("p",{className:"font-mono",children:n.ipAddress})]})]}),u.jsx(vV,{children:u.jsx(fe,{onClick:()=>c(!1),children:""})})]})})]})};var pE="Tabs",[Rae,Hce]=bi(pE,[vy]),qV=vy(),[kae,mE]=Rae(pE),HV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=my(a),[f,p]=Ca({prop:r,onChange:s,defaultProp:i});return u.jsx(kae,{scope:n,baseId:Ns(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(Me.div,{dir:d,"data-orientation":o,...c,ref:e})})});HV.displayName=pE;var GV="TabsList",KV=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=mE(GV,n),o=qV(n);return u.jsx(VL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});KV.displayName=GV;var QV="TabsTrigger",YV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=mE(QV,n),a=qV(n),l=ZV(o.baseId,r),c=eF(o.baseId,r),d=r===o.value;return u.jsx(FL,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:he(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:he(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:he(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});YV.displayName=QV;var XV="TabsContent",JV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=mE(XV,n),l=ZV(a.baseId,r),c=eF(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(fs,{present:s||d,children:({present:p})=>u.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});JV.displayName=XV;function ZV(t,e){return`${t}-trigger-${e}`}function eF(t,e){return`${t}-content-${e}`}var Dae=HV,tF=KV,nF=YV,rF=JV;const jae=Dae,sF=m.forwardRef(({className:t,...e},n)=>u.jsx(tF,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));sF.displayName=tF.displayName;const Fu=m.forwardRef(({className:t,...e},n)=>u.jsx(nF,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Fu.displayName=nF.displayName;const Uu=m.forwardRef(({className:t,...e},n)=>u.jsx(rF,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Uu.displayName=rF.displayName;function IN(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mae(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Oae=[" ","Enter","ArrowUp","ArrowDown"],Lae=[" ","Enter"],qh="Select",[_y,Sy,Vae]=wg(qh),[Qc,Gce]=bi(qh,[Vae,jc]),Cy=jc(),[Fae,Vo]=Qc(qh),[Uae,$ae]=Qc(qh),iF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:v}=t,y=Cy(e),[T,w]=m.useState(null),[b,E]=m.useState(null),[I,P]=m.useState(!1),j=my(c),[C=!1,S]=Ca({prop:r,defaultProp:s,onChange:i}),[A,N]=Ca({prop:o,defaultProp:a,onChange:l}),D=m.useRef(null),M=T?v||!!T.closest("form"):!0,[k,$]=m.useState(new Set),re=Array.from(k).map(X=>X.props.value).join(";");return u.jsx(T2,{...y,children:u.jsxs(Fae,{required:g,scope:e,trigger:T,onTriggerChange:w,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:Ns(),value:A,onValueChange:N,open:C,onOpenChange:S,dir:j,triggerPointerDownPosRef:D,disabled:p,children:[u.jsx(_y.Provider,{scope:e,children:u.jsx(Uae,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(X=>{$(Z=>new Set(Z).add(X))},[]),onNativeOptionRemove:m.useCallback(X=>{$(Z=>{const O=new Set(Z);return O.delete(X),O})},[]),children:n})}),M?u.jsxs(PF,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:X=>N(X.target.value),disabled:p,form:v,children:[A===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},re):null]})})};iF.displayName=qh;var oF="SelectTrigger",aF=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Cy(n),o=Vo(oF,n),a=o.disabled||r,l=et(e,o.onTriggerChange),c=Sy(n),d=m.useRef("touch"),[f,p,g]=RF(y=>{const T=c().filter(E=>!E.disabled),w=T.find(E=>E.value===o.value),b=kF(T,y,w);b!==void 0&&o.onValueChange(b.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Y1,{asChild:!0,...i,children:u.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":NF(o.value)?"":void 0,...s,ref:l,onClick:he(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:he(s.onPointerDown,y=>{d.current=y.pointerType;const T=y.target;T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:he(s.onKeyDown,y=>{const T=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(T&&y.key===" ")&&Oae.includes(y.key)&&(v(),y.preventDefault())})})})});aF.displayName=oF;var lF="SelectValue",cF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Vo(lF,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=et(e,l.onValueNodeChange);return un(()=>{c(d)},[c,d]),u.jsx(Me.span,{...a,ref:f,style:{pointerEvents:"none"},children:NF(l.value)?u.jsx(u.Fragment,{children:o}):i})});cF.displayName=lF;var zae="SelectIcon",uF=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Me.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});uF.displayName=zae;var Bae="SelectPortal",dF=t=>u.jsx(vh,{asChild:!0,...t});dF.displayName=Bae;var Oa="SelectContent",hF=m.forwardRef((t,e)=>{const n=Vo(Oa,t.__scopeSelect),[r,s]=m.useState();if(un(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ua.createPortal(u.jsx(fF,{scope:t.__scopeSelect,children:u.jsx(_y.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(pF,{...t,ref:e})});hF.displayName=Oa;var Hr=10,[fF,Fo]=Qc(Oa),Wae="SelectContentImpl",pF=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:T,...w}=t,b=Vo(Oa,n),[E,I]=m.useState(null),[P,j]=m.useState(null),C=et(e,te=>I(te)),[S,A]=m.useState(null),[N,D]=m.useState(null),M=Sy(n),[k,$]=m.useState(!1),re=m.useRef(!1);m.useEffect(()=>{if(E)return XT(E)},[E]),YT();const X=m.useCallback(te=>{const[ge,...Ne]=M().map(Y=>Y.ref.current),[_e]=Ne.slice(-1),we=document.activeElement;for(const Y of te)if(Y===we||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ge&&P&&(P.scrollTop=0),Y===_e&&P&&(P.scrollTop=P.scrollHeight),Y==null||Y.focus(),document.activeElement!==we))return},[M,P]),Z=m.useCallback(()=>X([S,E]),[X,S,E]);m.useEffect(()=>{k&&Z()},[k,Z]);const{onOpenChange:O,triggerPointerDownPosRef:L}=b;m.useEffect(()=>{if(E){let te={x:0,y:0};const ge=_e=>{var we,Y;te={x:Math.abs(Math.round(_e.pageX)-(((we=L.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Y=L.current)==null?void 0:Y.y)??0))}},Ne=_e=>{te.x<=10&&te.y<=10?_e.preventDefault():E.contains(_e.target)||O(!1),document.removeEventListener("pointermove",ge),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[E,O,L]),m.useEffect(()=>{const te=()=>O(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[O]);const[J,W]=RF(te=>{const ge=M().filter(we=>!we.disabled),Ne=ge.find(we=>we.ref.current===document.activeElement),_e=kF(ge,te,Ne);_e&&setTimeout(()=>_e.ref.current.focus())}),ne=m.useCallback((te,ge,Ne)=>{const _e=!re.current&&!Ne;(b.value!==void 0&&b.value===ge||_e)&&(A(te),_e&&(re.current=!0))},[b.value]),le=m.useCallback(()=>E==null?void 0:E.focus(),[E]),G=m.useCallback((te,ge,Ne)=>{const _e=!re.current&&!Ne;(b.value!==void 0&&b.value===ge||_e)&&D(te)},[b.value]),be=r==="popper"?bx:mF,oe=be===bx?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:T}:{};return u.jsx(fF,{scope:n,content:E,viewport:P,onViewportChange:j,itemRefCallback:ne,selectedItem:S,onItemLeave:le,itemTextRefCallback:G,focusSelectedItem:Z,selectedItemText:N,position:r,isPositioned:k,searchRef:J,children:u.jsx(xy,{as:yo,allowPinchZoom:!0,children:u.jsx(gy,{asChild:!0,trapped:b.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:he(s,te=>{var ge;(ge=b.trigger)==null||ge.focus({preventScroll:!0}),te.preventDefault()}),children:u.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(be,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:te=>te.preventDefault(),...w,...oe,onPlaced:()=>$(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:he(w.onKeyDown,te=>{const ge=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ge&&te.key.length===1&&W(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let _e=M().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(te.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const we=te.target,Y=_e.indexOf(we);_e=_e.slice(Y+1)}setTimeout(()=>X(_e)),te.preventDefault()}})})})})})})});pF.displayName=Wae;var qae="SelectItemAlignedPosition",mF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Vo(Oa,n),o=Fo(Oa,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=et(e,C=>d(C)),p=Sy(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:w,focusSelectedItem:b}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&T&&w){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(i.dir!=="rtl"){const we=N.left-S.left,Y=A.left-we,ie=C.left-Y,Ce=C.width+ie,We=Math.max(Ce,S.width),V=window.innerWidth-Hr,me=IN(Y,[Hr,Math.max(Hr,V-We)]);a.style.minWidth=Ce+"px",a.style.left=me+"px"}else{const we=S.right-N.right,Y=window.innerWidth-A.right-we,ie=window.innerWidth-C.right-Y,Ce=C.width+ie,We=Math.max(Ce,S.width),V=window.innerWidth-Hr,me=IN(Y,[Hr,Math.max(Hr,V-We)]);a.style.minWidth=Ce+"px",a.style.right=me+"px"}const D=p(),M=window.innerHeight-Hr*2,k=y.scrollHeight,$=window.getComputedStyle(c),re=parseInt($.borderTopWidth,10),X=parseInt($.paddingTop,10),Z=parseInt($.borderBottomWidth,10),O=parseInt($.paddingBottom,10),L=re+X+k+O+Z,J=Math.min(T.offsetHeight*5,L),W=window.getComputedStyle(y),ne=parseInt(W.paddingTop,10),le=parseInt(W.paddingBottom,10),G=C.top+C.height/2-Hr,be=M-G,oe=T.offsetHeight/2,te=T.offsetTop+oe,ge=re+X+te,Ne=L-ge;if(ge<=G){const we=D.length>0&&T===D[D.length-1].ref.current;a.style.bottom="0px";const Y=c.clientHeight-y.offsetTop-y.offsetHeight,ie=Math.max(be,oe+(we?le:0)+Y+Z),Ce=ge+ie;a.style.height=Ce+"px"}else{const we=D.length>0&&T===D[0].ref.current;a.style.top="0px";const ie=Math.max(G,re+y.offsetTop+(we?ne:0)+oe)+Ne;a.style.height=ie+"px",y.scrollTop=ge-G+y.offsetTop}a.style.margin=`${Hr}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,T,w,i.dir,r]);un(()=>E(),[E]);const[I,P]=m.useState();un(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const j=m.useCallback(C=>{C&&v.current===!0&&(E(),b==null||b(),v.current=!1)},[E,b]);return u.jsx(Gae,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mF.displayName=qae;var Hae="SelectPopperPosition",bx=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hr,...i}=t,o=Cy(n);return u.jsx(X1,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bx.displayName=Hae;var[Gae,gE]=Qc(Oa,{}),Tx="SelectViewport",gF=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Fo(Tx,n),o=gE(Tx,n),a=et(e,i.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(_y.Slot,{scope:n,children:u.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:he(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-Hr*2,y=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),w=Math.max(y,T);if(w<v){const b=w+g,E=Math.min(v,b),I=b-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});gF.displayName=Tx;var yF="SelectGroup",[Kae,Qae]=Qc(yF),Yae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ns();return u.jsx(Kae,{scope:n,id:s,children:u.jsx(Me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Yae.displayName=yF;var vF="SelectLabel",wF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Qae(vF,n);return u.jsx(Me.div,{id:s.id,...r,ref:e})});wF.displayName=vF;var eg="SelectItem",[Xae,xF]=Qc(eg),bF=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Vo(eg,n),l=Fo(eg,n),c=a.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),v=et(e,b=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,b,r,s)}),y=Ns(),T=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Xae,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:m.useCallback(b=>{f(E=>E||((b==null?void 0:b.textContent)??"").trim())},[]),children:u.jsx(_y.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(Me.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:he(o.onFocus,()=>g(!0)),onBlur:he(o.onBlur,()=>g(!1)),onClick:he(o.onClick,()=>{T.current!=="mouse"&&w()}),onPointerUp:he(o.onPointerUp,()=>{T.current==="mouse"&&w()}),onPointerDown:he(o.onPointerDown,b=>{T.current=b.pointerType}),onPointerMove:he(o.onPointerMove,b=>{var E;T.current=b.pointerType,s?(E=l.onItemLeave)==null||E.call(l):T.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,b=>{var E;b.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:he(o.onKeyDown,b=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&b.key===" "||(Lae.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});bF.displayName=eg;var $u="SelectItemText",TF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Vo($u,n),a=Fo($u,n),l=xF($u,n),c=$ae($u,n),[d,f]=m.useState(null),p=et(e,w=>f(w),l.onItemTextChange,w=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=c;return un(()=>(y(v),()=>T(v)),[y,T,v]),u.jsxs(u.Fragment,{children:[u.jsx(Me.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ua.createPortal(i.children,o.valueNode):null]})});TF.displayName=$u;var EF="SelectItemIndicator",_F=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return xF(EF,n).isSelected?u.jsx(Me.span,{"aria-hidden":!0,...r,ref:e}):null});_F.displayName=EF;var Ex="SelectScrollUpButton",SF=m.forwardRef((t,e)=>{const n=Fo(Ex,t.__scopeSelect),r=gE(Ex,t.__scopeSelect),[s,i]=m.useState(!1),o=et(e,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(AF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});SF.displayName=Ex;var _x="SelectScrollDownButton",CF=m.forwardRef((t,e)=>{const n=Fo(_x,t.__scopeSelect),r=gE(_x,t.__scopeSelect),[s,i]=m.useState(!1),o=et(e,r.onScrollButtonChange);return un(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(AF,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});CF.displayName=_x;var AF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Fo("SelectScrollButton",n),o=m.useRef(null),a=Sy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),un(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:he(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(s.onPointerLeave,()=>{l()})})}),Jae="SelectSeparator",IF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Me.div,{"aria-hidden":!0,...r,ref:e})});IF.displayName=Jae;var Sx="SelectArrow",Zae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cy(n),i=Vo(Sx,n),o=Fo(Sx,n);return i.open&&o.position==="popper"?u.jsx(J1,{...s,...r,ref:e}):null});Zae.displayName=Sx;function NF(t){return t===""||t===void 0}var PF=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=et(e,s),o=Mae(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(wh,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});PF.displayName="BubbleSelect";function RF(t){const e=yn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function kF(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ele(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ele(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tle=iF,DF=aF,nle=cF,rle=uF,sle=dF,jF=hF,ile=gF,MF=wF,OF=bF,ole=TF,ale=_F,LF=SF,VF=CF,FF=IF;const pd=tle,md=nle,Kl=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(DF,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(rle,{asChild:!0,children:u.jsx(sm,{className:"h-4 w-4 opacity-50"})})]}));Kl.displayName=DF.displayName;const UF=m.forwardRef(({className:t,...e},n)=>u.jsx(LF,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(a9,{className:"h-4 w-4"})}));UF.displayName=LF.displayName;const $F=m.forwardRef(({className:t,...e},n)=>u.jsx(VF,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(sm,{className:"h-4 w-4"})}));$F.displayName=VF.displayName;const Ql=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(sle,{children:u.jsxs(jF,{ref:s,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(UF,{}),u.jsx(ile,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx($F,{})]})}));Ql.displayName=jF.displayName;const lle=m.forwardRef(({className:t,...e},n)=>u.jsx(MF,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));lle.displayName=MF.displayName;const eo=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(OF,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(ale,{children:u.jsx($k,{className:"h-4 w-4"})})}),u.jsx(ole,{children:e})]}));eo.displayName=OF.displayName;const cle=m.forwardRef(({className:t,...e},n)=>u.jsx(FF,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));cle.displayName=FF.displayName;const ule=dE,dle=hE,Hf=Wh,hle=fE,zF=m.forwardRef(({className:t,...e},n)=>u.jsx(Uh,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zF.displayName=Uh.displayName;const fle=xh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),BF=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(hle,{children:[u.jsx(zF,{}),u.jsxs($h,{ref:s,className:pe(fle({side:t}),e),...r,children:[n,u.jsxs(Wh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(ei,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BF.displayName=$h.displayName;const WF=({className:t,...e})=>u.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});WF.displayName="SheetHeader";const qF=m.forwardRef(({className:t,...e},n)=>u.jsx(zh,{ref:n,className:pe("text-lg font-semibold text-foreground",t),...e}));qF.displayName=zh.displayName;const HF=m.forwardRef(({className:t,...e},n)=>u.jsx(Bh,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));HF.displayName=Bh.displayName;const ple=()=>{var We;const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,c]=m.useState(!0),[d,f]=m.useState(""),[p,g]=m.useState(void 0),[v,y]=m.useState(null),T=(We=Ht.currentUser)==null?void 0:We.uid,[w,b]=m.useState(null),{toast:E}=k1(),[I,P]=m.useState("all");m.useState("all");const[j,C]=m.useState(""),[S,A]=m.useState(""),[N,D]=m.useState("2");m.useState(null);const[M,k]=m.useState(""),[$,re]=m.useState(""),[X,Z]=m.useState(null),[O,L]=m.useState("");m.useState(""),m.useState(null);const[J,W]=m.useState([]),[ne,le]=m.useState("users"),G=async()=>{try{c(!0),f("");const V=Zt(Ve,"users"),ke=(await Jr(V)).docs.map(Te=>({id:Te.id,...Te.data()}));e(ke)}catch(V){console.error("Error fetching users:",V),f("    .")}finally{c(!1)}},be=async()=>{try{const V=await Lne();r(V)}catch(V){console.error("Error fetching subjects:",V),E({title:"",description:"   .",variant:"destructive"})}},oe=async()=>{try{const me=(await $ne()).sort((ke,Te)=>{const He=ke.createdAt?new Date(ke.createdAt.toMillis()):new Date(0),ze=Te.createdAt?new Date(Te.createdAt.toMillis()):new Date(0);return He.getTime()-ze.getTime()});i(me)}catch(V){console.error("Error fetching lectures:",V),E({title:"",description:"   .",variant:"destructive"})}},te=async()=>{try{const V=Zt(Ve,"stages"),ke=(await Jr(V)).docs.map(Te=>({id:Te.id,name:Te.data().name}));a(ke)}catch(V){console.error("Error fetching stages:",V),E({title:"",description:"    .",variant:"destructive"})}};m.useEffect(()=>{G(),be(),oe(),te(),(async()=>{const Te=Ht.currentUser;if(Te){const He=yt(Ve,"users",Te.uid),ze=await vi(He);ze.exists()&&b(ze.data().role)}})();const me=Zr(Zt(Ve,"activities"),Gc("timestamp","desc"),kT(5)),ke=jT(me,Te=>{const He=Te.docs.map(ze=>({id:ze.id,...ze.data()}));W(He)});return()=>ke()},[]);const ge=async V=>{var me,ke,Te,He;c(!0),f("");try{const ze=t.find(tt=>tt.id===V);if(!ze){console.warn("User not found in the current state.");return}const wn=Zr(Zt(Ve,"activities"),Du("userId","==",V)),Qt=(await Jr(wn)).docs.map(tt=>Ys(tt.ref));await Promise.all(Qt);const kt=Zr(Zt(Ve,"lectures"),Du("createdBy","==",V)),z=(await Jr(kt)).docs.map(tt=>Ys(tt.ref));await Promise.all(z);const ae=Zr(Zt(Ve,"subjects"),Du("createdBy","==",V)),de=(await Jr(ae)).docs.map(tt=>Ys(tt.ref));await Promise.all(de);const Ye=Zr(Zt(Ve,"news"),Du("createdBy","==",V)),at=(await Jr(Ye)).docs.map(tt=>Ys(tt.ref));await Promise.all(at),await Ys(yt(Ve,"users",V)),((me=Ht.currentUser)==null?void 0:me.uid)===V&&await Ht.signOut(),e(tt=>tt.filter(Dt=>Dt.id!==V)),await sh({type:"delete_user_by_admin",userId:(ke=Ht.currentUser)==null?void 0:ke.uid,username:((Te=Ht.currentUser)==null?void 0:Te.email)||"N/A",details:` ${(He=Ht.currentUser)==null?void 0:He.email}   ${ze.fullName||ze.email}    .`}),E({title:"  ",description:`   (${ze.fullName||ze.email})     .`,variant:"default"})}catch(ze){console.error("Error deleting user:",ze),f("   ."),E({title:"",description:"     .",variant:"destructive"})}finally{c(!1)}},Ne=async V=>{y(V),g(void 0)},_e=async V=>{try{if(!t.find(Te=>Te.id===V))return;const ke=yt(Ve,"users",V);await Ms(ke,{isBanned:!1,banUntil:null}),e(t.map(Te=>Te.id===V?{...Te,isBanned:!1,banUntil:null}:Te))}catch(me){console.error("Error unbanning user:",me),f("    .")}},we=async V=>{try{f(""),c(!0),console.log("Uploading file:",{name:V.name,size:V.size,type:V.type});const{fileId:me,fileName:ke,fileUrl:Te}=await AL(V);console.log("File uploaded successfully:",{fileId:me,fileName:ke,fileUrl:Te}),await Une(O,M,$,V),E({title:"",description:"   ."}),k(""),re(""),L(""),Z(null),oe()}catch(me){console.error("Error uploading lecture:",me),E({title:"",description:`   : ${me.message||"  "}`,variant:"destructive"})}finally{c(!1)}},Y=async V=>{try{const me=V.course==="1"?"2":"1";await Vne(V.id,V.name,V.stageId,me),E({title:"",description:`   "${V.name}"  ${me==="1"?" ":" "}.`}),be()}catch(me){console.error("Error moving subject course:",me),E({title:"",description:"      .",variant:"destructive"})}},ie=async(V,me)=>{var ke,Te,He;try{const ze=t.find(st=>st.id===V);if(!ze){console.warn("User not found in the current state.");return}const wn=yt(Ve,"users",V);await Ms(wn,{role:me,updatedAt:new Date}),e(t.map(st=>st.id===V?{...st,role:me}:st)),await sh({type:"change_user_role",userId:(ke=Ht.currentUser)==null?void 0:ke.uid,username:((Te=Ht.currentUser)==null?void 0:Te.email)||"N/A",details:` ${(He=Ht.currentUser)==null?void 0:He.email}     ${ze.fullName||ze.email}  ${me==="admin"?"":""}.`}),E({title:"  ",description:`    (${ze.fullName||ze.email})  ${me==="admin"?"":""} .`,variant:"default"})}catch(ze){console.error("Error changing user role:",ze),E({title:"",description:"    .",variant:"destructive"})}};t.length,t.filter(V=>!V.isBanned).length,t.filter(V=>V.isBanned).length,t.filter(V=>V.role==="admin").length,t.filter(V=>V.role==="user").length,s.filter(V=>I==="all"||V.subjectId===I);const Ce=[{label:" ",value:t.length,icon:u.jsx(sa,{className:"h-7 w-7 text-primary"})},{label:" ",value:s.length,icon:u.jsx(Su,{className:"h-7 w-7 text-primary"})},{label:" ",value:n.length,icon:u.jsx(Zs,{className:"h-7 w-7 text-primary"})}];return u.jsxs("div",{className:"container mx-auto py-8 animate-fade-in",children:[u.jsxs(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative rounded-2xl bg-gradient-to-r from-primary/80 to-primary/40 p-8 mb-8 flex items-center shadow-lg overflow-hidden",children:[u.jsx(U1,{className:"absolute right-6 top-6 text-white/30 h-16 w-16 animate-pulse"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[u.jsx(m9,{className:"h-8 w-8 text-white/90"}),"  "]}),u.jsx("p",{className:"text-lg text-white/80",children:"    .        ."})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:Ce.map((V,me)=>u.jsxs(se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*me,duration:.6,type:"spring"},className:"dashboard-card flex items-center gap-4 p-6 bg-background/80 hover:scale-[1.03] transition-transform",children:[u.jsx("div",{className:"flex-shrink-0",children:V.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-foreground",children:V.value}),u.jsx("div",{className:"text-muted-foreground",children:V.label})]})]},V.label))}),u.jsx("div",{className:"md:hidden flex justify-end mb-4",children:u.jsxs(ule,{children:[u.jsx(dle,{asChild:!0,children:u.jsx(fe,{variant:"outline",size:"icon",children:u.jsx(qk,{className:"h-6 w-6"})})}),u.jsxs(BF,{side:"left",className:"w-64",children:[u.jsxs(WF,{children:[u.jsx(qF,{children:" "}),u.jsx(HF,{children:"    ."})]}),u.jsxs("div",{className:"flex flex-col space-y-4 py-6",children:[u.jsx(Hf,{asChild:!0,children:u.jsxs(fe,{variant:"ghost",className:"justify-start",onClick:()=>le("users"),children:[u.jsx(sa,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(Hf,{asChild:!0,children:u.jsxs(fe,{variant:"ghost",className:"justify-start",onClick:()=>le("subjects"),children:[u.jsx(Zs,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(Hf,{asChild:!0,children:u.jsxs(fe,{variant:"ghost",className:"justify-start",onClick:()=>le("lectures"),children:[u.jsx(Su,{className:"h-5 w-5 ml-2"}),"  "]})}),u.jsx(Hf,{asChild:!0,children:u.jsxs(fe,{variant:"ghost",className:"justify-start",onClick:()=>le("activities"),children:[u.jsx(vv,{className:"h-5 w-5 ml-2"}),"  "]})})]})]})]})}),u.jsxs(jae,{defaultValue:"users",value:ne,onValueChange:le,className:"w-full",children:[u.jsxs(sF,{className:"hidden md:grid md:grid-cols-4 gap-0 mb-8 p-1 bg-muted rounded-lg",children:[u.jsxs(Fu,{value:"users",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(sa,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(Fu,{value:"subjects",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Zs,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(Fu,{value:"lectures",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Su,{className:"h-5 w-5 ml-2"})," "]}),u.jsxs(Fu,{value:"activities",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(vv,{className:"h-5 w-5 ml-2"})," "]})]}),u.jsx(Uu,{value:"users",className:"space-y-6",children:u.jsxs(ln,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Bn,{className:"p-6",children:u.jsxs(Rn,{className:"text-xl font-semibold flex items-center",children:[u.jsx(sa,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsx(kn,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Ip,{className:"admin-dashboard-table",children:[u.jsx(Np,{children:u.jsxs(Jo,{children:[u.jsx(Vn,{children:""}),u.jsx(Vn,{children:" "}),u.jsx(Vn,{children:""}),u.jsx(Vn,{children:""}),u.jsx(Vn,{className:"text-right",children:""})]})}),u.jsx(Pp,{children:t.map(V=>u.jsxs(Jo,{children:[u.jsx(Fn,{children:V.fullName||"-"}),u.jsx(Fn,{children:V.email}),u.jsx(Fn,{children:V.role==="owner"?"":V.role==="admin"?"":""}),u.jsx(Fn,{children:V.isBanned?u.jsx("span",{className:"text-red-500",children:""}):u.jsx("span",{className:"text-green-600",children:""})}),u.jsxs(Fn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[w==="owner"&&V.role!=="owner"&&V.id!==T&&u.jsxs(u.Fragment,{children:[u.jsxs(wx,{children:[u.jsx(xx,{asChild:!0,children:u.jsx(fe,{variant:"destructive",size:"icon",children:u.jsx(si,{className:"h-5 w-5"})})}),u.jsxs(qm,{children:[u.jsxs(Hm,{children:[u.jsx(Km,{children:"      "}),u.jsx(Qm,{children:"     .      ."})]}),u.jsxs(Gm,{children:[u.jsx(Xm,{children:""}),u.jsx(Ym,{onClick:()=>ge(V.id),children:" "})]})]})]}),u.jsxs(wx,{children:[u.jsx(xx,{asChild:!0,children:u.jsx(fe,{variant:"outline",size:"icon",className:V.role==="admin"?"text-yellow-500 hover:text-yellow-600":"text-blue-500 hover:text-blue-600",children:V.role==="admin"?u.jsx(A9,{className:"h-5 w-5"}):u.jsx(C9,{className:"h-5 w-5"})})}),u.jsxs(qm,{children:[u.jsxs(Hm,{children:[u.jsx(Km,{children:V.role==="admin"?"  ":"  "}),u.jsx(Qm,{children:V.role==="admin"?"         ":"        "})]}),u.jsxs(Gm,{children:[u.jsx(Xm,{children:""}),u.jsx(Ym,{onClick:()=>ie(V.id,V.role==="admin"?"user":"admin"),children:V.role==="admin"?" ":""})]})]})]})]}),V.isBanned?u.jsx(fe,{variant:"outline",onClick:()=>_e(V.id),size:"icon",children:u.jsx(Wk,{className:"h-5 w-5 text-green-600"})}):u.jsx(fe,{variant:"outline",onClick:()=>Ne(V),size:"icon",children:u.jsx(Uk,{className:"h-5 w-5 text-red-500"})})]})]},V.id))})]})})})]})}),u.jsx(Uu,{value:"subjects",children:u.jsxs(ln,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Bn,{className:"p-6",children:u.jsxs(Rn,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Zs,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsxs(kn,{children:[u.jsxs("form",{onSubmit:async V=>{V.preventDefault();try{const me=await One(j,S,N);E({title:" ",description:"   ."}),be()}catch(me){console.error("Error adding subject: ",me),E({title:"",description:"    .",variant:"destructive"})}},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(zt,{placeholder:" ",value:j,onChange:V=>C(V.target.value)}),u.jsxs(pd,{value:S,onValueChange:V=>A(V),children:[u.jsx(Kl,{children:u.jsx(md,{placeholder:" "})}),u.jsx(Ql,{children:o.map(V=>u.jsx(eo,{value:V.id,children:V.name},V.id))})]}),u.jsxs(pd,{value:N,onValueChange:V=>D(V),children:[u.jsx(Kl,{children:u.jsx(md,{placeholder:" "})}),u.jsxs(Ql,{children:[u.jsx(eo,{value:"1",children:" "}),u.jsx(eo,{value:"2",children:" "})]})]})]}),u.jsx(fe,{type:"submit",className:"w-full",children:" "})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Ip,{className:"admin-dashboard-table",children:[u.jsx(Np,{children:u.jsxs(Jo,{children:[u.jsx(Vn,{children:" "}),u.jsx(Vn,{children:""}),u.jsx(Vn,{children:""}),u.jsx(Vn,{className:"text-right",children:""})]})}),u.jsx(Pp,{children:n.map(V=>{var me;return u.jsxs(Jo,{children:[u.jsx(Fn,{children:V.name}),u.jsx(Fn,{children:((me=o.find(ke=>ke.id===V.stageId))==null?void 0:me.name)||"-"}),u.jsx(Fn,{children:V.course==="1"?" ":" "}),u.jsxs(Fn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(fe,{variant:"outline",onClick:()=>Y(V),size:"icon",children:u.jsx(ZU,{className:"h-5 w-5"})}),u.jsx(fe,{variant:"destructive",onClick:async()=>{try{await Fne(V.id),E({title:"",description:"   "}),be()}catch(ke){console.error("Error deleting subject: ",ke),E({title:"",description:"  ",variant:"destructive"})}},size:"icon",children:u.jsx(si,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),u.jsx(Uu,{value:"lectures",children:u.jsxs(ln,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(Bn,{className:"p-6",children:u.jsxs(Rn,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Su,{className:"h-6 w-6 ml-2 text-primary"})," "]})}),u.jsxs(kn,{children:[u.jsxs("form",{onSubmit:V=>{if(V.preventDefault(),!O){E({title:"",description:"   ",variant:"destructive"});return}X&&we(X)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(zt,{placeholder:" ",value:M,onChange:V=>k(V.target.value)}),u.jsx(zt,{placeholder:" ",value:$,onChange:V=>re(V.target.value)}),u.jsxs(pd,{value:O,onValueChange:V=>L(V),children:[u.jsx(Kl,{children:u.jsx(md,{placeholder:" "})}),u.jsx(Ql,{children:n.map(V=>u.jsx(eo,{value:V.id,children:V.name},V.id))})]}),u.jsx(zt,{type:"file",onChange:V=>{var me;return Z(((me=V.target.files)==null?void 0:me[0])||null)}})]}),u.jsx(fe,{type:"submit",className:"w-full",children:" "})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Ip,{className:"admin-dashboard-table",children:[u.jsx(Np,{children:u.jsxs(Jo,{children:[u.jsx(Vn,{children:" "}),u.jsx(Vn,{children:" "}),u.jsx(Vn,{children:""}),u.jsx(Vn,{children:" "}),u.jsx(Vn,{className:"text-right",children:""})]})}),u.jsx(Pp,{children:s.map(V=>{var me;return u.jsxs(Jo,{children:[u.jsx(Fn,{children:((me=n.find(ke=>ke.id===V.subjectId))==null?void 0:me.name)||"-"}),u.jsx(Fn,{children:V.title}),u.jsx(Fn,{children:V.description}),u.jsx(Fn,{children:V.fileName}),u.jsxs(Fn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(fe,{variant:"outline",onClick:()=>zne(V.id,V.title,V.description),size:"icon",children:u.jsx(ow,{className:"h-5 w-5"})}),u.jsx(fe,{variant:"destructive",onClick:async()=>{try{await Bne(V.id,V.fileId),E({title:"",description:"   "}),oe()}catch(ke){console.error("Error deleting lecture: ",ke),E({title:"",description:"  ",variant:"destructive"})}},size:"icon",children:u.jsx(si,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),u.jsx(Uu,{value:"activities",className:"space-y-6",children:u.jsxs(ln,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsxs(Bn,{className:"p-6",children:[u.jsxs(Rn,{className:"text-xl font-semibold flex items-center",children:[u.jsx(vv,{className:"h-6 w-6 ml-2 text-primary"})," "]}),u.jsx(ss,{children:"      "})]}),u.jsx(kn,{children:u.jsx(Pae,{})})]})})]}),u.jsxs(se.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},className:"fixed bottom-8 left-8 z-50 bg-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 dashboard-button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},title:"  ",children:[u.jsx(F1,{className:"h-6 w-6"}),""]})]})},NN=({allowedRoles:t})=>{const[e,n]=m.useState(!0),[r,s]=m.useState(!1),[i,o]=m.useState(void 0);return m.useEffect(()=>{const a=dy(Ht,async l=>{if(l){s(!0);const c=yt(Ve,"users",l.uid),d=await vi(c);d.exists()?o(d.data().role):o("user")}else s(!1),o(null)});return()=>a()},[]),m.useEffect(()=>{r!==!1&&i!==void 0&&n(!1),r===!1&&i===null&&n(!1)},[r,i]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsx("p",{children:"   ..."})}):!r||i===null?u.jsx(gw,{to:"/login",replace:!0}):t&&!t.includes(i)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"   "}),u.jsx("p",{className:"text-muted-foreground",children:"      ."}),u.jsx(gw,{to:"/",replace:!0})," "]})}):u.jsx(S8,{})},Cx=m.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Cx.displayName="Textarea";function mle(t){return Object.prototype.toString.call(t)==="[object Object]"}function PN(t){return mle(t)||Array.isArray(t)}function gle(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function yE(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!PN(a)||!PN(l)?a===l:yE(a,l)})}function RN(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function yle(t,e){if(t.length!==e.length)return!1;const n=RN(t),r=RN(e);return n.every((s,i)=>{const o=r[i];return yE(s,o)})}function vE(t){return typeof t=="number"}function Ax(t){return typeof t=="string"}function Ay(t){return typeof t=="boolean"}function kN(t){return Object.prototype.toString.call(t)==="[object Object]"}function It(t){return Math.abs(t)}function wE(t){return Math.sign(t)}function gd(t,e){return It(t-e)}function vle(t,e){if(t===0||e===0||It(t)<=It(e))return 0;const n=gd(It(t),It(e));return It(n/t)}function lh(t){return ch(t).map(Number)}function os(t){return t[Hh(t)]}function Hh(t){return Math.max(0,t.length-1)}function xE(t,e){return e===Hh(t)}function DN(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function ch(t){return Object.keys(t)}function GF(t,e){return[t,e].reduce((n,r)=>(ch(r).forEach(s=>{const i=n[s],o=r[s],a=kN(i)&&kN(o);n[s]=a?GF(i,o):o}),n),{})}function Ix(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function wle(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return Ax(t)?n[t](l):t(e,l,c)}return{measure:o}}function uh(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function xle(t,e,n,r){const s=uh(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){g(),s.clear()}function f(T){if(!l)return;o||(o=T);const w=T-o;for(o=T,a+=w;a>=i;)n(i),a-=i;const b=a/i;r(b),l&&e.requestAnimationFrame(f)}function p(){l||(l=e.requestAnimationFrame(f))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:d,start:p,stop:g,update:()=>n(i),render:r}}function ble(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=f();function c(v){const{height:y,width:T}=v;return r?y:T}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function p(v){return v*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function La(t=0,e=0){const n=It(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function KF(t,e,n){const{constrain:r}=La(0,t),s=t+1;let i=o(e);function o(p){return n?It((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),f}function c(p){return d().set(a()+p)}function d(){return KF(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function Tle(t,e,n,r,s,i,o,a,l,c,d,f,p,g,v,y,T,w,b){const{cross:E,direction:I}=t,P=["INPUT","SELECT","TEXTAREA"],j={passive:!1},C=uh(),S=uh(),A=La(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},D={mouse:500,touch:600},M=v?43:25;let k=!1,$=0,re=0,X=!1,Z=!1,O=!1,L=!1;function J(Y){if(!b)return;function ie(We){(Ay(b)||b(Y,We))&&oe(We)}const Ce=e;C.add(Ce,"dragstart",We=>We.preventDefault(),j).add(Ce,"touchmove",()=>{},j).add(Ce,"touchend",()=>{}).add(Ce,"touchstart",ie).add(Ce,"mousedown",ie).add(Ce,"touchcancel",ge).add(Ce,"contextmenu",ge).add(Ce,"click",Ne,!0)}function W(){C.clear(),S.clear()}function ne(){const Y=L?n:e;S.add(Y,"touchmove",te,j).add(Y,"touchend",ge).add(Y,"mousemove",te,j).add(Y,"mouseup",ge)}function le(Y){const ie=Y.nodeName||"";return P.includes(ie)}function G(){return(v?D:N)[L?"mouse":"touch"]}function be(Y,ie){const Ce=f.add(wE(Y)*-1),We=d.byDistance(Y,!v).distance;return v||It(Y)<A?We:T&&ie?We*.5:d.byIndex(Ce.get(),0).distance}function oe(Y){const ie=Ix(Y,r);L=ie,O=v&&ie&&!Y.buttons&&k,k=gd(s.get(),o.get())>=2,!(ie&&Y.button!==0)&&(le(Y.target)||(X=!0,i.pointerDown(Y),c.useFriction(0).useDuration(0),s.set(o),ne(),$=i.readPoint(Y),re=i.readPoint(Y,E),p.emit("pointerDown")))}function te(Y){if(!Ix(Y,r)&&Y.touches.length>=2)return ge(Y);const Ce=i.readPoint(Y),We=i.readPoint(Y,E),V=gd(Ce,$),me=gd(We,re);if(!Z&&!L&&(!Y.cancelable||(Z=V>me,!Z)))return ge(Y);const ke=i.pointerMove(Y);V>y&&(O=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(I(ke)),Y.preventDefault()}function ge(Y){const Ce=d.byDistance(0,!1).index!==f.get(),We=i.pointerUp(Y)*G(),V=be(I(We),Ce),me=vle(We,V),ke=M-10*me,Te=w+me/50;Z=!1,X=!1,S.clear(),c.useDuration(ke).useFriction(Te),l.distance(V,!v),L=!1,p.emit("pointerUp")}function Ne(Y){O&&(Y.stopPropagation(),Y.preventDefault(),O=!1)}function _e(){return X}return{init:J,destroy:W,pointerDown:_e}}function Ele(t,e){let r,s;function i(f){return f.timeStamp}function o(f,p){const v=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(Ix(f,e)?f:f.touches[0])[v]}function a(f){return r=f,s=f,o(f)}function l(f){const p=o(f)-o(s),g=i(f)-i(r)>170;return s=f,g&&(r=f),p}function c(f){if(!r||!s)return 0;const p=o(s)-o(r),g=i(f)-i(r),v=i(f)-i(s)>170,y=p/g;return g&&!v&&It(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function _le(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function Sle(t){function e(r){return t*(r/100)}return{measure:e}}function Cle(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],f=!1;function p(T){return s.measureSize(o.measure(T))}function g(T){if(!i)return;c=p(t),d=r.map(p);function w(b){for(const E of b){if(f)return;const I=E.target===t,P=r.indexOf(E.target),j=I?c:d[P],C=p(I?t:r[P]);if(It(C-j)>=.5){T.reInit(),e.emit("resize");break}}}l=new ResizeObserver(b=>{(Ay(i)||i(T,b))&&w(b)}),n.requestAnimationFrame(()=>{a.forEach(b=>l.observe(b))})}function v(){f=!0,l&&l.disconnect()}return{init:g,destroy:v}}function Ale(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),f=0;function p(j){const C=j/1e3,S=l*C,A=r.get()-t.get(),N=!l;let D=0;return N?(o=0,n.set(r),t.set(r),D=A):(n.set(t),o+=A/S,o*=c,d+=o,t.add(o*C),D=d-f),a=wE(D),f=d,P}function g(){const j=r.get()-e.get();return It(j)<.001}function v(){return l}function y(){return a}function T(){return o}function w(){return E(s)}function b(){return I(i)}function E(j){return l=j,P}function I(j){return c=j,P}const P={direction:y,duration:v,velocity:T,seek:p,settled:g,useBaseFriction:b,useBaseDuration:w,useFriction:I,useDuration:E};return P}function Ile(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=La(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",y=It(t[v]-e.get()),T=n.get()-e.get(),w=a.constrain(y/o);n.subtract(T*w),!g&&It(T)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:f}}function Nle(t,e,n,r,s){const i=La(-e+t,0),o=f(),a=d(),l=p();function c(v,y){return gd(v,y)<1}function d(){const v=o[0],y=os(o),T=o.lastIndexOf(v),w=o.indexOf(y)+1;return La(T,w)}function f(){return n.map((v,y)=>{const{min:T,max:w}=i,b=i.constrain(v),E=!y,I=xE(n,y);return E?w:I||c(T,b)?T:c(w,b)?w:b}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:v,max:y}=a;return o.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function Ple(t,e,n){const r=e[0],s=n?r-t:os(e);return{limit:La(s,r)}}function Rle(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=La(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const g=t*(p*-1);r.forEach(v=>v.add(g))}return{loop:d}}function kle(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function Dle(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=f().map(e.measure),c=p(),d=g();function f(){return a(r).map(y=>os(y)[o]-y[0][i]).map(It)}function p(){return r.map(y=>n[i]-y[i]).map(y=>-It(y))}function g(){return a(c).map(y=>y[0]).map((y,T)=>y+l[T])}return{snaps:c,snapsAligned:d}}function jle(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const p=o(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?p:p.slice(a,l).map((v,y,T)=>{const w=!y,b=xE(T,y);if(w){const E=os(T[0])+1;return DN(E)}if(b){const E=Hh(i)-os(T)[0]+1;return DN(E,os(T)[0])}return v})}return{slideRegistry:c}}function Mle(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((y,T)=>It(y)-It(T))[0]}function c(v){const y=t?o(v):a(v),T=e.map((b,E)=>({diff:d(b-y,0),index:E})).sort((b,E)=>It(b.diff)-It(E.diff)),{index:w}=T[0];return{index:w,distance:y}}function d(v,y){const T=[v,v+n,v-n];if(!t)return v;if(!y)return l(T);const w=T.filter(b=>wE(b)===y);return w.length?l(w):os(T)-n}function f(v,y){const T=e[v]-s.get(),w=d(T,y);return{index:v,distance:w}}function p(v,y){const T=s.get()+v,{index:w,distance:b}=c(T),E=!t&&i(T);if(!y||E)return{index:w,distance:v};const I=e[w]-b,P=v+d(I,0);return{index:w,distance:P}}return{byDistance:p,byIndex:f,shortcut:d}}function Ole(t,e,n,r,s,i,o){function a(f){const p=f.distance,g=f.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function l(f,p){const g=s.byDistance(f,p);a(g)}function c(f,p){const g=e.clone().set(f),v=s.byIndex(g.get(),p);a(v)}return{distance:l,index:c}}function Lle(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const b=n.findIndex(E=>E.includes(y));vE(b)&&(s.useDuration(0),r.index(b,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),e.forEach((y,T)=>{i.add(y,"focus",w=>{(Ay(a)||a(g,w))&&v(T)},l)})}function f(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function zu(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return vE(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function QF(t,e){const n=t.scroll==="x"?i:o,r=e.style;let s=!1;function i(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function a(f){s||(r.transform=n(t.direction(f)))}function l(f){s=!f}function c(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function Vle(t,e,n,r,s,i,o,a,l){const d=lh(s),f=lh(s).reverse(),p=w().concat(b());function g(C,S){return C.reduce((A,N)=>A-s[N],S)}function v(C,S){return C.reduce((A,N)=>g(A,S)>0?A.concat([N]):A,[])}function y(C){return i.map((S,A)=>({start:S-r[A]+.5+C,end:S+e-.5+C}))}function T(C,S,A){const N=y(S);return C.map(D=>{const M=A?0:-n,k=A?n:0,$=A?"end":"start",re=N[D][$];return{index:D,loopPoint:re,slideLocation:zu(-1),translate:QF(t,l[D]),target:()=>a.get()>re?M:k}})}function w(){const C=o[0],S=v(f,C);return T(S,n,!1)}function b(){const C=e-o[0]-1,S=v(d,C);return T(S,-n,!0)}function E(){return p.every(({index:C})=>{const S=d.filter(A=>A!==C);return g(S,e)<=.1})}function I(){p.forEach(C=>{const{target:S,translate:A,slideLocation:N}=C,D=S();D!==N.get()&&(A.to(D),N.set(D))})}function P(){p.forEach(C=>C.translate.clear())}return{canLoop:E,clear:P,loop:I,loopPoints:p}}function Fle(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(Ay(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function Ule(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const T=e.indexOf(y.target);s[T]=y}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function f(v){return ch(s).reduce((y,T)=>{const w=parseInt(T),{isIntersecting:b}=s[w];return(v&&b||!v&&!b)&&y.push(w),y},[])}function p(v=!0){if(v&&i)return i;if(!v&&o)return o;const y=f(v);return v&&(i=y),v||(o=y),y}return{init:c,destroy:d,get:p}}function $le(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=v(),f=y(),p=n.map(o),g=T();function v(){if(!c)return 0;const b=n[0];return It(e[a]-b[a])}function y(){if(!c)return 0;const b=i.getComputedStyle(os(r));return parseFloat(b.getPropertyValue(`margin-${l}`))}function T(){return n.map((b,E,I)=>{const P=!E,j=xE(I,E);return P?p[E]+d:j?p[E]+f:I[E+1][a]-b[a]}).map(It)}return{slideSizes:p,slideSizesWithGaps:g,startGap:d,endGap:f}}function zle(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:f}=t,p=vE(n);function g(w,b){return lh(w).filter(E=>E%b===0).map(E=>w.slice(E,E+b))}function v(w){return w.length?lh(w).reduce((b,E,I)=>{const P=os(b)||0,j=P===0,C=E===Hh(w),S=s[c]-i[P][c],A=s[c]-i[E][d],N=!r&&j?f(o):0,D=!r&&C?f(a):0,M=It(A-D-(S+N));return I&&M>e+l&&b.push(E),C&&b.push(w.length),b},[]).map((b,E,I)=>{const P=Math.max(I[E-1]||0);return w.slice(P,b)}):[]}function y(w){return p?g(w,n):v(w)}return{groupSlides:y}}function Ble(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:p,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:T,skipSnaps:w,containScroll:b,watchResize:E,watchSlides:I,watchDrag:P,watchFocus:j}=i,C=2,S=_le(),A=S.measure(e),N=n.map(S.measure),D=ble(l,c),M=D.measureSize(A),k=Sle(M),$=wle(a,M),re=!f&&!!b,X=f||!!b,{slideSizes:Z,slideSizesWithGaps:O,startGap:L,endGap:J}=$le(D,A,N,n,X,s),W=zle(D,M,T,f,A,N,L,J,C),{snaps:ne,snapsAligned:le}=Dle(D,$,A,N,W),G=-os(ne)+os(O),{snapsContained:be,scrollContainLimit:oe}=Nle(M,G,le,b,C),te=re?be:le,{limit:ge}=Ple(G,te,f),Ne=KF(Hh(te),d,f),_e=Ne.clone(),we=lh(n),Y=({dragHandler:de,scrollBody:Ye,scrollBounds:Ue,options:{loop:at}},tt)=>{at||Ue.constrain(de.pointerDown()),Ye.seek(tt)},ie=({scrollBody:de,translate:Ye,location:Ue,offsetLocation:at,scrollLooper:tt,slideLooper:Dt,dragHandler:Ln,animation:Ja,eventHandler:Pe,scrollBounds:rt,options:{loop:Xe}},Wt)=>{const nn=de.settled(),dr=!rt.shouldConstrain(),hr=Xe?nn:nn&&dr;hr&&!Ln.pointerDown()&&(Ja.stop(),Pe.emit("settle")),hr||Pe.emit("scroll");const Uo=Ue.get()*Wt+ke.get()*(1-Wt);at.set(Uo),Xe&&(tt.loop(de.direction()),Dt.loop()),Ye.to(at.get())},Ce=xle(r,s,de=>Y(ye,de),de=>ie(ye,de)),We=.68,V=te[Ne.get()],me=zu(V),ke=zu(V),Te=zu(V),He=zu(V),ze=Ale(me,Te,ke,He,p,We),wn=Mle(f,te,G,ge,He),st=Ole(Ce,Ne,_e,ze,wn,He,o),Qt=kle(ge),kt=uh(),ft=Ule(e,n,o,y),{slideRegistry:z}=jle(re,b,te,oe,W,we),ae=Lle(t,n,z,st,ze,kt,o,j),ye={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:A,slideRects:N,animation:Ce,axis:D,dragHandler:Tle(D,t,r,s,He,Ele(D,s),me,Ce,st,ze,wn,Ne,o,k,g,v,w,We,P),eventStore:kt,percentOfView:k,index:Ne,indexPrevious:_e,limit:ge,location:me,offsetLocation:Te,previousLocation:ke,options:i,resizeHandler:Cle(e,o,s,n,D,E,S),scrollBody:ze,scrollBounds:Ile(ge,Te,He,ze,k),scrollLooper:Rle(G,ge,Te,[me,Te,ke,He]),scrollProgress:Qt,scrollSnapList:te.map(Qt.get),scrollSnaps:te,scrollTarget:wn,scrollTo:st,slideLooper:Vle(D,M,G,Z,O,ne,te,Te,n),slideFocus:ae,slidesHandler:Fle(e,o,I),slidesInView:ft,slideIndexes:we,slideRegistry:z,slidesToScroll:W,target:He,translate:QF(D,e)};return ye}function Wle(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const qle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Hle(t){function e(i,o){return GF(i,o||{})}function n(i){const o=i.breakpoints||{},a=ch(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>ch(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Gle(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function tg(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=Hle(s),o=Gle(i),a=uh(),l=Wle(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:p,off:g,emit:v}=l,y=D;let T=!1,w,b=c(qle,tg.globalOptions),E=c(b),I=[],P,j,C;function S(){const{container:we,slides:Y}=E;j=(Ax(we)?t.querySelector(we):we)||t.children[0];const Ce=Ax(Y)?j.querySelectorAll(Y):Y;C=[].slice.call(Ce||j.children)}function A(we){const Y=Ble(t,j,C,r,s,we,l);if(we.loop&&!Y.slideLooper.canLoop()){const ie=Object.assign({},we,{loop:!1});return A(ie)}return Y}function N(we,Y){T||(b=c(b,we),E=d(b),I=Y||I,S(),w=A(E),f([b,...I.map(({options:ie})=>ie)]).forEach(ie=>a.add(ie,"change",D)),E.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(_e),w.eventHandler.init(_e),w.resizeHandler.init(_e),w.slidesHandler.init(_e),w.options.loop&&w.slideLooper.loop(),j.offsetParent&&C.length&&w.dragHandler.init(_e),P=o.init(_e,I)))}function D(we,Y){const ie=W();M(),N(c({startIndex:ie},we),Y),l.emit("reInit")}function M(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),a.clear()}function k(){T||(T=!0,a.clear(),M(),l.emit("destroy"),l.clear())}function $(we,Y,ie){!E.active||T||(w.scrollBody.useBaseFriction().useDuration(Y===!0?0:E.duration),w.scrollTo.index(we,ie||0))}function re(we){const Y=w.index.add(1).get();$(Y,we,-1)}function X(we){const Y=w.index.add(-1).get();$(Y,we,1)}function Z(){return w.index.add(1).get()!==W()}function O(){return w.index.add(-1).get()!==W()}function L(){return w.scrollSnapList}function J(){return w.scrollProgress.get(w.location.get())}function W(){return w.index.get()}function ne(){return w.indexPrevious.get()}function le(){return w.slidesInView.get()}function G(){return w.slidesInView.get(!1)}function be(){return P}function oe(){return w}function te(){return t}function ge(){return j}function Ne(){return C}const _e={canScrollNext:Z,canScrollPrev:O,containerNode:ge,internalEngine:oe,destroy:k,off:g,on:p,emit:v,plugins:be,previousScrollSnap:ne,reInit:y,rootNode:te,scrollNext:re,scrollPrev:X,scrollProgress:J,scrollSnapList:L,scrollTo:$,selectedScrollSnap:W,slideNodes:Ne,slidesInView:le,slidesNotInView:G};return N(e,n),setTimeout(()=>l.emit("init"),0),_e}tg.globalOptions=void 0;function bE(t={},e=[]){const n=m.useRef(t),r=m.useRef(e),[s,i]=m.useState(),[o,a]=m.useState(),l=m.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return m.useEffect(()=>{yE(n.current,t)||(n.current=t,l())},[t,l]),m.useEffect(()=>{yle(r.current,e)||(r.current=e,l())},[e,l]),m.useEffect(()=>{if(gle()&&o){tg.globalOptions=bE.globalOptions;const c=tg(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}bE.globalOptions=void 0;const YF=m.createContext(null);function Iy(){const t=m.useContext(YF);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const XF=m.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=bE({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=m.useState(!1),[p,g]=m.useState(!1),v=m.useCallback(b=>{b&&(f(b.canScrollPrev()),g(b.canScrollNext()))},[]),y=m.useCallback(()=>{c==null||c.scrollPrev()},[c]),T=m.useCallback(()=>{c==null||c.scrollNext()},[c]),w=m.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),y()):b.key==="ArrowRight"&&(b.preventDefault(),T())},[y,T]);return m.useEffect(()=>{!c||!n||n(c)},[c,n]),m.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),u.jsx(YF.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:T,canScrollPrev:d,canScrollNext:p},children:u.jsx("div",{ref:a,onKeyDownCapture:w,className:pe("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});XF.displayName="Carousel";const JF=m.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=Iy();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:pe("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});JF.displayName="CarouselContent";const ZF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Iy();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:pe("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});ZF.displayName="CarouselItem";const e5=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollPrev:s,canScrollPrev:i}=Iy();return u.jsxs(fe,{ref:n,variant:"outline",size:"icon",className:pe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"left-4 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(zk,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:""})]})});e5.displayName="CarouselPrevious";const t5=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollNext:s,canScrollNext:i}=Iy();return u.jsxs(fe,{ref:n,variant:"outline",size:"icon",className:pe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"right-4 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(o9,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:""})]})});t5.displayName="CarouselNext";var jN=!1,ea,Nx,Px,Rp,kp,n5,Dp,Rx,kx,Dx,r5,jx,Mx,s5,i5;function Yn(){if(!jN){jN=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(jx=/\b(iPhone|iP[ao]d)/.exec(t),Mx=/\b(iP[ao]d)/.exec(t),Dx=/Android/i.exec(t),s5=/FBAN\/\w+;/i.exec(t),i5=/Mobile/i.exec(t),r5=!!/Win64/.exec(t),e){ea=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ea&&document&&document.documentMode&&(ea=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);n5=r?parseFloat(r[1])+4:ea,Nx=e[2]?parseFloat(e[2]):NaN,Px=e[3]?parseFloat(e[3]):NaN,Rp=e[4]?parseFloat(e[4]):NaN,Rp?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),kp=e&&e[1]?parseFloat(e[1]):NaN):kp=NaN}else ea=Nx=Px=kp=Rp=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Dp=s?parseFloat(s[1].replace("_",".")):!0}else Dp=!1;Rx=!!n[2],kx=!!n[3]}else Dp=Rx=kx=!1}}var Ox={ie:function(){return Yn()||ea},ieCompatibilityMode:function(){return Yn()||n5>ea},ie64:function(){return Ox.ie()&&r5},firefox:function(){return Yn()||Nx},opera:function(){return Yn()||Px},webkit:function(){return Yn()||Rp},safari:function(){return Ox.webkit()},chrome:function(){return Yn()||kp},windows:function(){return Yn()||Rx},osx:function(){return Yn()||Dp},linux:function(){return Yn()||kx},iphone:function(){return Yn()||jx},mobile:function(){return Yn()||jx||Mx||Dx||i5},nativeApp:function(){return Yn()||s5},android:function(){return Yn()||Dx},ipad:function(){return Yn()||Mx}},Kle=Ox,Gf=!!(typeof window<"u"&&window.document&&window.document.createElement),Qle={canUseDOM:Gf,canUseWorkers:typeof Worker<"u",canUseEventListeners:Gf&&!!(window.addEventListener||window.attachEvent),canUseViewport:Gf&&!!window.screen,isInWorker:!Gf},Yle=Qle,o5=Yle,a5;o5.canUseDOM&&(a5=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Xle(t,e){if(!o5.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&a5&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Jle=Xle,Zle=Kle,ece=Jle,MN=10,ON=40,LN=800;function l5(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*MN,s=n*MN,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=ON,s*=ON):(r*=LN,s*=LN)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}l5.getEventType=function(){return Zle.firefox()?"DOMMouseScroll":ece("wheel")?"wheel":"mousewheel"};var tce=l5,nce=tce;const rce=Lx(nce);function sce(t,e,n,r,s,i){i===void 0&&(i=0);var o=Cc(t,e,i),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*s?{width:d*s,height:d}:{width:c,height:c/s}}function ice(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function vu(t,e,n,r,s){s===void 0&&(s=0);var i=Cc(e.width,e.height,s),o=i.width,a=i.height;return{x:VN(t.x,o,n.width,r),y:VN(t.y,a,n.height,r)}}function VN(t,e,n,r){var s=e*r/2-n/2;return Ny(t,-s,s)}function FN(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function UN(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function oce(t,e,n,r,s,i,o){i===void 0&&(i=0),o===void 0&&(o=!0);var a=o?ace:lce,l=Cc(e.width,e.height,i),c=Cc(e.naturalWidth,e.naturalHeight,i),d={x:a(100,((l.width-n.width/s)/2-t.x/s)/l.width*100),y:a(100,((l.height-n.height/s)/2-t.y/s)/l.height*100),width:a(100,n.width/l.width*100/s),height:a(100,n.height/l.height*100/s)},f=Math.round(a(c.width,d.width*c.width/100)),p=Math.round(a(c.height,d.height*c.height/100)),g=c.width>=c.height*r,v=g?{width:Math.round(p*r),height:p}:{width:f,height:Math.round(f/r)},y=mt(mt({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:y}}function ace(t,e){return Math.min(t,Math.max(0,e))}function lce(t,e){return e}function cce(t,e,n,r,s,i){var o=Cc(e.width,e.height,n),a=Ny(r.width/o.width*(100/t.width),s,i),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function uce(t,e,n){var r=ice(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function dce(t,e,n,r,s,i){n===void 0&&(n=0);var o=Cc(e.naturalWidth,e.naturalHeight,n),a=Ny(uce(t,e,r),s,i),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function $N(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function hce(t){return t*Math.PI/180}function Cc(t,e,n){var r=hce(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Ny(t,e,n){return Math.min(Math.max(t,e),n)}function Kf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var fce=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,pce=1,mce=3,gce=1,zN=function(t){oee(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=m.createRef(),n.imageRef=m.createRef(),n.videoRef=m.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=cce(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=s.crop,o=s.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=dce(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=a.crop,o=a.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,s,i,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,p=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=c.offsetWidth<f||c.offsetHeight<p,v=f/p,y=void 0;if(g)switch(n.state.mediaObjectFit){default:case"contain":y=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":y={width:n.containerRect.height*v,height:n.containerRect.height};break}else y={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=mt(mt({},y),{naturalWidth:f,naturalHeight:p}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var T=n.props.cropSize?n.props.cropSize:sce(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==T.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==T.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(T),n.setState({cropSize:T},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(T),T}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,i,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=mt({},n.props.crop),(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s)},n.onDrag=function(r){var s=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||i===void 0)){var o=s-n.dragStartPosition.x,a=i-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?vu(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),i=rce(r).pixelY,o=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,s){var i=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-s.x),y:n.containerRect.height/2-(o-s.y)}},n.getPointOnMedia=function(r){var s=r.x,i=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(s+a.x)/l,y:(i+a.y)/l}},n.setNewZoom=function(r,s,i){var o=i===void 0?{}:i,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Ny(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(s,n.containerPosition),f=n.getPointOnMedia(d),p={x:f.x*c-d.x,y:f.y*c-d.y},g=n.props.restrictPosition?vu(p,n.mediaSize,n.state.cropSize,c,n.props.rotation):p;n.props.onCropChange(g)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?vu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return oce(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?vu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,i,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,f=o.rotation,p=c;if(n.state.cropSize){r.shiftKey&&(p*=.2);var g=mt({},a);switch(r.key){case"ArrowUp":g.y-=p,r.preventDefault();break;case"ArrowDown":g.y+=p,r.preventDefault();break;case"ArrowLeft":g.x-=p,r.preventDefault();break;case"ArrowRight":g.x+=p,r.preventDefault();break;default:return}n.props.restrictPosition&&(g=vu(g,n.mediaSize,n.state.cropSize,d,f)),r.repeat||(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s),l(g)}},n.onKeyUp=function(r){var s,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(i=(s=n.props).onInteractionEnd)===null||i===void 0||i.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=fce,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,i,o,a,l,c,d,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,i;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=FN(r,s),this.lastPinchRotation=UN(r,s),this.onDragStart($N(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),o=$N(s,i);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=FN(s,i),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=UN(s,i),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,s=this.props,i=s.image,o=s.video,a=s.mediaProps,l=s.cropperProps,c=s.transform,d=s.crop,f=d.x,p=d.y,g=s.rotation,v=s.zoom,y=s.cropShape,T=s.showGrid,w=s.style,b=w.containerStyle,E=w.cropAreaStyle,I=w.mediaStyle,P=s.classes,j=P.containerClassName,C=P.cropAreaClassName,S=P.mediaClassName,A=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return m.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(D){return n.containerRef=D},"data-testid":"container",style:b,className:Kf("reactEasyCrop_Container",j)},i?m.createElement("img",mt({alt:"",className:Kf("reactEasyCrop_Image",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{src:i,ref:this.imageRef,style:mt(mt({},I),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&m.createElement("video",mt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Kf("reactEasyCrop_Video",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:mt(mt({},I),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(N){return m.createElement("source",mt({key:N.src},N))})),this.state.cropSize&&m.createElement("div",mt({ref:this.cropperRef,style:mt(mt({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Kf("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",T&&"reactEasyCrop_CropAreaGrid",C)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:mce,minZoom:pce,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:gce},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(m.Component);const c5=m.createContext({user:null,loading:!0}),TE=()=>m.useContext(c5),yce=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0);return m.useEffect(()=>{const i=dy(Ht,o=>{n(o),s(!1)});return()=>i()},[]),u.jsx(c5.Provider,{value:{user:e,loading:r},children:t})},BN=async t=>{var i;const e="dmao2zbvt",n="news_unsigned",r=[],s=[];for(const o of t){const a=new FormData;a.append("file",o),a.append("upload_preset",n),a.append("cloud_name",e);const l=await fetch(`https://api.cloudinary.com/v1_1/${e}/image/upload`,{method:"POST",body:a,mode:"cors"});if(!l.ok){const d=await l.json();throw new Error(`  : ${((i=d.error)==null?void 0:i.message)||l.statusText}`)}const c=await l.json();if(!c.secure_url)throw new Error("      Cloudinary");r.push(c.secure_url),s.push(o.name)}return{urls:r,names:s}},WN=()=>{const{language:t}=Qa(),e=kr[t],{user:n}=TE(),[r,s]=m.useState(!1),[i,o]=m.useState(!1),[a,l]=m.useState([]),[c,d]=m.useState(!1),[f,p]=m.useState(null),[g,v]=m.useState(!1);m.useState(!1);const[y,T]=m.useState(""),[w,b]=m.useState(""),[E,I]=m.useState([]),[P,j]=m.useState(0),[C,S]=m.useState([]),[A,N]=m.useState(null),[D,M]=m.useState(!1),[k,$]=m.useState(null),[re,X]=m.useState({x:0,y:0}),[Z,O]=m.useState(1),[L,J]=m.useState(null),W=m.useRef(null),[ne,le]=m.useState([]),[G,be]=m.useState([]),[oe,te]=m.useState(null),[ge,Ne]=m.useState(!1),[_e,we]=m.useState(""),[Y,ie]=m.useState(""),[Ce,We]=m.useState([]),[V,me]=m.useState(0),[ke,Te]=m.useState([]),[He,ze]=m.useState([]),[wn,st]=m.useState(!1),[Qt,kt]=m.useState(null),[ft,z]=m.useState({x:0,y:0}),[ae,ye]=m.useState(1),[de,Ye]=m.useState(null),[Ue,at]=m.useState(null),[tt,Dt]=m.useState({}),[Ln,Ja]=m.useState(""),[Pe,rt]=m.useState(null),[Xe,Wt]=m.useState("latest");m.useState(!1);const[nn,dr]=m.useState(!1),[hr,Uo]=m.useState({}),Za=a.filter(B=>{const Q=B.title.toLowerCase().includes(Ln.toLowerCase())||B.description.toLowerCase().includes(Ln.toLowerCase()),Ae=!Pe||Pe==="all"||B.category===Pe;return Q&&Ae}).sort((B,Q)=>{switch(Xe){case"trending":return(Q.trending?1:0)-(B.trending?1:0);case"popular":return(Q.likes||0)-(B.likes||0);default:return new Date(Q.createdAt).getTime()-new Date(B.createdAt).getTime()}}),Gh=B=>{dr(!0);const Q=window.open("","_blank");Q&&(Q.document.write(`
        <html dir="rtl">
          <head>
            <title>${B.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .header { text-align: center; margin-bottom: 20px; }
              .image { max-width: 100%; height: auto; margin: 20px 0; }
              .content { line-height: 1.6; }
              .footer { margin-top: 20px; text-align: center; font-size: 0.8em; color: #666; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${B.title}</h1>
              <p>${new Date(B.createdAt).toLocaleDateString("ar-EG")}</p>
            </div>
            ${B.imageUrls[0]?`<img src="${B.imageUrls[0]}" class="image" alt="${B.title}">`:""}
            <div class="content">${B.description}</div>
            <div class="footer">
              <p> Alpha </p>
            </div>
          </body>
        </html>
      `),Q.document.close(),Q.print(),dr(!1))};m.useEffect(()=>{(async()=>{if(!n)return s(!1);const Q=yt(Ve,"users",n.uid),Ae=await vi(Q);s(Ae.exists()&&Ae.data().role==="owner"||Ae.data().role==="admin")})()},[n]),m.useEffect(()=>{(async()=>{d(!0);const Q=Zr(Zt(Ve,"news"),Gc("createdAt","desc")),Ae=await Jr(Q);l(Ae.docs.map(Re=>({id:Re.id,...Re.data()}))),d(!1)})()},[]);const $o=B=>{if(B.target.files&&B.target.files.length>0){const Q=Array.from(B.target.files);le(Q),I(Q),S([]),j(0),N(null);const Ae=[];let Re=!1;return Promise.all(Q.map(dt=>new Promise((lt,Qn)=>{const Bs=new FileReader;Bs.addEventListener("load",()=>lt(Bs.result),{once:!0}),Bs.addEventListener("error",()=>{console.error("Error reading file",dt),Re||Qn(new Error(`Failed to read file: ${dt.name}`))},{once:!0}),Bs.readAsDataURL(dt),Ae.push(Bs)}))).then(dt=>{Re||be(dt)}).catch(dt=>{console.error("Error generating previews:",dt),Re||(be([]),N("Failed to load image previews."))}),()=>{Re=!0,Ae.forEach(dt=>dt&&dt.abort&&dt.abort())}}},Kh=B=>{if(ne.length>B){const Q=ne[B],Ae=new FileReader;Ae.addEventListener("load",()=>{$(Ae.result),j(B),M(!0),O(1),X({x:0,y:0})}),Ae.readAsDataURL(Q)}},rn=m.useCallback((B,Q)=>{J(Q)},[]),Yc=m.useCallback(async()=>{if(!k||!L||E.length===0||!W.current)return null;try{const B=document.createElement("canvas"),Q=W.current,Ae=Q.naturalWidth/Q.width,Re=Q.naturalHeight/Q.height;B.width=L.width,B.height=L.height;const Yt=B.getContext("2d");return Yt?(Yt.drawImage(Q,L.x*Ae,L.y*Re,L.width*Ae,L.height*Re,0,0,L.width,L.height),new Promise(fr=>{B.toBlob(dt=>{if(dt){const lt=new File([dt],`cropped_${E[P].name}`,{type:dt.type});fr(lt)}else fr(null)},E[P].type,1)})):null}catch(B){return console.error("Error cropping image:",B),null}},[k,L,E,P,W]),zo=m.useCallback(async()=>{const B=await Yc();if(B)if(S(Q=>[...Q,B]),P<E.length-1){j(Ae=>Ae+1);const Q=new FileReader;Q.addEventListener("load",()=>{$(Q.result),O(1),X({x:0,y:0})}),Q.readAsDataURL(E[P+1])}else M(!1),$(null),j(0),I([]);else if(Xt({title:"  ",description:"    .    .",variant:"destructive"}),P<E.length-1){j(Ae=>Ae+1);const Q=new FileReader;Q.addEventListener("load",()=>{$(Q.result),O(1),X({x:0,y:0})}),Q.readAsDataURL(E[P+1])}else M(!1),$(null),j(0),I([])},[Yc,P,E,S,j,M,$,O,X]),Bo=async B=>{if(B.preventDefault(),N(null),!y.trim()||!w.trim()||C.length===0){N("        .");return}d(!0);try{const{urls:Q,names:Ae}=await BN(C),Re=await kh(Zt(Ve,"news"),{title:y.trim(),description:w.trim(),imageUrls:Q,imageNames:Ae,createdAt:_t.now(),tag:"",likes:0,likedBy:[]});o(!1),T(""),b(""),I([]),j(0),S([]),le([]),l(Yt=>[{id:Re.id,title:y.trim(),description:w.trim(),imageUrls:Q,imageNames:Ae,createdAt:new Date,tag:"",likes:0,likedBy:[]},...Yt])}catch{N("    .")}d(!1)},Py=B=>{te(B),we(B.title),ie(B.description),We([]),me(0),Te([]),ze([]),st(!1),kt(null),z({x:0,y:0}),ye(1),Ye(null),Ne(!0)},Ry=B=>{if(B.target.files&&B.target.files.length>0){const Q=Array.from(B.target.files);if(We(Q),Te([]),me(0),Q.length>0){const Ae=new FileReader;Ae.addEventListener("load",()=>{kt(Ae.result),st(!0)}),Ae.readAsDataURL(Q[0])}}},zs=m.useCallback(async()=>{if(!Qt||!de||Ce.length===0||!W.current)return null;try{const B=document.createElement("canvas"),Q=W.current,Ae=Q.naturalWidth/Q.width,Re=Q.naturalHeight/Q.height;B.width=de.width,B.height=de.height;const Yt=B.getContext("2d");return Yt?(Yt.drawImage(Q,de.x*Ae,de.y*Re,de.width*Ae,de.height*Re,0,0,de.width,de.height),new Promise(fr=>{B.toBlob(dt=>{if(dt){const lt=new File([dt],`cropped_edit_${Ce[V].name}`,{type:dt.type});fr(lt)}else fr(null)},Ce[V].type,1)})):null}catch(B){return console.error("Error cropping image:",B),null}},[Qt,de,Ce,V,W]),ky=m.useCallback(async()=>{const B=await zs();if(B)if(Te(Q=>[...Q,B]),V<Ce.length-1){me(Ae=>Ae+1);const Q=new FileReader;Q.addEventListener("load",()=>{kt(Q.result),ye(1),z({x:0,y:0})}),Q.readAsDataURL(Ce[V+1])}else st(!1),kt(null),me(0),We([]);else if(Xt({title:"  ",description:"    .    .",variant:"destructive"}),V<Ce.length-1){me(Ae=>Ae+1);const Q=new FileReader;Q.addEventListener("load",()=>{kt(Q.result),ye(1),z({x:0,y:0})}),Q.readAsDataURL(Ce[V+1])}else st(!1),kt(null),me(0),We([])},[zs,V,Ce,Te,me,st,kt,ye,z]),Dy=async B=>{if(B.preventDefault(),!!oe){d(!0);try{const Q=oe.imageUrls.filter((lt,Qn)=>!He.includes(Qn)),Ae=oe.imageNames.filter((lt,Qn)=>!He.includes(Qn));let Re=[],Yt=[];if(ke.length>0){const lt=await BN(ke);Re=lt.urls,Yt=lt.names}const fr=[...Q,...Re],dt=[...Ae,...Yt];await Ms(yt(Ve,"news",oe.id),{title:_e.trim(),description:Y.trim(),imageUrls:fr,imageNames:dt}),l(lt=>lt.map(Qn=>Qn.id===oe.id?{...Qn,title:_e.trim(),description:Y.trim(),imageUrls:fr,imageNames:dt}:Qn)),Ne(!1),te(null),We([]),me(0),Te([]),ze([]),st(!1),kt(null),z({x:0,y:0}),ye(1),Ye(null),Xt({title:" ",description:"   ."})}catch{Xt({title:"",description:"    ",variant:"destructive"})}d(!1)}},el=async B=>{if(!n){Xt({title:"",description:"   ",variant:"destructive"});return}Uo(Re=>({...Re,[B]:!0})),setTimeout(()=>{Uo(Re=>({...Re,[B]:!1}))},1e3);const Q=yt(Ve,"news",B),Ae=await vi(Q);Ae.exists()&&((Ae.data().likedBy||[]).includes(n.uid)?(await Ms(Q,{likes:DI(-1),likedBy:VJ(n.uid)}),l(dt=>dt.map(lt=>lt.id===B?{...lt,likes:(lt.likes||0)-1,likedBy:lt.likedBy.filter(Qn=>Qn!==n.uid)}:lt))):(await Ms(Q,{likes:DI(1),likedBy:LJ(n.uid)}),l(dt=>dt.map(lt=>lt.id===B?{...lt,likes:(lt.likes||0)+1,likedBy:[...lt.likedBy||[],n.uid]}:lt))))},Qh=async B=>{try{await Ys(yt(Ve,"news",B)),l(Q=>Q.filter(Ae=>Ae.id!==B)),v(!1),Xt({title:"  ",description:"   "})}catch(Q){console.error("Error deleting news:",Q),Xt({title:"",description:"    ",variant:"destructive"})}},Xc=async B=>{const Q=`${window.location.origin}/#news/${B}`;try{await navigator.clipboard.writeText(Q),Xt({title:" ",description:"     ."})}catch(Ae){console.error("Failed to copy link: ",Ae),Xt({title:"",description:"   .",variant:"destructive"})}},tl=B=>{Dt(Q=>({...Q,[B]:!Q[B]})),Xt({title:tt[B]?"   ":"   ",description:tt[B]?"     ":"     "})},zr=async B=>{if(navigator.share)try{await navigator.share({title:B.title,text:B.description,url:`${window.location.origin}/#news/${B.id}`})}catch(Q){console.error("Error sharing:",Q)}else Xc(B.id)};return u.jsx(Rl,{children:u.jsxs("div",{className:"container mx-auto py-6 px-1 md:px-0 animate-fade-in",children:[u.jsxs(se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"mb-12 text-center relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 blur-3xl -z-10"}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:u.jsx(w9,{className:"h-16 w-16 text-primary drop-shadow-lg"})})}),u.jsx(se.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl md:text-5xl font-extrabold text-primary mb-2 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/80",children:e.news}),u.jsx(se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg md:text-xl text-muted-foreground font-medium",children:a.length===0?e.noNews:e.followUpdates}),u.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center items-center gap-4 mt-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx(im,{className:"h-6 w-6"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx(Zu,{className:"h-6 w-6"})})]})]}),r&&u.jsx("div",{className:"flex justify-center mt-8 mb-8",children:u.jsxs(fe,{size:"lg",className:"flex items-center gap-2 text-lg font-bold",onClick:()=>{o(B=>!B),i||(le([]),be([]),I([]),S([]),j(0),$(null),X({x:0,y:0}),O(1),J(null),N(null))},variant:i?"secondary":"default",children:[u.jsx(F1,{className:"h-5 w-5"}),i?e.close:e.addNews]})}),i&&r&&u.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-2xl mx-auto mb-12",children:u.jsxs(ln,{children:[u.jsx(Bn,{children:u.jsx(Rn,{children:e.addNews})}),u.jsx(kn,{children:u.jsxs("form",{onSubmit:Bo,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(zt,{type:"text",placeholder:"News Title",value:y,onChange:B=>T(B.target.value),required:!0})}),u.jsx("div",{children:u.jsx(Cx,{placeholder:"News Content",value:w,onChange:B=>b(B.target.value),required:!0})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"imageUpload",className:"block text-sm font-medium text-muted-foreground mb-1",children:"  (    )"}),u.jsx(zt,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:$o,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),G.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:" :"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:G.map((B,Q)=>u.jsx("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>Kh(Q),children:u.jsx("img",{src:B,alt:`Selected image ${Q+1}`,className:"w-full h-full object-cover"})},Q))})]}),C.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:" :"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((B,Q)=>u.jsxs("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden",children:[u.jsx("img",{src:URL.createObjectURL(B),alt:`Cropped image ${Q+1}`,className:"w-full h-full object-cover"}),u.jsx(fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5 rounded-full",onClick:()=>S(Ae=>Ae.filter((Re,Yt)=>Yt!==Q)),children:u.jsx(ei,{className:"h-3 w-3"})})]},Q))})]}),A&&u.jsx("p",{className:"text-red-500 text-sm",children:A}),u.jsxs(fe,{type:"submit",className:"w-full",disabled:c||C.length===0,children:[c?u.jsx(om,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(Zu,{className:"mr-2 h-4 w-4"}),e.submit]})]})})]})}),r&&ge&&oe&&u.jsxs(se.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:Dy,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[u.jsx(xS,{className:"h-6 w-6"}),"  "]}),u.jsx(zt,{placeholder:" ",value:_e,onChange:B=>we(B.target.value),className:"mb-3",maxLength:120,required:!0}),u.jsx(Cx,{placeholder:" ",value:Y,onChange:B=>ie(B.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(vS,{className:"h-5 w-5"}),"  "]}),u.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:oe.imageUrls.map((B,Q)=>He.includes(Q)?null:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:B,alt:` ${Q+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(fe,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>ze(Ae=>[...Ae,Q]),title:" ",children:u.jsx(ei,{className:"h-4 w-4"})})]},Q))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(vS,{className:"h-5 w-5"}),"   ()"]}),u.jsx(zt,{type:"file",accept:"image/*",multiple:!0,onChange:Ry,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),Ce.length>0&&!wn&&u.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Files selected for cropping: ",Ce.map(B=>B.name).join(", ")]}),ke.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:"  :"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ke.map((B,Q)=>u.jsxs("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden",children:[u.jsx("img",{src:URL.createObjectURL(B),alt:`Cropped new image ${Q+1}`,className:"w-full h-full object-cover"}),u.jsx(fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5 rounded-full",onClick:()=>Te(Ae=>Ae.filter((Re,Yt)=>Yt!==Q)),children:u.jsx(ei,{className:"h-3 w-3"})})]},Q))})]})]}),u.jsx(fe,{type:"submit",className:"w-full",disabled:c||ke.length===0&&He.length===0&&_e.trim()===(oe==null?void 0:oe.title)&&Y.trim()===(oe==null?void 0:oe.description),children:c?u.jsxs(u.Fragment,{children:[u.jsx(om,{className:"h-5 w-5 mr-2 animate-spin"})," ..."]}):" "}),u.jsx(fe,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>Ne(!1),children:""})]}),u.jsx(ql,{open:wn,onOpenChange:st,children:u.jsxs(va,{className:"sm:max-w-[425px]",children:[u.jsx(wa,{children:u.jsxs(xa,{children:["   ",V+1,"  ",Ce.length]})}),u.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px]",children:[Qt&&u.jsx(zN,{image:Qt,crop:ft,zoom:ae,aspect:16/9,onCropChange:z,onZoomChange:ye,onCropComplete:rn}),u.jsx("img",{ref:W,src:Qt||"",alt:"New image to crop",className:"hidden"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[u.jsx("label",{className:"text-sm text-muted-foreground",children:"Zoom:"}),u.jsx(zt,{type:"range",min:1,max:3,step:.1,value:ae,onChange:B=>ye(parseFloat(B.target.value)),className:"w-2/3"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(fe,{variant:"outline",onClick:()=>st(!1),children:[" ",""]}),u.jsx(fe,{onClick:ky,disabled:!de,children:" "})]})]})}),Ue&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center",onClick:()=>at(null),children:[u.jsx("img",{src:Ue,alt:" ",className:"max-w-full max-h-full rounded-lg shadow-2xl border-4 border-white",style:{objectFit:"contain"}}),u.jsx("button",{className:"absolute top-4 left-4 bg-white/80 rounded-full p-2 text-black",onClick:()=>at(null),children:u.jsx(ei,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8",children:u.jsx(vm,{children:Za.map((B,Q)=>{var Ae;return u.jsx(se.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*Q,duration:.6,type:"spring"},onClick:()=>{p(B),v(!0)},className:"group",children:u.jsxs(ln,{className:"relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 rounded-2xl border bg-gradient-to-br from-card via-background/50 to-background flex flex-col h-full",children:[u.jsxs("div",{className:"relative card-image w-full h-48 sm:h-56 object-cover rounded-t-xl overflow-hidden",children:[B.imageUrls&&B.imageUrls.length>0?u.jsx(se.img,{src:B.imageUrls[0],alt:B.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.5}}):u.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center text-muted-foreground",children:"  "}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),B.imageUrls&&B.imageUrls.length>1&&u.jsxs(se.span,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full backdrop-blur-sm",children:[B.imageUrls.length," "]}),u.jsxs(se.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 right-2 flex gap-2",children:[u.jsx(fe,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Re=>{Re.stopPropagation(),tl(B.id)},children:u.jsx(n9,{className:`h-4 w-4 ${tt[B.id]?"fill-white":""}`})}),u.jsx(fe,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Re=>{Re.stopPropagation(),zr(B)},children:u.jsx(bS,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"relative p-4 sm:p-6 z-10 flex-grow",children:u.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-xl p-4 sm:p-6 shadow-lg border border-border/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx(Rn,{className:"text-lg sm:text-xl md:text-2xl font-bold line-clamp-2 text-foreground flex-1 ml-4",children:B.title}),r&&u.jsxs(fe,{variant:"outline",size:"sm",onClick:Re=>{Re.stopPropagation(),Py(B),v(!1)},children:[u.jsx(xS,{className:"h-4 w-4 ml-2"}),""]})]}),u.jsx(ss,{className:"text-xs sm:text-sm md:text-base text-muted-foreground/90 line-clamp-3 mb-4",children:B.description}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Re=>Re.stopPropagation(),children:u.jsx(im,{className:"h-4 w-4"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Re=>Re.stopPropagation(),children:u.jsx(Zu,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Re=>{Re.stopPropagation(),Gh(B)},title:"",children:u.jsx(x9,{className:"h-4 w-4"})}),u.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Re=>{Re.stopPropagation(),el(B.id)},children:u.jsx(S9,{className:`h-4 w-4 ${(Ae=B.likedBy)!=null&&Ae.includes(n==null?void 0:n.uid)?"fill-primary":""}`})}),u.jsx(fe,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Re=>{Re.stopPropagation(),zr(B)},children:u.jsx(bS,{className:"h-4 w-4"})})]})]})]})}),r&&u.jsx("div",{className:"absolute bottom-4 left-4 z-20",children:u.jsxs(wx,{children:[u.jsx(xx,{asChild:!0,children:u.jsxs(fe,{variant:"destructive",size:"sm",onClick:Re=>Re.stopPropagation(),children:[u.jsx(si,{className:"h-4 w-4 ml-2"})," "]})}),u.jsxs(qm,{children:[u.jsxs(Hm,{children:[u.jsx(Km,{children:"     "}),u.jsx(Qm,{children:"     .     ."})]}),u.jsxs(Gm,{children:[u.jsx(Xm,{onClick:Re=>Re.stopPropagation(),children:""}),u.jsx(Ym,{onClick:Re=>{Re.stopPropagation(),Qh(B.id)},children:""})]})]})]})})]})},B.id)})})}),u.jsx(ql,{open:g,onOpenChange:v,children:u.jsx(va,{className:"max-w-4xl",children:f&&u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx(wa,{children:u.jsx(xa,{className:"text-2xl font-bold mb-4",children:f.title})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:f.description}),u.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:u.jsx("time",{className:"text-sm",children:f.createdAt instanceof _t?new Date(f.createdAt.toMillis()).toLocaleDateString("ar-EG"):new Date(f.createdAt).toLocaleDateString("ar-EG")})})]})]}),u.jsx("div",{className:"w-full md:w-1/2",children:f.imageUrls&&f.imageUrls.length>0&&u.jsxs(XF,{children:[u.jsx(JF,{children:f.imageUrls.map((B,Q)=>u.jsx(ZF,{children:u.jsx("img",{src:B,alt:`${f.title} -  ${Q+1}`,className:"w-full h-auto rounded-lg"})},Q))}),u.jsx(e5,{}),u.jsx(t5,{})]})})]})})}),u.jsx(ql,{open:D,onOpenChange:M,children:u.jsxs(va,{className:"sm:max-w-[425px]",children:[u.jsx(wa,{children:u.jsxs(xa,{children:["  ",P+1,"  ",E.length]})}),u.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px]",children:[k&&u.jsx(zN,{image:k,crop:re,zoom:Z,aspect:16/9,onCropChange:X,onZoomChange:O,onCropComplete:rn}),u.jsx("img",{ref:W,src:k||"",alt:"Image to crop",className:"hidden"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[u.jsx("label",{className:"text-sm text-muted-foreground",children:"Zoom:"}),u.jsx(zt,{type:"range",min:1,max:3,step:.1,value:Z,onChange:B=>O(parseFloat(B.target.value)),className:"w-2/3"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(fe,{variant:"outline",onClick:()=>M(!1),children:[" ",""]}),u.jsx(fe,{onClick:zo,disabled:!L,children:" "})]})]})})]})})},vce="https://instagram.com/alpha_team.iq",wce="https://t.me/alphateam_iq",wu=[{name:" ",role:{en:"Team Founder",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/bghcpeiacxnthdxgiup6.jpg",link:"https://linktr.ee/hsabadix",isFounder:!0},{name:" ",role:{en:"Assistant Leader",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/uhen7u7sr3aa2rx1uxpa.jpg",link:"https://linktr.ee/4pv_1",department:"leadership"},{name:" ",role:{en:"Development Team Lead",ar:"  "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/cka4s6p8geysflkp2s77.jpg",link:"http://Linktr.ee/wski4",department:"development"},{name:" ",role:{en:"Development Team Member",ar:"  "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748568146/jcs4zyfsmg7xqyllzcmb.jpg",link:"https://linktr.ee/Hasan.21",department:"development"},{name:" ",role:{en:"Development Team Member",ar:"  "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/ni2wrrr54v2ep3pnef2v.jpg",link:"https://linktr.ee/humam1500",department:"development"},{name:" ",role:{en:"Development Team Member",ar:"  "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/zyfjcos1xkgtrixnwfia.jpg",link:"https://linktr.ee/Dve_Hussein",department:"development"},{name:" ",role:{en:"Media Team Member",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748618880/qwbvrxcuo700z8zdqi2g.jpg",link:"https://linktr.ee/elaf_8",department:"media"},{name:" ",role:{en:"Media Team Member",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/wqltditgxyk9skpksxxo.jpg",link:"https://linktr.ee/sa_is1",department:"media"},{name:" ",role:{en:"Media Team Member",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/gt1tologlhpmtor694nk.jpg",link:"https://linktr.ee/xalpha_team",department:"media"},{name:" ",role:{en:"Media Team Member",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/wg9xa205iy3oxgknzome.jpg",link:"https://linktr.ee/awsyaas",department:"media"},{name:" ",role:{en:"Media Team Member",ar:" "},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/xzlcssrx6wpjy7rwpbg8.jpg",link:"https://linktr.ee/null4",department:"media"}],xce=()=>{const{language:t}=Qa(),e=kr[t];m.useRef(null);const{scrollYProgress:n}=Sj();bm(n,[0,1],["0%","50%"]),bm(n,[0,.5],[1,0]);const r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},s={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}}},i={rest:{scale:1,y:0,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},hover:{scale:1.05,y:-10,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",transition:{type:"spring",stiffness:300,damping:20}}},o={rest:{scale:1,rotate:0},hover:{scale:1.1,rotate:5,transition:{type:"spring",stiffness:300,damping:20}}},a={y:[0,-10,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},l={scale:[1,1.1,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}},c=wu.find(v=>v.isFounder),d=wu.filter(v=>v.department==="development"),f=wu.filter(v=>v.department==="media"),p=wu.filter(v=>v.department==="leadership"),g=({children:v,delay:y=0})=>u.jsx(se.div,{animate:a,style:{animationDelay:`${y}s`},children:v});return u.jsx(Rl,{children:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background overflow-hidden",children:[u.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[u.jsx(se.div,{className:"absolute top-20 left-10 w-20 h-20 bg-primary/10 rounded-full blur-xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),u.jsx(se.div,{className:"absolute top-40 right-20 w-32 h-32 bg-secondary/10 rounded-full blur-xl",animate:{x:[0,-80,0],y:[0,80,0],scale:[1,.8,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}}),u.jsx(se.div,{className:"absolute bottom-20 left-1/3 w-24 h-24 bg-accent/10 rounded-full blur-xl",animate:{rotate:[0,360],scale:[1,1.3,1]},transition:{duration:12,repeat:1/0,ease:"linear"}})]}),u.jsxs("div",{className:"container mx-auto px-4 py-16 max-w-7xl relative z-10",children:[u.jsxs(se.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"text-center mb-16",children:[u.jsx(g,{children:u.jsxs(se.div,{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/10 mb-6 relative",animate:l,children:[u.jsx(sa,{className:"w-10 h-10 text-primary"}),u.jsx(se.div,{className:"absolute inset-0 rounded-full bg-primary/20",animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}})]})}),u.jsx(se.h1,{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},children:u.jsx(se.span,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0},style:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",backgroundSize:"400% 400%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:t==="en"?"About Alpha Team":" Alpha Team"})}),u.jsx(se.p,{className:"text-lg text-muted-foreground max-w-3xl mx-auto mb-8 leading-relaxed",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:e.aboutUsDesc}),u.jsxs(se.div,{className:"flex items-center justify-center gap-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7,duration:.6},children:[u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(fe,{variant:"outline",size:"lg",asChild:!0,className:"gap-2 hover:bg-gradient-to-r hover:from-pink-500 hover:to-violet-500 hover:text-white",children:u.jsxs("a",{href:vce,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(im,{className:"w-5 h-5"}),"Instagram"]})})}),u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(fe,{variant:"outline",size:"lg",asChild:!0,className:"gap-2 hover:bg-gradient-to-r hover:from-blue-500 hover:to-cyan-500 hover:text-white",children:u.jsxs("a",{href:wce,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Zu,{className:"w-5 h-5"}),"Telegram"]})})})]})]}),u.jsx(se.div,{initial:"hidden",animate:"visible",variants:r,className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[{icon:sa,number:wu.length,label:t==="en"?"Team Members":"  "},{icon:_9,number:3,label:t==="en"?"Departments":" "},{icon:p9,number:"100%",label:t==="en"?"Passion":" "}].map((v,y)=>u.jsx(se.div,{variants:s,children:u.jsx(se.div,{initial:"rest",whileHover:"hover",variants:i,children:u.jsxs(ln,{className:"text-center p-6 border-0 bg-card/50 backdrop-blur-sm relative overflow-hidden",children:[u.jsx(se.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.3}}),u.jsx(g,{delay:y*.5,children:u.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-lg bg-primary/10 mb-4 relative z-10",children:u.jsx(v.icon,{className:"w-6 h-6 text-primary"})})}),u.jsx(se.h3,{className:"text-2xl font-bold text-foreground mb-2 relative z-10",initial:{scale:0},animate:{scale:1},transition:{delay:.8+y*.1,type:"spring",stiffness:200},children:v.number}),u.jsx("p",{className:"text-muted-foreground relative z-10",children:v.label})]})})},y))}),u.jsxs("div",{className:"space-y-16",children:[c&&u.jsxs(se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1,duration:.8,type:"spring"},className:"text-center",children:[u.jsxs(se.h2,{className:"text-3xl font-bold text-foreground mb-8",animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[u.jsx(U1,{className:"inline-block w-8 h-8 mr-3 text-primary"}),t==="en"?"Team Founder":" "]}),u.jsx(se.div,{initial:"rest",whileHover:"hover",variants:i,className:"max-w-sm mx-auto",children:u.jsxs(ln,{className:"border-0 bg-gradient-to-br from-primary/5 to-primary/10 backdrop-blur-sm relative overflow-hidden",children:[u.jsx(se.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-secondary/10",animate:{backgroundPosition:["0% 0%","100% 100%","0% 0%"]},transition:{duration:8,repeat:1/0}}),u.jsxs(Bn,{className:"text-center pb-4 relative z-10",children:[u.jsxs("div",{className:"relative inline-block mb-4",children:[u.jsx(se.img,{src:c.img,alt:c.name,className:"w-32 h-32 rounded-full mx-auto border-4 border-primary/20 object-cover",variants:o}),u.jsx(se.div,{className:"absolute inset-0 rounded-full border-4 border-primary/40",animate:{scale:[1,1.1,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0}}),u.jsx(se.div,{className:"absolute -top-2 -right-2",animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},children:u.jsx(Zm,{className:"bg-primary text-primary-foreground",children:t==="en"?"Founder":""})})]}),u.jsx(Rn,{className:"text-xl font-bold text-foreground",children:c.name}),u.jsx(ss,{className:"text-muted-foreground text-base",children:c.role[t]})]}),u.jsx(kn,{className:"text-center relative z-10",children:u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(fe,{variant:"outline",asChild:!0,className:"gap-2",children:u.jsxs("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(wv,{className:"w-4 h-4"}),t==="en"?"Contact":""]})})})})]})})]}),u.jsxs(se.div,{initial:"hidden",whileInView:"visible",variants:r,viewport:{once:!0,margin:"-100px"},children:[u.jsxs(se.div,{className:"text-center mb-8",variants:s,children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[u.jsx(se.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},children:u.jsx(V1,{className:"w-6 h-6 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:t==="en"?"Development Team":" "})]}),u.jsx("p",{className:"text-muted-foreground",children:t==="en"?"Our talented developers who bring ideas to life":"      "})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...p,...d].map((v,y)=>u.jsx(se.div,{variants:s,custom:y,children:u.jsx(se.div,{initial:"rest",whileHover:"hover",variants:i,children:u.jsxs(ln,{className:"h-full border-0 bg-card/50 backdrop-blur-sm relative overflow-hidden group",children:[u.jsx(se.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),u.jsxs(Bn,{className:"text-center relative z-10",children:[u.jsx(se.img,{src:v.img,alt:v.name,className:"w-20 h-20 rounded-full mx-auto mb-3 border-2 border-primary/20 object-cover",variants:o,whileHover:{boxShadow:"0 0 20px rgba(59, 130, 246, 0.5)"}}),u.jsx(Rn,{className:"text-lg font-semibold text-foreground",children:v.name}),u.jsx(ss,{className:"text-sm text-muted-foreground",children:v.role[t]})]}),u.jsx(kn,{className:"text-center pt-0 relative z-10",children:u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(fe,{variant:"ghost",size:"sm",asChild:!0,className:"gap-2",children:u.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(wv,{className:"w-4 h-4"}),t==="en"?"Contact":""]})})})})]})})},y))})]}),u.jsxs(se.div,{initial:"hidden",whileInView:"visible",variants:r,viewport:{once:!0,margin:"-100px"},children:[u.jsxs(se.div,{className:"text-center mb-8",variants:s,children:[u.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[u.jsx(se.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:u.jsx(i9,{className:"w-6 h-6 text-primary"})}),u.jsx("h2",{className:"text-2xl font-bold text-foreground",children:t==="en"?"Media Team":" "})]}),u.jsx("p",{className:"text-muted-foreground",children:t==="en"?"Creative minds behind our visual content and communication":"     "})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:f.map((v,y)=>u.jsx(se.div,{variants:s,custom:y,children:u.jsx(se.div,{initial:"rest",whileHover:"hover",variants:i,children:u.jsxs(ln,{className:"h-full border-0 bg-card/50 backdrop-blur-sm relative overflow-hidden group",children:[u.jsx(se.div,{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-orange-500/5 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),u.jsxs(Bn,{className:"text-center relative z-10",children:[u.jsx(se.img,{src:v.img,alt:v.name,className:"w-20 h-20 rounded-full mx-auto mb-3 border-2 border-primary/20 object-cover",variants:o,whileHover:{boxShadow:"0 0 20px rgba(236, 72, 153, 0.5)"}}),u.jsx(Rn,{className:"text-lg font-semibold text-foreground",children:v.name}),u.jsx(ss,{className:"text-sm text-muted-foreground",children:v.role[t]})]}),u.jsx(kn,{className:"text-center pt-0 relative z-10",children:u.jsx(se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(fe,{variant:"ghost",size:"sm",asChild:!0,className:"gap-2",children:u.jsxs("a",{href:v.link,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(wv,{className:"w-4 h-4"}),t==="en"?"Contact":""]})})})})]})})},y))})]})]})]})]})})};var bce="Separator",qN="horizontal",Tce=["horizontal","vertical"],u5=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=qN,...s}=t,i=Ece(r)?r:qN,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(Me.div,{"data-orientation":i,...a,...s,ref:e})});u5.displayName=bce;function Ece(t){return Tce.includes(t)}var d5=u5;const h5=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(d5,{ref:s,decorative:n,orientation:e,className:pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));h5.displayName=d5.displayName;const _ce=[{id:"all",icon:Zs,label:{en:"All",ar:""}},{id:"programming",icon:V1,label:{en:"Programming",ar:""}},{id:"security",icon:T9,label:{en:"Cybersecurity",ar:" "}},{id:"ai",icon:r9,label:{en:"AI",ar:" "}},{id:"certificates",icon:e9,label:{en:"Certificates",ar:""}}],Sce=()=>{const{language:t}=Qa(),{user:e}=TE(),n=kr[t],[r,s]=m.useState(""),[i,o]=m.useState("all"),[a,l]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState(!0),[g,v]=m.useState([]),[y,T]=m.useState(null),[w,b]=m.useState(_ce),[E,I]=m.useState(null),[P,j]=m.useState(null),[C,S]=m.useState(""),[A,N]=m.useState(""),[D,M]=m.useState(""),[k,$]=m.useState(""),[re,X]=m.useState("");m.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const be=yt(Ve,"users",e.uid),oe=await vi(be);oe.exists()&&j(oe.data().role||null)}catch{j(null)}})()},[e]);const Z=P==="admin"||P==="owner";m.useEffect(()=>{(async()=>{try{p(!0);const be=Zr(Zt(Ve,"resources"),Gc("createdAt","desc")),te=(await Jr(be)).docs.map(ge=>({id:ge.id,...ge.data()}));v(te),T(null)}catch(be){console.error("Error fetching resources:",be),T(n.resourceFetchError)}finally{p(!1)}})()},[n]);const O=async G=>{if(G.preventDefault(),!C||!A||!D||!k||!re){Xt({title:n.error,description:n.fillAllFields,variant:"destructive"});return}d(!0);try{const be=await kh(Zt(Ve,"resources"),{title:C,description:A,category:D,type:k,link:re,createdAt:new Date,createdBy:e==null?void 0:e.uid});v(oe=>[{id:be.id,title:C,description:A,category:D,type:k,link:re,createdAt:_t.fromDate(new Date),createdBy:e==null?void 0:e.uid},...oe]),Xt({title:n.success,description:n.resourceAddedSuccess}),L()}catch(be){console.error("Error adding resource:",be),Xt({title:n.error,description:n.resourceAddError,variant:"destructive"})}finally{d(!1)}},L=()=>{l(!1),I(null),S(""),N(""),M(""),$(""),X("")},J=async G=>{try{await Ys(yt(Ve,"resources",G)),v(be=>be.filter(oe=>oe.id!==G)),Xt({title:n.success,description:t==="ar"?"   ":"Resource deleted successfully"})}catch{Xt({title:n.error,description:t==="ar"?"   ":"Error deleting resource",variant:"destructive"})}},W=G=>{I(G.id),S(G.title),N(G.description),M(G.category),$(G.type),X(G.link),l(!0)},ne=g.filter(G=>{const be=G.title.toLowerCase().includes(r.toLowerCase())||G.description.toLowerCase().includes(r.toLowerCase()),oe=i==="all"||G.category===i;return be&&oe}),le=G=>G==="book"?t9:V1;return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[u.jsxs(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-primary/10 mb-6",children:u.jsx(Zs,{className:"w-10 h-10 text-primary"})}),u.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:n.resourceLibrary}),u.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto mb-6",children:n.resourceLibraryDesc}),u.jsxs("div",{className:"flex items-center justify-center gap-4",children:[u.jsxs(Zm,{variant:"secondary",className:"px-4 py-2 text-sm",children:[ne.length," ",t==="ar"?"":"Resources"]}),Z&&u.jsxs(ql,{open:a,onOpenChange:l,children:[u.jsx(Die,{asChild:!0,children:u.jsxs(fe,{className:"gap-2",children:[u.jsx(F1,{className:"w-4 h-4"}),n.addResource]})}),u.jsxs(va,{className:"max-w-md",children:[u.jsxs(wa,{children:[u.jsx(xa,{children:E?t==="ar"?" ":"Edit Resource":n.addNewResource}),u.jsx(wV,{children:E?t==="ar"?"  ":"Update resource information":n.addResourceDesc})]}),u.jsxs("form",{onSubmit:O,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Dr,{children:n.title}),u.jsx(zt,{value:C,onChange:G=>S(G.target.value),placeholder:n.resourceTitlePlaceholder,className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Dr,{children:n.description}),u.jsx(zt,{value:A,onChange:G=>N(G.target.value),placeholder:n.resourceDescPlaceholder,className:"mt-1"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Dr,{children:n.category}),u.jsxs(pd,{value:D,onValueChange:M,children:[u.jsx(Kl,{children:u.jsx(md,{placeholder:n.selectCategory})}),u.jsx(Ql,{children:w.filter(G=>G.id!=="all").map(G=>u.jsx(eo,{value:G.id,children:G.label[t]},G.id))})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{children:n.type}),u.jsxs(pd,{value:k,onValueChange:$,children:[u.jsx(Kl,{children:u.jsx(md,{placeholder:n.selectType})}),u.jsxs(Ql,{children:[u.jsx(eo,{value:"book",children:n.book}),u.jsx(eo,{value:"tool",children:n.tool})]})]})]})]}),u.jsxs("div",{children:[u.jsx(Dr,{children:n.link}),u.jsx(zt,{value:re,onChange:G=>X(G.target.value),placeholder:n.resourceLinkPlaceholder,className:"mt-1"})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsx(fe,{type:"submit",disabled:c,className:"flex-1",children:c?u.jsxs(u.Fragment,{children:[u.jsx(om,{className:"w-4 h-4 mr-2 animate-spin"}),t==="ar"?" ...":"Saving..."]}):E?t==="ar"?"":"Update":n.add}),u.jsx(fe,{type:"button",variant:"outline",onClick:L,children:t==="ar"?"":"Cancel"})]})]})]})]})]})]}),u.jsx(se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-2xl p-6 mb-8 shadow-sm border",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(b9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(zt,{placeholder:n.searchResources,value:r,onChange:G=>s(G.target.value),className:"pl-10"})]})}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsx(f9,{className:"w-4 h-4 text-muted-foreground"}),w.map(G=>{const be=G.icon;return u.jsxs(fe,{variant:i===G.id?"default":"outline",size:"sm",onClick:()=>o(G.id),className:"gap-2",children:[u.jsx(be,{className:"w-4 h-4"}),G.label[t]]},G.id)})]})]})}),u.jsx("div",{className:"space-y-6",children:f?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(om,{className:"w-8 h-8 animate-spin text-primary"})}):y?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"text-destructive font-medium",children:y})}):ne.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Zs,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:r?n.noResourcesFound:n.noResourcesAvailable})]}):u.jsx(se.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.05}}},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.map(G=>{const be=le(G.type);return u.jsx(se.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:u.jsxs(ln,{className:"h-full hover:shadow-lg transition-all duration-200 group border-0 bg-card/50 backdrop-blur-sm",children:[u.jsxs(Bn,{className:"pb-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-primary/10",children:u.jsx(be,{className:"w-6 h-6 text-primary"})}),u.jsx(Zm,{variant:G.type==="book"?"default":"secondary",className:"text-xs",children:G.type==="book"?n.book:n.tool})]}),u.jsx(Rn,{className:"text-lg line-clamp-2 group-hover:text-primary transition-colors",children:G.title}),u.jsx(ss,{className:"line-clamp-3",children:G.description})]}),u.jsxs(kn,{className:"pt-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(fe,{variant:"outline",size:"sm",asChild:!0,className:"flex-1 mr-2",children:u.jsxs("a",{href:G.link,target:"_blank",rel:"noopener noreferrer",children:[G.type==="book"?u.jsx(d9,{className:"w-4 h-4 mr-2"}):u.jsx(h9,{className:"w-4 h-4 mr-2"}),G.type==="book"?n.download:n.visit]})}),Z&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>W(G),className:"p-2",children:u.jsx(Hk,{className:"w-4 h-4"})}),u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>J(G.id),className:"p-2 text-destructive hover:text-destructive",children:u.jsx(si,{className:"w-4 h-4"})})]})]}),u.jsx(h5,{className:"my-3"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:t==="ar"?`  ${new Date(G.createdAt.toDate()).toLocaleDateString("ar-EG")}`:`Added ${new Date(G.createdAt.toDate()).toLocaleDateString("en-US")}`})]})]})},G.id)})})})]})})},Cce=[{id:1,question:"Which of the following is NOT a feature of object-oriented programming?",options:["Encapsulation","Polymorphism","Recursion","Inheritance"],answer:"Recursion"},{id:2,question:"What is the default port number for HTTPS?",options:["80","21","443","8080"],answer:"443"},{id:3,question:"Which command is used to display the routing table in Linux?",options:["ifconfig","route","netstat -r","ping"],answer:"netstat -r"},{id:4,question:"Which sorting algorithm has the best average-case time complexity?",options:["Bubble Sort","Merge Sort","Selection Sort","Insertion Sort"],answer:"Merge Sort"},{id:5,question:"Which protocol is used for secure file transfer over SSH?",options:["FTP","SFTP","SMTP","HTTP"],answer:"SFTP"},{id:6,question:"Which of the following is a non-relational database?",options:["MySQL","PostgreSQL","MongoDB","Oracle"],answer:"MongoDB"},{id:7,question:"Which layer of the OSI model is responsible for end-to-end communication?",options:["Network","Transport","Session","Data Link"],answer:"Transport"},{id:8,question:"What is the output of 2 ** 3 in Python?",options:["6","8","9","5"],answer:"8"},{id:9,question:"Which Linux command is used to change file permissions?",options:["chmod","chown","ls","mv"],answer:"chmod"},{id:10,question:"Which of the following is NOT a valid HTTP method?",options:["GET","POST","FETCH","PUT"],answer:"FETCH"},{id:11,question:"Which data structure uses FIFO (First In First Out) principle?",options:["Stack","Queue","Tree","Graph"],answer:"Queue"},{id:12,question:"Which command is used to display running processes in Linux?",options:["ls","ps","cd","rm"],answer:"ps"},{id:13,question:"Which of the following is a stateless protocol?",options:["TCP","UDP","FTP","SMTP"],answer:"UDP"},{id:14,question:"Which keyword is used to inherit a class in Java?",options:["extends","implements","inherits","super"],answer:"extends"},{id:15,question:"Which of the following is NOT a type of operating system?",options:["Batch","Time-sharing","Distributed","Compiler"],answer:"Compiler"},{id:16,question:"Which protocol is used to assign IP addresses automatically?",options:["DNS","DHCP","HTTP","FTP"],answer:"DHCP"},{id:17,question:"Which of the following is used to prevent SQL injection?",options:["Prepared Statements","Cookies","Sessions","Triggers"],answer:"Prepared Statements"},{id:18,question:"Which command is used to search for a pattern in files in Linux?",options:["find","grep","awk","sed"],answer:"grep"},{id:19,question:"Which of the following is NOT a valid IP address?",options:["192.168.1.1","255.255.255.255","10.0.0.256","172.16.0.1"],answer:"10.0.0.256"},{id:20,question:"Which of the following is a compiled language?",options:["Python","Java","JavaScript","HTML"],answer:"Java"},{id:21,question:"Which command is used to display disk usage in Linux?",options:["df","du","ls","pwd"],answer:"df"},{id:22,question:"Which of the following is NOT a NoSQL database?",options:["MongoDB","Redis","Cassandra","SQLite"],answer:"SQLite"},{id:23,question:"Which protocol is used for email transmission?",options:["SMTP","FTP","HTTP","SNMP"],answer:"SMTP"},{id:24,question:"Which of the following is NOT a valid subnet mask?",options:["255.255.255.0","255.255.0.0","255.0.255.0","255.255.255.128"],answer:"255.0.255.0"},{id:25,question:"Which of the following is NOT a valid data type in C?",options:["int","float","string","char"],answer:"string"},{id:26,question:"Which command is used to display the current working directory in Linux?",options:["pwd","ls","cd","mv"],answer:"pwd"},{id:27,question:"Which of the following is NOT a valid HTTP status code?",options:["200","404","500","700"],answer:"700"},{id:28,question:"Which of the following is a connection-oriented protocol?",options:["UDP","TCP","ICMP","ARP"],answer:"TCP"},{id:29,question:"Which of the following is NOT a Linux distribution?",options:["Ubuntu","Fedora","Windows","Debian"],answer:"Windows"},{id:30,question:"Which of the following is NOT a valid loop in JavaScript?",options:["for","while","foreach","do-while"],answer:"foreach"},{id:31,question:"Which command is used to list all files, including hidden ones, in Linux?",options:["ls -a","ls -l","ls -h","ls -s"],answer:"ls -a"},{id:32,question:"Which of the following is NOT a valid CSS selector?",options:[".class","#id","element","@media"],answer:"@media"},{id:33,question:"Which of the following is NOT a valid SQL command?",options:["SELECT","INSERT","UPDATE","FETCHALL"],answer:"FETCHALL"},{id:34,question:"Which of the following is NOT a valid HTTP header?",options:["Content-Type","User-Agent","Accept","File-Type"],answer:"File-Type"},{id:35,question:"Which of the following is NOT a valid JavaScript data type?",options:["Number","String","Boolean","Character"],answer:"Character"},{id:36,question:"Which of the following is NOT a valid Linux file permission?",options:["r","w","x","e"],answer:"e"},{id:37,question:"Which of the following is NOT a valid HTTP response code?",options:["201","302","418","609"],answer:"609"},{id:38,question:"Which of the following is NOT a valid Java access modifier?",options:["public","private","protected","internal"],answer:"internal"},{id:39,question:"Which of the following is NOT a valid Python data structure?",options:["List","Tuple","Dictionary","ArrayList"],answer:"ArrayList"},{id:40,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","copy"],answer:"copy"},{id:41,question:"Which of the following is NOT a valid HTML tag?",options:["<div>","<span>","<section>","<item>"],answer:"<item>"},{id:42,question:"Which of the following is NOT a valid C++ operator?",options:["++","--","**","->"],answer:"**"},{id:43,question:"Which of the following is NOT a valid JavaScript framework?",options:["React","Angular","Vue","Django"],answer:"Django"},{id:44,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","ARRAY"],answer:"ARRAY"},{id:45,question:"Which of the following is NOT a valid Linux shell?",options:["bash","zsh","fish","dash"],answer:"dash"},{id:46,question:"Which of the following is NOT a valid HTTP method?",options:["PATCH","TRACE","CONNECT","SEND"],answer:"SEND"},{id:47,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onhover","onload","onchange"],answer:"onhover"},{id:48,question:"Which of the following is NOT a valid Python keyword?",options:["def","class","function","lambda"],answer:"function"},{id:49,question:"Which of the following is NOT a valid Linux process state?",options:["Running","Sleeping","Stopped","Paused"],answer:"Paused"},{id:50,question:"Which of the following is NOT a valid HTTP status code?",options:["200","404","500","600"],answer:"600"},{id:51,question:"Which of the following is NOT a valid JavaScript operator?",options:["+","-","===","=="],answer:"==="},{id:52,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","SORT BY"],answer:"SORT BY"},{id:53,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","APFS"],answer:"APFS"},{id:54,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","display()"],answer:"display()"},{id:55,question:"Which of the following is NOT a valid SQL join?",options:["INNER JOIN","OUTER JOIN","LEFT JOIN","RIGHT JOIN"],answer:"OUTER JOIN"},{id:56,question:"Which of the following is NOT a valid Linux user command?",options:["useradd","usermod","userdel","useredit"],answer:"useredit"},{id:57,question:"Which of the following is NOT a valid JavaScript array method?",options:["push()","pop()","shift()","remove()"],answer:"remove()"},{id:58,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTAL()"],answer:"TOTAL()"},{id:59,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","network"],answer:"network"},{id:60,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","size","constructor","prototype"],answer:"size"},{id:61,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","INDEX"],answer:"INDEX"},{id:62,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","npm"],answer:"npm"},{id:63,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat-until"],answer:"repeat-until"},{id:64,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","TEXTUAL"],answer:"TEXTUAL"},{id:65,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Hard link"],answer:"Hard link"},{id:66,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","substr()","splitAt()"],answer:"splitAt()"},{id:67,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:68,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","end"],answer:"end"},{id:69,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","toNumber()"],answer:"toNumber()"},{id:70,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","XOR"],answer:"XOR"},{id:71,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","edit"],answer:"edit"},{id:72,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.square()"],answer:"Math.square()"},{id:73,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","TODAY()"],answer:"TODAY()"},{id:74,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","archive"],answer:"archive"},{id:75,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","size","constructor","prototype"],answer:"size"},{id:76,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","CHANGE"],answer:"CHANGE"},{id:77,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","networker"],answer:"networker"},{id:78,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getProperty()"],answer:"getProperty()"},{id:79,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","OUTER JOIN","LEFT JOIN","CROSS JOIN"],answer:"OUTER JOIN"},{id:80,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","HFS+"],answer:"HFS+"},{id:81,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpress"],answer:"onpress"},{id:82,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","FILTER BY"],answer:"FILTER BY"},{id:83,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","move"],answer:"move"},{id:84,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","display()"],answer:"display()"},{id:85,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTAL()"],answer:"TOTAL()"},{id:86,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","network"],answer:"network"},{id:87,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","size","constructor","prototype"],answer:"size"},{id:88,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","INDEX"],answer:"INDEX"},{id:89,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","npm"],answer:"npm"},{id:90,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat-until"],answer:"repeat-until"},{id:91,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","TEXTUAL"],answer:"TEXTUAL"},{id:92,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Hard link"],answer:"Hard link"},{id:93,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","substr()","splitAt()"],answer:"splitAt()"},{id:94,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:95,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","end"],answer:"end"},{id:96,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","toNumber()"],answer:"toNumber()"},{id:97,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","XOR"],answer:"XOR"},{id:98,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","edit"],answer:"edit"},{id:99,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.square()"],answer:"Math.square()"},{id:100,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","TODAY()"],answer:"TODAY()"},{id:101,question:"Which command is used to display the manual of a command in Linux?",options:["help","man","info","doc"],answer:"man"},{id:102,question:"Which of the following is a hashing algorithm?",options:["SHA-256","AES","RSA","DES"],answer:"SHA-256"},{id:103,question:"Which protocol is used to resolve domain names to IP addresses?",options:["FTP","DNS","DHCP","SMTP"],answer:"DNS"},{id:104,question:"Which of the following is NOT a valid HTTP status code for redirection?",options:["301","302","307","404"],answer:"404"},{id:105,question:"Which of the following is NOT a valid data structure in Java?",options:["ArrayList","HashMap","LinkedList","SetList"],answer:"SetList"},{id:106,question:"Which command is used to terminate a process in Linux?",options:["kill","end","stop","terminate"],answer:"kill"},{id:107,question:"Which of the following is NOT a valid HTTP request header?",options:["Accept","Host","Referer","Location"],answer:"Location"},{id:108,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","REMOVE","UPDATE"],answer:"REMOVE"},{id:109,question:"Which of the following is NOT a valid Linux signal?",options:["SIGKILL","SIGSTOP","SIGPAUSE","SIGTERM"],answer:"SIGPAUSE"},{id:110,question:"Which of the following is NOT a valid JavaScript variable declaration?",options:["var","let","const","define"],answer:"define"},{id:111,question:"Which protocol is used for remote login to a server?",options:["FTP","SSH","SMTP","HTTP"],answer:"SSH"},{id:112,question:"Which of the following is NOT a valid SQL function?",options:["COUNT()","SUM()","MAXIMUM()","MIN()"],answer:"MAXIMUM()"},{id:113,question:"Which of the following is NOT a valid Linux runlevel?",options:["0","3","5","7"],answer:"7"},{id:114,question:"Which of the following is NOT a valid Java interface?",options:["Serializable","Cloneable","Runnable","Inheritable"],answer:"Inheritable"},{id:115,question:"Which of the following is NOT a valid HTTP method?",options:["GET","POST","UPDATE","DELETE"],answer:"UPDATE"},{id:116,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","MERGE","APPEND"],answer:"APPEND"},{id:117,question:"Which of the following is NOT a valid Linux environment variable?",options:["PATH","HOME","USER","ROOT"],answer:"ROOT"},{id:118,question:"Which of the following is NOT a valid JavaScript array method?",options:["map()","filter()","reduce()","collect()"],answer:"collect()"},{id:119,question:"Which of the following is NOT a valid SQL join?",options:["LEFT JOIN","RIGHT JOIN","FULL JOIN","PARTIAL JOIN"],answer:"PARTIAL JOIN"},{id:120,question:"Which of the following is NOT a valid Linux file system?",options:["ext3","ext4","NTFS","FAT64"],answer:"FAT64"},{id:121,question:"Which of the following is NOT a valid JavaScript event?",options:["onblur","onfocus","onhover","oninput"],answer:"onhover"},{id:122,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","HAVING","ORDER","GROUP"],answer:"ORDER"},{id:123,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","movefile"],answer:"movefile"},{id:124,question:"Which of the following is NOT a valid JavaScript function?",options:["parseInt()","parseFloat()","toNumber()","isNaN()"],answer:"toNumber()"},{id:125,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTALSUM()"],answer:"TOTALSUM()"},{id:126,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","networkctl"],answer:"networkctl"},{id:127,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","sizeOf"],answer:"sizeOf"},{id:128,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","MANDATORY"],answer:"MANDATORY"},{id:129,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","pacman","pip"],answer:"pip"},{id:130,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat"],answer:"repeat"},{id:131,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","CHARACTER"],answer:"CHARACTER"},{id:132,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Soft link"],answer:"Soft link"},{id:133,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","join()"],answer:"join()"},{id:134,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","REPLACEALL"],answer:"REPLACEALL"},{id:135,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","process"],answer:"process"},{id:136,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","parseNumber()"],answer:"parseNumber()"},{id:137,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","BETWEENALL"],answer:"BETWEENALL"},{id:138,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","notepad"],answer:"notepad"},{id:139,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.cube()"],answer:"Math.cube()"},{id:140,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","CURRENTTIME()"],answer:"CURRENTTIME()"},{id:141,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","compressor"],answer:"compressor"},{id:142,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","capacity"],answer:"capacity"},{id:143,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:144,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netwatch"],answer:"netwatch"},{id:145,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getOwn()"],answer:"getOwn()"},{id:146,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","MIDDLE JOIN"],answer:"MIDDLE JOIN"},{id:147,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","ZFSX"],answer:"ZFSX"},{id:148,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpresskey"],answer:"onpresskey"},{id:149,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","SORT"],answer:"SORT"},{id:150,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","copyfile"],answer:"copyfile"},{id:151,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","show()"],answer:"show()"},{id:152,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTALCOUNT()"],answer:"TOTALCOUNT()"},{id:153,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","netinfo"],answer:"netinfo"},{id:154,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","dimension"],answer:"dimension"},{id:155,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","MANDATE"],answer:"MANDATE"},{id:156,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","packman"],answer:"packman"},{id:157,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","foreachloop"],answer:"foreachloop"},{id:158,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","NUMERICSTRING"],answer:"NUMERICSTRING"},{id:159,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Virtual file"],answer:"Virtual file"},{id:160,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","merge()"],answer:"merge()"},{id:161,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","RETRIEVE"],answer:"RETRIEVE"},{id:162,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","procman"],answer:"procman"},{id:163,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","numberFormat()"],answer:"numberFormat()"},{id:164,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","EXCEPTS"],answer:"EXCEPTS"},{id:165,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","wordpad"],answer:"wordpad"},{id:166,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.divide()"],answer:"Math.divide()"},{id:167,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","CURRENTDATE()"],answer:"CURRENTDATE()"},{id:168,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","archiver"],answer:"archiver"},{id:169,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","elements"],answer:"elements"},{id:170,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","ALTERATE"],answer:"ALTERATE"},{id:171,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netstatx"],answer:"netstatx"},{id:172,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getPrototype()"],answer:"getPrototype()"},{id:173,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","OUTERLEFT JOIN"],answer:"OUTERLEFT JOIN"},{id:174,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","EXT5"],answer:"EXT5"},{id:175,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpressbutton"],answer:"onpressbutton"},{id:176,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","ORDERED BY"],answer:"ORDERED BY"},{id:177,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","moveit"],answer:"moveit"},{id:178,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","notify()"],answer:"notify()"},{id:179,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","COUNTALL()"],answer:"COUNTALL()"},{id:180,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","networks"],answer:"networks"},{id:181,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","objectSize"],answer:"objectSize"},{id:182,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","REQUIRED"],answer:"REQUIRED"},{id:183,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","packager"],answer:"packager"},{id:184,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","loopfor"],answer:"loopfor"},{id:185,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","NUM"],answer:"NUM"},{id:186,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","File link"],answer:"File link"},{id:187,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","concatAll()"],answer:"concatAll()"},{id:188,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","FETCH"],answer:"FETCH"},{id:189,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","processman"],answer:"processman"},{id:190,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","numberToString()"],answer:"numberToString()"},{id:191,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","EXCLUSIVE"],answer:"EXCLUSIVE"},{id:192,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","editor"],answer:"editor"},{id:193,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.multiply()"],answer:"Math.multiply()"},{id:194,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","DATEOF()"],answer:"DATEOF()"},{id:195,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","arch"],answer:"arch"},{id:196,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","arraySize"],answer:"arraySize"},{id:197,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","REPLACE"],answer:"REPLACE"},{id:198,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netping"],answer:"netping"},{id:199,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","objectOf()"],answer:"objectOf()"},{id:200,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","OUTER JOIN"],answer:"OUTER JOIN"}];function Ace(){m.useState("python");const[t,e]=m.useState(Cce),[n,r]=m.useState(null),[s,i]=m.useState(""),[o,a]=m.useState(0),[l,c]=m.useState(!1),[d,f]=m.useState(null),[p,g]=m.useState({question:"",code:"",options:["","","",""],answer:""}),v=z=>{g({question:z.question,code:z.code||"",options:z.options,answer:z.answer}),f(z.id)},[y,T]=m.useState(null),{user:w}=TE(),[b,E]=m.useState(null),[I,P]=m.useState([]),[j,C]=m.useState([]),S=Ba(),{toast:A}=k1(),N=2,[D,M]=m.useState(30),[k,$]=m.useState(!1),[re,X]=m.useState(!1),Z=m.useRef(null),O=m.useRef(!1),L=m.useRef(!1),[J,W]=m.useState(!1),[ne,le]=m.useState(0),[G,be]=m.useState(!1),[oe,te]=m.useState(null),[ge,Ne]=m.useState([]);function _e(z){const ae=[...z];for(let ye=ae.length-1;ye>0;ye--){const de=Math.floor(Math.random()*(ye+1));[ae[ye],ae[de]]=[ae[de],ae[ye]]}return ae}m.useEffect(()=>{if(!w){performance.navigation.type!==1&&S("/login");return}},[w,S]),m.useEffect(()=>{(async()=>{if(w!=null&&w.uid)try{const ae=yt(Ve,"users",w.uid),ye=await vi(ae);ye.exists()?E(ye.data().role||null):E(null)}catch{E(null)}else E(null)})()},[w]),m.useEffect(()=>{(async()=>{if(w!=null&&w.uid)try{const ae=yt(Ve,"users",w.uid),ye=await vi(ae);if(ye.exists()){const de=ye.data();a(de.challengeScore||0),P(de.completedChallenges||[]),de.questionsRepeatCount&&e(Ye=>Ye.map(Ue=>({...Ue,repeatCount:de.questionsRepeatCount[Ue.id]||0})))}else await Sc(ae,{challengeScore:0,completedChallenges:[],questionsRepeatCount:{},fullName:w.displayName||" ",email:w.email,createdAt:new Date().toISOString()})}catch(ae){console.error("Error loading user progress:",ae),A({title:"",description:"    ",variant:"destructive"})}})()},[w]);const we=async(z,ae,ye={})=>{if(w!=null&&w.uid)try{const de=yt(Ve,"users",w.uid);await Sc(de,{challengeScore:z,completedChallenges:ae,questionsRepeatCount:ye,lastUpdated:new Date().toISOString()},{merge:!0})}catch(de){console.error("Error saving progress:",de),A({title:"",description:"    ",variant:"destructive"})}};m.useEffect(()=>{const z=Zr(Zt(Ve,"users"),Gc("challengeScore","desc"),kT(10)),ae=jT(z,ye=>{const de=[];ye.forEach(Ye=>{const Ue=Ye.data();Ue.challengeScore!==void 0&&de.push({id:Ye.id,fullName:Ue.fullName||" ",challengeScore:Ue.challengeScore,avatar:Ue.avatar})}),C(de)});return()=>ae()},[]);const Y=()=>{if(G&&oe){const de=Math.ceil((oe-Date.now())/6e4);T(`   .   ${de} .`);return}X(!0),W(!1),T(null),i(""),le(0);const z=t.filter(de=>!I.includes(de.id)&&(!de.repeatCount||de.repeatCount<N));let ae;z.length===0?(P([]),ae=[...t]):ae=z;const ye=_e(ae);Ne(ye),r(ye.length>0?ye[0].id:null)},ie=ge.find(z=>z.id===n)||(ge.length>0?ge[0]:null),Ce=()=>{if(!ie)return;const z=ge.findIndex(ae=>ae.id===ie.id);z!==-1&&z+1<ge.length?r(ge[z+1].id):r(null),W(!1),T(null),i(""),M(30),$(!0),O.current=!1},We=async z=>{window.confirm("      ")&&(e(ye=>ye.filter(de=>de.id!==z)),n===z&&Ce())},V=z=>{if(!z||!ie||!(w!=null&&w.uid)||O.current)return;O.current=!0,clearInterval(Z.current);const ae=ie.answer.trim().toLowerCase();if(z.trim().toLowerCase()===ae){const de=o+1,Ye=[...I,ie.id];a(de),P(Ye);const Ue=t.reduce((at,tt)=>({...at,[tt.id]:tt.repeatCount||0}),{});we(de,Ye,Ue),A({title:"!",description:" ",variant:"default"}),ge.length===1?r(null):setTimeout(()=>{Ce()},1e3)}else He()},me=()=>{window.confirm("         .")&&(X(!1),r(null),i(""),W(!1),T(null),M(30),$(!1),Ne([]))},ke=()=>{Ce()};m.useEffect(()=>{re&&ge.length>0&&(n===null||!ge.some(z=>z.id===n))&&r(ge[0].id),re||r(null)},[re,t,I]),m.useEffect(()=>{L.current=!1},[re]),m.useEffect(()=>{const z=async()=>{if(w!=null&&w.uid&&o>0&&re&&ie){const at=o-1;try{await Ms(yt(Ve,"users",w.uid),{challengeScore:at,lastUpdated:new Date().toISOString()}),a(at),A({title:"  ",description:"         .",variant:"destructive"})}catch(tt){console.error("Error updating score:",tt)}}},ae=at=>{if(w!=null&&w.uid&&o>0&&re&&ie)return z(),at.preventDefault(),at.returnValue="    .   ",at.returnValue},ye=()=>{document.visibilityState==="hidden"&&z()},de=()=>{z()},Ye=()=>{z()};window.addEventListener("beforeunload",ae),document.addEventListener("visibilitychange",ye),window.addEventListener("pagehide",de),window.addEventListener("blur",Ye);const Ue=at=>(at.preventDefault(),!1);return document.addEventListener("copy",Ue),document.addEventListener("paste",Ue),document.addEventListener("contextmenu",Ue),document.addEventListener("cut",Ue),document.addEventListener("selectstart",Ue),()=>{window.removeEventListener("beforeunload",ae),document.removeEventListener("visibilitychange",ye),window.removeEventListener("pagehide",de),window.removeEventListener("blur",Ye),document.removeEventListener("copy",Ue),document.removeEventListener("paste",Ue),document.removeEventListener("contextmenu",Ue),document.removeEventListener("cut",Ue),document.removeEventListener("selectstart",Ue)}},[w,o,re,ie,A]),m.useEffect(()=>(ie&&(O.current=!1,M(30),$(!0),i("")),()=>{Z.current&&clearInterval(Z.current)}),[ie==null?void 0:ie.id]),m.useEffect(()=>{let z=null;return ie&&k&&!O.current&&(z=setInterval(()=>{M(ae=>ae<=1?(clearInterval(z),Te(),30):ae-1)},1e3)),()=>{z&&clearInterval(z)}},[ie,k,O.current]),m.useEffect(()=>{const z=localStorage.getItem("challengeBanUntil");if(z){const ae=parseInt(z,10);Date.now()<ae?(be(!0),te(ae)):(be(!1),te(null),localStorage.removeItem("challengeBanUntil"))}},[]),m.useEffect(()=>{if(!G||!oe)return;const z=setInterval(()=>{Date.now()>=oe&&(be(!1),te(null),localStorage.removeItem("challengeBanUntil"))},1e3*10);return()=>clearInterval(z)},[G,oe]);const Te=()=>{if(!O.current&&ie){O.current=!0,$(!1),T(" !"),W(!0);const z=t.map(ye=>ye.id===(ie==null?void 0:ie.id)?{...ye,repeatCount:(ye.repeatCount||0)+1}:ye);e(z);const ae=z.reduce((ye,de)=>({...ye,[de.id]:de.repeatCount||0}),{});we(o,I,ae)}},He=()=>{const z=ne+1;if(le(z),z>=5){const Ye=Date.now()+18e5;be(!0),te(Ye),w!=null&&w.uid&&Ms(yt(Ve,"users",w.uid),{challengeBanUntil:Ye,lastBanTime:new Date().toISOString()}).catch(Ue=>{console.error("Error saving ban status:",Ue)}),T("  5 .         ."),X(!1),r(null),$(!1),W(!1),i("");return}const ae=t.map(de=>de.id===(ie==null?void 0:ie.id)?{...de,repeatCount:(de.repeatCount||0)+1}:de);e(ae);const ye=ae.reduce((de,Ye)=>({...de,[Ye.id]:Ye.repeatCount||0}),{});we(o,I,ye),T("  "),W(!0),$(!1)},ze=()=>{if(!p.question.trim()||p.options.some(z=>!z.trim())||!p.answer.trim()){T("      .");return}if(!p.options.includes(p.answer)){T("       .");return}e(d?z=>z.map(ae=>ae.id===d?{...ae,question:p.question,code:p.code,options:p.options,answer:p.answer}:ae):z=>[...z,{id:Date.now(),question:p.question,code:p.code,options:p.options,answer:p.answer}]),g({question:"",code:"",options:["","","",""],answer:""}),f(null),c(!1),T(null)},wn=()=>u.jsx("div",{className:"fixed top-4 right-4 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 px-4 py-2 rounded-xl shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(u9,{className:"h-4 w-4 text-blue-500"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),u.jsxs("span",{className:`font-bold ${D<=10?"text-red-500":D<=20?"text-amber-500":"text-blue-600"}`,children:[D,""]})]})]})}),st=()=>u.jsx("div",{className:"text-center max-w-md mx-auto",children:u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-8 border border-gray-200/50 dark:border-gray-700/50",children:[u.jsx("div",{className:"text-5xl mb-4",children:""}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:" "}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 text-sm",children:"    30   "}),u.jsxs(fe,{onClick:Y,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-xl font-medium transition-all duration-200 hover:scale-105",children:[" ",u.jsx(_u,{className:"mr-2 h-4 w-4"})]})]})}),Qt=()=>{var Ue,at,tt;const[z,ae,ye]=j,de=Dt=>Dt&&w&&Dt.id===w.uid,Ye=()=>u.jsx("span",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:""});return u.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 dark:border-gray-700/50",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[u.jsx(If,{className:"h-5 w-5 text-amber-500"}),u.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:""})]}),u.jsxs("div",{className:"flex justify-center items-end gap-4",children:[ae&&u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:(Ue=ae.avatar)!=null&&Ue.startsWith("http")?ae.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-16 h-16 rounded-full border-3 border-gray-300 object-cover",onError:Dt=>{Dt.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-2 -right-2 bg-gray-400 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"})]}),u.jsxs("div",{className:"mt-2 text-center",children:[de(ae)&&u.jsx(Ye,{}),u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:ae.fullName}),u.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[ae.challengeScore," "]})]})]}),z&&u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:(at=z.avatar)!=null&&at.startsWith("http")?z.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-20 h-20 rounded-full border-3 border-amber-400 object-cover",onError:Dt=>{Dt.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full w-7 h-7 flex items-center justify-center text-sm font-bold",children:"1"}),u.jsx(If,{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 h-5 w-5 text-amber-500"})]}),u.jsxs("div",{className:"mt-2 text-center",children:[de(z)&&u.jsx(Ye,{}),u.jsx("p",{className:"text-sm font-bold text-amber-600 dark:text-amber-400 text-center",children:z.fullName}),u.jsxs("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:[z.challengeScore," "]})]})]}),ye&&u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:(tt=ye.avatar)!=null&&tt.startsWith("http")?ye.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-14 h-14 rounded-full border-3 border-amber-600 object-cover",onError:Dt=>{Dt.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-2 -right-2 bg-amber-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"3"})]}),u.jsxs("div",{className:"mt-2 text-center",children:[de(ye)&&u.jsx(Ye,{}),u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:ye.fullName}),u.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[ye.challengeScore," "]})]})]})]})]})},kt=()=>u.jsx("div",{className:"bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 dark:border-gray-700/50",children:u.jsx("div",{className:"space-y-2",children:j.slice(3,10).map((z,ae)=>{var ye;return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"w-6 h-6 flex items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700 text-xs font-medium",children:ae+4}),u.jsx("img",{src:(ye=z.avatar)!=null&&ye.startsWith("http")?z.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-8 h-8 rounded-full object-cover",onError:de=>{de.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsxs("div",{className:"flex flex-col gap-1",children:[w&&z.id===w.uid&&u.jsx("span",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white text-xs px-2 py-0.5 rounded-full font-medium self-start",children:""}),u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.fullName})]})]}),u.jsx("span",{className:"font-bold text-blue-600 text-sm",children:z.challengeScore})]},z.id)})})}),ft=()=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ie==null?void 0:ie.options.map((z,ae)=>u.jsx(fe,{variant:s===z?"default":"outline",onClick:()=>{J||(i(z),T(null))},className:`w-full text-right p-4 rounded-xl border-2 transition-all text-sm font-medium
            ${s===z?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 hover:border-gray-300"}
            ${J&&z===ie.answer?"border-green-500 bg-green-50 text-green-700":""}
            ${J&&s===z&&z!==ie.answer?"border-red-500 bg-red-50 text-red-700":""}
            hover:scale-[1.02]`,disabled:J,children:z},ae))});if(G&&oe){const z=Math.ceil((oe-Date.now())/6e4);return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:u.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:u.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-8",children:[u.jsxs("div",{className:"text-center bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 dark:border-gray-700/50",children:[u.jsx(If,{className:"mx-auto mb-4 h-12 w-12 text-red-500"}),u.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-600",children:"   "}),u.jsx("p",{className:"mb-4 text-lg text-gray-700 dark:text-gray-300",children:"  5 .         ."}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[" : ",z," "]})]}),u.jsx(Qt,{}),u.jsx(kt,{})]})})})}return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[u.jsx("header",{className:"py-8 px-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:" "}),u.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm px-4 py-2 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[u.jsx(If,{className:"h-5 w-5 text-blue-600"}),u.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[": ",o]})]})]})}),u.jsx("main",{className:"max-w-6xl mx-auto px-4 pb-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:re?ie?u.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 dark:border-gray-700/50",children:[u.jsx(wn,{}),(b==="admin"||b==="owner")&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>{c(!0),v(ie)},className:"h-8 w-8 p-0",children:u.jsx(Hk,{className:"h-4 w-4"})}),u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>We(ie.id),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:u.jsx(si,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white text-center",children:ie.question}),ie.code&&u.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-xl overflow-x-auto text-sm border",children:u.jsx("code",{children:ie.code})}),ft(),y&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 rounded-xl bg-red-50 border border-red-200 text-red-700 text-center",children:y}),J&&u.jsxs("div",{className:"p-4 rounded-xl bg-green-50 border border-green-200 text-center",children:[u.jsx("p",{className:"font-medium text-green-700 mb-2",children:" :"}),u.jsx("p",{className:"text-green-800 mb-4",children:ie==null?void 0:ie.answer}),u.jsx(fe,{onClick:ke,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-xl",children:" "})]})]}),!J&&!O.current&&u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"flex justify-center gap-4",children:u.jsx(fe,{onClick:()=>V(s),disabled:!s,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 rounded-xl font-medium",children:""})}),u.jsx(fe,{variant:"destructive",onClick:me,className:"px-6 py-2 rounded-xl",children:" "})]})]})]}):u.jsxs("div",{className:"text-center bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 dark:border-gray-700/50",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"    "}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[" : ",o]})]}):u.jsx(st,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(Qt,{}),u.jsx(kt,{})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg border border-gray-200/50 dark:border-gray-700/50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:d?" ":"  "}),u.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>{c(!1),f(null),g({question:"",code:"",options:["","","",""],answer:""}),T(null)},className:"h-8 w-8 p-0",children:u.jsx(ei,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" ",value:p.question,onChange:z=>g(ae=>({...ae,question:z.target.value}))}),u.jsx("input",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:" ()",value:p.code,onChange:z=>g(ae=>({...ae,code:z.target.value}))}),u.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.options.map((z,ae)=>u.jsx("input",{className:"border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:` ${ae+1}`,value:z,onChange:ye=>{const de=[...p.options];de[ae]=ye.target.value,g(Ye=>({...Ye,options:de}))}},ae))}),u.jsxs("select",{className:"w-full border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:p.answer,onChange:z=>g(ae=>({...ae,answer:z.target.value})),children:[u.jsx("option",{value:"",children:"  "}),p.options.map((z,ae)=>z?u.jsx("option",{value:z,children:z},ae):null)]}),y&&u.jsx("p",{className:"text-red-500 text-center text-sm",children:y}),u.jsxs("div",{className:"flex justify-center gap-3 pt-4",children:[u.jsx(fe,{onClick:ze,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-xl",children:d?"":""}),d&&u.jsx(fe,{variant:"outline",onClick:()=>{f(null),g({question:"",code:"",options:["","","",""],answer:""}),T(null)},className:"px-6 py-2 rounded-xl",children:""})]})]})]})})]})}const Ice=new jB,Nce=()=>(m.useEffect(()=>{const t=dy(Ht,e=>{e&&sh({userId:e.uid,type:"app_loaded",details:JSON.stringify({pathname:window.location.pathname,search:window.location.search})})});return()=>t()},[]),u.jsx(OB,{client:Ice,children:u.jsx(yce,{children:u.jsx(Wne,{children:u.jsxs(dB,{children:[u.jsx(c$,{}),u.jsx(V$,{}),u.jsx(j8,{children:u.jsxs(A8,{children:[u.jsx(Xn,{path:"/",element:u.jsx(Rl,{children:u.jsx(qne,{})})}),u.jsx(Xn,{path:"/login",element:u.jsx(Kne,{})}),u.jsx(Xn,{path:"/register",element:u.jsx(Yne,{})}),u.jsx(Xn,{path:"/news",element:u.jsx(WN,{})}),u.jsx(Xn,{path:"/news/:newsId",element:u.jsx(WN,{})}),u.jsx(Xn,{path:"/about",element:u.jsx(xce,{})}),u.jsx(Xn,{path:"/resources",element:u.jsx(Rl,{children:u.jsx(Sce,{})})}),u.jsx(Xn,{path:"/challenges",element:u.jsx(Rl,{children:u.jsx(Ace,{})})}),u.jsx(Xn,{element:u.jsx(NN,{})}),u.jsx(Xn,{element:u.jsx(NN,{allowedRoles:["admin","owner"]}),children:u.jsx(Xn,{path:"/admin-dashboard",element:u.jsx(Rl,{children:u.jsx(ple,{})})})}),u.jsx(Xn,{path:"/AlphaTeam/*",element:u.jsx(gw,{to:"/",replace:!0})}),u.jsx(Xn,{path:"*",element:u.jsx(Xne,{})})]})})]})})})}));pk(document.getElementById("root")).render(u.jsx(bie,{children:u.jsx(Nce,{})}));
