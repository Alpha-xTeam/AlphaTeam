var ZE=t=>{throw TypeError(t)};var By=(t,e,n)=>e.has(t)||ZE("Cannot "+n);var K=(t,e,n)=>(By(t,e,"read from private field"),n?n.call(t):e.get(t)),nt=(t,e,n)=>e.has(t)?ZE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$e=(t,e,n,r)=>(By(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),En=(t,e,n)=>(By(t,e,"access private method"),n);var af=(t,e,n,r)=>({set _(s){$e(t,e,s,n)},get _(){return K(t,e,r)}});function S5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JN={exports:{}},rg={},ZN={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=Symbol.for("react.element"),C5=Symbol.for("react.portal"),A5=Symbol.for("react.fragment"),I5=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),k5=Symbol.for("react.forward_ref"),D5=Symbol.for("react.suspense"),j5=Symbol.for("react.memo"),M5=Symbol.for("react.lazy"),e_=Symbol.iterator;function O5(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var eP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tP=Object.assign,nP={};function Rc(t,e,n){this.props=t,this.context=e,this.refs=nP,this.updater=n||eP}Rc.prototype.isReactComponent={};Rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rP(){}rP.prototype=Rc.prototype;function Vx(t,e,n){this.props=t,this.context=e,this.refs=nP,this.updater=n||eP}var Fx=Vx.prototype=new rP;Fx.constructor=Vx;tP(Fx,Rc.prototype);Fx.isPureReactComponent=!0;var t_=Array.isArray,sP=Object.prototype.hasOwnProperty,Ux={current:null},iP={key:!0,ref:!0,__self:!0,__source:!0};function oP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sP.call(e,r)&&!iP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hh,type:t,key:i,ref:o,props:s,_owner:Ux.current}}function L5(t,e){return{$$typeof:hh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zx(t){return typeof t=="object"&&t!==null&&t.$$typeof===hh}function V5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function $y(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V5(""+t.key):e.toString(36)}function Kf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hh:case C5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$y(o,0):r,t_(s)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),Kf(s,e,n,"",function(c){return c})):s!=null&&(zx(s)&&(s=L5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(n_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+$y(i,a);o+=Kf(i,e,n,l,s)}else if(l=O5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+$y(i,a++),o+=Kf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lf(t,e,n){if(t==null)return t;var r=[],s=0;return Kf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function F5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Qf={transition:null},U5={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:Ux};function aP(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:lf,forEach:function(t,e,n){lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lf(t,function(){e++}),e},toArray:function(t){return lf(t,function(e){return e})||[]},only:function(t){if(!zx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Rc;qe.Fragment=A5;qe.Profiler=N5;qe.PureComponent=Vx;qe.StrictMode=I5;qe.Suspense=D5;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U5;qe.act=aP;qe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ux.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sP.call(e,l)&&!iP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hh,type:t.type,key:s,ref:i,props:r,_owner:o}};qe.createContext=function(t){return t={$$typeof:R5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P5,_context:t},t.Consumer=t};qe.createElement=oP;qe.createFactory=function(t){var e=oP.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:k5,render:t}};qe.isValidElement=zx;qe.lazy=function(t){return{$$typeof:M5,_payload:{_status:-1,_result:t},_init:F5}};qe.memo=function(t,e){return{$$typeof:j5,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Qf.transition;Qf.transition={};try{t()}finally{Qf.transition=e}};qe.unstable_act=aP;qe.useCallback=function(t,e){return Hn.current.useCallback(t,e)};qe.useContext=function(t){return Hn.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Hn.current.useEffect(t,e)};qe.useId=function(){return Hn.current.useId()};qe.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};qe.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Hn.current.useMemo(t,e)};qe.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};qe.useRef=function(t){return Hn.current.useRef(t)};qe.useState=function(t){return Hn.current.useState(t)};qe.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};qe.useTransition=function(){return Hn.current.useTransition()};qe.version="18.3.1";ZN.exports=qe;var m=ZN.exports;const oe=Lx(m),lP=S5({__proto__:null,default:oe},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=m,B5=Symbol.for("react.element"),$5=Symbol.for("react.fragment"),W5=Object.prototype.hasOwnProperty,q5=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H5={key:!0,ref:!0,__self:!0,__source:!0};function cP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)W5.call(e,r)&&!H5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:B5,type:t,key:i,ref:o,props:s,_owner:q5.current}}rg.Fragment=$5;rg.jsx=cP;rg.jsxs=cP;JN.exports=rg;var u=JN.exports,uP={exports:{}},Cr={},dP={exports:{}},hP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var te=L.length;L.push(V);e:for(;0<te;){var G=te-1>>>1,ne=L[G];if(0<s(ne,V))L[G]=V,L[te]=ne,te=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],te=L.pop();if(te!==V){L[0]=te;e:for(var G=0,ne=L.length,W=ne>>>1;G<W;){var Ee=2*(G+1)-1,Ie=L[Ee],ue=Ee+1,re=L[ue];if(0>s(Ie,te))ue<ne&&0>s(re,Ie)?(L[G]=re,L[ue]=te,G=ue):(L[G]=Ie,L[Ee]=te,G=Ee);else if(ue<ne&&0>s(re,te))L[G]=re,L[ue]=te,G=ue;else break e}}return V}function s(L,V){var te=L.sortIndex-V.sortIndex;return te!==0?te:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,v=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=L)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function I(L){if(y=!1,E(L),!v)if(n(l)!==null)v=!0,J(P);else{var V=n(c);V!==null&&ee(I,V.startTime-L)}}function P(L,V){v=!1,y&&(y=!1,w(S),S=-1),g=!0;var te=p;try{for(E(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!k());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var ne=G(f.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),E(V)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var Ee=n(c);Ee!==null&&ee(I,Ee.startTime-V),W=!1}return W}finally{f=null,p=te,g=!1}}var j=!1,C=null,S=-1,A=5,N=-1;function k(){return!(t.unstable_now()-N<A)}function M(){if(C!==null){var L=t.unstable_now();N=L;var V=!0;try{V=C(!0,L)}finally{V?D():(j=!1,C=null)}}else j=!1}var D;if(typeof x=="function")D=function(){x(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ae=z.port2;z.port1.onmessage=M,D=function(){ae.postMessage(null)}}else D=function(){T(M,0)};function J(L){C=L,j||(j=!0,D())}function ee(L,V){S=T(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,J(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var te=p;p=V;try{return L()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=p;p=L;try{return V()}finally{p=te}},t.unstable_scheduleCallback=function(L,V,te){var G=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?G+te:G):te=G,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=te+ne,L={id:d++,callback:V,priorityLevel:L,startTime:te,expirationTime:ne,sortIndex:-1},te>G?(L.sortIndex=te,e(c,L),n(l)===null&&L===n(c)&&(y?(w(S),S=-1):y=!0,ee(I,te-G))):(L.sortIndex=ne,e(l,L),v||g||(v=!0,J(P))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var V=p;return function(){var te=p;p=V;try{return L.apply(this,arguments)}finally{p=te}}}})(hP);dP.exports=hP;var G5=dP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=m,Sr=G5;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fP=new Set,yd={};function Fa(t,e){cc(t,e),cc(t+"Capture",e)}function cc(t,e){for(yd[t]=e,t=0;t<e.length;t++)fP.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aw=Object.prototype.hasOwnProperty,Q5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},s_={};function Y5(t){return aw.call(s_,t)?!0:aw.call(r_,t)?!1:Q5.test(t)?s_[t]=!0:(r_[t]=!0,!1)}function X5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J5(t,e,n,r){if(e===null||typeof e>"u"||X5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bx=/[\-:]([a-z])/g;function $x(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bx,$x);vn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bx,$x);vn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bx,$x);vn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wx(t,e,n,r){var s=vn.hasOwnProperty(e)?vn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J5(e,n,s,r)&&(n=null),r||s===null?Y5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),vl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),qx=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),pP=Symbol.for("react.provider"),mP=Symbol.for("react.context"),Hx=Symbol.for("react.forward_ref"),cw=Symbol.for("react.suspense"),uw=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),gP=Symbol.for("react.offscreen"),i_=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Wy;function Tu(t){if(Wy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wy=e&&e[1]||""}return`
`+Wy+t}var qy=!1;function Hy(t,e){if(!t||qy)return"";qy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tu(t):""}function Z5(t){switch(t.tag){case 5:return Tu(t.type);case 16:return Tu("Lazy");case 13:return Tu("Suspense");case 19:return Tu("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function dw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case vl:return"Portal";case lw:return"Profiler";case qx:return"StrictMode";case cw:return"Suspense";case uw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mP:return(t.displayName||"Context")+".Consumer";case pP:return(t._context.displayName||"Context")+".Provider";case Hx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gx:return e=t.displayName||null,e!==null?e:dw(t.type)||"Memo";case Vi:e=t._payload,t=t._init;try{return dw(t(e))}catch{}}return null}function e3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dw(e);case 8:return e===qx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t3(t){var e=yP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uf(t){t._valueTracker||(t._valueTracker=t3(t))}function vP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Op(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hw(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wP(t,e){e=e.checked,e!=null&&Wx(t,"checked",e,!1)}function fw(t,e){wP(t,e);var n=vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pw(t,e.type,n):e.hasOwnProperty("defaultValue")&&pw(t,e.type,vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pw(t,e,n){(e!=="number"||Op(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eu=Array.isArray;function Ll(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(Eu(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vo(n)}}function xP(t,e){var n=vo(e.value),r=vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var df,TP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n3=["Webkit","ms","Moz","O"];Object.keys(qu).forEach(function(t){n3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qu[e]=qu[t]})});function EP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qu.hasOwnProperty(t)&&qu[t]?(""+e).trim():e+"px"}function _P(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=EP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var r3=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yw(t,e){if(e){if(r3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function vw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ww=null;function Kx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xw=null,Vl=null,Fl=null;function u_(t){if(t=mh(t)){if(typeof xw!="function")throw Error(se(280));var e=t.stateNode;e&&(e=lg(e),xw(t.stateNode,t.type,e))}}function SP(t){Vl?Fl?Fl.push(t):Fl=[t]:Vl=t}function CP(){if(Vl){var t=Vl,e=Fl;if(Fl=Vl=null,u_(t),e)for(t=0;t<e.length;t++)u_(e[t])}}function AP(t,e){return t(e)}function IP(){}var Gy=!1;function NP(t,e,n){if(Gy)return t(e,n);Gy=!0;try{return AP(t,e,n)}finally{Gy=!1,(Vl!==null||Fl!==null)&&(IP(),CP())}}function wd(t,e){var n=t.stateNode;if(n===null)return null;var r=lg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var bw=!1;if(ai)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){bw=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{bw=!1}function s3(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Hu=!1,Lp=null,Vp=!1,Tw=null,i3={onError:function(t){Hu=!0,Lp=t}};function o3(t,e,n,r,s,i,o,a,l){Hu=!1,Lp=null,s3.apply(i3,arguments)}function a3(t,e,n,r,s,i,o,a,l){if(o3.apply(this,arguments),Hu){if(Hu){var c=Lp;Hu=!1,Lp=null}else throw Error(se(198));Vp||(Vp=!0,Tw=c)}}function Ua(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d_(t){if(Ua(t)!==t)throw Error(se(188))}function l3(t){var e=t.alternate;if(!e){if(e=Ua(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d_(s),t;if(i===r)return d_(s),e;i=i.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function RP(t){return t=l3(t),t!==null?kP(t):null}function kP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kP(t);if(e!==null)return e;t=t.sibling}return null}var DP=Sr.unstable_scheduleCallback,h_=Sr.unstable_cancelCallback,c3=Sr.unstable_shouldYield,u3=Sr.unstable_requestPaint,zt=Sr.unstable_now,d3=Sr.unstable_getCurrentPriorityLevel,Qx=Sr.unstable_ImmediatePriority,jP=Sr.unstable_UserBlockingPriority,Fp=Sr.unstable_NormalPriority,h3=Sr.unstable_LowPriority,MP=Sr.unstable_IdlePriority,sg=null,As=null;function f3(t){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(sg,t,void 0,(t.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:g3,p3=Math.log,m3=Math.LN2;function g3(t){return t>>>=0,t===0?32:31-(p3(t)/m3|0)|0}var hf=64,ff=4194304;function _u(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Up(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=_u(a):(i&=o,i!==0&&(r=_u(i)))}else o=n&~s,o!==0?r=_u(o):i!==0&&(r=_u(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rs(e),s=1<<n,r|=t[n],e&=~s;return r}function y3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-rs(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=y3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ew(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OP(){var t=hf;return hf<<=1,!(hf&4194240)&&(hf=64),t}function Ky(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rs(e),t[e]=n}function w3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-rs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var lt=0;function LP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VP,Xx,FP,UP,zP,_w=!1,pf=[],eo=null,to=null,no=null,xd=new Map,bd=new Map,Ui=[],x3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":xd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bd.delete(e.pointerId)}}function du(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=mh(e),e!==null&&Xx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function b3(t,e,n,r,s){switch(e){case"focusin":return eo=du(eo,t,e,n,r,s),!0;case"dragenter":return to=du(to,t,e,n,r,s),!0;case"mouseover":return no=du(no,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xd.set(i,du(xd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bd.set(i,du(bd.get(i)||null,t,e,n,r,s)),!0}return!1}function BP(t){var e=ra(t.target);if(e!==null){var n=Ua(e);if(n!==null){if(e=n.tag,e===13){if(e=PP(n),e!==null){t.blockedOn=e,zP(t.priority,function(){FP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ww=r,n.target.dispatchEvent(r),ww=null}else return e=mh(n),e!==null&&Xx(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){Yf(t)&&n.delete(e)}function T3(){_w=!1,eo!==null&&Yf(eo)&&(eo=null),to!==null&&Yf(to)&&(to=null),no!==null&&Yf(no)&&(no=null),xd.forEach(p_),bd.forEach(p_)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,_w||(_w=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,T3)))}function Td(t){function e(s){return hu(s,t)}if(0<pf.length){hu(pf[0],t);for(var n=1;n<pf.length;n++){var r=pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(eo!==null&&hu(eo,t),to!==null&&hu(to,t),no!==null&&hu(no,t),xd.forEach(e),bd.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)BP(n),n.blockedOn===null&&Ui.shift()}var Ul=xi.ReactCurrentBatchConfig,zp=!0;function E3(t,e,n,r){var s=lt,i=Ul.transition;Ul.transition=null;try{lt=1,Jx(t,e,n,r)}finally{lt=s,Ul.transition=i}}function _3(t,e,n,r){var s=lt,i=Ul.transition;Ul.transition=null;try{lt=4,Jx(t,e,n,r)}finally{lt=s,Ul.transition=i}}function Jx(t,e,n,r){if(zp){var s=Sw(t,e,n,r);if(s===null)sv(t,e,r,Bp,n),f_(t,r);else if(b3(s,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<x3.indexOf(t)){for(;s!==null;){var i=mh(s);if(i!==null&&VP(i),i=Sw(t,e,n,r),i===null&&sv(t,e,r,Bp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sv(t,e,r,null,n)}}var Bp=null;function Sw(t,e,n,r){if(Bp=null,t=Kx(r),t=ra(t),t!==null)if(e=Ua(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bp=t,null}function $P(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d3()){case Qx:return 1;case jP:return 4;case Fp:case h3:return 16;case MP:return 536870912;default:return 16}default:return 16}}var Yi=null,Zx=null,Xf=null;function WP(){if(Xf)return Xf;var t,e=Zx,n=e.length,r,s="value"in Yi?Yi.value:Yi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Xf=s.slice(t,1<r?1-r:void 0)}function Jf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mf(){return!0}function m_(){return!1}function Ar(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mf:m_,this.isPropagationStopped=m_,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e1=Ar(kc),ph=It({},kc,{view:0,detail:0}),S3=Ar(ph),Qy,Yy,fu,ig=It({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fu&&(fu&&t.type==="mousemove"?(Qy=t.screenX-fu.screenX,Yy=t.screenY-fu.screenY):Yy=Qy=0,fu=t),Qy)},movementY:function(t){return"movementY"in t?t.movementY:Yy}}),g_=Ar(ig),C3=It({},ig,{dataTransfer:0}),A3=Ar(C3),I3=It({},ph,{relatedTarget:0}),Xy=Ar(I3),N3=It({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),P3=Ar(N3),R3=It({},kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k3=Ar(R3),D3=It({},kc,{data:0}),y_=Ar(D3),j3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O3[t])?!!e[t]:!1}function t1(){return L3}var V3=It({},ph,{key:function(t){if(t.key){var e=j3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?M3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t1,charCode:function(t){return t.type==="keypress"?Jf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F3=Ar(V3),U3=It({},ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Ar(U3),z3=It({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t1}),B3=Ar(z3),$3=It({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),W3=Ar($3),q3=It({},ig,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H3=Ar(q3),G3=[9,13,27,32],n1=ai&&"CompositionEvent"in window,Gu=null;ai&&"documentMode"in document&&(Gu=document.documentMode);var K3=ai&&"TextEvent"in window&&!Gu,qP=ai&&(!n1||Gu&&8<Gu&&11>=Gu),w_=" ",x_=!1;function HP(t,e){switch(t){case"keyup":return G3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function Q3(t,e){switch(t){case"compositionend":return GP(e);case"keypress":return e.which!==32?null:(x_=!0,w_);case"textInput":return t=e.data,t===w_&&x_?null:t;default:return null}}function Y3(t,e){if(xl)return t==="compositionend"||!n1&&HP(t,e)?(t=WP(),Xf=Zx=Yi=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qP&&e.locale!=="ko"?null:e.data;default:return null}}var X3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!X3[t.type]:e==="textarea"}function KP(t,e,n,r){SP(r),e=$p(e,"onChange"),0<e.length&&(n=new e1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ku=null,Ed=null;function J3(t){iR(t,0)}function og(t){var e=El(t);if(vP(e))return t}function Z3(t,e){if(t==="change")return e}var QP=!1;if(ai){var Jy;if(ai){var Zy="oninput"in document;if(!Zy){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Zy=typeof T_.oninput=="function"}Jy=Zy}else Jy=!1;QP=Jy&&(!document.documentMode||9<document.documentMode)}function E_(){Ku&&(Ku.detachEvent("onpropertychange",YP),Ed=Ku=null)}function YP(t){if(t.propertyName==="value"&&og(Ed)){var e=[];KP(e,Ed,t,Kx(t)),NP(J3,e)}}function e6(t,e,n){t==="focusin"?(E_(),Ku=e,Ed=n,Ku.attachEvent("onpropertychange",YP)):t==="focusout"&&E_()}function t6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return og(Ed)}function n6(t,e){if(t==="click")return og(e)}function r6(t,e){if(t==="input"||t==="change")return og(e)}function s6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:s6;function _d(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!aw.call(e,s)||!as(t[s],e[s]))return!1}return!0}function __(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function S_(t,e){var n=__(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=__(n)}}function XP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JP(){for(var t=window,e=Op();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Op(t.document)}return e}function r1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i6(t){var e=JP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XP(n.ownerDocument.documentElement,n)){if(r!==null&&r1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=S_(n,i);var o=S_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o6=ai&&"documentMode"in document&&11>=document.documentMode,bl=null,Cw=null,Qu=null,Aw=!1;function C_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aw||bl==null||bl!==Op(r)||(r=bl,"selectionStart"in r&&r1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qu&&_d(Qu,r)||(Qu=r,r=$p(Cw,"onSelect"),0<r.length&&(e=new e1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bl)))}function gf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tl={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},ev={},ZP={};ai&&(ZP=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function ag(t){if(ev[t])return ev[t];if(!Tl[t])return t;var e=Tl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZP)return ev[t]=e[n];return t}var eR=ag("animationend"),tR=ag("animationiteration"),nR=ag("animationstart"),rR=ag("transitionend"),sR=new Map,A_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(t,e){sR.set(t,e),Fa(e,[t])}for(var tv=0;tv<A_.length;tv++){var nv=A_[tv],a6=nv.toLowerCase(),l6=nv[0].toUpperCase()+nv.slice(1);ko(a6,"on"+l6)}ko(eR,"onAnimationEnd");ko(tR,"onAnimationIteration");ko(nR,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(rR,"onTransitionEnd");cc("onMouseEnter",["mouseout","mouseover"]);cc("onMouseLeave",["mouseout","mouseover"]);cc("onPointerEnter",["pointerout","pointerover"]);cc("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function I_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a3(r,e,void 0,t),t.currentTarget=null}function iR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;I_(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;I_(s,a,c),i=l}}}if(Vp)throw t=Tw,Vp=!1,Tw=null,t}function yt(t,e){var n=e[kw];n===void 0&&(n=e[kw]=new Set);var r=t+"__bubble";n.has(r)||(oR(e,t,2,!1),n.add(r))}function rv(t,e,n){var r=0;e&&(r|=4),oR(n,t,r,e)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Sd(t){if(!t[yf]){t[yf]=!0,fP.forEach(function(n){n!=="selectionchange"&&(c6.has(n)||rv(n,!1,t),rv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yf]||(e[yf]=!0,rv("selectionchange",!1,e))}}function oR(t,e,n,r){switch($P(e)){case 1:var s=E3;break;case 4:s=_3;break;default:s=Jx}n=s.bind(null,e,n,t),s=void 0,!bw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ra(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}NP(function(){var c=i,d=Kx(n),f=[];e:{var p=sR.get(t);if(p!==void 0){var g=e1,v=t;switch(t){case"keypress":if(Jf(n)===0)break e;case"keydown":case"keyup":g=F3;break;case"focusin":v="focus",g=Xy;break;case"focusout":v="blur",g=Xy;break;case"beforeblur":case"afterblur":g=Xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=B3;break;case eR:case tR:case nR:g=P3;break;case rR:g=W3;break;case"scroll":g=S3;break;case"wheel":g=H3;break;case"copy":case"cut":case"paste":g=k3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v_}var y=(e&4)!==0,T=!y&&t==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,E;x!==null;){E=x;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,w!==null&&(I=wd(x,w),I!=null&&y.push(Cd(x,I,E)))),T)break;x=x.return}0<y.length&&(p=new g(p,v,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==ww&&(v=n.relatedTarget||n.fromElement)&&(ra(v)||v[li]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?ra(v):null,v!==null&&(T=Ua(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=g_,I="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=v_,I="onPointerLeave",w="onPointerEnter",x="pointer"),T=g==null?p:El(g),E=v==null?p:El(v),p=new y(I,x+"leave",g,n,d),p.target=T,p.relatedTarget=E,I=null,ra(d)===c&&(y=new y(w,x+"enter",v,n,d),y.target=E,y.relatedTarget=T,I=y),T=I,g&&v)t:{for(y=g,w=v,x=0,E=y;E;E=al(E))x++;for(E=0,I=w;I;I=al(I))E++;for(;0<x-E;)y=al(y),x--;for(;0<E-x;)w=al(w),E--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=al(y),w=al(w)}y=null}else y=null;g!==null&&N_(f,p,g,y,!1),v!==null&&T!==null&&N_(f,T,v,y,!0)}}e:{if(p=c?El(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var P=Z3;else if(b_(p))if(QP)P=r6;else{P=t6;var j=e6}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=n6);if(P&&(P=P(t,c))){KP(f,P,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&pw(p,"number",p.value)}switch(j=c?El(c):window,t){case"focusin":(b_(j)||j.contentEditable==="true")&&(bl=j,Cw=c,Qu=null);break;case"focusout":Qu=Cw=bl=null;break;case"mousedown":Aw=!0;break;case"contextmenu":case"mouseup":case"dragend":Aw=!1,C_(f,n,d);break;case"selectionchange":if(o6)break;case"keydown":case"keyup":C_(f,n,d)}var C;if(n1)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xl?HP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(qP&&n.locale!=="ko"&&(xl||S!=="onCompositionStart"?S==="onCompositionEnd"&&xl&&(C=WP()):(Yi=d,Zx="value"in Yi?Yi.value:Yi.textContent,xl=!0)),j=$p(c,S),0<j.length&&(S=new y_(S,t,null,n,d),f.push({event:S,listeners:j}),C?S.data=C:(C=GP(n),C!==null&&(S.data=C)))),(C=K3?Q3(t,n):Y3(t,n))&&(c=$p(c,"onBeforeInput"),0<c.length&&(d=new y_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}iR(f,e)})}function Cd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $p(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wd(t,n),i!=null&&r.unshift(Cd(t,i,s)),i=wd(t,e),i!=null&&r.push(Cd(t,i,s))),t=t.return}return r}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=wd(n,i),l!=null&&o.unshift(Cd(n,l,a))):s||(l=wd(n,i),l!=null&&o.push(Cd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var u6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(u6,`
`).replace(d6,"")}function vf(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error(se(425))}function Wp(){}var Iw=null,Nw=null;function Pw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rw=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,f6=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(p6)}:Rw;function p6(t){setTimeout(function(){throw t})}function iv(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Td(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Td(e)}function ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),Es="__reactFiber$"+Dc,Ad="__reactProps$"+Dc,li="__reactContainer$"+Dc,kw="__reactEvents$"+Dc,m6="__reactListeners$"+Dc,g6="__reactHandles$"+Dc;function ra(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k_(t);t!==null;){if(n=t[Es])return n;t=k_(t)}return e}t=n,n=t.parentNode}return null}function mh(t){return t=t[Es]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function lg(t){return t[Ad]||null}var Dw=[],_l=-1;function Do(t){return{current:t}}function wt(t){0>_l||(t.current=Dw[_l],Dw[_l]=null,_l--)}function ft(t,e){_l++,Dw[_l]=t.current,t.current=e}var wo={},jn=Do(wo),sr=Do(!1),Ta=wo;function uc(t,e){var n=t.type.contextTypes;if(!n)return wo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ir(t){return t=t.childContextTypes,t!=null}function qp(){wt(sr),wt(jn)}function D_(t,e,n){if(jn.current!==wo)throw Error(se(168));ft(jn,e),ft(sr,n)}function aR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(se(108,e3(t)||"Unknown",s));return It({},n,r)}function Hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wo,Ta=jn.current,ft(jn,t),ft(sr,sr.current),!0}function j_(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=aR(t,e,Ta),r.__reactInternalMemoizedMergedChildContext=t,wt(sr),wt(jn),ft(jn,t)):wt(sr),ft(sr,n)}var Ys=null,cg=!1,ov=!1;function lR(t){Ys===null?Ys=[t]:Ys.push(t)}function y6(t){cg=!0,lR(t)}function jo(){if(!ov&&Ys!==null){ov=!0;var t=0,e=lt;try{var n=Ys;for(lt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ys=null,cg=!1}catch(s){throw Ys!==null&&(Ys=Ys.slice(t+1)),DP(Qx,jo),s}finally{lt=e,ov=!1}}return null}var Sl=[],Cl=0,Gp=null,Kp=0,Rr=[],kr=0,Ea=null,Js=1,Zs="";function Yo(t,e){Sl[Cl++]=Kp,Sl[Cl++]=Gp,Gp=t,Kp=e}function cR(t,e,n){Rr[kr++]=Js,Rr[kr++]=Zs,Rr[kr++]=Ea,Ea=t;var r=Js;t=Zs;var s=32-rs(r)-1;r&=~(1<<s),n+=1;var i=32-rs(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Js=1<<32-rs(e)+s|n<<s|r,Zs=i+t}else Js=1<<i|n<<s|r,Zs=t}function s1(t){t.return!==null&&(Yo(t,1),cR(t,1,0))}function i1(t){for(;t===Gp;)Gp=Sl[--Cl],Sl[Cl]=null,Kp=Sl[--Cl],Sl[Cl]=null;for(;t===Ea;)Ea=Rr[--kr],Rr[kr]=null,Zs=Rr[--kr],Rr[kr]=null,Js=Rr[--kr],Rr[kr]=null}var Tr=null,xr=null,bt=!1,Jr=null;function uR(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,xr=ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ea!==null?{id:Js,overflow:Zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,xr=null,!0):!1;default:return!1}}function jw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mw(t){if(bt){var e=xr;if(e){var n=e;if(!M_(t,e)){if(jw(t))throw Error(se(418));e=ro(n.nextSibling);var r=Tr;e&&M_(t,e)?uR(r,n):(t.flags=t.flags&-4097|2,bt=!1,Tr=t)}}else{if(jw(t))throw Error(se(418));t.flags=t.flags&-4097|2,bt=!1,Tr=t}}}function O_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function wf(t){if(t!==Tr)return!1;if(!bt)return O_(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pw(t.type,t.memoizedProps)),e&&(e=xr)){if(jw(t))throw dR(),Error(se(418));for(;e;)uR(t,e),e=ro(e.nextSibling)}if(O_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xr=ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xr=null}}else xr=Tr?ro(t.stateNode.nextSibling):null;return!0}function dR(){for(var t=xr;t;)t=ro(t.nextSibling)}function dc(){xr=Tr=null,bt=!1}function o1(t){Jr===null?Jr=[t]:Jr.push(t)}var v6=xi.ReactCurrentBatchConfig;function pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function xf(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L_(t){var e=t._init;return e(t._payload)}function hR(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=ao(w,x),w.index=0,w.sibling=null,w}function i(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,E,I){return x===null||x.tag!==6?(x=fv(E,w.mode,I),x.return=w,x):(x=s(x,E),x.return=w,x)}function l(w,x,E,I){var P=E.type;return P===wl?d(w,x,E.props.children,I,E.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&L_(P)===x.type)?(I=s(x,E.props),I.ref=pu(w,x,E),I.return=w,I):(I=ip(E.type,E.key,E.props,null,w.mode,I),I.ref=pu(w,x,E),I.return=w,I)}function c(w,x,E,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=pv(E,w.mode,I),x.return=w,x):(x=s(x,E.children||[]),x.return=w,x)}function d(w,x,E,I,P){return x===null||x.tag!==7?(x=ga(E,w.mode,I,P),x.return=w,x):(x=s(x,E),x.return=w,x)}function f(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=fv(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cf:return E=ip(x.type,x.key,x.props,null,w.mode,E),E.ref=pu(w,null,x),E.return=w,E;case vl:return x=pv(x,w.mode,E),x.return=w,x;case Vi:var I=x._init;return f(w,I(x._payload),E)}if(Eu(x)||cu(x))return x=ga(x,w.mode,E,null),x.return=w,x;xf(w,x)}return null}function p(w,x,E,I){var P=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(w,x,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case cf:return E.key===P?l(w,x,E,I):null;case vl:return E.key===P?c(w,x,E,I):null;case Vi:return P=E._init,p(w,x,P(E._payload),I)}if(Eu(E)||cu(E))return P!==null?null:d(w,x,E,I,null);xf(w,E)}return null}function g(w,x,E,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(E)||null,a(x,w,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cf:return w=w.get(I.key===null?E:I.key)||null,l(x,w,I,P);case vl:return w=w.get(I.key===null?E:I.key)||null,c(x,w,I,P);case Vi:var j=I._init;return g(w,x,E,j(I._payload),P)}if(Eu(I)||cu(I))return w=w.get(E)||null,d(x,w,I,P,null);xf(x,I)}return null}function v(w,x,E,I){for(var P=null,j=null,C=x,S=x=0,A=null;C!==null&&S<E.length;S++){C.index>S?(A=C,C=null):A=C.sibling;var N=p(w,C,E[S],I);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(w,C),x=i(N,x,S),j===null?P=N:j.sibling=N,j=N,C=A}if(S===E.length)return n(w,C),bt&&Yo(w,S),P;if(C===null){for(;S<E.length;S++)C=f(w,E[S],I),C!==null&&(x=i(C,x,S),j===null?P=C:j.sibling=C,j=C);return bt&&Yo(w,S),P}for(C=r(w,C);S<E.length;S++)A=g(C,w,S,E[S],I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),x=i(A,x,S),j===null?P=A:j.sibling=A,j=A);return t&&C.forEach(function(k){return e(w,k)}),bt&&Yo(w,S),P}function y(w,x,E,I){var P=cu(E);if(typeof P!="function")throw Error(se(150));if(E=P.call(E),E==null)throw Error(se(151));for(var j=P=null,C=x,S=x=0,A=null,N=E.next();C!==null&&!N.done;S++,N=E.next()){C.index>S?(A=C,C=null):A=C.sibling;var k=p(w,C,N.value,I);if(k===null){C===null&&(C=A);break}t&&C&&k.alternate===null&&e(w,C),x=i(k,x,S),j===null?P=k:j.sibling=k,j=k,C=A}if(N.done)return n(w,C),bt&&Yo(w,S),P;if(C===null){for(;!N.done;S++,N=E.next())N=f(w,N.value,I),N!==null&&(x=i(N,x,S),j===null?P=N:j.sibling=N,j=N);return bt&&Yo(w,S),P}for(C=r(w,C);!N.done;S++,N=E.next())N=g(C,w,S,N.value,I),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),x=i(N,x,S),j===null?P=N:j.sibling=N,j=N);return t&&C.forEach(function(M){return e(w,M)}),bt&&Yo(w,S),P}function T(w,x,E,I){if(typeof E=="object"&&E!==null&&E.type===wl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case cf:e:{for(var P=E.key,j=x;j!==null;){if(j.key===P){if(P=E.type,P===wl){if(j.tag===7){n(w,j.sibling),x=s(j,E.props.children),x.return=w,w=x;break e}}else if(j.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vi&&L_(P)===j.type){n(w,j.sibling),x=s(j,E.props),x.ref=pu(w,j,E),x.return=w,w=x;break e}n(w,j);break}else e(w,j);j=j.sibling}E.type===wl?(x=ga(E.props.children,w.mode,I,E.key),x.return=w,w=x):(I=ip(E.type,E.key,E.props,null,w.mode,I),I.ref=pu(w,x,E),I.return=w,w=I)}return o(w);case vl:e:{for(j=E.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(w,x.sibling),x=s(x,E.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=pv(E,w.mode,I),x.return=w,w=x}return o(w);case Vi:return j=E._init,T(w,x,j(E._payload),I)}if(Eu(E))return v(w,x,E,I);if(cu(E))return y(w,x,E,I);xf(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,E),x.return=w,w=x):(n(w,x),x=fv(E,w.mode,I),x.return=w,w=x),o(w)):n(w,x)}return T}var hc=hR(!0),fR=hR(!1),Qp=Do(null),Yp=null,Al=null,a1=null;function l1(){a1=Al=Yp=null}function c1(t){var e=Qp.current;wt(Qp),t._currentValue=e}function Ow(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zl(t,e){Yp=t,a1=Al=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(a1!==t)if(t={context:t,memoizedValue:e,next:null},Al===null){if(Yp===null)throw Error(se(308));Al=t,Yp.dependencies={lanes:0,firstContext:t}}else Al=Al.next=t;return e}var sa=null;function u1(t){sa===null?sa=[t]:sa.push(t)}function pR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,u1(e)):(n.next=s.next,s.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fi=!1;function d1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function so(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ci(t,n)}return s=r.interleaved,s===null?(e.next=e,u1(r)):(e.next=s.next,s.next=e),r.interleaved=e,ci(t,n)}function Zf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yx(t,n)}}function V_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xp(t,e,n,r){var s=t.updateQueue;Fi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(p=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(g,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(g,f,p):v,p==null)break e;f=It({},f,p);break e;case 2:Fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Sa|=o,t.lanes=o,t.memoizedState=f}}function F_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var gh={},Is=Do(gh),Id=Do(gh),Nd=Do(gh);function ia(t){if(t===gh)throw Error(se(174));return t}function h1(t,e){switch(ft(Nd,e),ft(Id,t),ft(Is,gh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gw(e,t)}wt(Is),ft(Is,e)}function fc(){wt(Is),wt(Id),wt(Nd)}function gR(t){ia(Nd.current);var e=ia(Is.current),n=gw(e,t.type);e!==n&&(ft(Id,t),ft(Is,n))}function f1(t){Id.current===t&&(wt(Is),wt(Id))}var Tt=Do(0);function Jp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var av=[];function p1(){for(var t=0;t<av.length;t++)av[t]._workInProgressVersionPrimary=null;av.length=0}var ep=xi.ReactCurrentDispatcher,lv=xi.ReactCurrentBatchConfig,_a=0,Ct=null,Jt=null,ln=null,Zp=!1,Yu=!1,Pd=0,w6=0;function _n(){throw Error(se(321))}function m1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function g1(t,e,n,r,s,i){if(_a=i,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ep.current=t===null||t.memoizedState===null?E6:_6,t=n(r,s),Yu){i=0;do{if(Yu=!1,Pd=0,25<=i)throw Error(se(301));i+=1,ln=Jt=null,e.updateQueue=null,ep.current=S6,t=n(r,s)}while(Yu)}if(ep.current=em,e=Jt!==null&&Jt.next!==null,_a=0,ln=Jt=Ct=null,Zp=!1,e)throw Error(se(300));return t}function y1(){var t=Pd!==0;return Pd=0,t}function vs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ct.memoizedState=ln=t:ln=ln.next=t,ln}function zr(){if(Jt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=ln===null?Ct.memoizedState:ln.next;if(e!==null)ln=e,Jt=t;else{if(t===null)throw Error(se(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Ct.memoizedState=ln=t:ln=ln.next=t}return ln}function Rd(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=zr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((_a&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ct.lanes|=d,Sa|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,as(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ct.lanes|=i,Sa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uv(t){var e=zr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);as(i,e.memoizedState)||(nr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function yR(){}function vR(t,e){var n=Ct,r=zr(),s=e(),i=!as(r.memoizedState,s);if(i&&(r.memoizedState=s,nr=!0),r=r.queue,v1(bR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ln!==null&&ln.memoizedState.tag&1){if(n.flags|=2048,kd(9,xR.bind(null,n,r,s,e),void 0,null),un===null)throw Error(se(349));_a&30||wR(n,e,s)}return s}function wR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xR(t,e,n,r){e.value=n,e.getSnapshot=r,TR(e)&&ER(t)}function bR(t,e,n){return n(function(){TR(e)&&ER(t)})}function TR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function ER(t){var e=ci(t,1);e!==null&&ss(e,t,1,-1)}function U_(t){var e=vs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},e.queue=t,t=t.dispatch=T6.bind(null,Ct,t),[e.memoizedState,t]}function kd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _R(){return zr().memoizedState}function tp(t,e,n,r){var s=vs();Ct.flags|=t,s.memoizedState=kd(1|e,n,void 0,r===void 0?null:r)}function ug(t,e,n,r){var s=zr();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,r!==null&&m1(r,o.deps)){s.memoizedState=kd(e,n,i,r);return}}Ct.flags|=t,s.memoizedState=kd(1|e,n,i,r)}function z_(t,e){return tp(8390656,8,t,e)}function v1(t,e){return ug(2048,8,t,e)}function SR(t,e){return ug(4,2,t,e)}function CR(t,e){return ug(4,4,t,e)}function AR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IR(t,e,n){return n=n!=null?n.concat([t]):null,ug(4,4,AR.bind(null,e,t),n)}function w1(){}function NR(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PR(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RR(t,e,n){return _a&21?(as(n,e)||(n=OP(),Ct.lanes|=n,Sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function x6(t,e){var n=lt;lt=n!==0&&4>n?n:4,t(!0);var r=lv.transition;lv.transition={};try{t(!1),e()}finally{lt=n,lv.transition=r}}function kR(){return zr().memoizedState}function b6(t,e,n){var r=oo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DR(t))jR(e,n);else if(n=pR(t,e,n,r),n!==null){var s=qn();ss(n,t,r,s),MR(n,e,r)}}function T6(t,e,n){var r=oo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DR(t))jR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,as(a,o)){var l=e.interleaved;l===null?(s.next=s,u1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=pR(t,e,s,r),n!==null&&(s=qn(),ss(n,t,r,s),MR(n,e,r))}}function DR(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function jR(t,e){Yu=Zp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yx(t,n)}}var em={readContext:Ur,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},E6={readContext:Ur,useCallback:function(t,e){return vs().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tp(4194308,4,AR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tp(4194308,4,t,e)},useInsertionEffect:function(t,e){return tp(4,2,t,e)},useMemo:function(t,e){var n=vs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b6.bind(null,Ct,t),[r.memoizedState,t]},useRef:function(t){var e=vs();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:w1,useDeferredValue:function(t){return vs().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=x6.bind(null,t[1]),vs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ct,s=vs();if(bt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),un===null)throw Error(se(349));_a&30||wR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,z_(bR.bind(null,r,i,t),[t]),r.flags|=2048,kd(9,xR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vs(),e=un.identifierPrefix;if(bt){var n=Zs,r=Js;n=(r&~(1<<32-rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Pd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_6={readContext:Ur,useCallback:NR,useContext:Ur,useEffect:v1,useImperativeHandle:IR,useInsertionEffect:SR,useLayoutEffect:CR,useMemo:PR,useReducer:cv,useRef:_R,useState:function(){return cv(Rd)},useDebugValue:w1,useDeferredValue:function(t){var e=zr();return RR(e,Jt.memoizedState,t)},useTransition:function(){var t=cv(Rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:yR,useSyncExternalStore:vR,useId:kR,unstable_isNewReconciler:!1},S6={readContext:Ur,useCallback:NR,useContext:Ur,useEffect:v1,useImperativeHandle:IR,useInsertionEffect:SR,useLayoutEffect:CR,useMemo:PR,useReducer:uv,useRef:_R,useState:function(){return uv(Rd)},useDebugValue:w1,useDeferredValue:function(t){var e=zr();return Jt===null?e.memoizedState=t:RR(e,Jt.memoizedState,t)},useTransition:function(){var t=uv(Rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:yR,useSyncExternalStore:vR,useId:kR,unstable_isNewReconciler:!1};function Kr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dg={isMounted:function(t){return(t=t._reactInternals)?Ua(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qn(),s=oo(t),i=ri(r,s);i.payload=e,n!=null&&(i.callback=n),e=so(t,i,s),e!==null&&(ss(e,t,s,r),Zf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qn(),s=oo(t),i=ri(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=so(t,i,s),e!==null&&(ss(e,t,s,r),Zf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qn(),r=oo(t),s=ri(n,r);s.tag=2,e!=null&&(s.callback=e),e=so(t,s,r),e!==null&&(ss(e,t,r,n),Zf(e,t,r))}};function B_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!_d(n,r)||!_d(s,i):!0}function OR(t,e,n){var r=!1,s=wo,i=e.contextType;return typeof i=="object"&&i!==null?i=Ur(i):(s=ir(e)?Ta:jn.current,r=e.contextTypes,i=(r=r!=null)?uc(t,s):wo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function $_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dg.enqueueReplaceState(e,e.state,null)}function Vw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},d1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ur(i):(i=ir(e)?Ta:jn.current,s.context=uc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Lw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&dg.enqueueReplaceState(s,s.state,null),Xp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pc(t,e){try{var n="",r=e;do n+=Z5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C6=typeof WeakMap=="function"?WeakMap:Map;function LR(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nm||(nm=!0,Qw=r),Fw(t,e)},n}function VR(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fw(t,e),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new C6;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=U6.bind(null,t,e,n),e.then(t,t))}function q_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function H_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,so(n,e,1))),n.lanes|=1),t)}var A6=xi.ReactCurrentOwner,nr=!1;function Un(t,e,n,r){e.child=t===null?fR(e,null,n,r):hc(e,t.child,n,r)}function G_(t,e,n,r,s){n=n.render;var i=e.ref;return zl(e,s),r=g1(t,e,n,r,i,s),n=y1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(bt&&n&&s1(e),e.flags|=1,Un(t,e,r,s),e.child)}function K_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!A1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,FR(t,e,i,r,s)):(t=ip(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:_d,n(o,r)&&t.ref===e.ref)return ui(t,e,s)}return e.flags|=1,t=ao(i,r),t.ref=e.ref,t.return=e,e.child=t}function FR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(_d(i,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,ui(t,e,s)}return Uw(t,e,n,r,s)}function UR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Nl,yr),yr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Nl,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ft(Nl,yr),yr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ft(Nl,yr),yr|=r;return Un(t,e,s,n),e.child}function zR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uw(t,e,n,r,s){var i=ir(n)?Ta:jn.current;return i=uc(e,i),zl(e,s),n=g1(t,e,n,r,i,s),r=y1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ui(t,e,s)):(bt&&r&&s1(e),e.flags|=1,Un(t,e,n,s),e.child)}function Q_(t,e,n,r,s){if(ir(n)){var i=!0;Hp(e)}else i=!1;if(zl(e,s),e.stateNode===null)np(t,e),OR(e,n,r),Vw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ur(c):(c=ir(n)?Ta:jn.current,c=uc(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&$_(e,o,r,c),Fi=!1;var p=e.memoizedState;o.state=p,Xp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||sr.current||Fi?(typeof d=="function"&&(Lw(e,n,d,r),l=e.memoizedState),(a=Fi||B_(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ur(l):(l=ir(n)?Ta:jn.current,l=uc(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&$_(e,o,r,l),Fi=!1,p=e.memoizedState,o.state=p,Xp(e,r,o,s);var v=e.memoizedState;a!==f||p!==v||sr.current||Fi?(typeof g=="function"&&(Lw(e,n,g,r),v=e.memoizedState),(c=Fi||B_(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return zw(t,e,n,r,i,s)}function zw(t,e,n,r,s,i){zR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&j_(e,n,!1),ui(t,e,i);r=e.stateNode,A6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hc(e,t.child,null,i),e.child=hc(e,null,a,i)):Un(t,e,a,i),e.memoizedState=r.state,s&&j_(e,n,!0),e.child}function BR(t){var e=t.stateNode;e.pendingContext?D_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D_(t,e.context,!1),h1(t,e.containerInfo)}function Y_(t,e,n,r,s){return dc(),o1(s),e.flags|=256,Un(t,e,n,r),e.child}var Bw={dehydrated:null,treeContext:null,retryLane:0};function $w(t){return{baseLanes:t,cachePool:null,transitions:null}}function $R(t,e,n){var r=e.pendingProps,s=Tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ft(Tt,s&1),t===null)return Mw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pg(o,r,0,null),t=ga(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$w(n),e.memoizedState=Bw,t):x1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return I6(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ao(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ao(a,i):(i=ga(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?$w(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bw,r}return i=t.child,t=i.sibling,r=ao(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x1(t,e){return e=pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bf(t,e,n,r){return r!==null&&o1(r),hc(e,t.child,null,n),t=x1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I6(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dv(Error(se(422))),bf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pg({mode:"visible",children:r.children},s,0,null),i=ga(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hc(e,t.child,null,o),e.child.memoizedState=$w(o),e.memoizedState=Bw,i);if(!(e.mode&1))return bf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(se(419)),r=dv(i,r,void 0),bf(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=un,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ci(t,s),ss(r,t,s,-1))}return C1(),r=dv(Error(se(421))),bf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=z6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xr=ro(s.nextSibling),Tr=e,bt=!0,Jr=null,t!==null&&(Rr[kr++]=Js,Rr[kr++]=Zs,Rr[kr++]=Ea,Js=t.id,Zs=t.overflow,Ea=e),e=x1(e,r.children),e.flags|=4096,e)}function X_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ow(t.return,e,n)}function hv(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function WR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Un(t,e,r.children,n),r=Tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,n,e);else if(t.tag===19)X_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ft(Tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hv(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hv(e,!0,n,null,i);break;case"together":hv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function np(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=ao(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ao(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N6(t,e,n){switch(e.tag){case 3:BR(e),dc();break;case 5:gR(e);break;case 1:ir(e.type)&&Hp(e);break;case 4:h1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ft(Qp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ft(Tt,Tt.current&1),e.flags|=128,null):n&e.child.childLanes?$R(t,e,n):(ft(Tt,Tt.current&1),t=ui(t,e,n),t!==null?t.sibling:null);ft(Tt,Tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ft(Tt,Tt.current),r)break;return null;case 22:case 23:return e.lanes=0,UR(t,e,n)}return ui(t,e,n)}var qR,Ww,HR,GR;qR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ww=function(){};HR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ia(Is.current);var i=null;switch(n){case"input":s=hw(t,s),r=hw(t,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=mw(t,s),r=mw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wp)}yw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};GR=function(t,e,n,r){n!==r&&(e.flags|=4)};function mu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P6(t,e,n){var r=e.pendingProps;switch(i1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return ir(e.type)&&qp(),Sn(e),null;case 3:return r=e.stateNode,fc(),wt(sr),wt(jn),p1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jr!==null&&(Jw(Jr),Jr=null))),Ww(t,e),Sn(e),null;case 5:f1(e);var s=ia(Nd.current);if(n=e.type,t!==null&&e.stateNode!=null)HR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Sn(e),null}if(t=ia(Is.current),wf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Es]=e,r[Ad]=i,t=(e.mode&1)!==0,n){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(s=0;s<Su.length;s++)yt(Su[s],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":o_(r,i),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},yt("invalid",r);break;case"textarea":l_(r,i),yt("invalid",r)}yw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&vf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&vf(r.textContent,a,t),s=["children",""+a]):yd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yt("scroll",r)}switch(n){case"input":uf(r),a_(r,i,!0);break;case"textarea":uf(r),c_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Es]=e,t[Ad]=r,qR(t,e,!1,!1),e.stateNode=t;e:{switch(o=vw(n,r),n){case"dialog":yt("cancel",t),yt("close",t),s=r;break;case"iframe":case"object":case"embed":yt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Su.length;s++)yt(Su[s],t);s=r;break;case"source":yt("error",t),s=r;break;case"img":case"image":case"link":yt("error",t),yt("load",t),s=r;break;case"details":yt("toggle",t),s=r;break;case"input":o_(t,r),s=hw(t,r),yt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),yt("invalid",t);break;case"textarea":l_(t,r),s=mw(t,r),yt("invalid",t);break;default:s=r}yw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_P(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vd(t,l):typeof l=="number"&&vd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&yt("scroll",t):l!=null&&Wx(t,i,l,o))}switch(n){case"input":uf(t),a_(t,r,!1);break;case"textarea":uf(t),c_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ll(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)GR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=ia(Nd.current),ia(Is.current),wf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(i=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:vf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return Sn(e),null;case 13:if(wt(Tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&xr!==null&&e.mode&1&&!(e.flags&128))dR(),dc(),e.flags|=98560,i=!1;else if(i=wf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Es]=e}else dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),i=!1}else Jr!==null&&(Jw(Jr),Jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Tt.current&1?en===0&&(en=3):C1())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return fc(),Ww(t,e),t===null&&Sd(e.stateNode.containerInfo),Sn(e),null;case 10:return c1(e.type._context),Sn(e),null;case 17:return ir(e.type)&&qp(),Sn(e),null;case 19:if(wt(Tt),i=e.memoizedState,i===null)return Sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mu(i,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jp(t),o!==null){for(e.flags|=128,mu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(Tt,Tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&zt()>mc&&(e.flags|=128,r=!0,mu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return Sn(e),null}else 2*zt()-i.renderingStartTime>mc&&n!==1073741824&&(e.flags|=128,r=!0,mu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zt(),e.sibling=null,n=Tt.current,ft(Tt,r?n&1|2:n&1),e):(Sn(e),null);case 22:case 23:return S1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function R6(t,e){switch(i1(e),e.tag){case 1:return ir(e.type)&&qp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fc(),wt(sr),wt(jn),p1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f1(e),null;case 13:if(wt(Tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Tt),null;case 4:return fc(),null;case 10:return c1(e.type._context),null;case 22:case 23:return S1(),null;case 24:return null;default:return null}}var Tf=!1,Pn=!1,k6=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function qw(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var J_=!1;function D6(t,e){if(Iw=zp,t=JP(),r1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nw={focusedElem:t,selectionRange:n},zp=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,T=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kr(e.type,y),T);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(I){Mt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return v=J_,J_=!1,v}function Xu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qw(e,n,i)}s=s.next}while(s!==r)}}function hg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KR(t){var e=t.alternate;e!==null&&(t.alternate=null,KR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[Ad],delete e[kw],delete e[m6],delete e[g6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QR(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wp));else if(r!==4&&(t=t.child,t!==null))for(Gw(t,e,n),t=t.sibling;t!==null;)Gw(t,e,n),t=t.sibling}function Kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kw(t,e,n),t=t.sibling;t!==null;)Kw(t,e,n),t=t.sibling}var fn=null,Xr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)YR(t,e,n),n=n.sibling}function YR(t,e,n){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(sg,n)}catch{}switch(n.tag){case 5:Pn||Il(n,e);case 6:var r=fn,s=Xr;fn=null,Ni(t,e,n),fn=r,Xr=s,fn!==null&&(Xr?(t=fn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fn.removeChild(n.stateNode));break;case 18:fn!==null&&(Xr?(t=fn,n=n.stateNode,t.nodeType===8?iv(t.parentNode,n):t.nodeType===1&&iv(t,n),Td(t)):iv(fn,n.stateNode));break;case 4:r=fn,s=Xr,fn=n.stateNode.containerInfo,Xr=!0,Ni(t,e,n),fn=r,Xr=s;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qw(n,e,o),s=s.next}while(s!==r)}Ni(t,e,n);break;case 1:if(!Pn&&(Il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,Ni(t,e,n),Pn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function eS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new k6),e.forEach(function(r){var s=B6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:fn=a.stateNode,Xr=!1;break e;case 3:fn=a.stateNode.containerInfo,Xr=!0;break e;case 4:fn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(fn===null)throw Error(se(160));YR(i,o,s),fn=null,Xr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Mt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XR(e,t),e=e.sibling}function XR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qr(e,t),ys(t),r&4){try{Xu(3,t,t.return),hg(3,t)}catch(y){Mt(t,t.return,y)}try{Xu(5,t,t.return)}catch(y){Mt(t,t.return,y)}}break;case 1:qr(e,t),ys(t),r&512&&n!==null&&Il(n,n.return);break;case 5:if(qr(e,t),ys(t),r&512&&n!==null&&Il(n,n.return),t.flags&32){var s=t.stateNode;try{vd(s,"")}catch(y){Mt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&wP(s,i),vw(a,o);var c=vw(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?_P(s,f):d==="dangerouslySetInnerHTML"?TP(s,f):d==="children"?vd(s,f):Wx(s,d,f,c)}switch(a){case"input":fw(s,i);break;case"textarea":xP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ll(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ll(s,!!i.multiple,i.defaultValue,!0):Ll(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ad]=i}catch(y){Mt(t,t.return,y)}}break;case 6:if(qr(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(se(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Mt(t,t.return,y)}}break;case 3:if(qr(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Td(e.containerInfo)}catch(y){Mt(t,t.return,y)}break;case 4:qr(e,t),ys(t);break;case 13:qr(e,t),ys(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(E1=zt())),r&4&&eS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(c=Pn)||d,qr(e,t),Pn=c):qr(e,t),ys(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(f=ye=d;ye!==null;){switch(p=ye,g=p.child,p.tag){case 0:case 11:case 14:case 15:Xu(4,p,p.return);break;case 1:Il(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Mt(r,n,y)}}break;case 5:Il(p,p.return);break;case 22:if(p.memoizedState!==null){nS(f);continue}}g!==null?(g.return=p,ye=g):nS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EP("display",o))}catch(y){Mt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Mt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qr(e,t),ys(t),r&4&&eS(t);break;case 21:break;default:qr(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QR(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vd(s,""),r.flags&=-33);var i=Z_(t);Kw(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z_(t);Gw(t,a,o);break;default:throw Error(se(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j6(t,e,n){ye=t,JR(t)}function JR(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Tf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=Tf;var c=Pn;if(Tf=o,(Pn=l)&&!c)for(ye=s;ye!==null;)o=ye,l=o.child,o.tag===22&&o.memoizedState!==null?rS(s):l!==null?(l.return=o,ye=l):rS(s);for(;i!==null;)ye=i,JR(i),i=i.sibling;ye=s,Tf=a,Pn=c}tS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):tS(t)}}function tS(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||hg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&F_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Td(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Pn||e.flags&512&&Hw(e)}catch(p){Mt(e,e.return,p)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function nS(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function rS(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hg(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Mt(e,s,l)}}var i=e.return;try{Hw(e)}catch(l){Mt(e,i,l)}break;case 5:var o=e.return;try{Hw(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var M6=Math.ceil,tm=xi.ReactCurrentDispatcher,b1=xi.ReactCurrentOwner,Or=xi.ReactCurrentBatchConfig,Xe=0,un=null,Kt=null,yn=0,yr=0,Nl=Do(0),en=0,Dd=null,Sa=0,fg=0,T1=0,Ju=null,er=null,E1=0,mc=1/0,Qs=null,nm=!1,Qw=null,io=null,Ef=!1,Xi=null,rm=0,Zu=0,Yw=null,rp=-1,sp=0;function qn(){return Xe&6?zt():rp!==-1?rp:rp=zt()}function oo(t){return t.mode&1?Xe&2&&yn!==0?yn&-yn:v6.transition!==null?(sp===0&&(sp=OP()),sp):(t=lt,t!==0||(t=window.event,t=t===void 0?16:$P(t.type)),t):1}function ss(t,e,n,r){if(50<Zu)throw Zu=0,Yw=null,Error(se(185));fh(t,n,r),(!(Xe&2)||t!==un)&&(t===un&&(!(Xe&2)&&(fg|=n),en===4&&zi(t,yn)),or(t,r),n===1&&Xe===0&&!(e.mode&1)&&(mc=zt()+500,cg&&jo()))}function or(t,e){var n=t.callbackNode;v3(t,e);var r=Up(t,t===un?yn:0);if(r===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?y6(sS.bind(null,t)):lR(sS.bind(null,t)),f6(function(){!(Xe&6)&&jo()}),n=null;else{switch(LP(r)){case 1:n=Qx;break;case 4:n=jP;break;case 16:n=Fp;break;case 536870912:n=MP;break;default:n=Fp}n=ok(n,ZR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZR(t,e){if(rp=-1,sp=0,Xe&6)throw Error(se(327));var n=t.callbackNode;if(Bl()&&t.callbackNode!==n)return null;var r=Up(t,t===un?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sm(t,r);else{e=r;var s=Xe;Xe|=2;var i=tk();(un!==t||yn!==e)&&(Qs=null,mc=zt()+500,ma(t,e));do try{V6();break}catch(a){ek(t,a)}while(!0);l1(),tm.current=i,Xe=s,Kt!==null?e=0:(un=null,yn=0,e=en)}if(e!==0){if(e===2&&(s=Ew(t),s!==0&&(r=s,e=Xw(t,s))),e===1)throw n=Dd,ma(t,0),zi(t,r),or(t,zt()),n;if(e===6)zi(t,r);else{if(s=t.current.alternate,!(r&30)&&!O6(s)&&(e=sm(t,r),e===2&&(i=Ew(t),i!==0&&(r=i,e=Xw(t,i))),e===1))throw n=Dd,ma(t,0),zi(t,r),or(t,zt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Xo(t,er,Qs);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=E1+500-zt(),10<e)){if(Up(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rw(Xo.bind(null,t,er,Qs),e);break}Xo(t,er,Qs);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-rs(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M6(r/1960))-r,10<r){t.timeoutHandle=Rw(Xo.bind(null,t,er,Qs),r);break}Xo(t,er,Qs);break;case 5:Xo(t,er,Qs);break;default:throw Error(se(329))}}}return or(t,zt()),t.callbackNode===n?ZR.bind(null,t):null}function Xw(t,e){var n=Ju;return t.current.memoizedState.isDehydrated&&(ma(t,e).flags|=256),t=sm(t,e),t!==2&&(e=er,er=n,e!==null&&Jw(e)),t}function Jw(t){er===null?er=t:er.push.apply(er,t)}function O6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!as(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~T1,e&=~fg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rs(e),r=1<<n;t[n]=-1,e&=~r}}function sS(t){if(Xe&6)throw Error(se(327));Bl();var e=Up(t,0);if(!(e&1))return or(t,zt()),null;var n=sm(t,e);if(t.tag!==0&&n===2){var r=Ew(t);r!==0&&(e=r,n=Xw(t,r))}if(n===1)throw n=Dd,ma(t,0),zi(t,e),or(t,zt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xo(t,er,Qs),or(t,zt()),null}function _1(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(mc=zt()+500,cg&&jo())}}function Ca(t){Xi!==null&&Xi.tag===0&&!(Xe&6)&&Bl();var e=Xe;Xe|=1;var n=Or.transition,r=lt;try{if(Or.transition=null,lt=1,t)return t()}finally{lt=r,Or.transition=n,Xe=e,!(Xe&6)&&jo()}}function S1(){yr=Nl.current,wt(Nl)}function ma(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h6(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(i1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qp();break;case 3:fc(),wt(sr),wt(jn),p1();break;case 5:f1(r);break;case 4:fc();break;case 13:wt(Tt);break;case 19:wt(Tt);break;case 10:c1(r.type._context);break;case 22:case 23:S1()}n=n.return}if(un=t,Kt=t=ao(t.current,null),yn=yr=e,en=0,Dd=null,T1=fg=Sa=0,er=Ju=null,sa!==null){for(e=0;e<sa.length;e++)if(n=sa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sa=null}return t}function ek(t,e){do{var n=Kt;try{if(l1(),ep.current=em,Zp){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zp=!1}if(_a=0,ln=Jt=Ct=null,Yu=!1,Pd=0,b1.current=null,n===null||n.return===null){en=1,Dd=e,Kt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=yn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=q_(o);if(g!==null){g.flags&=-257,H_(g,o,a,i,e),g.mode&1&&W_(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){W_(i,c,e),C1();break e}l=Error(se(426))}}else if(bt&&a.mode&1){var T=q_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),H_(T,o,a,i,e),o1(pc(l,a));break e}}i=l=pc(l,a),en!==4&&(en=2),Ju===null?Ju=[i]:Ju.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=LR(i,l,e);V_(i,w);break e;case 1:a=l;var x=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(io===null||!io.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=VR(i,a,e);V_(i,I);break e}}i=i.return}while(i!==null)}rk(n)}catch(P){e=P,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function tk(){var t=tm.current;return tm.current=em,t===null?em:t}function C1(){(en===0||en===3||en===2)&&(en=4),un===null||!(Sa&268435455)&&!(fg&268435455)||zi(un,yn)}function sm(t,e){var n=Xe;Xe|=2;var r=tk();(un!==t||yn!==e)&&(Qs=null,ma(t,e));do try{L6();break}catch(s){ek(t,s)}while(!0);if(l1(),Xe=n,tm.current=r,Kt!==null)throw Error(se(261));return un=null,yn=0,en}function L6(){for(;Kt!==null;)nk(Kt)}function V6(){for(;Kt!==null&&!c3();)nk(Kt)}function nk(t){var e=ik(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?rk(t):Kt=e,b1.current=null}function rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R6(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Kt=null;return}}else if(n=P6(n,e,yr),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);en===0&&(en=5)}function Xo(t,e,n){var r=lt,s=Or.transition;try{Or.transition=null,lt=1,F6(t,e,n,r)}finally{Or.transition=s,lt=r}return null}function F6(t,e,n,r){do Bl();while(Xi!==null);if(Xe&6)throw Error(se(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(w3(t,i),t===un&&(Kt=un=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ef||(Ef=!0,ok(Fp,function(){return Bl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Or.transition,Or.transition=null;var o=lt;lt=1;var a=Xe;Xe|=4,b1.current=null,D6(t,n),XR(n,t),i6(Nw),zp=!!Iw,Nw=Iw=null,t.current=n,j6(n),u3(),Xe=a,lt=o,Or.transition=i}else t.current=n;if(Ef&&(Ef=!1,Xi=t,rm=s),i=t.pendingLanes,i===0&&(io=null),f3(n.stateNode),or(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nm)throw nm=!1,t=Qw,Qw=null,t;return rm&1&&t.tag!==0&&Bl(),i=t.pendingLanes,i&1?t===Yw?Zu++:(Zu=0,Yw=t):Zu=0,jo(),null}function Bl(){if(Xi!==null){var t=LP(rm),e=Or.transition,n=lt;try{if(Or.transition=null,lt=16>t?16:t,Xi===null)var r=!1;else{if(t=Xi,Xi=null,rm=0,Xe&6)throw Error(se(331));var s=Xe;for(Xe|=4,ye=t.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Xu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var p=d.sibling,g=d.return;if(KR(d),d===c){ye=null;break}if(p!==null){p.return=g,ye=p;break}ye=g}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ye=w;break e}ye=i.return}}var x=t.current;for(ye=x;ye!==null;){o=ye;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ye=E;else e:for(o=x;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hg(9,a)}}catch(P){Mt(a,a.return,P)}if(a===o){ye=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ye=I;break e}ye=a.return}}if(Xe=s,jo(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(sg,t)}catch{}r=!0}return r}finally{lt=n,Or.transition=e}}return!1}function iS(t,e,n){e=pc(n,e),e=LR(t,e,1),t=so(t,e,1),e=qn(),t!==null&&(fh(t,1,e),or(t,e))}function Mt(t,e,n){if(t.tag===3)iS(t,t,n);else for(;e!==null;){if(e.tag===3){iS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){t=pc(n,t),t=VR(e,t,1),e=so(e,t,1),t=qn(),e!==null&&(fh(e,1,t),or(e,t));break}}e=e.return}}function U6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qn(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(yn&n)===n&&(en===4||en===3&&(yn&130023424)===yn&&500>zt()-E1?ma(t,0):T1|=n),or(t,e)}function sk(t,e){e===0&&(t.mode&1?(e=ff,ff<<=1,!(ff&130023424)&&(ff=4194304)):e=1);var n=qn();t=ci(t,e),t!==null&&(fh(t,e,n),or(t,n))}function z6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sk(t,n)}function B6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),sk(t,n)}var ik;ik=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,N6(t,e,n);nr=!!(t.flags&131072)}else nr=!1,bt&&e.flags&1048576&&cR(e,Kp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;np(t,e),t=e.pendingProps;var s=uc(e,jn.current);zl(e,n),s=g1(null,e,r,t,s,n);var i=y1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ir(r)?(i=!0,Hp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d1(e),s.updater=dg,e.stateNode=s,s._reactInternals=e,Vw(e,r,t,n),e=zw(null,e,r,!0,i,n)):(e.tag=0,bt&&i&&s1(e),Un(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(np(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=W6(r),t=Kr(r,t),s){case 0:e=Uw(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=G_(null,e,r,t,n);break e;case 14:e=K_(null,e,r,Kr(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),Uw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),Q_(t,e,r,s,n);case 3:e:{if(BR(e),t===null)throw Error(se(387));r=e.pendingProps,i=e.memoizedState,s=i.element,mR(t,e),Xp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pc(Error(se(423)),e),e=Y_(t,e,r,n,s);break e}else if(r!==s){s=pc(Error(se(424)),e),e=Y_(t,e,r,n,s);break e}else for(xr=ro(e.stateNode.containerInfo.firstChild),Tr=e,bt=!0,Jr=null,n=fR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dc(),r===s){e=ui(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return gR(e),t===null&&Mw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pw(r,s)?o=null:i!==null&&Pw(r,i)&&(e.flags|=32),zR(t,e),Un(t,e,o,n),e.child;case 6:return t===null&&Mw(e),null;case 13:return $R(t,e,n);case 4:return h1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hc(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),G_(t,e,r,s,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ft(Qp,r._currentValue),r._currentValue=o,i!==null)if(as(i.value,o)){if(i.children===s.children&&!sr.current){e=ui(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ri(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ow(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ow(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Un(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,zl(e,n),s=Ur(s),r=r(s),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,s=Kr(r,e.pendingProps),s=Kr(r.type,s),K_(t,e,r,s,n);case 15:return FR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kr(r,s),np(t,e),e.tag=1,ir(r)?(t=!0,Hp(e)):t=!1,zl(e,n),OR(e,r,s),Vw(e,r,s,n),zw(null,e,r,!0,t,n);case 19:return WR(t,e,n);case 22:return UR(t,e,n)}throw Error(se(156,e.tag))};function ok(t,e){return DP(t,e)}function $6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new $6(t,e,n,r)}function A1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W6(t){if(typeof t=="function")return A1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hx)return 11;if(t===Gx)return 14}return 2}function ao(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ip(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")A1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wl:return ga(n.children,s,i,e);case qx:o=8,s|=8;break;case lw:return t=Mr(12,n,e,s|2),t.elementType=lw,t.lanes=i,t;case cw:return t=Mr(13,n,e,s),t.elementType=cw,t.lanes=i,t;case uw:return t=Mr(19,n,e,s),t.elementType=uw,t.lanes=i,t;case gP:return pg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pP:o=10;break e;case mP:o=9;break e;case Hx:o=11;break e;case Gx:o=14;break e;case Vi:o=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ga(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function pg(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=gP,t.lanes=n,t.stateNode={isHidden:!1},t}function fv(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function pv(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ky(0),this.expirationTimes=Ky(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ky(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function I1(t,e,n,r,s,i,o,a,l){return t=new q6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(i),t}function H6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ak(t){if(!t)return wo;t=t._reactInternals;e:{if(Ua(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(ir(n))return aR(t,n,e)}return e}function lk(t,e,n,r,s,i,o,a,l){return t=I1(n,r,!0,t,s,i,o,a,l),t.context=ak(null),n=t.current,r=qn(),s=oo(n),i=ri(r,s),i.callback=e??null,so(n,i,s),t.current.lanes=s,fh(t,s,r),or(t,r),t}function mg(t,e,n,r){var s=e.current,i=qn(),o=oo(s);return n=ak(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=so(s,e,o),t!==null&&(ss(t,s,o,i),Zf(t,s,o)),o}function im(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N1(t,e){oS(t,e),(t=t.alternate)&&oS(t,e)}function G6(){return null}var ck=typeof reportError=="function"?reportError:function(t){console.error(t)};function P1(t){this._internalRoot=t}gg.prototype.render=P1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));mg(t,e,null,null)};gg.prototype.unmount=P1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){mg(null,t,null,null)}),e[li]=null}};function gg(t){this._internalRoot=t}gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=UP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ui.length&&e!==0&&e<Ui[n].priority;n++);Ui.splice(n,0,t),n===0&&BP(t)}};function R1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aS(){}function K6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=im(o);i.call(c)}}var o=lk(e,r,t,0,null,!1,!1,"",aS);return t._reactRootContainer=o,t[li]=o.current,Sd(t.nodeType===8?t.parentNode:t),Ca(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=im(l);a.call(c)}}var l=I1(t,0,!1,null,null,!1,!1,"",aS);return t._reactRootContainer=l,t[li]=l.current,Sd(t.nodeType===8?t.parentNode:t),Ca(function(){mg(e,l,n,r)}),l}function vg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=im(o);a.call(l)}}mg(e,o,t,s)}else o=K6(n,e,t,s,r);return im(o)}VP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_u(e.pendingLanes);n!==0&&(Yx(e,n|1),or(e,zt()),!(Xe&6)&&(mc=zt()+500,jo()))}break;case 13:Ca(function(){var r=ci(t,1);if(r!==null){var s=qn();ss(r,t,1,s)}}),N1(t,1)}};Xx=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=qn();ss(e,t,134217728,n)}N1(t,134217728)}};FP=function(t){if(t.tag===13){var e=oo(t),n=ci(t,e);if(n!==null){var r=qn();ss(n,t,e,r)}N1(t,e)}};UP=function(){return lt};zP=function(t,e){var n=lt;try{return lt=t,e()}finally{lt=n}};xw=function(t,e,n){switch(e){case"input":if(fw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lg(r);if(!s)throw Error(se(90));vP(r),fw(r,s)}}}break;case"textarea":xP(t,n);break;case"select":e=n.value,e!=null&&Ll(t,!!n.multiple,e,!1)}};AP=_1;IP=Ca;var Q6={usingClientEntryPoint:!1,Events:[mh,El,lg,SP,CP,_1]},gu={findFiberByHostInstance:ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y6={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RP(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||G6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{sg=_f.inject(Y6),As=_f}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q6;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R1(e))throw Error(se(200));return H6(t,e,null,n)};Cr.createRoot=function(t,e){if(!R1(t))throw Error(se(299));var n=!1,r="",s=ck;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=I1(t,1,!1,null,null,n,!1,r,s),t[li]=e.current,Sd(t.nodeType===8?t.parentNode:t),new P1(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=RP(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return Ca(t)};Cr.hydrate=function(t,e,n){if(!yg(e))throw Error(se(200));return vg(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!R1(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ck;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lk(e,null,t,1,n??null,s,!1,i,o),t[li]=e.current,Sd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gg(e)};Cr.render=function(t,e,n){if(!yg(e))throw Error(se(200));return vg(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!yg(t))throw Error(se(40));return t._reactRootContainer?(Ca(function(){vg(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Cr.unstable_batchedUpdates=_1;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yg(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return vg(t,e,n,!1,r)};Cr.version="18.3.1-next-f1338f8080-20240426";function uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uk)}catch(t){console.error(t)}}uk(),uP.exports=Cr;var za=uP.exports;const dk=Lx(za);var hk,lS=za;hk=lS.createRoot,lS.hydrateRoot;const X6=1,J6=1e6;let mv=0;function Z6(){return mv=(mv+1)%Number.MAX_SAFE_INTEGER,mv.toString()}const gv=new Map,cS=t=>{if(gv.has(t))return;const e=setTimeout(()=>{gv.delete(t),ed({type:"REMOVE_TOAST",toastId:t})},J6);gv.set(t,e)},eU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,X6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?cS(n):t.toasts.forEach(r=>{cS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},op=[];let ap={toasts:[]};function ed(t){ap=eU(ap,t),op.forEach(e=>{e(ap)})}function Ft({...t}){const e=Z6(),n=s=>ed({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ed({type:"DISMISS_TOAST",toastId:e});return ed({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function k1(){const[t,e]=m.useState(ap);return m.useEffect(()=>(op.push(e),()=>{const n=op.indexOf(e);n>-1&&op.splice(n,1)}),[t]),{...t,toast:Ft,dismiss:n=>ed({type:"DISMISS_TOAST",toastId:n})}}function ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function tU(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wg(...t){return e=>t.forEach(n=>tU(n,e))}function Je(...t){return m.useCallback(wg(...t),t)}function nU(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,rU(s,...e)]}function rU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var xo=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(sU);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return u.jsx(Zw,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return u.jsx(Zw,{...r,ref:e,children:n})});xo.displayName="Slot";var Zw=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=oU(n);return m.cloneElement(n,{...iU(r,n.props),ref:e?wg(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});Zw.displayName="SlotClone";var D1=({children:t})=>u.jsx(u.Fragment,{children:t});function sU(t){return m.isValidElement(t)&&t.type===D1}function iU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function oU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xg(t){const e=t+"CollectionProvider",[n,r]=nU(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,T=oe.useRef(null),w=oe.useRef(new Map).current;return u.jsx(s,{scope:v,itemMap:w,collectionRef:T,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=oe.forwardRef((g,v)=>{const{scope:y,children:T}=g,w=i(a,y),x=Je(v,w.collectionRef);return u.jsx(xo,{ref:x,children:T})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=oe.forwardRef((g,v)=>{const{scope:y,children:T,...w}=g,x=oe.useRef(null),E=Je(v,x),I=i(c,y);return oe.useEffect(()=>(I.itemMap.set(x,{ref:x,...w}),()=>void I.itemMap.delete(x))),u.jsx(xo,{[d]:"",ref:E,children:T})});f.displayName=c;function p(g){const v=i(t+"CollectionConsumer",g);return oe.useCallback(()=>{const T=v.collectionRef.current;if(!T)return[];const w=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((I,P)=>w.indexOf(I.ref.current)-w.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function aU(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function bi(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:g,...v}=f,y=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,lU(s,...e)]}function lU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var cU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=cU.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?xo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function j1(t,e){t&&za.flushSync(()=>t.dispatchEvent(e))}function wn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function uU(t,e=globalThis==null?void 0:globalThis.document){const n=wn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dU="DismissableLayer",e0="dismissableLayer.update",hU="dismissableLayer.pointerDownOutside",fU="dismissableLayer.focusOutside",uS,fk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(fk),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),v=Je(e,C=>f(C)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(T),x=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,I=x>=w,P=mU(C=>{const S=C.target,A=[...c.branches].some(N=>N.contains(S));!I||A||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),j=gU(C=>{const S=C.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return uU(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(uS=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),dS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=uS)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),dS())},[d,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(e0,C),()=>document.removeEventListener(e0,C)},[]),u.jsx(Oe.div,{...l,ref:v,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:ce(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ce(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ce(t.onPointerDownCapture,P.onPointerDownCapture)})});jc.displayName=dU;var pU="DismissableLayerBranch",pk=m.forwardRef((t,e)=>{const n=m.useContext(fk),r=m.useRef(null),s=Je(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Oe.div,{...t,ref:s})});pk.displayName=pU;function mU(t,e=globalThis==null?void 0:globalThis.document){const n=wn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){mk(hU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function gU(t,e=globalThis==null?void 0:globalThis.document){const n=wn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&mk(fU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dS(){const t=new CustomEvent(e0);document.dispatchEvent(t)}function mk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var yU=jc,vU=pk,dn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},wU="Portal",yh=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);dn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dk.createPortal(u.jsx(Oe.div,{...r,ref:e}),o):null});yh.displayName=wU;function xU(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var fs=t=>{const{present:e,children:n}=t,r=bU(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Je(r.ref,TU(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};fs.displayName="Presence";function bU(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=xU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Sf(r.current);i.current=a==="mounted"?c:"none"},[a]),dn(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=Sf(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),dn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Sf(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=g=>{g.target===e&&(i.current=Sf(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Sf(t){return(t==null?void 0:t.animationName)||"none"}function TU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Aa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=EU({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=wn(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function EU({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=wn(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var _U="VisuallyHidden",vh=m.forwardRef((t,e)=>u.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vh.displayName=_U;var SU=vh,M1="ToastProvider",[O1,CU,AU]=xg("Toast"),[gk,lce]=bi("Toast",[AU]),[IU,bg]=gk(M1),yk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${M1}\`. Expected non-empty \`string\`.`),u.jsx(O1.Provider,{scope:e,children:u.jsx(IU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};yk.displayName=M1;var vk="ToastViewport",NU=["F8"],t0="toast.viewportPause",n0="toast.viewportResume",wk=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=NU,label:s="Notifications ({hotkey})",...i}=t,o=bg(vk,n),a=CU(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=Je(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const T=w=>{var E;r.length!==0&&r.every(I=>w[I]||w.code===I)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),m.useEffect(()=>{const T=l.current,w=f.current;if(v&&T&&w){const x=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(t0);w.dispatchEvent(j),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(n0);w.dispatchEvent(j),o.isClosePausedRef.current=!1}},I=j=>{!T.contains(j.relatedTarget)&&E()},P=()=>{T.contains(document.activeElement)||E()};return T.addEventListener("focusin",x),T.addEventListener("focusout",I),T.addEventListener("pointermove",x),T.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",E),()=>{T.removeEventListener("focusin",x),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",x),T.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",E)}}},[v,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:T})=>{const x=a().map(E=>{const I=E.ref.current,P=[I,...BU(I)];return T==="forwards"?P:P.reverse()});return(T==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const T=f.current;if(T){const w=x=>{var P,j,C;const E=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!E){const S=document.activeElement,A=x.shiftKey;if(x.target===T&&A){(P=c.current)==null||P.focus();return}const M=y({tabbingDirection:A?"backwards":"forwards"}),D=M.findIndex(z=>z===S);yv(M.slice(D+1))?x.preventDefault():A?(j=c.current)==null||j.focus():(C=d.current)==null||C.focus()}};return T.addEventListener("keydown",w),()=>T.removeEventListener("keydown",w)}},[a,y]),u.jsxs(vU,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(r0,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});yv(T)}}),u.jsx(O1.Slot,{scope:n,children:u.jsx(Oe.ol,{tabIndex:-1,...i,ref:p})}),v&&u.jsx(r0,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});yv(T)}})]})});wk.displayName=vk;var xk="ToastFocusProxy",r0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=bg(xk,n);return u.jsx(vh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});r0.displayName=xk;var Tg="Toast",PU="toast.swipeStart",RU="toast.swipeMove",kU="toast.swipeCancel",DU="toast.swipeEnd",bk=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Aa({prop:r,defaultProp:s,onChange:i});return u.jsx(fs,{present:n||a,children:u.jsx(OU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wn(t.onPause),onResume:wn(t.onResume),onSwipeStart:ce(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ce(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ce(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ce(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});bk.displayName=Tg;var[jU,MU]=gk(Tg,{onClose(){}}),OU=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...v}=t,y=bg(Tg,n),[T,w]=m.useState(null),x=Je(e,z=>w(z)),E=m.useRef(null),I=m.useRef(null),P=s||y.duration,j=m.useRef(0),C=m.useRef(P),S=m.useRef(0),{onToastAdd:A,onToastRemove:N}=y,k=wn(()=>{var ae;(T==null?void 0:T.contains(document.activeElement))&&((ae=y.viewport)==null||ae.focus()),o()}),M=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(k,z))},[k]);m.useEffect(()=>{const z=y.viewport;if(z){const ae=()=>{M(C.current),c==null||c()},J=()=>{const ee=new Date().getTime()-j.current;C.current=C.current-ee,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(t0,J),z.addEventListener(n0,ae),()=>{z.removeEventListener(t0,J),z.removeEventListener(n0,ae)}}},[y.viewport,P,l,c,M]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(P)},[i,P,y.isClosePausedRef,M]),m.useEffect(()=>(A(),()=>N()),[A,N]);const D=m.useMemo(()=>T?Ik(T):null,[T]);return y.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(LU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),u.jsx(jU,{scope:n,onClose:k,children:za.createPortal(u.jsx(O1.ItemSlot,{scope:n,children:u.jsx(yU,{asChild:!0,onEscapeKeyDown:ce(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ce(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ce(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:ce(t.onPointerMove,z=>{if(!E.current)return;const ae=z.clientX-E.current.x,J=z.clientY-E.current.y,ee=!!I.current,L=["left","right"].includes(y.swipeDirection),V=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,te=L?V(0,ae):0,G=L?0:V(0,J),ne=z.pointerType==="touch"?10:2,W={x:te,y:G},Ee={originalEvent:z,delta:W};ee?(I.current=W,Cf(RU,f,Ee,{discrete:!1})):hS(W,y.swipeDirection,ne)?(I.current=W,Cf(PU,d,Ee,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ae)>ne||Math.abs(J)>ne)&&(E.current=null)}),onPointerUp:ce(t.onPointerUp,z=>{const ae=I.current,J=z.target;if(J.hasPointerCapture(z.pointerId)&&J.releasePointerCapture(z.pointerId),I.current=null,E.current=null,ae){const ee=z.currentTarget,L={originalEvent:z,delta:ae};hS(ae,y.swipeDirection,y.swipeThreshold)?Cf(DU,g,L,{discrete:!0}):Cf(kU,p,L,{discrete:!0}),ee.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),LU=t=>{const{__scopeToast:e,children:n,...r}=t,s=bg(Tg,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return UU(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(yh,{asChild:!0,children:u.jsx(vh,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},VU="ToastTitle",Tk=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});Tk.displayName=VU;var FU="ToastDescription",Ek=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});Ek.displayName=FU;var _k="ToastAction",Sk=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Ak,{altText:n,asChild:!0,children:u.jsx(L1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_k}\`. Expected non-empty \`string\`.`),null)});Sk.displayName=_k;var Ck="ToastClose",L1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=MU(Ck,n);return u.jsx(Ak,{asChild:!0,children:u.jsx(Oe.button,{type:"button",...r,ref:e,onClick:ce(t.onClick,s.onClose)})})});L1.displayName=Ck;var Ak=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ik(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),zU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ik(r))}}),e}function Cf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var hS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function UU(t=()=>{}){const e=wn(t);dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function zU(t){return t.nodeType===t.ELEMENT_NODE}function BU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $U=yk,Nk=wk,Pk=bk,Rk=Tk,kk=Ek,Dk=Sk,jk=L1;function Mk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Mk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ok(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Mk(t))&&(r&&(r+=" "),r+=e);return r}const fS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pS=Ok,wh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return pS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=fS(d)||fS(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(v=>{let[y,T]=v;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,f,p]:c},[]);return pS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...qU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Lk("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(HU,{ref:i,iconNode:e,className:Lk(`lucide-${WU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=be("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=be("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=be("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=be("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=be("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=be("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=be("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=be("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V1="-",g9=t=>{const e=v9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(V1);return a[0]===""&&a.length!==1&&a.shift(),Hk(a,e)||y9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Hk=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Hk(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(V1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ES=/^\[(.+)\]$/,y9=t=>{if(ES.test(t)){const e=ES.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},v9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return x9(Object.entries(t.classGroups),n).forEach(([i,o])=>{a0(o,r,i,e)}),r},a0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:_S(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(w9(s)){a0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{a0(o,_S(e,i),n,r)})})},_S=(t,e)=>{let n=t;return e.split(V1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},w9=t=>t.isThemeGetter,x9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,b9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Gk="!",T9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let T=0;T<a.length;T++){let w=a[T];if(c===0){if(w===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(w==="/"){f=T;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(Gk),v=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},E9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_9=t=>({cache:b9(t.cacheSize),parseClassName:T9(t),...g9(t)}),S9=/\s+/,C9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(S9);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?p.substring(0,g):p);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const T=E9(d).join(":"),w=f?T+Gk:T,x=w+y;if(i.includes(x))continue;i.push(x);const E=s(y,v);for(let I=0;I<E.length;++I){const P=E[I];i.push(w+P)}a=c+(a.length>0?" "+a:a)}return a};function A9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Kk(e))&&(r&&(r+=" "),r+=n);return r}const Kk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Kk(t[r]))&&(n&&(n+=" "),n+=e);return n};function I9(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=_9(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=C9(l,n);return s(l,d),d}return function(){return i(A9.apply(null,arguments))}}const gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Qk=/^\[(?:([a-z-]+):)?(.+)\]$/i,N9=/^\d+\/\d+$/,P9=new Set(["px","full","screen"]),R9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,D9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gs=t=>$l(t)||P9.has(t)||N9.test(t),Pi=t=>Mc(t,"length",$9),$l=t=>!!t&&!Number.isNaN(Number(t)),wv=t=>Mc(t,"number",$l),yu=t=>!!t&&Number.isInteger(Number(t)),O9=t=>t.endsWith("%")&&$l(t.slice(0,-1)),Be=t=>Qk.test(t),Ri=t=>R9.test(t),L9=new Set(["length","size","percentage"]),V9=t=>Mc(t,L9,Yk),F9=t=>Mc(t,"position",Yk),U9=new Set(["image","url"]),z9=t=>Mc(t,U9,q9),B9=t=>Mc(t,"",W9),vu=()=>!0,Mc=(t,e,n)=>{const r=Qk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},$9=t=>k9.test(t)&&!D9.test(t),Yk=()=>!1,W9=t=>j9.test(t),q9=t=>M9.test(t),H9=()=>{const t=gt("colors"),e=gt("spacing"),n=gt("blur"),r=gt("brightness"),s=gt("borderColor"),i=gt("borderRadius"),o=gt("borderSpacing"),a=gt("borderWidth"),l=gt("contrast"),c=gt("grayscale"),d=gt("hueRotate"),f=gt("invert"),p=gt("gap"),g=gt("gradientColorStops"),v=gt("gradientColorStopPositions"),y=gt("inset"),T=gt("margin"),w=gt("opacity"),x=gt("padding"),E=gt("saturate"),I=gt("scale"),P=gt("sepia"),j=gt("skew"),C=gt("space"),S=gt("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Be,e],M=()=>[Be,e],D=()=>["",Gs,Pi],z=()=>["auto",$l,Be],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Be],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[$l,Be];return{cacheSize:500,separator:":",theme:{colors:[vu],spacing:[Gs,Pi],blur:["none","",Ri,Be],brightness:G(),borderColor:[t],borderRadius:["none","","full",Ri,Be],borderSpacing:M(),borderWidth:D(),contrast:G(),grayscale:V(),hueRotate:G(),invert:V(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[O9,Pi],inset:k(),margin:k(),opacity:G(),padding:M(),saturate:G(),scale:G(),sepia:V(),skew:G(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[Ri]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),Be]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu,Be]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",yu,Be]}],"grid-cols":[{"grid-cols":[vu]}],"col-start-end":[{col:["auto",{span:["full",yu,Be]},Be]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[vu]}],"row-start-end":[{row:["auto",{span:[yu,Be]},Be]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[Ri]},Ri]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ri,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wv]}],"font-family":[{font:[vu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",$l,wv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gs,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gs,Pi]}],"underline-offset":[{"underline-offset":["auto",Gs,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),F9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Gs,Be]}],"outline-w":[{outline:[Gs,Pi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Gs,Pi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ri,B9]}],"shadow-color":[{shadow:[vu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ri,Be]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[yu,Be]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gs,Pi,wv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},G9=I9(H9);function fe(...t){return G9(Ok(t))}const K9=$U,Xk=m.forwardRef(({className:t,...e},n)=>u.jsx(Nk,{ref:n,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Xk.displayName=Nk.displayName;const Q9=wh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Jk=m.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Pk,{ref:r,className:fe(Q9({variant:e}),t),...n}));Jk.displayName=Pk.displayName;const Y9=m.forwardRef(({className:t,...e},n)=>u.jsx(Dk,{ref:n,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Y9.displayName=Dk.displayName;const Zk=m.forwardRef(({className:t,...e},n)=>u.jsx(jk,{ref:n,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ei,{className:"h-4 w-4"})}));Zk.displayName=jk.displayName;const e2=m.forwardRef(({className:t,...e},n)=>u.jsx(Rk,{ref:n,className:fe("text-sm font-semibold",t),...e}));e2.displayName=Rk.displayName;const t2=m.forwardRef(({className:t,...e},n)=>u.jsx(kk,{ref:n,className:fe("text-sm opacity-90",t),...e}));t2.displayName=kk.displayName;function X9(){const{toasts:t}=k1();return u.jsxs(K9,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Jk,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(e2,{children:n}),r&&u.jsx(t2,{children:r})]}),s,u.jsx(Zk,{})]},e)}),u.jsx(Xk,{})]})}var SS=["light","dark"],J9="(prefers-color-scheme: dark)",Z9=m.createContext(void 0),ez={setTheme:t=>{},themes:[]},tz=()=>{var t;return(t=m.useContext(Z9))!=null?t:ez};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?SS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,T=!0)=>{let w=o?o[v]:v,x=y?v+"|| ''":`'${w}'`,E="";return s&&T&&!y&&SS.includes(v)&&(E+=`d.style.colorScheme = '${v}';`),n==="class"?y||w?E+=`c.add(${x})`:E+="null":w&&(E+=`d[s](n,${x})`),E},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${J9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var nz=t=>{switch(t){case"success":return iz;case"info":return az;case"warning":return oz;case"error":return lz;default:return null}},rz=Array(12).fill(0),sz=({visible:t})=>oe.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},oe.createElement("div",{className:"sonner-spinner"},rz.map((e,n)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),az=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cz=()=>{let[t,e]=oe.useState(document.hidden);return oe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},l0=1,uz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:l0++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(hz(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||l0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},gr=new uz,dz=(t,e)=>{let n=(e==null?void 0:e.id)||l0++;return gr.addToast({title:t,...e,id:n}),n},hz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fz=dz,pz=()=>gr.toasts;Object.assign(fz,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:pz});function mz(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}mz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function If(t){return t.label!==void 0}var gz=3,yz="32px",vz=4e3,wz=356,xz=14,bz=20,Tz=200;function Ez(...t){return t.filter(Boolean).join(" ")}var _z=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:T,heights:w,index:x,toasts:E,expanded:I,removeToast:P,defaultRichColors:j,closeButton:C,style:S,cancelButtonStyle:A,actionButtonStyle:N,className:k="",descriptionClassName:M="",duration:D,position:z,gap:ae,loadingIcon:J,expandByDefault:ee,classNames:L,icons:V,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:G,cn:ne}=t,[W,Ee]=oe.useState(!1),[Ie,ue]=oe.useState(!1),[re,ve]=oe.useState(!1),[Te,ge]=oe.useState(!1),[he,Q]=oe.useState(0),[Se,xe]=oe.useState(0),Fe=oe.useRef(null),O=oe.useRef(null),$=x===0,ie=x+1<=T,Z=p.type,Pe=p.dismissible!==!1,we=p.className||"",pt=p.descriptionClassName||"",Ze=oe.useMemo(()=>w.findIndex(Ae=>Ae.toastId===p.id)||0,[w,p.id]),nn=oe.useMemo(()=>{var Ae;return(Ae=p.closeButton)!=null?Ae:C},[p.closeButton,C]),Lt=oe.useMemo(()=>p.duration||D||vz,[p.duration,D]),st=oe.useRef(0),He=oe.useRef(0),Y=oe.useRef(0),ke=oe.useRef(null),[Re,Yt]=z.split("-"),Pt=oe.useMemo(()=>w.reduce((Ae,tt,Qe)=>Qe>=Ze?Ae:Ae+tt.height,0),[w,Ze]),Wt=cz(),it=p.invert||f,ur=Z==="loading";He.current=oe.useMemo(()=>Ze*ae+Pt,[Ze,Pt]),oe.useEffect(()=>{Ee(!0)},[]),oe.useLayoutEffect(()=>{if(!W)return;let Ae=O.current,tt=Ae.style.height;Ae.style.height="auto";let Qe=Ae.getBoundingClientRect().height;Ae.style.height=tt,xe(Qe),y(qt=>qt.find(rn=>rn.toastId===p.id)?qt.map(rn=>rn.toastId===p.id?{...rn,height:Qe}:rn):[{toastId:p.id,height:Qe,position:p.position},...qt])},[W,p.title,p.description,y,p.id]);let On=oe.useCallback(()=>{ue(!0),Q(He.current),y(Ae=>Ae.filter(tt=>tt.toastId!==p.id)),setTimeout(()=>{P(p)},Tz)},[p,P,y,He]);oe.useEffect(()=>{if(p.promise&&Z==="loading"||p.duration===1/0||p.type==="loading")return;let Ae,tt=Lt;return I||v||G&&Wt?(()=>{if(Y.current<st.current){let Qe=new Date().getTime()-st.current;tt=tt-Qe}Y.current=new Date().getTime()})():tt!==1/0&&(st.current=new Date().getTime(),Ae=setTimeout(()=>{var Qe;(Qe=p.onAutoClose)==null||Qe.call(p,p),On()},tt)),()=>clearTimeout(Ae)},[I,v,ee,p,Lt,On,p.promise,Z,G,Wt]),oe.useEffect(()=>{let Ae=O.current;if(Ae){let tt=Ae.getBoundingClientRect().height;return xe(tt),y(Qe=>[{toastId:p.id,height:tt,position:p.position},...Qe]),()=>y(Qe=>Qe.filter(qt=>qt.toastId!==p.id))}},[y,p.id]),oe.useEffect(()=>{p.delete&&On()},[On,p.delete]);function el(){return V!=null&&V.loading?oe.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},V.loading):J?oe.createElement("div",{className:"sonner-loader","data-visible":Z==="loading"},J):oe.createElement(sz,{visible:Z==="loading"})}return oe.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:O,className:ne(k,we,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Z],(n=p==null?void 0:p.classNames)==null?void 0:n[Z]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:j,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":W,"data-promise":!!p.promise,"data-removed":Ie,"data-visible":ie,"data-y-position":Re,"data-x-position":Yt,"data-index":x,"data-front":$,"data-swiping":re,"data-dismissible":Pe,"data-type":Z,"data-invert":it,"data-swipe-out":Te,"data-expanded":!!(I||ee&&W),style:{"--index":x,"--toasts-before":x,"--z-index":E.length-x,"--offset":`${Ie?he:He.current}px`,"--initial-height":ee?"auto":`${Se}px`,...S,...p.style},onPointerDown:Ae=>{ur||!Pe||(Fe.current=new Date,Q(He.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(ve(!0),ke.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,tt,Qe,qt;if(Te||!Pe)return;ke.current=null;let rn=Number(((Ae=O.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),dr=new Date().getTime()-((tt=Fe.current)==null?void 0:tt.getTime()),hr=Math.abs(rn)/dr;if(Math.abs(rn)>=bz||hr>.11){Q(He.current),(Qe=p.onDismiss)==null||Qe.call(p,p),On(),ge(!0);return}(qt=O.current)==null||qt.style.setProperty("--swipe-amount","0px"),ve(!1)},onPointerMove:Ae=>{var tt;if(!ke.current||!Pe)return;let Qe=Ae.clientY-ke.current.y,qt=Ae.clientX-ke.current.x,rn=(Re==="top"?Math.min:Math.max)(0,Qe),dr=Ae.pointerType==="touch"?10:2;Math.abs(rn)>dr?(tt=O.current)==null||tt.style.setProperty("--swipe-amount",`${Qe}px`):Math.abs(qt)>dr&&(ke.current=null)}},nn&&!p.jsx?oe.createElement("button",{"aria-label":te,"data-disabled":ur,"data-close-button":!0,onClick:ur||!Pe?()=>{}:()=>{var Ae;On(),(Ae=p.onDismiss)==null||Ae.call(p,p)},className:ne(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||oe.isValidElement(p.title)?p.jsx||p.title:oe.createElement(oe.Fragment,null,Z||p.icon||p.promise?oe.createElement("div",{"data-icon":"",className:ne(L==null?void 0:L.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||el():null,p.type!=="loading"?p.icon||(V==null?void 0:V[Z])||nz(Z):null):null,oe.createElement("div",{"data-content":"",className:ne(L==null?void 0:L.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},oe.createElement("div",{"data-title":"",className:ne(L==null?void 0:L.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?oe.createElement("div",{"data-description":"",className:ne(M,pt,L==null?void 0:L.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),oe.isValidElement(p.cancel)?p.cancel:p.cancel&&If(p.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Ae=>{var tt,Qe;If(p.cancel)&&Pe&&((Qe=(tt=p.cancel).onClick)==null||Qe.call(tt,Ae),On())},className:ne(L==null?void 0:L.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,oe.isValidElement(p.action)?p.action:p.action&&If(p.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||N,onClick:Ae=>{var tt,Qe;If(p.action)&&(Ae.defaultPrevented||((Qe=(tt=p.action).onClick)==null||Qe.call(tt,Ae),On()))},className:ne(L==null?void 0:L.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function CS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Sz=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:p=gz,toastOptions:g,dir:v=CS(),gap:y=xz,loadingIcon:T,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:E,cn:I=Ez}=t,[P,j]=oe.useState([]),C=oe.useMemo(()=>Array.from(new Set([n].concat(P.filter(G=>G.position).map(G=>G.position)))),[P,n]),[S,A]=oe.useState([]),[N,k]=oe.useState(!1),[M,D]=oe.useState(!1),[z,ae]=oe.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=oe.useRef(null),ee=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=oe.useRef(null),V=oe.useRef(!1),te=oe.useCallback(G=>{var ne;(ne=P.find(W=>W.id===G.id))!=null&&ne.delete||gr.dismiss(G.id),j(W=>W.filter(({id:Ee})=>Ee!==G.id))},[P]);return oe.useEffect(()=>gr.subscribe(G=>{if(G.dismiss){j(ne=>ne.map(W=>W.id===G.id?{...W,delete:!0}:W));return}setTimeout(()=>{dk.flushSync(()=>{j(ne=>{let W=ne.findIndex(Ee=>Ee.id===G.id);return W!==-1?[...ne.slice(0,W),{...ne[W],...G},...ne.slice(W+1)]:[G,...ne]})})})}),[]),oe.useEffect(()=>{if(l!=="system"){ae(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ae(G?"dark":"light")})},[l]),oe.useEffect(()=>{P.length<=1&&k(!1)},[P]),oe.useEffect(()=>{let G=ne=>{var W,Ee;r.every(Ie=>ne[Ie]||ne.code===Ie)&&(k(!0),(W=J.current)==null||W.focus()),ne.code==="Escape"&&(document.activeElement===J.current||(Ee=J.current)!=null&&Ee.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),oe.useEffect(()=>{if(J.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,V.current=!1)}},[J.current]),P.length?oe.createElement("section",{"aria-label":`${x} ${ee}`,tabIndex:-1},C.map((G,ne)=>{var W;let[Ee,Ie]=G.split("-");return oe.createElement("ol",{key:G,dir:v==="auto"?CS():v,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Ee,"data-x-position":Ie,style:{"--front-toast-height":`${((W=S[0])==null?void 0:W.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||yz,"--width":`${wz}px`,"--gap":`${y}px`,...f},onBlur:ue=>{V.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(V.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||V.current||(V.current=!0,L.current=ue.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{M||k(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},P.filter(ue=>!ue.position&&ne===0||ue.position===G).map((ue,re)=>{var ve,Te;return oe.createElement(_z,{key:ue.id,icons:w,index:re,toast:ue,defaultRichColors:c,duration:(ve=g==null?void 0:g.duration)!=null?ve:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(Te=g==null?void 0:g.closeButton)!=null?Te:i,interacting:M,position:G,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:P.filter(ge=>ge.position==ue.position),heights:S.filter(ge=>ge.position==ue.position),setHeights:A,expandByDefault:s,gap:y,loadingIcon:T,expanded:N,pauseWhenPageIsHidden:E,cn:I})}))})):null};const Cz=({...t})=>{const{theme:e="system"}=tz();return u.jsx(Sz,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Az=lP.useId||(()=>{}),Iz=0;function Ns(t){const[e,n]=m.useState(Az());return dn(()=>{t||n(r=>r??String(Iz++))},[t]),t||(e?`radix-${e}`:"")}const Nz=["top","right","bottom","left"],bo=Math.min,vr=Math.max,cm=Math.round,Nf=Math.floor,To=t=>({x:t,y:t}),Pz={left:"right",right:"left",bottom:"top",top:"bottom"},Rz={start:"end",end:"start"};function c0(t,e,n){return vr(t,bo(e,n))}function di(t,e){return typeof t=="function"?t(e):t}function hi(t){return t.split("-")[0]}function Oc(t){return t.split("-")[1]}function F1(t){return t==="x"?"y":"x"}function U1(t){return t==="y"?"height":"width"}function Eo(t){return["top","bottom"].includes(hi(t))?"y":"x"}function z1(t){return F1(Eo(t))}function kz(t,e,n){n===void 0&&(n=!1);const r=Oc(t),s=z1(t),i=U1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=um(o)),[o,um(o)]}function Dz(t){const e=um(t);return[u0(t),e,u0(e)]}function u0(t){return t.replace(/start|end/g,e=>Rz[e])}function jz(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function Mz(t,e,n,r){const s=Oc(t);let i=jz(hi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(u0)))),i}function um(t){return t.replace(/left|right|bottom|top/g,e=>Pz[e])}function Oz(t){return{top:0,right:0,bottom:0,left:0,...t}}function n2(t){return typeof t!="number"?Oz(t):{top:t,right:t,bottom:t,left:t}}function dm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AS(t,e,n){let{reference:r,floating:s}=t;const i=Eo(e),o=z1(e),a=U1(o),l=hi(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Oc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const Lz=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=AS(c,r,l),p=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:T,fn:w}=a[y],{x,y:E,data:I,reset:P}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=E??f,g={...g,[T]:{...g[T],...I}},P&&v<=50&&(v++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:d,y:f}=AS(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Md(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=di(e,t),v=n2(g),T=a[p?f==="floating"?"reference":"floating":f],w=dm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},P=dm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:E,strategy:l}):x);return{top:(w.top-P.top+v.top)/I.y,bottom:(P.bottom-w.bottom+v.bottom)/I.y,left:(w.left-P.left+v.left)/I.x,right:(P.right-w.right+v.right)/I.x}}const Vz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=di(t,e)||{};if(c==null)return{};const f=n2(d),p={x:n,y:r},g=z1(s),v=U1(g),y=await o.getDimensions(c),T=g==="y",w=T?"top":"left",x=T?"bottom":"right",E=T?"clientHeight":"clientWidth",I=i.reference[v]+i.reference[g]-p[g]-i.floating[v],P=p[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=j?j[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[E]||i.floating[v]);const S=I/2-P/2,A=C/2-y[v]/2-1,N=bo(f[w],A),k=bo(f[x],A),M=N,D=C-y[v]-k,z=C/2-y[v]/2+S,ae=c0(M,z,D),J=!l.arrow&&Oc(s)!=null&&z!==ae&&i.reference[v]/2-(z<M?N:k)-y[v]/2<0,ee=J?z<M?z-M:z-D:0;return{[g]:p[g]+ee,data:{[g]:ae,centerOffset:z-ae-ee,...J&&{alignmentOffset:ee}},reset:J}}}),Fz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...T}=di(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=hi(s),x=Eo(a),E=hi(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=p||(E||!y?[um(a)]:Dz(a)),j=v!=="none";!p&&j&&P.push(...Mz(a,y,v,I));const C=[a,...P],S=await Md(e,T),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(S[w]),f){const z=kz(s,o,I);A.push(S[z[0]],S[z[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(z=>z<=0)){var k,M;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,ae=C[z];if(ae)return{data:{index:z,overflows:N},reset:{placement:ae}};let J=(M=N.filter(ee=>ee.overflows[0]<=0).sort((ee,L)=>ee.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(g){case"bestFit":{var D;const ee=(D=N.filter(L=>{if(j){const V=Eo(L.placement);return V===x||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,te)=>V+te,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:D[0];ee&&(J=ee);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function IS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NS(t){return Nz.some(e=>t[e]>=0)}const Uz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=di(t,e);switch(r){case"referenceHidden":{const i=await Md(e,{...s,elementContext:"reference"}),o=IS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NS(o)}}}case"escaped":{const i=await Md(e,{...s,altBoundary:!0}),o=IS(i,n.floating);return{data:{escapedOffsets:o,escaped:NS(o)}}}default:return{}}}}};async function zz(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=hi(n),a=Oc(n),l=Eo(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=di(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const Bz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await zz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},$z=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:w,y:x}=T;return{x:w,y:x}}},...l}=di(t,e),c={x:n,y:r},d=await Md(e,l),f=Eo(hi(s)),p=F1(f);let g=c[p],v=c[f];if(i){const T=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=g+d[T],E=g-d[w];g=c0(x,g,E)}if(o){const T=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=v+d[T],E=v-d[w];v=c0(x,v,E)}const y=a.fn({...e,[p]:g,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},Wz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=di(t,e),d={x:n,y:r},f=Eo(s),p=F1(f);let g=d[p],v=d[f];const y=di(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",I=i.reference[p]-i.floating[E]+T.mainAxis,P=i.reference[p]+i.reference[E]-T.mainAxis;g<I?g=I:g>P&&(g=P)}if(c){var w,x;const E=p==="y"?"width":"height",I=["top","left"].includes(hi(s)),P=i.reference[f]-i.floating[E]+(I&&((w=o.offset)==null?void 0:w[f])||0)+(I?0:T.crossAxis),j=i.reference[f]+i.reference[E]+(I?0:((x=o.offset)==null?void 0:x[f])||0)-(I?T.crossAxis:0);v<P?v=P:v>j&&(v=j)}return{[p]:g,[f]:v}}}},qz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=di(t,e),d=await Md(e,c),f=hi(s),p=Oc(s),g=Eo(s)==="y",{width:v,height:y}=i.floating;let T,w;f==="top"||f==="bottom"?(T=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,T=p==="end"?"top":"bottom");const x=y-d.top-d.bottom,E=v-d.left-d.right,I=bo(y-d[T],x),P=bo(v-d[w],E),j=!e.middlewareData.shift;let C=I,S=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),j&&!p){const N=vr(d.left,0),k=vr(d.right,0),M=vr(d.top,0),D=vr(d.bottom,0);g?S=v-2*(N!==0||k!==0?N+k:vr(d.left,d.right)):C=y-2*(M!==0||D!==0?M+D:vr(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const A=await o.getDimensions(a.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Eg(){return typeof window<"u"}function Lc(t){return r2(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bs(t){var e;return(e=(r2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r2(t){return Eg()?t instanceof Node||t instanceof Er(t).Node:!1}function ls(t){return Eg()?t instanceof Element||t instanceof Er(t).Element:!1}function Os(t){return Eg()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function PS(t){return!Eg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}function xh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function Hz(t){return["table","td","th"].includes(Lc(t))}function _g(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function B1(t){const e=$1(),n=ls(t)?cs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Gz(t){let e=_o(t);for(;Os(e)&&!gc(e);){if(B1(e))return e;if(_g(e))return null;e=_o(e)}return null}function $1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gc(t){return["html","body","#document"].includes(Lc(t))}function cs(t){return Er(t).getComputedStyle(t)}function Sg(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _o(t){if(Lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PS(t)&&t.host||Bs(t);return PS(e)?e.host:e}function s2(t){const e=_o(t);return gc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Os(e)&&xh(e)?e:s2(e)}function Od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=s2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Er(s);if(i){const a=d0(o);return e.concat(o,o.visualViewport||[],xh(s)?s:[],a&&n?Od(a):[])}return e.concat(s,Od(s,[],n))}function d0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function i2(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Os(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=cm(n)!==i||cm(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function W1(t){return ls(t)?t:t.contextElement}function Wl(t){const e=W1(t);if(!Os(e))return To(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=i2(e);let o=(i?cm(n.width):n.width)/r,a=(i?cm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Kz=To(0);function o2(t){const e=Er(t);return!$1()||!e.visualViewport?Kz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function Ia(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=W1(t);let o=To(1);e&&(r?ls(r)&&(o=Wl(r)):o=Wl(t));const a=Qz(i,n,r)?o2(i):To(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Er(i),g=r&&ls(r)?Er(r):r;let v=p,y=d0(v);for(;y&&r&&g!==v;){const T=Wl(y),w=y.getBoundingClientRect(),x=cs(y),E=w.left+(y.clientLeft+parseFloat(x.paddingLeft))*T.x,I=w.top+(y.clientTop+parseFloat(x.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,f*=T.y,l+=E,c+=I,v=Er(y),y=d0(v)}}return dm({width:d,height:f,x:l,y:c})}function Yz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Bs(r),a=e?_g(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=To(1);const d=To(0),f=Os(r);if((f||!f&&!i)&&((Lc(r)!=="body"||xh(o))&&(l=Sg(r)),Os(r))){const p=Ia(r);c=Wl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Xz(t){return Array.from(t.getClientRects())}function h0(t,e){const n=Sg(t).scrollLeft;return e?e.left+n:Ia(Bs(t)).left+n}function Jz(t){const e=Bs(t),n=Sg(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+h0(t);const a=-n.scrollTop;return cs(r).direction==="rtl"&&(o+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Zz(t,e){const n=Er(t),r=Bs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=$1();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function eB(t,e){const n=Ia(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Os(t)?Wl(t):To(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function RS(t,e,n){let r;if(e==="viewport")r=Zz(t,n);else if(e==="document")r=Jz(Bs(t));else if(ls(e))r=eB(e,n);else{const s=o2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return dm(r)}function a2(t,e){const n=_o(t);return n===e||!ls(n)||gc(n)?!1:cs(n).position==="fixed"||a2(n,e)}function tB(t,e){const n=e.get(t);if(n)return n;let r=Od(t,[],!1).filter(a=>ls(a)&&Lc(a)!=="body"),s=null;const i=cs(t).position==="fixed";let o=i?_o(t):t;for(;ls(o)&&!gc(o);){const a=cs(o),l=B1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xh(o)&&!l&&a2(t,o))?r=r.filter(d=>d!==o):s=a,o=_o(o)}return e.set(t,r),r}function nB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?_g(e)?[]:tB(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=RS(e,d,s);return c.top=vr(f.top,c.top),c.right=bo(f.right,c.right),c.bottom=bo(f.bottom,c.bottom),c.left=vr(f.left,c.left),c},RS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rB(t){const{width:e,height:n}=i2(t);return{width:e,height:n}}function sB(t,e,n){const r=Os(e),s=Bs(e),i=n==="fixed",o=Ia(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=To(0);if(r||!r&&!i)if((Lc(e)!=="body"||xh(s))&&(a=Sg(e)),r){const g=Ia(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=h0(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-h0(s,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function xv(t){return cs(t).position==="static"}function kS(t,e){if(!Os(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bs(t)===n&&(n=n.ownerDocument.body),n}function l2(t,e){const n=Er(t);if(_g(t))return n;if(!Os(t)){let s=_o(t);for(;s&&!gc(s);){if(ls(s)&&!xv(s))return s;s=_o(s)}return n}let r=kS(t,e);for(;r&&Hz(r)&&xv(r);)r=kS(r,e);return r&&gc(r)&&xv(r)&&!B1(r)?n:r||Gz(t)||n}const iB=async function(t){const e=this.getOffsetParent||l2,n=this.getDimensions,r=await n(t.floating);return{reference:sB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oB(t){return cs(t).direction==="rtl"}const aB={convertOffsetParentRelativeRectToViewportRelativeRect:Yz,getDocumentElement:Bs,getClippingRect:nB,getOffsetParent:l2,getElementRects:iB,getClientRects:Xz,getDimensions:rB,getScale:Wl,isElement:ls,isRTL:oB};function lB(t,e){let n=null,r;const s=Bs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=Nf(d),v=Nf(s.clientWidth-(c+f)),y=Nf(s.clientHeight-(d+p)),T=Nf(c),x={rootMargin:-g+"px "+-v+"px "+-y+"px "+-T+"px",threshold:vr(0,bo(1,l))||1};let E=!0;function I(P){const j=P[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(I,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,x)}n.observe(t)}return o(!0),i}function cB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=W1(t),d=s||i?[...c?Od(c):[],...Od(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?lB(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Ia(t):null;l&&T();function T(){const w=Ia(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&n(),y=w,v=requestAnimationFrame(T)}return n(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const uB=Bz,dB=$z,hB=Fz,fB=qz,pB=Uz,DS=Vz,mB=Wz,gB=(t,e,n)=>{const r=new Map,s={platform:aB,...n},i={...s.platform,_c:r};return Lz(t,e,{...s,platform:i})};var dp=typeof document<"u"?m.useLayoutEffect:m.useEffect;function hm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!hm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!hm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function c2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function jS(t,e){const n=c2(t);return Math.round(e*n)/n}function bv(t){const e=m.useRef(t);return dp(()=>{e.current=t}),e}function yB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);hm(p,r)||g(r);const[v,y]=m.useState(null),[T,w]=m.useState(null),x=m.useCallback(L=>{L!==j.current&&(j.current=L,y(L))},[]),E=m.useCallback(L=>{L!==C.current&&(C.current=L,w(L))},[]),I=i||v,P=o||T,j=m.useRef(null),C=m.useRef(null),S=m.useRef(d),A=l!=null,N=bv(l),k=bv(s),M=bv(c),D=m.useCallback(()=>{if(!j.current||!C.current)return;const L={placement:e,strategy:n,middleware:p};k.current&&(L.platform=k.current),gB(j.current,C.current,L).then(V=>{const te={...V,isPositioned:M.current!==!1};z.current&&!hm(S.current,te)&&(S.current=te,za.flushSync(()=>{f(te)}))})},[p,e,n,k,M]);dp(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const z=m.useRef(!1);dp(()=>(z.current=!0,()=>{z.current=!1}),[]),dp(()=>{if(I&&(j.current=I),P&&(C.current=P),I&&P){if(N.current)return N.current(I,P,D);D()}},[I,P,D,N,A]);const ae=m.useMemo(()=>({reference:j,floating:C,setReference:x,setFloating:E}),[x,E]),J=m.useMemo(()=>({reference:I,floating:P}),[I,P]),ee=m.useMemo(()=>{const L={position:n,left:0,top:0};if(!J.floating)return L;const V=jS(J.floating,d.x),te=jS(J.floating,d.y);return a?{...L,transform:"translate("+V+"px, "+te+"px)",...c2(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:te}},[n,a,J.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:D,refs:ae,elements:J,floatingStyles:ee}),[d,D,ae,J,ee])}const vB=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DS({element:r.current,padding:s}).fn(n):{}:r?DS({element:r,padding:s}).fn(n):{}}}},wB=(t,e)=>({...uB(t),options:[t,e]}),xB=(t,e)=>({...dB(t),options:[t,e]}),bB=(t,e)=>({...mB(t),options:[t,e]}),TB=(t,e)=>({...hB(t),options:[t,e]}),EB=(t,e)=>({...fB(t),options:[t,e]}),_B=(t,e)=>({...pB(t),options:[t,e]}),SB=(t,e)=>({...vB(t),options:[t,e]});var CB="Arrow",u2=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});u2.displayName=CB;var AB=u2;function IB(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,NB(s,...e)]}function NB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function PB(t){const[e,n]=m.useState(void 0);return dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var q1="Popper",[d2,Vc]=IB(q1),[RB,h2]=d2(q1),f2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return u.jsx(RB,{scope:e,anchor:r,onAnchorChange:s,children:n})};f2.displayName=q1;var p2="PopperAnchor",m2=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=h2(p2,n),o=m.useRef(null),a=Je(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Oe.div,{...s,ref:a})});m2.displayName=p2;var H1="PopperContent",[kB,DB]=d2(H1),g2=m.forwardRef((t,e)=>{var re,ve,Te,ge,he,Q;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,T=h2(H1,n),[w,x]=m.useState(null),E=Je(e,Se=>x(Se)),[I,P]=m.useState(null),j=PB(I),C=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(c)?c:[c],M=k.length>0,D={padding:N,boundary:k.filter(MB),altBoundary:M},{refs:z,floatingStyles:ae,placement:J,isPositioned:ee,middlewareData:L}=yB({strategy:"fixed",placement:A,whileElementsMounted:(...Se)=>cB(...Se,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[wB({mainAxis:s+S,alignmentAxis:o}),l&&xB({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?bB():void 0,...D}),l&&TB({...D}),EB({...D,apply:({elements:Se,rects:xe,availableWidth:Fe,availableHeight:O})=>{const{width:$,height:ie}=xe.reference,Z=Se.floating.style;Z.setProperty("--radix-popper-available-width",`${Fe}px`),Z.setProperty("--radix-popper-available-height",`${O}px`),Z.setProperty("--radix-popper-anchor-width",`${$}px`),Z.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),I&&SB({element:I,padding:a}),OB({arrowWidth:C,arrowHeight:S}),p&&_B({strategy:"referenceHidden",...D})]}),[V,te]=w2(J),G=wn(v);dn(()=>{ee&&(G==null||G())},[ee,G]);const ne=(re=L.arrow)==null?void 0:re.x,W=(ve=L.arrow)==null?void 0:ve.y,Ee=((Te=L.arrow)==null?void 0:Te.centerOffset)!==0,[Ie,ue]=m.useState();return dn(()=>{w&&ue(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:ee?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(ge=L.transformOrigin)==null?void 0:ge.x,(he=L.transformOrigin)==null?void 0:he.y].join(" "),...((Q=L.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(kB,{scope:n,placedSide:V,onArrowChange:P,arrowX:ne,arrowY:W,shouldHideArrow:Ee,children:u.jsx(Oe.div,{"data-side":V,"data-align":te,...y,ref:E,style:{...y.style,animation:ee?void 0:"none"}})})})});g2.displayName=H1;var y2="PopperArrow",jB={top:"bottom",right:"left",bottom:"top",left:"right"},v2=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=DB(y2,r),o=jB[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(AB,{...s,ref:n,style:{...s.style,display:"block"}})})});v2.displayName=y2;function MB(t){return t!==null}var OB=t=>({name:"transformOrigin",options:t,fn(e){var T,w,x;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=w2(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?f:`${p}px`,y=`${-l}px`):c==="top"?(v=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:v,y}}}});function w2(t){const[e,n="center"]=t.split("-");return[e,n]}var x2=f2,G1=m2,K1=g2,Q1=v2,[Cg,uce]=bi("Tooltip",[Vc]),Y1=Vc(),b2="TooltipProvider",LB=700,MS="tooltip.open",[VB,T2]=Cg(b2),E2=t=>{const{__scopeTooltip:e,delayDuration:n=LB,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(VB,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};E2.displayName=b2;var _2="Tooltip",[dce,Ag]=Cg(_2),f0="TooltipTrigger",FB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ag(f0,n),i=T2(f0,n),o=Y1(n),a=m.useRef(null),l=Je(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(G1,{asChild:!0,...o,children:u.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ce(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ce(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ce(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ce(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ce(t.onBlur,s.onClose),onClick:ce(t.onClick,s.onClose)})})});FB.displayName=f0;var UB="TooltipPortal",[hce,zB]=Cg(UB,{forceMount:void 0}),yc="TooltipContent",S2=m.forwardRef((t,e)=>{const n=zB(yc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ag(yc,t.__scopeTooltip);return u.jsx(fs,{present:r||o.open,children:o.disableHoverableContent?u.jsx(C2,{side:s,...i,ref:e}):u.jsx(BB,{side:s,...i,ref:e})})}),BB=m.forwardRef((t,e)=>{const n=Ag(yc,t.__scopeTooltip),r=T2(yc,t.__scopeTooltip),s=m.useRef(null),i=Je(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((v,y)=>{const T=v.currentTarget,w={x:v.clientX,y:v.clientY},x=HB(w,T.getBoundingClientRect()),E=GB(w,x),I=KB(y.getBoundingClientRect()),P=YB([...E,...I]);a(P),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const v=T=>g(T,d),y=T=>g(T,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),m.useEffect(()=>{if(o){const v=y=>{const T=y.target,w={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),E=!QB(w,o);x?p():E&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,p]),u.jsx(C2,{...t,ref:i})}),[$B,WB]=Cg(_2,{isInside:!1}),C2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Ag(yc,n),c=Y1(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(MS,d),()=>document.removeEventListener(MS,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(K1,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(D1,{children:r}),u.jsx($B,{scope:n,isInside:!0,children:u.jsx(SU,{id:l.contentId,role:"tooltip",children:s||r})})]})})});S2.displayName=yc;var A2="TooltipArrow",qB=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Y1(n);return WB(A2,n).isInside?null:u.jsx(Q1,{...s,...r,ref:e})});qB.displayName=A2;function HB(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function GB(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function KB(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function QB(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function YB(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),XB(e)}function XB(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JB=E2,I2=S2;const ZB=JB,e$=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(I2,{ref:r,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));e$.displayName=I2.displayName;var Ig=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ng=typeof window>"u"||"Deno"in globalThis;function Qr(){}function t$(t,e){return typeof t=="function"?t(e):t}function n$(t){return typeof t=="number"&&t>=0&&t!==1/0}function r$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function OS(t,e){return typeof t=="function"?t(e):t}function s$(t,e){return typeof t=="function"?t(e):t}function LS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==X1(o,e.options))return!1}else if(!Vd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function VS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ld(e.options.mutationKey)!==Ld(i))return!1}else if(!Vd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function X1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ld)(t)}function Ld(t){return JSON.stringify(t,(e,n)=>p0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Vd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Vd(t[n],e[n])):!1}function N2(t,e){if(t===e)return t;const n=FS(t)&&FS(e);if(n||p0(t)&&p0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=N2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function FS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function p0(t){if(!US(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!US(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function US(t){return Object.prototype.toString.call(t)==="[object Object]"}function i$(t){return new Promise(e=>{setTimeout(e,t)})}function o$(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N2(t,e):e}function a$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function l$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var J1=Symbol();function P2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===J1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var da,qi,ec,WN,c$=(WN=class extends Ig{constructor(){super();nt(this,da);nt(this,qi);nt(this,ec);$e(this,ec,e=>{if(!Ng&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,qi)||this.setEventListener(K(this,ec))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,qi))==null||e.call(this),$e(this,qi,void 0))}setEventListener(e){var n;$e(this,ec,e),(n=K(this,qi))==null||n.call(this),$e(this,qi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,da)!==e&&($e(this,da,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,da)=="boolean"?K(this,da):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},da=new WeakMap,qi=new WeakMap,ec=new WeakMap,WN),R2=new c$,tc,Hi,nc,qN,u$=(qN=class extends Ig{constructor(){super();nt(this,tc,!0);nt(this,Hi);nt(this,nc);$e(this,nc,e=>{if(!Ng&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Hi)||this.setEventListener(K(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Hi))==null||e.call(this),$e(this,Hi,void 0))}setEventListener(e){var n;$e(this,nc,e),(n=K(this,Hi))==null||n.call(this),$e(this,Hi,e(this.setOnline.bind(this)))}setOnline(e){K(this,tc)!==e&&($e(this,tc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return K(this,tc)}},tc=new WeakMap,Hi=new WeakMap,nc=new WeakMap,qN),fm=new u$;function d$(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function h$(t){return Math.min(1e3*2**t,3e4)}function k2(t){return(t??"online")==="online"?fm.isOnline():!0}var D2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Tv(t){return t instanceof D2}function j2(t){let e=!1,n=0,r=!1,s;const i=d$(),o=y=>{var T;r||(p(new D2(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>R2.isFocused()&&(t.networkMode==="always"||fm.isOnline())&&t.canRun(),d=()=>k2(t.networkMode)&&t.canRun(),f=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var T;s=w=>{(r||c())&&y(w)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var j;if(r)return;const x=t.retry??(Ng?0:3),E=t.retryDelay??h$,I=typeof E=="function"?E(n,w):E,P=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!P){p(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),i$(I).then(()=>c()?void 0:g()).then(()=>{e?p(w):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}function f$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Bn=f$(),ha,HN,M2=(HN=class{constructor(){nt(this,ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n$(this.gcTime)&&$e(this,ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ng?1/0:5*60*1e3))}clearGcTimeout(){K(this,ha)&&(clearTimeout(K(this,ha)),$e(this,ha,void 0))}},ha=new WeakMap,HN),rc,sc,Pr,An,uh,fa,Yr,Ks,GN,p$=(GN=class extends M2{constructor(n){super();nt(this,Yr);nt(this,rc);nt(this,sc);nt(this,Pr);nt(this,An);nt(this,uh);nt(this,fa);$e(this,fa,!1),$e(this,uh,n.defaultOptions),this.setOptions(n.options),this.observers=[],$e(this,Pr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,$e(this,rc,g$(this.options)),this.state=n.state??K(this,rc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=K(this,An))==null?void 0:n.promise}setOptions(n){this.options={...K(this,uh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Pr).remove(this)}setData(n,r){const s=o$(this.state.data,n,this.options);return En(this,Yr,Ks).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){En(this,Yr,Ks).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=K(this,An))==null?void 0:s.promise;return(i=K(this,An))==null||i.cancel(n),r?r.then(Qr).catch(Qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,rc))}isActive(){return this.observers.some(n=>s$(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===J1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!r$(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,An))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,An))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),K(this,Pr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(K(this,An)&&(K(this,fa)?K(this,An).cancel({revert:!0}):K(this,An).cancelRetry()),this.scheduleGc()),K(this,Pr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,Yr,Ks).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,An))return K(this,An).continueRetry(),K(this,An).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>($e(this,fa,!0),s.signal)})},o=()=>{const p=P2(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),$e(this,fa,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),$e(this,sc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&En(this,Yr,Ks).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,v,y,T;Tv(p)&&p.silent||En(this,Yr,Ks).call(this,{type:"error",error:p}),Tv(p)||((v=(g=K(this,Pr).config).onError)==null||v.call(g,p,this),(T=(y=K(this,Pr).config).onSettled)==null||T.call(y,this.state.data,p,this)),this.scheduleGc()};return $e(this,An,j2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,v,y,T;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(v=(g=K(this,Pr).config).onSuccess)==null||v.call(g,p,this),(T=(y=K(this,Pr).config).onSettled)==null||T.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{En(this,Yr,Ks).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{En(this,Yr,Ks).call(this,{type:"pause"})},onContinue:()=>{En(this,Yr,Ks).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,An).start()}},rc=new WeakMap,sc=new WeakMap,Pr=new WeakMap,An=new WeakMap,uh=new WeakMap,fa=new WeakMap,Yr=new WeakSet,Ks=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...m$(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Tv(i)&&i.revert&&K(this,sc)?{...K(this,sc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Bn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,Pr).notify({query:this,type:"updated",action:n})})},GN);function m$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function g$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xs,KN,y$=(KN=class extends Ig{constructor(e={}){super();nt(this,xs);this.config=e,$e(this,xs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??X1(s,n);let o=this.get(i);return o||(o=new p$({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){K(this,xs).has(e.queryHash)||(K(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,xs).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,xs).get(e)}getAll(){return[...K(this,xs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>LS(e,r)):n}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,KN),bs,Fn,pa,Ts,ji,QN,v$=(QN=class extends M2{constructor(n){super();nt(this,Ts);nt(this,bs);nt(this,Fn);nt(this,pa);this.mutationId=n.mutationId,$e(this,Fn,n.mutationCache),$e(this,bs,[]),this.state=n.state||w$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){K(this,bs).includes(n)||(K(this,bs).push(n),this.clearGcTimeout(),K(this,Fn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){$e(this,bs,K(this,bs).filter(r=>r!==n)),this.scheduleGc(),K(this,Fn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){K(this,bs).length||(this.state.status==="pending"?this.scheduleGc():K(this,Fn).remove(this))}continue(){var n;return((n=K(this,pa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,v,y,T,w,x,E,I,P,j,C,S;$e(this,pa,j2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{En(this,Ts,ji).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{En(this,Ts,ji).call(this,{type:"pause"})},onContinue:()=>{En(this,Ts,ji).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Fn).canRun(this)}));const r=this.state.status==="pending",s=!K(this,pa).canStart();try{if(!r){En(this,Ts,ji).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=K(this,Fn).config).onMutate)==null?void 0:o.call(i,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&En(this,Ts,ji).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const A=await K(this,pa).start();return await((d=(c=K(this,Fn).config).onSuccess)==null?void 0:d.call(c,A,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,n,this.state.context)),await((v=(g=K(this,Fn).config).onSettled)==null?void 0:v.call(g,A,null,this.state.variables,this.state.context,this)),await((T=(y=this.options).onSettled)==null?void 0:T.call(y,A,null,n,this.state.context)),En(this,Ts,ji).call(this,{type:"success",data:A}),A}catch(A){try{throw await((x=(w=K(this,Fn).config).onError)==null?void 0:x.call(w,A,n,this.state.context,this)),await((I=(E=this.options).onError)==null?void 0:I.call(E,A,n,this.state.context)),await((j=(P=K(this,Fn).config).onSettled)==null?void 0:j.call(P,void 0,A,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,A,n,this.state.context)),A}finally{En(this,Ts,ji).call(this,{type:"error",error:A})}}finally{K(this,Fn).runNext(this)}}},bs=new WeakMap,Fn=new WeakMap,pa=new WeakMap,Ts=new WeakSet,ji=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bn.batch(()=>{K(this,bs).forEach(s=>{s.onMutationUpdate(n)}),K(this,Fn).notify({mutation:this,type:"updated",action:n})})},QN);function w$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,dh,YN,x$=(YN=class extends Ig{constructor(e={}){super();nt(this,mr);nt(this,dh);this.config=e,$e(this,mr,new Map),$e(this,dh,Date.now())}build(e,n,r){const s=new v$({mutationCache:this,mutationId:++af(this,dh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Pf(e),r=K(this,mr).get(n)??[];r.push(e),K(this,mr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Pf(e);if(K(this,mr).has(n)){const s=(r=K(this,mr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?K(this,mr).delete(n):K(this,mr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=K(this,mr).get(Pf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=K(this,mr).get(Pf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Bn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...K(this,mr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>VS(n,r))}findAll(e={}){return this.getAll().filter(n=>VS(e,n))}notify(e){Bn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qr))))}},mr=new WeakMap,dh=new WeakMap,YN);function Pf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function zS(t){return{onFetch:(e,n)=>{var d,f,p,g,v;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const T=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=P2(e.options,e.fetchOptions),x=async(E,I,P)=>{if(y)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const j={queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};T(j);const C=await w(j),{maxPages:S}=e.options,A=P?l$:a$;return{pages:A(E.pages,C,S),pageParams:A(E.pageParams,I,S)}};if(s&&i.length){const E=s==="backward",I=E?b$:BS,P={pages:i,pageParams:o},j=I(r,P);a=await x(P,j,E)}else{const E=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:BS(r,a);if(l>0&&I==null)break;a=await x(a,I),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function BS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function b$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var kt,Gi,Ki,ic,oc,Qi,ac,lc,XN,T$=(XN=class{constructor(t={}){nt(this,kt);nt(this,Gi);nt(this,Ki);nt(this,ic);nt(this,oc);nt(this,Qi);nt(this,ac);nt(this,lc);$e(this,kt,t.queryCache||new y$),$e(this,Gi,t.mutationCache||new x$),$e(this,Ki,t.defaultOptions||{}),$e(this,ic,new Map),$e(this,oc,new Map),$e(this,Qi,0)}mount(){af(this,Qi)._++,K(this,Qi)===1&&($e(this,ac,R2.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,kt).onFocus())})),$e(this,lc,fm.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,kt).onOnline())})))}unmount(){var t,e;af(this,Qi)._--,K(this,Qi)===0&&((t=K(this,ac))==null||t.call(this),$e(this,ac,void 0),(e=K(this,lc))==null||e.call(this),$e(this,lc,void 0))}isFetching(t){return K(this,kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Gi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=K(this,kt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(OS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return K(this,kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=K(this,kt).get(r.queryHash),i=s==null?void 0:s.state.data,o=t$(e,i);if(o!==void 0)return K(this,kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bn.batch(()=>K(this,kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,kt);Bn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,kt),r={type:"active",...t};return Bn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Bn.batch(()=>K(this,kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qr).catch(Qr)}invalidateQueries(t={},e={}){return Bn.batch(()=>{if(K(this,kt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Bn.batch(()=>K(this,kt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,kt).build(this,e);return n.isStaleByTime(OS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qr).catch(Qr)}fetchInfiniteQuery(t){return t.behavior=zS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qr).catch(Qr)}ensureInfiniteQueryData(t){return t.behavior=zS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fm.isOnline()?K(this,Gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,kt)}getMutationCache(){return K(this,Gi)}getDefaultOptions(){return K(this,Ki)}setDefaultOptions(t){$e(this,Ki,t)}setQueryDefaults(t,e){K(this,ic).set(Ld(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,ic).values()];let n={};return e.forEach(r=>{Vd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){K(this,oc).set(Ld(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,oc).values()];let n={};return e.forEach(r=>{Vd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Ki).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=X1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===J1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Ki).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,kt).clear(),K(this,Gi).clear()}},kt=new WeakMap,Gi=new WeakMap,Ki=new WeakMap,ic=new WeakMap,oc=new WeakMap,Qi=new WeakMap,ac=new WeakMap,lc=new WeakMap,XN),E$=m.createContext(void 0),_$=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(E$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const $S="popstate";function S$(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ba(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),m0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:pm(i))}function r(s,i){Z1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return A$(e,n,r,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Z1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C$(){return Math.random().toString(36).substr(2,8)}function WS(t,e){return{usr:t.state,key:t.key,idx:e}}function m0(t,e,n,r){return n===void 0&&(n=null),Fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ba(e):e,{state:n,key:e&&e.key||r||C$()})}function pm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ji.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Fd({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ji.Pop;let T=d(),w=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:w})}function p(T,w){a=Ji.Push;let x=m0(y.location,T,w);n&&n(x,T),c=d()+1;let E=WS(x,c),I=y.createHref(x);try{o.pushState(E,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function g(T,w){a=Ji.Replace;let x=m0(y.location,T,w);n&&n(x,T),c=d();let E=WS(x,c),I=y.createHref(x);o.replaceState(E,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function v(T){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof T=="string"?T:pm(T);return x=x.replace(/ $/,"%20"),$t(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener($S,f),l=T,()=>{s.removeEventListener($S,f),l=null}},createHref(T){return e(s,T)},createURL:v,encodeLocation(T){let w=v(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(T){return o.go(T)}};return y}var qS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qS||(qS={}));function I$(t,e,n){return n===void 0&&(n="/"),N$(t,e,n,!1)}function N$(t,e,n,r){let s=typeof e=="string"?Ba(e):e,i=eb(s.pathname||"/",n);if(i==null)return null;let o=O2(t);P$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=z$(i);a=F$(o[l],c,r)}return a}function O2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=co([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),O2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:L$(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of L2(i.path))s(i,o,l)}),e}function L2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=L2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function P$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R$=/^:[\w-]+$/,k$=3,D$=2,j$=1,M$=10,O$=-2,HS=t=>t==="*";function L$(t,e){let n=t.split("/"),r=n.length;return n.some(HS)&&(r+=O$),e&&(r+=D$),n.filter(s=>!HS(s)).reduce((s,i)=>s+(R$.test(i)?k$:i===""?j$:M$),r)}function V$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function F$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=GS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:co([i,f.pathname]),pathnameBase:q$(co([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=co([i,f.pathnameBase]))}return o}function GS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return g&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function U$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Z1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Z1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:$$(n,e):e,search:H$(r),hash:G$(s)}}function $$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ev(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tb(t,e){let n=W$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ba(t):(s=Fd({},t),$t(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=B$(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const co=t=>t.join("/").replace(/\/\/+/g,"/"),q$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function K$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const V2=["post","put","patch","delete"];new Set(V2);const Q$=["get",...V2];new Set(Q$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}const rb=m.createContext(null),Y$=m.createContext(null),Mo=m.createContext(null),Pg=m.createContext(null),Ti=m.createContext({outlet:null,matches:[],isDataRoute:!1}),F2=m.createContext(null);function X$(t,e){let{relative:n}=e===void 0?{}:e;Fc()||$t(!1);let{basename:r,navigator:s}=m.useContext(Mo),{hash:i,pathname:o,search:a}=z2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:co([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Fc(){return m.useContext(Pg)!=null}function $a(){return Fc()||$t(!1),m.useContext(Pg).location}function U2(t){m.useContext(Mo).static||m.useLayoutEffect(t)}function Wa(){let{isDataRoute:t}=m.useContext(Ti);return t?h8():J$()}function J$(){Fc()||$t(!1);let t=m.useContext(rb),{basename:e,future:n,navigator:r}=m.useContext(Mo),{matches:s}=m.useContext(Ti),{pathname:i}=$a(),o=JSON.stringify(tb(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return U2(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=nb(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const Z$=m.createContext(null);function e8(t){let e=m.useContext(Ti).outlet;return e&&m.createElement(Z$.Provider,{value:t},e)}function z2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Mo),{matches:s}=m.useContext(Ti),{pathname:i}=$a(),o=JSON.stringify(tb(s,r.v7_relativeSplatPath));return m.useMemo(()=>nb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function t8(t,e){return n8(t,e)}function n8(t,e,n,r){Fc()||$t(!1);let{navigator:s}=m.useContext(Mo),{matches:i}=m.useContext(Ti),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=$a(),d;if(e){var f;let T=typeof e=="string"?Ba(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||$t(!1),d=T}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=I$(t,{pathname:g}),y=a8(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:co([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:co([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?m.createElement(Pg.Provider,{value:{location:Ud({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},y):y}function r8(){let t=d8(),e=K$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const s8=m.createElement(r8,null);class i8 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ti.Provider,{value:this.props.routeContext},m.createElement(F2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o8(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(rb);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ti.Provider,{value:e},r)}function a8(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||$t(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,v=!1,y=null,T=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||s8,l&&(c<0&&p===0?(v=!0,T=null):c===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),x=()=>{let E;return g?E=y:v?E=T:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,m.createElement(o8,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(i8,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var B2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B2||{}),mm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mm||{});function l8(t){let e=m.useContext(rb);return e||$t(!1),e}function c8(t){let e=m.useContext(Y$);return e||$t(!1),e}function u8(t){let e=m.useContext(Ti);return e||$t(!1),e}function $2(t){let e=u8(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function d8(){var t;let e=m.useContext(F2),n=c8(mm.UseRouteError),r=$2(mm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h8(){let{router:t}=l8(B2.UseNavigateStable),e=$2(mm.UseNavigateStable),n=m.useRef(!1);return U2(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ud({fromRouteId:e},i)))},[t,e])}function g0(t){let{to:e,replace:n,state:r,relative:s}=t;Fc()||$t(!1);let{future:i,static:o}=m.useContext(Mo),{matches:a}=m.useContext(Ti),{pathname:l}=$a(),c=Wa(),d=nb(e,tb(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function f8(t){return e8(t.context)}function Xn(t){$t(!1)}function p8(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ji.Pop,navigator:i,static:o=!1,future:a}=t;Fc()&&$t(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Ud({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ba(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=r,y=m.useMemo(()=>{let T=eb(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:v},navigationType:s}},[l,d,f,p,g,v,s]);return y==null?null:m.createElement(Mo.Provider,{value:c},m.createElement(Pg.Provider,{children:n,value:y}))}function m8(t){let{children:e,location:n}=t;return t8(y0(e),n)}new Promise(()=>{});function y0(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,y0(r.props.children,i));return}r.type!==Xn&&$t(!1),!r.props.index||!r.props.children||$t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=y0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function g8(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function y8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v8(t,e){return t.button===0&&(!e||e==="_self")&&!y8(t)}const w8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x8="6";try{window.__reactRouterVersion=x8}catch{}const b8="startTransition",KS=lP[b8];function T8(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=S$({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&KS?KS(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(p8,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const E8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=g8(e,w8),{basename:g}=m.useContext(Mo),v,y=!1;if(typeof c=="string"&&_8.test(c)&&(v=c,E8))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),P=eb(I.pathname,g);I.origin===E.origin&&P!=null?c=P+I.search+I.hash:y=!0}catch{}let T=X$(c,{relative:s}),w=S8(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function x(E){r&&r(E),E.defaultPrevented||w(E)}return m.createElement("a",v0({},p,{href:v||T,onClick:y||i?r:x,ref:n,target:l}))});var QS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(QS||(QS={}));var YS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YS||(YS={}));function S8(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Wa(),c=$a(),d=z2(t,{relative:o});return m.useCallback(f=>{if(v8(f,n)){f.preventDefault();let p=r!==void 0?r:pm(c)===pm(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const sb=wh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?xo:"button";return u.jsx(o,{className:fe(sb({variant:e,size:n,className:t})),ref:i,...s})});de.displayName="Button";const Bt=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow duration-300",t),...e}));Bt.displayName="Card";const gn=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));gn.displayName="CardHeader";const $n=m.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));$n.displayName="CardTitle";const Ls=m.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Ls.displayName="CardDescription";const cn=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...e}));cn.displayName="CardContent";const C8=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...e}));C8.displayName="CardFooter";const ib=m.createContext({});function Uc(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const ob=typeof window<"u",Rg=ob?m.useLayoutEffect:m.useEffect,kg=m.createContext(null);function ab(t,e){t.indexOf(e)===-1&&t.push(e)}function lb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let A8=()=>{},gm=()=>{};const fi={},W2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function q2(t){return typeof t=="object"&&t!==null}const H2=t=>/^0[^.\s]+$/u.test(t);function cb(t){let e;return()=>(e===void 0&&(e=t()),e)}const ar=t=>t,I8=(t,e)=>n=>e(t(n)),bh=(...t)=>t.reduce(I8),vc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ub{constructor(){this.subscriptions=[]}add(e){return ab(this.subscriptions,e),()=>lb(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ps=t=>t*1e3,Rs=t=>t/1e3;function db(t,e){return e?t*(1e3/e):0}const G2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N8=1e-7,P8=12;function R8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=G2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>N8&&++a<P8);return o}function Th(t,e,n,r){if(t===e&&n===r)return ar;const s=i=>R8(i,0,1,t,n);return i=>i===0||i===1?i:G2(s(i),e,r)}const K2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Q2=t=>e=>1-t(1-e),Y2=Th(.33,1.53,.69,.99),hb=Q2(Y2),X2=K2(hb),J2=t=>(t*=2)<1?.5*hb(t):.5*(2-Math.pow(2,-10*(t-1))),fb=t=>1-Math.sin(Math.acos(t)),Z2=Q2(fb),eD=K2(fb),k8=Th(.42,0,1,1),D8=Th(0,0,.58,1),tD=Th(.42,0,.58,1),j8=t=>Array.isArray(t)&&typeof t[0]!="number",nD=t=>Array.isArray(t)&&typeof t[0]=="number",XS={linear:ar,easeIn:k8,easeInOut:tD,easeOut:D8,circIn:fb,circInOut:eD,circOut:Z2,backIn:hb,backInOut:X2,backOut:Y2,anticipate:J2},M8=t=>typeof t=="string",JS=t=>{if(nD(t)){gm(t.length===4);const[e,n,r,s]=t;return Th(e,n,r,s)}else if(M8(t))return gm(XS[t]!==void 0),XS[t];return t},Rf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ZS={value:null,addProjectionMetrics:null};function O8(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,g=!1)=>{const y=g&&s?n:r;return p&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&ZS.value&&ZS.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const L8=40;function rD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Rf.reduce((E,I)=>(E[I]=O8(i,e?I:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:v}=o,y=()=>{const E=fi.useManualTiming?s.timestamp:performance.now();n=!1,fi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,L8),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},T=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Rf.reduce((E,I)=>{const P=o[I];return E[I]=(j,C=!1,S=!1)=>(n||T(),P.schedule(j,C,S)),E},{}),cancel:E=>{for(let I=0;I<Rf.length;I++)o[Rf[I]].cancel(E)},state:s,steps:o}}const{schedule:ut,cancel:us,state:on,steps:_v}=rD(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let hp;function V8(){hp=void 0}const rr={now:()=>(hp===void 0&&rr.set(on.isProcessing||fi.useManualTiming?on.timestamp:performance.now()),hp),set:t=>{hp=t,queueMicrotask(V8)}},sD=t=>e=>typeof e=="string"&&e.startsWith(t),pb=sD("--"),F8=sD("var(--"),mb=t=>F8(t)?U8.test(t.split("/*")[0].trim()):!1,U8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zd={...zc,transform:t=>Vs(0,1,t)},kf={...zc,default:1},nd=t=>Math.round(t*1e5)/1e5,gb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z8(t){return t==null}const B8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yb=(t,e)=>n=>!!(typeof n=="string"&&B8.test(n)&&n.startsWith(t)||e&&!z8(n)&&Object.prototype.hasOwnProperty.call(n,e)),iD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(gb);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},$8=t=>Vs(0,255,t),Sv={...zc,transform:t=>Math.round($8(t))},oa={test:yb("rgb","red"),parse:iD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sv.transform(t)+", "+Sv.transform(e)+", "+Sv.transform(n)+", "+nd(zd.transform(r))+")"};function W8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const w0={test:yb("#"),parse:W8,transform:oa.transform},Eh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mi=Eh("deg"),ks=Eh("%"),Me=Eh("px"),q8=Eh("vh"),H8=Eh("vw"),eC={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Rl={test:yb("hsl","hue"),parse:iD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ks.transform(nd(e))+", "+ks.transform(nd(n))+", "+nd(zd.transform(r))+")"},In={test:t=>oa.test(t)||w0.test(t)||Rl.test(t),parse:t=>oa.test(t)?oa.parse(t):Rl.test(t)?Rl.parse(t):w0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oa.transform(t):Rl.transform(t)},G8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gb))==null?void 0:e.length)||0)+(((n=t.match(G8))==null?void 0:n.length)||0)>0}const oD="number",aD="color",Q8="var",Y8="var(",tC="${}",X8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(X8,l=>(In.test(l)?(r.color.push(i),s.push(aD),n.push(In.parse(l))):l.startsWith(Y8)?(r.var.push(i),s.push(Q8),n.push(l)):(r.number.push(i),s.push(oD),n.push(parseFloat(l))),++i,tC)).split(tC);return{values:n,split:a,indexes:r,types:s}}function lD(t){return Bd(t).values}function cD(t){const{split:e,types:n}=Bd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===oD?i+=nd(s[o]):a===aD?i+=In.transform(s[o]):i+=s[o]}return i}}const J8=t=>typeof t=="number"?0:t;function Z8(t){const e=lD(t);return cD(t)(e.map(J8))}const So={test:K8,parse:lD,createTransformer:cD,getAnimatableNone:Z8};function Cv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Cv(l,a,t+1/3),i=Cv(l,a,t),o=Cv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ym(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Av=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},tW=[w0,oa,Rl],nW=t=>tW.find(e=>e.test(t));function nC(t){const e=nW(t);if(!e)return!1;let n=e.parse(t);return e===Rl&&(n=eW(n)),n}const rC=(t,e)=>{const n=nC(t),r=nC(e);if(!n||!r)return ym(t,e);const s={...n};return i=>(s.red=Av(n.red,r.red,i),s.green=Av(n.green,r.green,i),s.blue=Av(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),oa.transform(s))},x0=new Set(["none","hidden"]);function rW(t,e){return x0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sW(t,e){return n=>_t(t,e,n)}function vb(t){return typeof t=="number"?sW:typeof t=="string"?mb(t)?ym:In.test(t)?rC:aW:Array.isArray(t)?uD:typeof t=="object"?In.test(t)?rC:iW:ym}function uD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>vb(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function iW(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=vb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function oW(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const aW=(t,e)=>{const n=So.createTransformer(e),r=Bd(t),s=Bd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?x0.has(t)&&!s.values.length||x0.has(e)&&!r.values.length?rW(t,e):bh(uD(oW(r,s),s.values),n):ym(t,e)};function dD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):vb(t)(t,e)}const lW=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>us(e),now:()=>on.isProcessing?on.timestamp:rr.now()}},hD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},vm=2e4;function wb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<vm;)e+=n,r=t.next(e);return e>=vm?1/0:e}function cW(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(wb(r),vm);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Rs(s)}}const uW=5;function fD(t,e,n){const r=Math.max(e-uW,0);return db(n-t(r),e-r)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Iv=.001;function dW({duration:t=jt.duration,bounce:e=jt.bounce,velocity:n=jt.velocity,mass:r=jt.mass}){let s,i,o=1-e;o=Vs(jt.minDamping,jt.maxDamping,o),t=Vs(jt.minDuration,jt.maxDuration,Rs(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,g=b0(c,o),v=Math.exp(-f);return Iv-p/g*v},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),y=b0(Math.pow(c,2),o);return(-s(c)+Iv>0?-1:1)*((p-g)*v)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Iv+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=fW(s,i,a);if(t=Ps(t),isNaN(l))return{stiffness:jt.stiffness,damping:jt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const hW=12;function fW(t,e,n){let r=n;for(let s=1;s<hW;s++)r=r-t(r)/e(r);return r}function b0(t,e){return t*Math.sqrt(1-e*e)}const pW=["duration","bounce"],mW=["stiffness","damping","mass"];function sC(t,e){return e.some(n=>t[n]!==void 0)}function gW(t){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...t};if(!sC(t,mW)&&sC(t,pW))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:jt.mass,stiffness:s,damping:i}}else{const n=dW(t);e={...e,...n,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function wm(t=jt.visualDuration,e=jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=gW({...n,velocity:-Rs(n.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*d)),T=o-i,w=Rs(Math.sqrt(l/d)),x=Math.abs(T)<5;r||(r=x?jt.restSpeed.granular:jt.restSpeed.default),s||(s=x?jt.restDelta.granular:jt.restDelta.default);let E;if(y<1){const P=b0(w,y);E=j=>{const C=Math.exp(-y*w*j);return o-C*((v+y*w*T)/P*Math.sin(P*j)+T*Math.cos(P*j))}}else if(y===1)E=P=>o-Math.exp(-w*P)*(T+(v+w*T)*P);else{const P=w*Math.sqrt(y*y-1);E=j=>{const C=Math.exp(-y*w*j),S=Math.min(P*j,300);return o-C*((v+y*w*T)*Math.sinh(S)+P*T*Math.cosh(S))/P}}const I={calculatedDuration:g&&f||null,next:P=>{const j=E(P);if(g)a.done=P>=f;else{let C=P===0?v:0;y<1&&(C=P===0?Ps(v):fD(E,P,j));const S=Math.abs(C)<=r,A=Math.abs(o-j)<=s;a.done=S&&A}return a.value=a.done?o:j,a},toString:()=>{const P=Math.min(wb(I),vm),j=hD(C=>I.next(P*C).value,P,30);return P+"ms "+j},toTransition:()=>{}};return I}wm.applyToOptions=t=>{const e=cW(t,100,wm);return t.ease=e.ease,t.duration=Ps(e.duration),t.type="keyframes",t};function T0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const T=f+y,w=o===void 0?T:o(T);w!==T&&(y=w-f);const x=S=>-y*Math.exp(-S/r),E=S=>w+x(S),I=S=>{const A=x(S),N=E(S);p.done=Math.abs(A)<=c,p.value=p.done?w:N};let P,j;const C=S=>{g(p.value)&&(P=S,j=wm({keyframes:[p.value,v(p.value)],velocity:fD(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let A=!1;return!j&&P===void 0&&(A=!0,I(S),C(S)),P!==void 0&&S>=P?j.next(S-P):(!A&&I(S),p)}}}function yW(t,e,n){const r=[],s=n||fi.mix||dD,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ar:e;a=bh(l,a)}r.push(a)}return r}function xb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(gm(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=yW(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=vc(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Vs(t[0],t[i-1],d)):c}function vW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=vc(0,e,r);t.push(_t(n,1,s))}}function pD(t){const e=[0];return vW(e,t.length-1),e}function wW(t,e){return t.map(n=>n*e)}function xW(t,e){return t.map(()=>e||tD).splice(0,t.length-1)}function rd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=j8(r)?r.map(JS):JS(r),i={done:!1,value:e[0]},o=wW(n&&n.length===e.length?n:pD(e),t),a=xb(o,e,{ease:Array.isArray(s)?s:xW(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const bW=t=>t!==null;function bb(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(bW),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const TW={decay:T0,inertia:T0,tween:rd,keyframes:rd,spring:wm};function mD(t){typeof t.type=="string"&&(t.type=TW[t.type])}class Tb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const EW=t=>t/100;class Eb extends Tb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rr.now()&&this.tick(rr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mD(e);const{type:n=rd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||rd;l!==rd&&typeof a[0]!="number"&&(this.mixKeyframes=bh(EW,dD(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=wb(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,I=r;if(f){const S=Math.min(this.currentTime,s)/a;let A=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(p==="reverse"?(N=1-N,g&&(N-=g/a)):p==="mirror"&&(I=o)),E=Vs(0,1,N)*a}const P=x?{done:!1,value:d[0]}:I.next(E);i&&(P.value=i(P.value));let{done:j}=P;!x&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&v!==T0&&(P.value=bb(d,this.options,T,this.speed)),y&&y(P.value),C&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Rs(this.calculatedDuration)}get time(){return Rs(this.currentTime)}set time(e){var n;e=Ps(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rs(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=lW,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function _W(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const aa=t=>t*180/Math.PI,E0=t=>{const e=aa(Math.atan2(t[1],t[0]));return _0(e)},SW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:E0,rotateZ:E0,skewX:t=>aa(Math.atan(t[1])),skewY:t=>aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_0=t=>(t=t%360,t<0&&(t+=360),t),iC=E0,oC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),aC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),CW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oC,scaleY:aC,scale:t=>(oC(t)+aC(t))/2,rotateX:t=>_0(aa(Math.atan2(t[6],t[5]))),rotateY:t=>_0(aa(Math.atan2(-t[2],t[0]))),rotateZ:iC,rotate:iC,skewX:t=>aa(Math.atan(t[4])),skewY:t=>aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function S0(t){return t.includes("scale")?1:0}function C0(t,e){if(!t||t==="none")return S0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=CW,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=SW,s=a}if(!s)return S0(e);const i=r[e],o=s[1].split(",").map(IW);return typeof i=="function"?i(o):o[i]}const AW=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return C0(n,e)};function IW(t){return parseFloat(t.trim())}const Bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$c=new Set(Bc),lC=t=>t===zc||t===Me,NW=new Set(["x","y","z"]),PW=Bc.filter(t=>!NW.has(t));function RW(t){const e=[];return PW.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>C0(e,"x"),y:(t,{transform:e})=>C0(e,"y")};ya.translateX=ya.x;ya.translateY=ya.y;const va=new Set;let A0=!1,I0=!1,N0=!1;function gD(){if(I0){const t=Array.from(va).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=RW(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}I0=!1,A0=!1,va.forEach(t=>t.complete(N0)),va.clear()}function yD(){va.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(I0=!0)})}function kW(){N0=!0,yD(),gD(),N0=!1}class _b{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(va.add(this),A0||(A0=!0,ut.read(yD),ut.resolveKeyframes(gD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}_W(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),va.delete(this)}cancel(){this.state==="scheduled"&&(va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const DW=t=>t.startsWith("--");function jW(t,e,n){DW(e)?t.style.setProperty(e,n):t.style[e]=n}const vD=cb(()=>window.ScrollTimeline!==void 0),MW={};function OW(t,e){const n=cb(t);return()=>MW[e]??n()}const wD=OW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,cC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nu([0,.65,.55,1]),circOut:Nu([.55,0,1,.45]),backIn:Nu([.31,.01,.66,-.59]),backOut:Nu([.33,1.53,.69,.99])};function xD(t,e){if(t)return typeof t=="function"?wD()?hD(t,e):"ease-out":nD(t)?Nu(t):Array.isArray(t)?t.map(n=>xD(n,e)||cC.easeOut):cC[t]}function LW(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=xD(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function bD(t){return typeof t=="function"&&"applyToOptions"in t}function VW({type:t,...e}){return bD(t)&&wD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class FW extends Tb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,gm(typeof e.type!="string");const c=VW(e);this.animation=LW(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=bb(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):jW(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Rs(Number(e))}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ps(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vD()?(this.animation.timeline=e,ar):n(this)}}const TD={anticipate:J2,backInOut:X2,circInOut:eD};function UW(t){return t in TD}function zW(t){typeof t.ease=="string"&&UW(t.ease)&&(t.ease=TD[t.ease])}const uC=10;class BW extends FW{constructor(e){zW(e),mD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Eb({...o,autoplay:!1}),l=Ps(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-uC).value,a.sample(l).value,uC),a.stop()}}const dC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function $W(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WW(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=dC(s,e),a=dC(i,e);return!o||!a?!1:$W(t)||(n==="spring"||bD(n))&&r}function Dg(t){return q2(t)&&"offsetHeight"in t}const qW=new Set(["opacity","clipPath","filter","transform"]),HW=cb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GW(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!Dg((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return HW()&&n&&qW.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const KW=40;class QW extends Tb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var v;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=rr.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||_b;this.keyframeResolver=new g(a,(y,T,w)=>this.onKeyframesResolved(y,T,p,!w),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=rr.now(),WW(e,i,o,a)||((fi.instantAnimations||!l)&&(d==null||d(bb(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>KW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&GW(p)?new BW({...p,element:p.motionValue.owner.current}):new Eb(p);g.finished.then(()=>this.notifyFinished()).catch(ar),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),kW()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const YW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XW(t){const e=YW.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ED(t,e,n=1){const[r,s]=XW(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return W2(o)?parseFloat(o):o}return mb(s)?ED(s,e,n+1):s}function Sb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const _D=new Set(["width","height","top","left","right","bottom",...Bc]),JW={test:t=>t==="auto",parse:t=>t},SD=t=>e=>e.test(t),CD=[zc,Me,ks,Mi,H8,q8,JW],hC=t=>CD.find(SD(t));function ZW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||H2(t):!0}const e7=new Set(["brightness","contrast","saturate","opacity"]);function t7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gb)||[];if(!r)return t;const s=n.replace(r,"");let i=e7.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const n7=/\b([a-z-]*)\(.*?\)/gu,P0={...So,getAnimatableNone:t=>{const e=t.match(n7);return e?e.map(t7).join(" "):t}},fC={...zc,transform:Math.round},r7={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:kf,scaleX:kf,scaleY:kf,scaleZ:kf,skew:Mi,skewX:Mi,skewY:Mi,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:zd,originX:eC,originY:eC,originZ:Me},Cb={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...r7,zIndex:fC,fillOpacity:zd,strokeOpacity:zd,numOctaves:fC},s7={...Cb,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:P0,WebkitFilter:P0},AD=t=>s7[t];function ID(t,e){let n=AD(t);return n!==P0&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i7=new Set(["auto","none","0"]);function o7(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!i7.has(i)&&Bd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=ID(n,s)}class a7 extends _b{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),mb(c))){const d=ED(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!_D.has(r)||e.length!==2)return;const[s,i]=e,o=hC(s),a=hC(i);if(o!==a)if(lC(o)&&lC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||ZW(e[s]))&&r.push(s);r.length&&o7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ND(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const PD=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pC=30,l7=t=>!isNaN(parseFloat(t)),sd={current:void 0};class c7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=rr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=l7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ub);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return sd.current&&sd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pC);return db(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ts(t,e){return new c7(t,e)}const{schedule:Ab,cancel:mce}=rD(queueMicrotask,!1),Hr={x:!1,y:!1};function RD(){return Hr.x||Hr.y}function u7(t){return t==="x"||t==="y"?Hr[t]?null:(Hr[t]=!0,()=>{Hr[t]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}function kD(t,e){const n=ND(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function mC(t){return!(t.pointerType==="touch"||RD())}function d7(t,e,n={}){const[r,s,i]=kD(t,n),o=a=>{if(!mC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{mC(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const DD=(t,e)=>e?t===e?!0:DD(t,e.parentElement):!1,Ib=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,h7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f7(t){return h7.has(t.tagName)||t.tabIndex!==-1}const fp=new WeakSet;function gC(t){return e=>{e.key==="Enter"&&t(e)}}function Nv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gC(()=>{if(fp.has(n))return;Nv(n,"down");const s=gC(()=>{Nv(n,"up")}),i=()=>Nv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yC(t){return Ib(t)&&!RD()}function m7(t,e,n={}){const[r,s,i]=kD(t,n),o=a=>{const l=a.currentTarget;if(!yC(a))return;fp.add(l);const c=e(l,a),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),fp.has(l)&&fp.delete(l),yC(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||DD(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Dg(a)&&(a.addEventListener("focus",c=>p7(c,s)),!f7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function jD(t,e){let n;const r=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return ut.preUpdate(r,!0),()=>us(r)}function Nb(t){return q2(t)&&"ownerSVGElement"in t}function g7(t){return Nb(t)&&t.tagName==="svg"}function y7(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=xb(s,i,o);return e?a(r):a}const kn=t=>!!(t&&t.getVelocity),v7=[...CD,In,So],w7=t=>v7.find(SD(t)),jg=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x7 extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Dg(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b7({children:t,isPresent:e,anchorX:n}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(jg);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),u.jsx(x7,{isPresent:e,childRef:s,sizeRef:i,children:m.cloneElement(t,{ref:s})})}const T7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=Uc(E7),c=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(f={...f}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(b7,{isPresent:n,anchorX:a,children:t})),u.jsx(kg.Provider,{value:f,children:t})};function E7(){return new Map}function MD(t=!0){const e=m.useContext(kg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{if(t)return s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Df=t=>t.key||"";function vC(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const xm=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=MD(o),d=m.useMemo(()=>vC(t),[t]),f=o&&!l?[]:d.map(Df),p=m.useRef(!0),g=m.useRef(d),v=Uc(()=>new Map),[y,T]=m.useState(d),[w,x]=m.useState(d);Rg(()=>{p.current=!1,g.current=d;for(let P=0;P<w.length;P++){const j=Df(w[P]);f.includes(j)?v.delete(j):v.get(j)!==!0&&v.set(j,!1)}},[w,f.length,f.join("-")]);const E=[];if(d!==y){let P=[...d];for(let j=0;j<w.length;j++){const C=w[j],S=Df(C);f.includes(S)||(P.splice(j,0,C),E.push(C))}return i==="wait"&&E.length&&(P=E),x(vC(P)),T(d),null}const{forceRender:I}=m.useContext(ib);return u.jsx(u.Fragment,{children:w.map(P=>{const j=Df(P),C=o&&!l?!1:d===w||f.includes(j),S=()=>{if(v.has(j))v.set(j,!0);else return;let A=!0;v.forEach(N=>{N||(A=!1)}),A&&(I==null||I(),x(g.current),o&&(c==null||c()),r&&r())};return u.jsx(T7,{isPresent:C,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:S,anchorX:a,children:P},j)})})},OD=m.createContext({strict:!1}),wC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wc={};for(const t in wC)wc[t]={isEnabled:e=>wC[t].some(n=>!!e[n])};function _7(t){for(const e in t)wc[e]={...wc[e],...t[e]}}const S7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S7.has(t)}let LD=t=>!bm(t);function C7(t){t&&(LD=e=>e.startsWith("on")?!bm(e):t(e))}try{C7(require("@emotion/is-prop-valid").default)}catch{}function A7(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(LD(s)||n===!0&&bm(s)||!e&&!bm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function I7(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Mg=m.createContext({});function Og(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $d(t){return typeof t=="string"||Array.isArray(t)}const Pb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rb=["initial",...Pb];function Lg(t){return Og(t.animate)||Rb.some(e=>$d(t[e]))}function VD(t){return!!(Lg(t)||t.variants)}function N7(t,e){if(Lg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$d(n)?n:void 0,animate:$d(r)?r:void 0}}return t.inherit!==!1?e:{}}function P7(t){const{initial:e,animate:n}=N7(t,m.useContext(Mg));return m.useMemo(()=>({initial:e,animate:n}),[xC(e),xC(n)])}function xC(t){return Array.isArray(t)?t.join(" "):t}const R7=Symbol.for("motionComponentSymbol");function kl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function k7(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):kl(n)&&(n.current=r))},[e])}const kb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D7="framerAppearId",FD="data-"+kb(D7),UD=m.createContext({});function j7(t,e,n,r,s){var y,T;const{visualElement:i}=m.useContext(Mg),o=m.useContext(OD),a=m.useContext(kg),l=m.useContext(jg).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=m.useContext(UD);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&M7(c.current,n,s,f);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[FD],v=m.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return Rg(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Ab.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1))}),d}function M7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&kl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function zD(t){if(t)return t.options.allowProjection!==!1?t.projection:zD(t.parent)}function O7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&_7(t);function i(a,l){let c;const d={...m.useContext(jg),...a,layoutId:L7(a)},{isStatic:f}=d,p=P7(a),g=r(a,f);if(!f&&ob){V7();const v=F7(d);c=v.MeasureLayout,p.visualElement=j7(s,g,d,e,v.ProjectionNode)}return u.jsxs(Mg.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,k7(g,p.visualElement,l),g,f,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=m.forwardRef(i);return o[R7]=s,o}function L7({layoutId:t}){const e=m.useContext(ib).id;return e&&t!==void 0?e+"-"+t:t}function V7(t,e){m.useContext(OD).strict}function F7(t){const{drag:e,layout:n}=wc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wd={};function U7(t){for(const e in t)Wd[e]=t[e],pb(e)&&(Wd[e].isCSSVariable=!0)}function BD(t,{layout:e,layoutId:n}){return $c.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wd[t]||t==="opacity")}const z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B7=Bc.length;function $7(t,e,n){let r="",s=!0;for(let i=0;i<B7;i++){const o=Bc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=PD(a,Cb[o]);if(!l){s=!1;const d=z7[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Db(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if($c.has(l)){o=!0;continue}else if(pb(l)){s[l]=c;continue}else{const d=PD(c,Cb[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=$7(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const jb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $D(t,e,n){for(const r in e)!kn(e[r])&&!BD(r,n)&&(t[r]=e[r])}function W7({transformTemplate:t},e){return m.useMemo(()=>{const n=jb();return Db(n,e,t),Object.assign({},n.vars,n.style)},[e])}function q7(t,e){const n=t.style||{},r={};return $D(r,n,t),Object.assign(r,W7(t,e)),r}function H7(t,e){const n={},r=q7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const G7={offset:"stroke-dashoffset",array:"stroke-dasharray"},K7={offset:"strokeDashoffset",array:"strokeDasharray"};function Q7(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?G7:K7;t[i.offset]=Me.transform(-r);const o=Me.transform(e),a=Me.transform(n);t[i.array]=`${o} ${a}`}function WD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Db(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&Q7(f,s,i,o,!1)}const qD=()=>({...jb(),attrs:{}}),HD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y7(t,e,n,r){const s=m.useMemo(()=>{const i=qD();return WD(i,e,HD(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};$D(i,t.style,t),s.style={...i,...s.style}}return s}const X7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mb(t){return typeof t!="string"||t.includes("-")?!1:!!(X7.indexOf(t)>-1||/[A-Z]/u.test(t))}function J7(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Mb(n)?Y7:H7)(r,i,o,n),c=A7(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:f}=r,p=m.useMemo(()=>kn(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function bC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ob(t,e,n,r){if(typeof e=="function"){const[s,i]=bC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=bC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function pp(t){return kn(t)?t.get():t}function Z7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:eq(n,r,s,t),renderState:e()}}const GD=t=>(e,n)=>{const r=m.useContext(Mg),s=m.useContext(kg),i=()=>Z7(t,e,r,s);return n?i():Uc(i)};function eq(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=pp(i[p]);let{initial:o,animate:a}=t;const l=Lg(t),c=VD(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Og(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=Ob(t,p[g]);if(v){const{transitionEnd:y,transition:T,...w}=v;for(const x in w){let E=w[x];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(s[x]=E)}for(const x in y)s[x]=y[x]}}}return s}function Lb(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(kn(r[o])||e.style&&kn(e.style[o])||BD(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const tq={useVisualState:GD({scrapeMotionValuesFromProps:Lb,createRenderState:jb})};function KD(t,e,n){const r=Lb(t,e,n);for(const s in t)if(kn(t[s])||kn(e[s])){const i=Bc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const nq={useVisualState:GD({scrapeMotionValuesFromProps:KD,createRenderState:qD})};function rq(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Mb(r)?nq:tq,preloadedFeatures:t,useRender:J7(s),createVisualElement:e,Component:r};return O7(o)}}function qd(t,e,n){const r=t.getProps();return Ob(r,e,n!==void 0?n:r.custom,t)}const R0=t=>Array.isArray(t);function sq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ts(n))}function iq(t){return R0(t)?t[t.length-1]||0:t}function oq(t,e){const n=qd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=iq(i[o]);sq(t,o,a)}}function aq(t){return!!(kn(t)&&t.add)}function k0(t,e){const n=t.getValue("willChange");if(aq(n))return n.add(e);if(!n&&fi.WillChange){const r=new fi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function QD(t){return t.props[FD]}const lq=t=>t!==null;function cq(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(lq),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const uq={type:"spring",stiffness:500,damping:25,restSpeed:10},dq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hq={type:"keyframes",duration:.8},fq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pq=(t,{keyframes:e})=>e.length>2?hq:$c.has(t)?t.startsWith("scale")?dq(e[1]):uq:fq;function mq({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Vb=(t,e,n,r={},s,i)=>o=>{const a=Sb(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ps(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};mq(a)||Object.assign(d,pq(t,d)),d.duration&&(d.duration=Ps(d.duration)),d.repeatDelay&&(d.repeatDelay=Ps(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(fi.instantAnimations||fi.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=cq(d.keyframes,a);if(p!==void 0){ut.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new Eb(d):new QW(d)};function gq({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&gq(c,d))continue;const g={delay:n,...Sb(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=QD(t);if(w){const x=window.MotionHandoffAnimation(w,d,ut);x!==null&&(g.startTime=x,y=!0)}}k0(t,d),f.start(Vb(d,f,p,t.shouldReduceMotion&&_D.has(d)?{type:!1}:g,t,y));const T=f.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{ut.update(()=>{o&&oq(t,o)})}),l}function D0(t,e,n={}){var l;const r=qd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return yq(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function yq(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(vq).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(D0(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vq(t,e){return t.sortNodePosition(e)}function wq(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>D0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=D0(t,e,n);else{const s=typeof e=="function"?qd(t,e,n.custom):e;r=Promise.all(YD(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function XD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const xq=Rb.length;function JD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xq;n++){const r=Rb[n],s=t.props[r];($d(s)||s===!1)&&(e[r]=s)}return e}const bq=[...Pb].reverse(),Tq=Pb.length;function Eq(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wq(t,n,r)))}function _q(t){let e=Eq(t),n=TC(),r=!0;const s=l=>(c,d)=>{var p;const f=qd(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:v,...y}=f;c={...c,...y,...v}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=JD(t.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let T=0;T<Tq;T++){const w=bq[T],x=n[w],E=c[w]!==void 0?c[w]:d[w],I=$d(E),P=w===l?x.isActive:null;P===!1&&(v=T);let j=E===d[w]&&E!==c[w]&&I;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...g},!x.isActive&&P===null||!E&&!x.prevProp||Og(E)||typeof E=="boolean")continue;const C=Sq(x.prevProp,E);let S=C||w===l&&x.isActive&&!j&&I||T>v&&I,A=!1;const N=Array.isArray(E)?E:[E];let k=N.reduce(s(w),{});P===!1&&(k={});const{prevResolvedValues:M={}}=x,D={...M,...k},z=ee=>{S=!0,p.has(ee)&&(A=!0,p.delete(ee)),x.needsAnimating[ee]=!0;const L=t.getValue(ee);L&&(L.liveStyle=!1)};for(const ee in D){const L=k[ee],V=M[ee];if(g.hasOwnProperty(ee))continue;let te=!1;R0(L)&&R0(V)?te=!XD(L,V):te=L!==V,te?L!=null?z(ee):p.add(ee):L!==void 0&&p.has(ee)?z(ee):x.protectedKeys[ee]=!0}x.prevProp=E,x.prevResolvedValues=k,x.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&C)||A)&&f.push(...N.map(ee=>({animation:ee,options:{type:w}})))}if(p.size){const T={};if(typeof c.initial!="boolean"){const w=qd(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(T.transition=w.transition)}p.forEach(w=>{const x=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),T[w]=x??null}),f.push({animation:T})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=TC(),r=!0}}}function Sq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XD(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TC(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class Oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Cq extends Oo{constructor(e){super(e),e.animationState||(e.animationState=_q(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Og(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Aq=0;class Iq extends Oo{constructor(){super(...arguments),this.id=Aq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Nq={animation:{Feature:Cq},exit:{Feature:Iq}};function Hd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function _h(t){return{point:{x:t.pageX,y:t.pageY}}}const Pq=t=>e=>Ib(e)&&t(e,_h(e));function id(t,e,n,r){return Hd(t,e,Pq(n),r)}function ZD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Rq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const ej=1e-4,Dq=1-ej,jq=1+ej,tj=.01,Mq=0-tj,Oq=0+tj;function Wn(t){return t.max-t.min}function Lq(t,e,n){return Math.abs(t-e)<=n}function EC(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Dq&&t.scale<=jq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Mq&&t.translate<=Oq||isNaN(t.translate))&&(t.translate=0)}function od(t,e,n,r){EC(t.x,e.x,n.x,r?r.originX:void 0),EC(t.y,e.y,n.y,r?r.originY:void 0)}function _C(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function Vq(t,e,n){_C(t.x,e.x,n.x),_C(t.y,e.y,n.y)}function SC(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function ad(t,e,n){SC(t.x,e.x,n.x),SC(t.y,e.y,n.y)}const CC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:CC(),y:CC()}),AC=()=>({min:0,max:0}),Vt=()=>({x:AC(),y:AC()});function Nr(t){return[t("x"),t("y")]}function Pv(t){return t===void 0||t===1}function j0({scale:t,scaleX:e,scaleY:n}){return!Pv(t)||!Pv(e)||!Pv(n)}function Jo(t){return j0(t)||nj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nj(t){return IC(t.x)||IC(t.y)}function IC(t){return t&&t!=="0%"}function Tm(t,e,n){const r=t-n,s=e*r;return n+s}function NC(t,e,n,r,s){return s!==void 0&&(t=Tm(t,s,r)),Tm(t,n,r)+e}function M0(t,e=0,n=1,r,s){t.min=NC(t.min,e,n,r,s),t.max=NC(t.max,e,n,r,s)}function rj(t,{x:e,y:n}){M0(t.x,e.translate,e.scale,e.originPoint),M0(t.y,n.translate,n.scale,n.originPoint)}const PC=.999999999999,RC=1.0000000000001;function Fq(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ml(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rj(t,o)),r&&Jo(i.latestValues)&&Ml(t,i.latestValues))}e.x<RC&&e.x>PC&&(e.x=1),e.y<RC&&e.y>PC&&(e.y=1)}function jl(t,e){t.min=t.min+e,t.max=t.max+e}function kC(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);M0(t,e,n,i,r)}function Ml(t,e){kC(t.x,e.x,e.scaleX,e.scale,e.originX),kC(t.y,e.y,e.scaleY,e.scale,e.originY)}function sj(t,e){return ZD(kq(t.getBoundingClientRect(),e))}function Uq(t,e,n){const r=sj(t,n),{scroll:s}=e;return s&&(jl(r.x,s.offset.x),jl(r.y,s.offset.y)),r}const ij=({current:t})=>t?t.ownerDocument.defaultView:null,DC=(t,e)=>Math.abs(t-e);function zq(t,e){const n=DC(t.x,e.x),r=DC(t.y,e.y);return Math.sqrt(n**2+r**2)}class oj{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=kv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=zq(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=f,{timestamp:y}=on;this.history.push({...v,timestamp:y});const{onStart:T,onMove:w}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Rv(p,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=kv(f.type==="pointercancel"?this.lastMoveEventInfo:Rv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,T),v&&v(f,T)},!Ib(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=_h(e),a=Rv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=on;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,kv(a,this.history)),this.removeListeners=bh(id(this.contextWindow,"pointermove",this.handlePointerMove),id(this.contextWindow,"pointerup",this.handlePointerUp),id(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function Rv(t,e){return e?{point:e(t.point)}:t}function jC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kv({point:t},e){return{point:t,delta:jC(t,aj(e)),offset:jC(t,Bq(e)),velocity:$q(e,.1)}}function Bq(t){return t[0]}function aj(t){return t[t.length-1]}function $q(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=aj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Rs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function MC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qq(t,{top:e,left:n,bottom:r,right:s}){return{x:MC(t.x,n,s),y:MC(t.y,e,r)}}function OC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Hq(t,e){return{x:OC(t.x,e.x),y:OC(t.y,e.y)}}function Gq(t,e){let n=.5;const r=Wn(t),s=Wn(e);return s>r?n=vc(e.min,e.max-r,t.min):r>s&&(n=vc(t.min,t.max-s,e.min)),Vs(0,1,n)}function Kq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const O0=.35;function Qq(t=O0){return t===!1?t=0:t===!0&&(t=O0),{x:LC(t,"left","right"),y:LC(t,"top","bottom")}}function LC(t,e,n){return{min:VC(t,e),max:VC(t,n)}}function VC(t,e){return typeof t=="number"?t:t[e]||0}const Yq=new WeakMap;class Xq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_h(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=u7(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(T=>{let w=this.getAxisMotionValue(T).get()||0;if(ks.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[T];E&&(w=Wn(E)*(parseFloat(w)/100))}}this.originPoint[T]=w}),v&&ut.postRender(()=>v(d,f)),k0(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(g&&this.currentDirection===null){this.currentDirection=Jq(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Nr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new oj(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ij(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ut.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!jf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Wq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&kl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qq(r.layoutBox,e):this.constraints=!1,this.elastic=Qq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!kl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Uq(r,s.root,this.visualElement.getTransformPagePoint());let o=Hq(s.layout.layoutBox,i);if(n){const a=n(Rq(o));this.hasMutatedConstraints=!!a,a&&(o=ZD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Nr(d=>{if(!jf(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return k0(this.visualElement,e),r.start(Vb(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nr(n=>{const{drag:r}=this.getProps();if(!jf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-_t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!kl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Gq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nr(o=>{if(!jf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(_t(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Yq.set(this.visualElement,this);const e=this.visualElement.current,n=id(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();kl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const o=Hd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=O0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function jf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Jq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Zq extends Oo{constructor(e){super(e),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new Xq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const FC=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class eH extends Oo{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(e){this.session=new oj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ij(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FC(e),onStart:FC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ut.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=id(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Me.test(t))t=parseFloat(t);else return t;const n=UC(t,e.target.x),r=UC(t,e.target.y);return`${n}% ${r}%`}},tH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const i=So.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=_t(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class nH extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;U7(rH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ut.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ab.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lj(t){const[e,n]=MD(),r=m.useContext(ib);return u.jsx(nH,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(UD),isPresent:e,safeToRemove:n})}const rH={borderRadius:{...wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wu,borderTopRightRadius:wu,borderBottomLeftRadius:wu,borderBottomRightRadius:wu,boxShadow:tH};function sH(t,e,n){const r=kn(t)?t:ts(t);return r.start(Vb("",r,e,n)),r.animation}const iH=(t,e)=>t.depth-e.depth;class oH{constructor(){this.children=[],this.isDirty=!1}add(e){ab(this.children,e),this.isDirty=!0}remove(e){lb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iH),this.isDirty=!1,this.children.forEach(e)}}function aH(t,e){const n=rr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(us(r),t(i-e))};return ut.setup(r,!0),()=>us(r)}const cj=["TopLeft","TopRight","BottomLeft","BottomRight"],lH=cj.length,zC=t=>typeof t=="string"?parseFloat(t):t,BC=t=>typeof t=="number"||Me.test(t);function cH(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,uH(r)),t.opacityExit=_t(e.opacity??1,0,dH(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let o=0;o<lH;o++){const a=`border${cj[o]}Radius`;let l=$C(e,a),c=$C(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||BC(l)===BC(c)?(t[a]=Math.max(_t(zC(l),zC(c),r),0),(ks.test(c)||ks.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function $C(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uH=uj(0,.5,Z2),dH=uj(.5,.95,ar);function uj(t,e,n){return r=>r<t?0:r>e?1:n(vc(t,e,r))}function WC(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){WC(t.x,e.x),WC(t.y,e.y)}function qC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HC(t,e,n,r,s){return t-=e,t=Tm(t,1/n,r),s!==void 0&&(t=Tm(t,1/s,r)),t}function hH(t,e=0,n=1,r=.5,s,i=t,o=t){if(ks.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_t(i.min,i.max,r);t===i&&(a-=e),t.min=HC(t.min,e,n,a,s),t.max=HC(t.max,e,n,a,s)}function GC(t,e,[n,r,s],i,o){hH(t,e[n],e[r],e[s],e.scale,i,o)}const fH=["x","scaleX","originX"],pH=["y","scaleY","originY"];function KC(t,e,n,r){GC(t.x,e,fH,n?n.x:void 0,r?r.x:void 0),GC(t.y,e,pH,n?n.y:void 0,r?r.y:void 0)}function QC(t){return t.translate===0&&t.scale===1}function dj(t){return QC(t.x)&&QC(t.y)}function YC(t,e){return t.min===e.min&&t.max===e.max}function mH(t,e){return YC(t.x,e.x)&&YC(t.y,e.y)}function XC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hj(t,e){return XC(t.x,e.x)&&XC(t.y,e.y)}function JC(t){return Wn(t.x)/Wn(t.y)}function ZC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gH{constructor(){this.members=[]}add(e){ab(this.members,e),e.scheduleRender()}remove(e){if(lb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Dv=["","X","Y","Z"],vH={visibility:"hidden"},wH=1e3;let xH=0;function jv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fj(r)}function pj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=xH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EH),this.nodes.forEach(IH),this.nodes.forEach(NH),this.nodes.forEach(_H)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ub),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Nb(o)&&!g7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=aH(f,250),mp.hasAnimatedSinceResize&&(mp.hasAnimatedSinceResize=!1,this.nodes.forEach(tA))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||jH,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=c.getProps(),w=!this.targetLayout||!hj(this.targetLayout,g),x=!f&&p;if(this.options.layoutRoot||this.resumeFrom||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Sb(v,"layout"),onPlay:y,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,x)}else f||tA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eA);return}this.isUpdating||this.nodes.forEach(CH),this.isUpdating=!1,this.nodes.forEach(AH),this.nodes.forEach(bH),this.nodes.forEach(TH),this.clearAllSnapshots();const a=rr.now();on.delta=Vs(0,1e3/60,a-on.timestamp),on.timestamp=a,on.isProcessing=!0,_v.update.process(on),_v.preRender.process(on),_v.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ab.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SH),this.sharedNodes.forEach(RH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dj(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Jo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),MH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Vt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(OH))){const{scroll:d}=this.root;d&&(jl(a.x,d.offset.x),jl(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Vt();if(Ir(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ir(a,o),jl(a.x,f.offset.x),jl(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Vt();Ir(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ml(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jo(d.latestValues)&&Ml(l,d.latestValues)}return Jo(this.latestValues)&&Ml(l,this.latestValues),l}removeTransform(o){const a=Vt();Ir(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Jo(c.latestValues))continue;j0(c.latestValues)&&c.updateSnapshot();const d=Vt(),f=c.measurePageBox();Ir(d,f),KC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Jo(this.latestValues)&&KC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ad(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),rj(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ad(this.relativeTargetOrigin,this.target,g.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||nj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===on.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ir(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Fq(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Vt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qC(this.prevProjectionDelta.x,this.projectionDelta.x),qC(this.prevProjectionDelta.y,this.projectionDelta.y)),od(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!ZC(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Vt(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,T=this.getStack(),w=!T||T.members.length<=1,x=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(DH));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const P=I/1e3;nA(f.x,o.x,P),nA(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ad(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kH(this.relativeTarget,this.relativeTargetOrigin,p,P),E&&mH(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Vt()),Ir(E,this.relativeTarget)),y&&(this.animationValues=d,cH(d,c,this.latestValues,P,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{mp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ts(0)),this.currentAnimation=sH(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&mj(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Vt();const f=Wn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Wn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ir(a,l),Ml(a,d),od(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gH),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&jv("z",o,c,this.animationValues);for(let d=0;d<Dv.length;d++)jv(`rotate${Dv[d]}`,o,c,this.animationValues),jv(`skew${Dv[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return vH;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=pp(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=pp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=yH(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Wd){if(d[g]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:T}=Wd[g],w=a.transform==="none"?d[g]:v(d[g],c);if(y){const x=y.length;for(let E=0;E<x;E++)a[y[E]]=w}else T?this.options.visualElement.renderState.vars[g]=w:a[g]=w}return this.options.layoutId&&(a.pointerEvents=c===this?pp(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(eA),this.root.sharedNodes.clear()}}}function bH(t){t.updateLayout()}function TH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Nr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=Wn(p);p.min=r[f].min,p.max=p.min+g}):mj(i,e.layoutBox,r)&&Nr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=Wn(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Dl();od(a,r,e.layoutBox);const l=Dl();o?od(l,t.applyTransform(s,!0),e.measuredBox):od(l,r,e.layoutBox);const c=!dj(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Vt();ad(v,e.layoutBox,p.layoutBox);const y=Vt();ad(y,r,g.layoutBox),hj(v,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _H(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SH(t){t.clearSnapshot()}function eA(t){t.clearMeasurements()}function CH(t){t.isLayoutDirty=!1}function AH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IH(t){t.resolveTargetDelta()}function NH(t){t.calcProjection()}function PH(t){t.resetSkewAndRotation()}function RH(t){t.removeLeadSnapshot()}function nA(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function rA(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function kH(t,e,n,r){rA(t.x,e.x,n.x,r),rA(t.y,e.y,n.y,r)}function DH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jH={duration:.45,ease:[.4,0,.1,1]},sA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),iA=sA("applewebkit/")&&!sA("chrome/")?Math.round:ar;function oA(t){t.min=iA(t.min),t.max=iA(t.max)}function MH(t){oA(t.x),oA(t.y)}function mj(t,e,n){return t==="position"||t==="preserve-aspect"&&!Lq(JC(e),JC(n),.2)}function OH(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const LH=pj({attachResizeListener:(t,e)=>Hd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},gj=pj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mv.current){const t=new LH({});t.mount(window),t.setOptions({layoutScroll:!0}),Mv.current=t}return Mv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VH={pan:{Feature:eH},drag:{Feature:Zq,ProjectionNode:gj,MeasureLayout:lj}};function aA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ut.postRender(()=>i(e,_h(e)))}class FH extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=d7(e,(n,r)=>(aA(this.node,r,"Start"),s=>aA(this.node,s,"End"))))}unmount(){}}class UH extends Oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bh(Hd(this.node.current,"focus",()=>this.onFocus()),Hd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ut.postRender(()=>i(e,_h(e)))}class zH extends Oo{mount(){const{current:e}=this.node;e&&(this.unmount=m7(e,(n,r)=>(lA(this.node,r,"Start"),(s,{success:i})=>lA(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const L0=new WeakMap,Ov=new WeakMap,BH=t=>{const e=L0.get(t.target);e&&e(t)},$H=t=>{t.forEach(BH)};function WH({root:t,...e}){const n=t||document;Ov.has(n)||Ov.set(n,{});const r=Ov.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver($H,{root:t,...e})),r[s]}function qH(t,e,n){const r=WH(e);return L0.set(t,n),r.observe(t),()=>{L0.delete(t),r.unobserve(t)}}const HH={some:0,all:1};class GH extends Oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:HH[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return qH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KH(e,n))&&this.startObserver()}unmount(){}}function KH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QH={inView:{Feature:GH},tap:{Feature:zH},focus:{Feature:UH},hover:{Feature:FH}},YH={layout:{ProjectionNode:gj,MeasureLayout:lj}},V0={current:null},yj={current:!1};function XH(){if(yj.current=!0,!!ob)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>V0.current=t.matches;t.addListener(e),e()}else V0.current=!1}const JH=new WeakMap;function ZH(t,e,n){for(const r in e){const s=e[r],i=n[r];if(kn(s))t.addValue(r,s);else if(kn(i))t.addValue(r,ts(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ts(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_b,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=rr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ut.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Lg(n),this.isVariantNode=VD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&kn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,JH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yj.current||XH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:V0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$c.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wc){const n=wc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cA.length;r++){const s=cA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ZH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ts(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(W2(r)||H2(r))?r=parseFloat(r):!w7(r)&&So.test(n)&&(r=ID(e,n)),this.setBaseTarget(e,kn(r)?r.get():r)),kn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Ob(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!kn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ub),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vj extends eG{constructor(){super(...arguments),this.KeyframeResolver=a7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function tG(t){return window.getComputedStyle(t)}class nG extends vj{constructor(){super(...arguments),this.type="html",this.renderInstance=wj}readValueFromInstance(e,n){var r;if($c.has(n))return(r=this.projection)!=null&&r.isProjecting?S0(n):AW(e,n);{const s=tG(e),i=(pb(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sj(e,n)}build(e,n,r){Db(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Lb(e,n,r)}}const xj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rG(t,e,n,r){wj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(xj.has(s)?s:kb(s),e.attrs[s])}class sG extends vj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($c.has(n)){const r=AD(n);return r&&r.default||0}return n=xj.has(n)?n:kb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KD(e,n,r)}build(e,n,r){WD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){rG(e,n,r,s)}mount(e){this.isSVGTag=HD(e.tagName),super.mount(e)}}const iG=(t,e)=>Mb(t)?new sG(e):new nG(e,{allowProjection:t!==m.Fragment}),oG=rq({...Nq,...QH,...VH,...YH},iG),Le=I7(oG),gp=new WeakMap;let Oi;function aG(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return Nb(t)&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function lG({target:t,contentRect:e,borderBoxSize:n}){var r;(r=gp.get(t))==null||r.forEach(s=>{s({target:t,contentSize:e,get size(){return aG(t,n)}})})}function cG(t){t.forEach(lG)}function uG(){typeof ResizeObserver>"u"||(Oi=new ResizeObserver(cG))}function dG(t,e){Oi||uG();const n=ND(t);return n.forEach(r=>{let s=gp.get(r);s||(s=new Set,gp.set(r,s)),s.add(e),Oi==null||Oi.observe(r)}),()=>{n.forEach(r=>{const s=gp.get(r);s==null||s.delete(e),s!=null&&s.size||Oi==null||Oi.unobserve(r)})}}const yp=new Set;let ld;function hG(){ld=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};yp.forEach(n=>n(e))},window.addEventListener("resize",ld)}function fG(t){return yp.add(t),ld||hG(),()=>{yp.delete(t),!yp.size&&ld&&(ld=void 0)}}function pG(t,e){return typeof t=="function"?fG(t):dG(t,e)}const mG=50,uA=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),gG=()=>({time:0,x:uA(),y:uA()}),yG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function dA(t,e,n,r){const s=n[e],{length:i,position:o}=yG[e],a=s.current,l=n.time;s.current=t[`scroll${o}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=vc(0,s.scrollLength,s.current);const c=r-l;s.velocity=c>mG?0:db(s.current-a,c)}function vG(t,e,n){dA(t,"x",e,n),dA(t,"y",e,n),e.time=n}function wG(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(Dg(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const F0={start:0,center:.5,end:1};function hA(t,e,n=0){let r=0;if(t in F0&&(t=F0[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const xG=[0,0];function bG(t,e,n,r){let s=Array.isArray(t)?t:xG,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,F0[t]?t:"0"]),i=hA(s[0],n,r),o=hA(s[1],e),i-o}const TG={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},EG={x:0,y:0};function _G(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function SG(t,e,n){const{offset:r=TG.All}=n,{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",a=s!==t?wG(s,t):EG,l=s===t?{width:t.scrollWidth,height:t.scrollHeight}:_G(s),c={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const f=r.length;for(let p=0;p<f;p++){const g=bG(r[p],c[o],l[o],a[i]);!d&&g!==e[i].interpolatorOffsets[p]&&(d=!0),e[i].offset[p]=g}d&&(e[i].interpolate=xb(e[i].offset,pD(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Vs(0,1,e[i].interpolate(e[i].current))}function CG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function AG(t,e,n,r={}){return{measure:s=>{CG(t,r.target,n),vG(t,n,s),(r.offset||r.target)&&SG(t,n,r)},notify:()=>e(n)}}const xu=new WeakMap,fA=new WeakMap,Lv=new WeakMap,pA=t=>t===document.scrollingElement?window:t;function bj(t,{container:e=document.scrollingElement,...n}={}){if(!e)return ar;let r=Lv.get(e);r||(r=new Set,Lv.set(e,r));const s=gG(),i=AG(e,t,s,n);if(r.add(i),!xu.has(e)){const a=()=>{for(const f of r)f.measure(on.timestamp);ut.preUpdate(l)},l=()=>{for(const f of r)f.notify()},c=()=>ut.read(a);xu.set(e,c);const d=pA(e);window.addEventListener("resize",c,{passive:!0}),e!==document.documentElement&&fA.set(e,pG(e,c)),d.addEventListener("scroll",c,{passive:!0}),c()}const o=xu.get(e);return ut.read(o,!1,!0),()=>{var c;us(o);const a=Lv.get(e);if(!a||(a.delete(i),a.size))return;const l=xu.get(e);xu.delete(e),l&&(pA(e).removeEventListener("scroll",l),(c=fA.get(e))==null||c(),window.removeEventListener("resize",l))}}const mA=new Map;function IG(t){const e={value:0},n=bj(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function Tj({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=mA.get(e)??new Map;mA.set(e,s);const i=n.target??"self",o=s.get(i)??{},a=r+(n.offset??[]).join(",");return o[a]||(o[a]=!n.target&&vD()?new ScrollTimeline({source:e,axis:r}):IG({container:e,...n})),o[a]}function NG(t,e){const n=Tj(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),jD(s=>{r.time=r.duration*s},n))})}function PG(t){return t.length===2}function RG(t,e){return PG(t)?bj(n=>{t(n[e.axis].progress,n)},e):jD(t,Tj(e))}function kG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return ar;const s={axis:e,container:n,...r};return typeof t=="function"?RG(t,s):NG(t,s)}function gA(t,e){A8(!!(!e||e.current))}const DG=()=>({scrollX:ts(0),scrollY:ts(0),scrollXProgress:ts(0),scrollYProgress:ts(0)});function jG({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=Uc(DG);return(n?Rg:m.useEffect)(()=>(gA("target",e),gA("container",t),kG((o,{x:a,y:l})=>{s.scrollX.set(a.current),s.scrollXProgress.set(a.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),s}function MG(t){const e=Uc(()=>ts(t)),{isStatic:n}=m.useContext(jg);if(n){const[,r]=m.useState(t);m.useEffect(()=>e.on("change",r),[])}return e}function Ej(t,e){const n=MG(e()),r=()=>n.set(e());return r(),Rg(()=>{const s=()=>ut.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),us(r)}}),n}function OG(t){sd.current=[],t();const e=Ej(sd.current,t);return sd.current=void 0,e}function yA(t,e,n,r){if(typeof t=="function")return OG(t);const s=typeof e=="function"?e:y7(e,n,r);return Array.isArray(t)?vA(t,s):vA([t],([i])=>s(i))}function vA(t,e){const n=Uc(()=>[]);return Ej(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const LG=()=>{};var U0={},wA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},VG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Sj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_j(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new FG;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UG=function(t){const e=_j(t);return Sj.encodeByteArray(e,!0)},Em=function(t){return UG(t).replace(/\./g,"")},Cj=function(t){try{return Sj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof U0<"u")return U0;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG=()=>zG().__FIREBASE_DEFAULTS__,$G=()=>{if(typeof process>"u"||typeof wA>"u")return;const t=wA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cj(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return LG()||BG()||$G()||WG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aj=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qG=t=>{const e=Aj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ij=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},Nj=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return t.endsWith(".cloudworkstations.dev")}async function Pj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Em(JSON.stringify(n)),Em(JSON.stringify(o)),""].join(".")}const cd={};function KG(){const t={prod:[],emulator:[]};for(const e of Object.keys(cd))cd[e]?t.emulator.push(e):t.prod.push(e);return t}function QG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xA=!1;function Rj(t,e){if(typeof window>"u"||typeof document>"u"||!Sh(window.location.host)||cd[t]===e||cd[t]||xA)return;cd[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=KG().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{xA=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=QG(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(T,y);const I=c();l(x,w),E.append(x,v,T,I),document.body.appendChild(E)}i?(v.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function XG(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(U0.process)==="[object process]"}catch{return!1}}function JG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eK(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tK(){return!XG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dj(){try{return typeof indexedDB=="object"}catch{return!1}}function jj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function nK(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rK="FirebaseError";class ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rK,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sK(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ps(s,a,r)}}function sK(t,e){return t.replace(iK,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iK=/\{\$([^}]+)}/g;function oK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bA(i)&&bA(o)){if(!Fs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aK(t,e){const n=new lK(t,e);return n.subscribe.bind(n)}class lK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cK(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vv),s.error===void 0&&(s.error=Vv),s.complete===void 0&&(s.complete=Vv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uK=1e3,dK=2,hK=4*60*60*1e3,fK=.5;function TA(t,e=uK,n=dK){const r=e*Math.pow(n,t),s=Math.round(fK*r*(Math.random()-.5)*2);return Math.min(hK,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gK(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mK(t){return t===Zo?void 0:t}function gK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const vK={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},wK=Ge.INFO,xK={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},bK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=wK,this._logHandler=bK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const TK=(t,e)=>e.some(n=>t instanceof n);let EA,_A;function EK(){return EA||(EA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _K(){return _A||(_A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mj=new WeakMap,z0=new WeakMap,Oj=new WeakMap,Fv=new WeakMap,Fb=new WeakMap;function SK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(uo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mj.set(n,t)}).catch(()=>{}),Fb.set(e,t),e}function CK(t){if(z0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});z0.set(t,e)}let B0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Oj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AK(t){B0=t(B0)}function IK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uv(this),e,...n);return Oj.set(r,e.sort?e.sort():[e]),uo(r)}:_K().includes(t)?function(...e){return t.apply(Uv(this),e),uo(Mj.get(this))}:function(...e){return uo(t.apply(Uv(this),e))}}function NK(t){return typeof t=="function"?IK(t):(t instanceof IDBTransaction&&CK(t),TK(t,EK())?new Proxy(t,B0):t)}function uo(t){if(t instanceof IDBRequest)return SK(t);if(Fv.has(t))return Fv.get(t);const e=NK(t);return e!==t&&(Fv.set(t,e),Fb.set(e,t)),e}const Uv=t=>Fb.get(t);function Lj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uo(o.result),l.oldVersion,l.newVersion,uo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const PK=["get","getKey","getAll","getAllKeys","count"],RK=["put","add","delete","clear"],zv=new Map;function SA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=RK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zv.set(e,i),i}AK(t=>({...t,get:(e,n,r)=>SA(e,n)||t.get(e,n,r),has:(e,n)=>!!SA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $0="@firebase/app",CA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Fg("@firebase/app"),jK="@firebase/app-compat",MK="@firebase/analytics-compat",OK="@firebase/analytics",LK="@firebase/app-check-compat",VK="@firebase/app-check",FK="@firebase/auth",UK="@firebase/auth-compat",zK="@firebase/database",BK="@firebase/data-connect",$K="@firebase/database-compat",WK="@firebase/functions",qK="@firebase/functions-compat",HK="@firebase/installations",GK="@firebase/installations-compat",KK="@firebase/messaging",QK="@firebase/messaging-compat",YK="@firebase/performance",XK="@firebase/performance-compat",JK="@firebase/remote-config",ZK="@firebase/remote-config-compat",eQ="@firebase/storage",tQ="@firebase/storage-compat",nQ="@firebase/firestore",rQ="@firebase/ai",sQ="@firebase/firestore-compat",iQ="firebase",oQ="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="[DEFAULT]",aQ={[$0]:"fire-core",[jK]:"fire-core-compat",[OK]:"fire-analytics",[MK]:"fire-analytics-compat",[VK]:"fire-app-check",[LK]:"fire-app-check-compat",[FK]:"fire-auth",[UK]:"fire-auth-compat",[zK]:"fire-rtdb",[BK]:"fire-data-connect",[$K]:"fire-rtdb-compat",[WK]:"fire-fn",[qK]:"fire-fn-compat",[HK]:"fire-iid",[GK]:"fire-iid-compat",[KK]:"fire-fcm",[QK]:"fire-fcm-compat",[YK]:"fire-perf",[XK]:"fire-perf-compat",[JK]:"fire-rc",[ZK]:"fire-rc-compat",[eQ]:"fire-gcs",[tQ]:"fire-gcs-compat",[nQ]:"fire-fst",[sQ]:"fire-fst-compat",[rQ]:"fire-vertex","fire-js":"fire-js",[iQ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,lQ=new Map,q0=new Map;function AA(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(q0.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;q0.set(e,t);for(const n of _m.values())AA(n,t);for(const n of lQ.values())AA(n,t);return!0}function Ha(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new qa("app","Firebase",cQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=oQ;function Vj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:W0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=Ij()),!n)throw ho.create("no-options");const i=_m.get(s);if(i){if(Fs(n,i.options)&&Fs(r,i.config))return i;throw ho.create("duplicate-app",{appName:s})}const o=new yK(s);for(const l of q0.values())o.addComponent(l);const a=new uQ(n,r,o);return _m.set(s,a),a}function Ub(t=W0){const e=_m.get(t);if(!e&&t===W0&&Ij())return Vj();if(!e)throw ho.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let s=(r=aQ[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}Us(new ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ="firebase-heartbeat-database",hQ=1,Gd="firebase-heartbeat-store";let Bv=null;function Fj(){return Bv||(Bv=Lj(dQ,hQ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),Bv}async function fQ(t){try{const n=(await Fj()).transaction(Gd),r=await n.objectStore(Gd).get(Uj(t));return await n.done,r}catch(e){if(e instanceof ps)pi.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function IA(t,e){try{const r=(await Fj()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,Uj(t)),await r.done}catch(n){if(n instanceof ps)pi.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function Uj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=1024,mQ=30;class gQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>mQ){const o=wQ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NA(),{heartbeatsToSend:r,unsentEntries:s}=yQ(this._heartbeatsCache.heartbeats),i=Em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pi.warn(n),""}}}function NA(){return new Date().toISOString().substring(0,10)}function yQ(t,e=pQ){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),PA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),PA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dj()?jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fQ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return IA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return IA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function PA(t){return Em(JSON.stringify({version:2,heartbeats:t})).length}function wQ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){Us(new ds("platform-logger",e=>new kK(e),"PRIVATE")),Us(new ds("heartbeat",e=>new gQ(e),"PRIVATE")),Lr($0,CA,t),Lr($0,CA,"esm2017"),Lr("fire-js","")}xQ("");var RA={},kA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof RA<"u"?RA:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,zj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function A(){}A.prototype=S.prototype,C.D=S.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(N,k,M){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return S.prototype[k].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,A){A||(A=0);var N=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)N[k]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(k=0;16>k;++k)N[k]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=C.g[0],A=C.g[1],k=C.g[2];var M=C.g[3],D=S+(M^A&(k^M))+N[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=M+(k^S&(A^k))+N[1]+3905402710&4294967295,M=S+(D<<12&4294967295|D>>>20),D=k+(A^M&(S^A))+N[2]+606105819&4294967295,k=M+(D<<17&4294967295|D>>>15),D=A+(S^k&(M^S))+N[3]+3250441966&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(M^A&(k^M))+N[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=M+(k^S&(A^k))+N[5]+1200080426&4294967295,M=S+(D<<12&4294967295|D>>>20),D=k+(A^M&(S^A))+N[6]+2821735955&4294967295,k=M+(D<<17&4294967295|D>>>15),D=A+(S^k&(M^S))+N[7]+4249261313&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(M^A&(k^M))+N[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=M+(k^S&(A^k))+N[9]+2336552879&4294967295,M=S+(D<<12&4294967295|D>>>20),D=k+(A^M&(S^A))+N[10]+4294925233&4294967295,k=M+(D<<17&4294967295|D>>>15),D=A+(S^k&(M^S))+N[11]+2304563134&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(M^A&(k^M))+N[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=M+(k^S&(A^k))+N[13]+4254626195&4294967295,M=S+(D<<12&4294967295|D>>>20),D=k+(A^M&(S^A))+N[14]+2792965006&4294967295,k=M+(D<<17&4294967295|D>>>15),D=A+(S^k&(M^S))+N[15]+1236535329&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(k^M&(A^k))+N[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=M+(A^k&(S^A))+N[6]+3225465664&4294967295,M=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(M^S))+N[11]+643717713&4294967295,k=M+(D<<14&4294967295|D>>>18),D=A+(M^S&(k^M))+N[0]+3921069994&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^M&(A^k))+N[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=M+(A^k&(S^A))+N[10]+38016083&4294967295,M=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(M^S))+N[15]+3634488961&4294967295,k=M+(D<<14&4294967295|D>>>18),D=A+(M^S&(k^M))+N[4]+3889429448&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^M&(A^k))+N[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=M+(A^k&(S^A))+N[14]+3275163606&4294967295,M=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(M^S))+N[3]+4107603335&4294967295,k=M+(D<<14&4294967295|D>>>18),D=A+(M^S&(k^M))+N[8]+1163531501&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^M&(A^k))+N[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=M+(A^k&(S^A))+N[2]+4243563512&4294967295,M=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(M^S))+N[7]+1735328473&4294967295,k=M+(D<<14&4294967295|D>>>18),D=A+(M^S&(k^M))+N[12]+2368359562&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(A^k^M)+N[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=M+(S^A^k)+N[8]+2272392833&4294967295,M=S+(D<<11&4294967295|D>>>21),D=k+(M^S^A)+N[11]+1839030562&4294967295,k=M+(D<<16&4294967295|D>>>16),D=A+(k^M^S)+N[14]+4259657740&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^M)+N[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=M+(S^A^k)+N[4]+1272893353&4294967295,M=S+(D<<11&4294967295|D>>>21),D=k+(M^S^A)+N[7]+4139469664&4294967295,k=M+(D<<16&4294967295|D>>>16),D=A+(k^M^S)+N[10]+3200236656&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^M)+N[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=M+(S^A^k)+N[0]+3936430074&4294967295,M=S+(D<<11&4294967295|D>>>21),D=k+(M^S^A)+N[3]+3572445317&4294967295,k=M+(D<<16&4294967295|D>>>16),D=A+(k^M^S)+N[6]+76029189&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^M)+N[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=M+(S^A^k)+N[12]+3873151461&4294967295,M=S+(D<<11&4294967295|D>>>21),D=k+(M^S^A)+N[15]+530742520&4294967295,k=M+(D<<16&4294967295|D>>>16),D=A+(k^M^S)+N[2]+3299628645&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(k^(A|~M))+N[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=M+(A^(S|~k))+N[7]+1126891415&4294967295,M=S+(D<<10&4294967295|D>>>22),D=k+(S^(M|~A))+N[14]+2878612391&4294967295,k=M+(D<<15&4294967295|D>>>17),D=A+(M^(k|~S))+N[5]+4237533241&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~M))+N[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=M+(A^(S|~k))+N[3]+2399980690&4294967295,M=S+(D<<10&4294967295|D>>>22),D=k+(S^(M|~A))+N[10]+4293915773&4294967295,k=M+(D<<15&4294967295|D>>>17),D=A+(M^(k|~S))+N[1]+2240044497&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~M))+N[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=M+(A^(S|~k))+N[15]+4264355552&4294967295,M=S+(D<<10&4294967295|D>>>22),D=k+(S^(M|~A))+N[6]+2734768916&4294967295,k=M+(D<<15&4294967295|D>>>17),D=A+(M^(k|~S))+N[13]+1309151649&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~M))+N[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=M+(A^(S|~k))+N[11]+3174756917&4294967295,M=S+(D<<10&4294967295|D>>>22),D=k+(S^(M|~A))+N[2]+718787259&4294967295,k=M+(D<<15&4294967295|D>>>17),D=A+(M^(k|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var A=S-this.blockSize,N=this.B,k=this.h,M=0;M<S;){if(k==0)for(;M<=A;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(N[k++]=C.charCodeAt(M++),k==this.blockSize){s(this,N),k=0;break}}else for(;M<S;)if(N[k++]=C[M++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var A=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=A&255,A/=256;for(this.u(C),C=Array(16),S=A=0;4>S;++S)for(var N=0;32>N;N+=8)C[A++]=this.g[S]>>>N&255;return C};function i(C,S){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=S(C)}function o(C,S){this.h=S;for(var A=[],N=!0,k=C.length-1;0<=k;k--){var M=C[k]|0;N&&M==S||(A[k]=M,N=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(c(-C));for(var S=[],A=1,N=0;C>=A;N++)S[N]=C/A|0,A*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return T(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),N=f,k=0;k<C.length;k+=8){var M=Math.min(8,C.length-k),D=parseInt(C.substring(k,k+M),S);8>M?(M=c(Math.pow(S,M)),N=N.j(M).add(c(D))):(N=N.j(A),N=N.add(c(D)))}return N}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var C=0,S=1,A=0;A<this.g.length;A++){var N=this.i(A);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(y(this))return"-"+T(this).toString(C);for(var S=c(Math.pow(C,6)),A=this,N="";;){var k=I(A,S).g;A=w(A,k.j(S));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=k,v(A))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=w(this,C),y(C)?-1:v(C)?0:1};function T(C){for(var S=C.g.length,A=[],N=0;N<S;N++)A[N]=~C.g[N];return new o(A,~C.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0,k=0;k<=S;k++){var M=N+(this.i(k)&65535)+(C.i(k)&65535),D=(M>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);N=D>>>16,M&=65535,D&=65535,A[k]=D<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(T(S))}t.j=function(C){if(v(this)||v(C))return f;if(y(this))return y(C)?T(this).j(T(C)):T(T(this).j(C));if(y(C))return T(this.j(T(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,A=[],N=0;N<2*S;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<C.g.length;k++){var M=this.i(N)>>>16,D=this.i(N)&65535,z=C.i(k)>>>16,ae=C.i(k)&65535;A[2*N+2*k]+=D*ae,x(A,2*N+2*k),A[2*N+2*k+1]+=M*ae,x(A,2*N+2*k+1),A[2*N+2*k+1]+=D*z,x(A,2*N+2*k+1),A[2*N+2*k+2]+=M*z,x(A,2*N+2*k+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new o(A,0)};function x(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function I(C,S){if(v(S))throw Error("division by zero");if(v(C))return new E(f,f);if(y(C))return S=I(T(C),S),new E(T(S.g),T(S.h));if(y(S))return S=I(C,T(S)),new E(T(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var A=p,N=S;0>=N.l(C);)A=P(A),N=P(N);var k=j(A,1),M=j(N,1);for(N=j(N,2),A=j(A,2);!v(N);){var D=M.add(N);0>=D.l(C)&&(k=k.add(A),M=D),N=j(N,1),A=j(A,1)}return S=w(C,k.j(S)),new E(k,S)}for(k=f;0<=C.l(S);){for(A=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=c(A),D=M.j(S);y(D)||0<D.l(C);)A-=N,M=c(A),D=M.j(S);v(M)&&(M=p),k=k.add(M),C=w(C,D)}return new E(k,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)&C.i(N);return new o(A,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)|C.i(N);return new o(A,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)^C.i(N);return new o(A,this.h^C.h)};function P(C){for(var S=C.g.length+1,A=[],N=0;N<S;N++)A[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(A,C.h)}function j(C,S){var A=S>>5;S%=32;for(var N=C.g.length-A,k=[],M=0;M<N;M++)k[M]=0<S?C.i(M+A)>>>S|C.i(M+A+1)<<32-S:C.i(M+A);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,fo=o}).apply(typeof kA<"u"?kA:typeof self<"u"?self:typeof window<"u"?window:{});var DA={},Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof DA<"u"?DA:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bj,ku,$j,vp,H0,Wj,qj,Hj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,b,_){return h==Array.prototype||h==Object.prototype||(h[b]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var b=0;b<h.length;++b){var _=h[b];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(h,b){if(b)e:{var _=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in _))break e;_=_[F]}h=h[h.length-1],R=_[h],b=b(R),b!=R&&b!=null&&e(_,h,{configurable:!0,writable:!0,value:b})}}function i(h,b){h instanceof String&&(h+="");var _=0,R=!1,F={next:function(){if(!R&&_<h.length){var U=_++;return{value:b(U,h[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(h){return h||function(){return i(this,function(b,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var b=typeof h;return b=b!="object"?b:h?Array.isArray(h)?"array":b:"null",b=="array"||b=="object"&&typeof h.length=="number"}function c(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function d(h,b,_){return h.call.apply(h.bind,arguments)}function f(h,b,_){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),h.apply(b,F)}}return function(){return h.apply(b,arguments)}}function p(h,b,_){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(h,b){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function v(h,b){function _(){}_.prototype=b.prototype,h.aa=b.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(R,F,U){for(var le=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)le[dt-2]=arguments[dt];return b.prototype[F].apply(R,le)}}function y(h){const b=h.length;if(0<b){const _=Array(b);for(let R=0;R<b;R++)_[R]=h[R];return _}return[]}function T(h,b){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(l(R)){const F=h.length||0,U=R.length||0;h.length=F+U;for(let le=0;le<U;le++)h[F+le]=R[le]}else h.push(R)}}class w{constructor(b,_){this.i=b,this.j=_,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function x(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var P=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(h,b,_){for(const R in h)b.call(_,h[R],R,h)}function C(h,b){for(const _ in h)b.call(void 0,h[_],_,h)}function S(h){const b={};for(const _ in h)b[_]=h[_];return b}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,b){let _,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(_ in R)h[_]=R[_];for(let U=0;U<A.length;U++)_=A[U],Object.prototype.hasOwnProperty.call(R,_)&&(h[_]=R[_])}}function k(h){var b=1;h=h.split(":");const _=[];for(;0<b&&h.length;)_.push(h.shift()),b--;return h.length&&_.push(h.join(":")),_}function M(h){a.setTimeout(()=>{throw h},0)}function D(){var h=V;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class z{constructor(){this.h=this.g=null}add(b,_){const R=ae.get();R.set(b,_),this.h?this.h.next=R:this.g=R,this.h=R}}var ae=new w(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(b,_){this.h=b,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,L=!1,V=new z,te=()=>{const h=a.Promise.resolve(void 0);ee=()=>{h.then(G)}};var G=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){M(_)}var b=ae;b.j(h),100>b.h&&(b.h++,h.next=b.g,b.g=h)}L=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};a.addEventListener("test",_,b),a.removeEventListener("test",_,b)}catch{}return h}();function Ie(h,b){if(W.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget){if(P){e:{try{I(b.nodeName);var F=!0;break e}catch{}F=!1}F||(b=null)}}else _=="mouseover"?b=h.fromElement:_=="mouseout"&&(b=h.toElement);this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ue[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}v(Ie,W);var ue={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Te(h,b,_,R,F){this.listener=h,this.proxy=null,this.src=b,this.type=_,this.capture=!!R,this.ha=F,this.key=++ve,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,b,_,R,F){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var le=Se(h,b,R,F);return-1<le?(b=h[le],_||(b.fa=!1)):(b=new Te(b,this.src,U,!!R,F),b.fa=_,h.push(b)),b};function Q(h,b){var _=b.type;if(_ in h.g){var R=h.g[_],F=Array.prototype.indexOf.call(R,b,void 0),U;(U=0<=F)&&Array.prototype.splice.call(R,F,1),U&&(ge(b),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Se(h,b,_,R){for(var F=0;F<h.length;++F){var U=h[F];if(!U.da&&U.listener==b&&U.capture==!!_&&U.ha==R)return F}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),Fe={};function O(h,b,_,R,F){if(Array.isArray(b)){for(var U=0;U<b.length;U++)O(h,b[U],_,R,F);return null}return _=Lt(_),h&&h[re]?h.K(b,_,c(R)?!!R.capture:!!R,F):$(h,b,_,!1,R,F)}function $(h,b,_,R,F,U){if(!b)throw Error("Invalid event type");var le=c(F)?!!F.capture:!!F,dt=Ze(h);if(dt||(h[xe]=dt=new he(h)),_=dt.add(b,_,R,le,U),_.proxy)return _;if(R=ie(),_.proxy=R,R.src=h,R.listener=_,h.addEventListener)Ee||(F=le),F===void 0&&(F=!1),h.addEventListener(b.toString(),R,F);else if(h.attachEvent)h.attachEvent(we(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ie(){function h(_){return b.call(h.src,h.listener,_)}const b=pt;return h}function Z(h,b,_,R,F){if(Array.isArray(b))for(var U=0;U<b.length;U++)Z(h,b[U],_,R,F);else R=c(R)?!!R.capture:!!R,_=Lt(_),h&&h[re]?(h=h.i,b=String(b).toString(),b in h.g&&(U=h.g[b],_=Se(U,_,R,F),-1<_&&(ge(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete h.g[b],h.h--)))):h&&(h=Ze(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Se(b,_,R,F)),(_=-1<h?b[h]:null)&&Pe(_))}function Pe(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[re])Q(b.i,h);else{var _=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(_,R,h.capture):b.detachEvent?b.detachEvent(we(_),R):b.addListener&&b.removeListener&&b.removeListener(R),(_=Ze(b))?(Q(_,h),_.h==0&&(_.src=null,b[xe]=null)):ge(h)}}}function we(h){return h in Fe?Fe[h]:Fe[h]="on"+h}function pt(h,b){if(h.da)h=!0;else{b=new Ie(b,this);var _=h.listener,R=h.ha||h.src;h.fa&&Pe(h),h=_.call(R,b)}return h}function Ze(h){return h=h[xe],h instanceof he?h:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(h){return typeof h=="function"?h:(h[nn]||(h[nn]=function(b){return h.handleEvent(b)}),h[nn])}function st(){ne.call(this),this.i=new he(this),this.M=this,this.F=null}v(st,ne),st.prototype[re]=!0,st.prototype.removeEventListener=function(h,b,_,R){Z(this,h,b,_,R)};function He(h,b){var _,R=h.F;if(R)for(_=[];R;R=R.F)_.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new W(b,h);else if(b instanceof W)b.target=b.target||h;else{var F=b;b=new W(R,h),N(b,F)}if(F=!0,_)for(var U=_.length-1;0<=U;U--){var le=b.g=_[U];F=Y(le,R,!0,b)&&F}if(le=b.g=h,F=Y(le,R,!0,b)&&F,F=Y(le,R,!1,b)&&F,_)for(U=0;U<_.length;U++)le=b.g=_[U],F=Y(le,R,!1,b)&&F}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var h=this.i,b;for(b in h.g){for(var _=h.g[b],R=0;R<_.length;R++)ge(_[R]);delete h.g[b],h.h--}}this.F=null},st.prototype.K=function(h,b,_,R){return this.i.add(String(h),b,!1,_,R)},st.prototype.L=function(h,b,_,R){return this.i.add(String(h),b,!0,_,R)};function Y(h,b,_,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();for(var F=!0,U=0;U<b.length;++U){var le=b[U];if(le&&!le.da&&le.capture==_){var dt=le.listener,hn=le.ha||le.src;le.fa&&Q(h.i,le),F=dt.call(hn,R)!==!1&&F}}return F&&!R.defaultPrevented}function ke(h,b,_){if(typeof h=="function")_&&(h=p(h,_));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(h,b||0)}function Re(h){h.g=ke(()=>{h.g=null,h.i&&(h.i=!1,Re(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Yt extends ne{constructor(b,_){super(),this.m=b,this.l=_,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(h){ne.call(this),this.h=h,this.g={}}v(Pt,ne);var Wt=[];function it(h){j(h.g,function(b,_){this.g.hasOwnProperty(_)&&Pe(b)},h),h.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),it(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=a.JSON.stringify,On=a.JSON.parse,el=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ae(){}Ae.prototype.h=null;function tt(h){return h.h||(h.h=h.i())}function Qe(){}var qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rn(){W.call(this,"d")}v(rn,W);function dr(){W.call(this,"c")}v(dr,W);var hr={},Bo=null;function tl(){return Bo=Bo||new st}hr.La="serverreachability";function Hh(h){W.call(this,hr.La,h)}v(Hh,W);function $o(h){const b=tl();He(b,new Hh(b))}hr.STAT_EVENT="statevent";function Gh(h,b){W.call(this,hr.STAT_EVENT,h),this.stat=b}v(Gh,W);function sn(h){const b=tl();He(b,new Gh(b,h))}hr.Ma="timingevent";function Zc(h,b){W.call(this,hr.Ma,h),this.size=b}v(Zc,W);function Wo(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},b)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function Py(h,b,_,R,F,U){h.info(function(){if(h.g)if(U)for(var le="",dt=U.split("&"),hn=0;hn<dt.length;hn++){var et=dt[hn].split("=");if(1<et.length){var bn=et[0];et=et[1];var Tn=bn.split("_");le=2<=Tn.length&&Tn[1]=="type"?le+(bn+"="+et+"&"):le+(bn+"=redacted&")}}else le=null;else le=U;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+b+`
`+_+`
`+le})}function Ry(h,b,_,R,F,U,le){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+b+`
`+_+`
`+U+" "+le})}function $s(h,b,_,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Dy(h,_)+(R?" "+R:"")})}function ky(h,b){h.info(function(){return"TIMEOUT: "+b})}qo.prototype.info=function(){};function Dy(h,b){if(!h.g)return b;if(!b)return null;try{var _=JSON.parse(b);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var R=_[h];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return ur(_)}catch{return b}}var nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eu;function rl(){}v(rl,Ae),rl.prototype.g=function(){return new XMLHttpRequest},rl.prototype.i=function(){return{}},eu=new rl;function $r(h,b,_,R){this.j=h,this.i=b,this.l=_,this.R=R||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new B}function B(){this.i=null,this.g="",this.h=!1}var X={},_e={};function Ne(h,b,_){h.L=1,h.v=Xh(qs(b)),h.m=_,h.P=!0,Xt(h,null)}function Xt(h,b){h.F=Date.now(),ot(h),h.A=qs(h.v);var _=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),RE(_.i,"t",R),h.C=0,_=h.j.J,h.h=new B,h.g=QE(h.j,_?b:null,!h.m),0<h.O&&(h.M=new Yt(p(h.Y,h,h.g),h.O)),b=h.U,_=h.g,R=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Wt[0]=F.toString()),F=Wt);for(var U=0;U<F.length;U++){var le=O(_,F[U],R||b.handleEvent,!1,b.h||b);if(!le)break;b.g[le.key]=le}b=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,b)):(h.u="GET",h.g.ea(h.A,h.u,null,b)),$o(),Py(h.i,h.u,h.A,h.l,h.R,h.m)}$r.prototype.ca=function(h){h=h.target;const b=this.M;b&&Hs(h)==3?b.j():this.Y(h)},$r.prototype.Y=function(h){try{if(h==this.g)e:{const Tn=Hs(this.g);var b=this.g.Ba();const ol=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||VE(this.g)))){this.J||Tn!=4||b==7||(b==8||0>=ol?$o(3):$o(2)),Ws(this);var _=this.g.Z();this.X=_;t:if(fr(this)){var R=VE(this.g);h="";var F=R.length,U=Hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ho(this),tu(this);var le="";break t}this.h.i=new a.TextDecoder}for(b=0;b<F;b++)this.h.h=!0,h+=this.h.i.decode(R[b],{stream:!(U&&b==F-1)});R.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Ry(this.i,this.u,this.A,this.l,this.R,Tn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,hn=this.g;if((dt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(dt)){var et=dt;break t}}et=null}if(_=et)$s(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jy(this,_);else{this.o=!1,this.s=3,sn(12),Ho(this),tu(this);break e}}if(this.P){_=!0;let Wr;for(;!this.J&&this.C<le.length;)if(Wr=ct(this,le),Wr==_e){Tn==4&&(this.s=4,sn(14),_=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(Wr==X){this.s=4,sn(15),$s(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else $s(this.i,this.l,Wr,null),jy(this,Wr);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||le.length!=0||this.h.h||(this.s=1,sn(16),_=!1),this.o=this.o&&_,!_)$s(this.i,this.l,le,"[Invalid Chunked Response]"),Ho(this),tu(this);else if(0<le.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Uy(bn),bn.M=!0,sn(11))}}else $s(this.i,this.l,le,null),jy(this,le);Tn==4&&Ho(this),this.o&&!this.J&&(Tn==4?qE(this.j,this):(this.o=!1,ot(this)))}else E5(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Ho(this),tu(this)}}}catch{}finally{}};function fr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ct(h,b){var _=h.C,R=b.indexOf(`
`,_);return R==-1?_e:(_=Number(b.substring(_,R)),isNaN(_)?X:(R+=1,R+_>b.length?_e:(b=b.slice(R,R+_),h.C=R+_,b)))}$r.prototype.cancel=function(){this.J=!0,Ho(this)};function ot(h){h.S=Date.now()+h.I,Qn(h,h.I)}function Qn(h,b){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wo(p(h.ba,h),b)}function Ws(h){h.B&&(a.clearTimeout(h.B),h.B=null)}$r.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ky(this.i,this.A),this.L!=2&&($o(),sn(17)),Ho(this),this.s=2,tu(this)):Qn(this,this.S-h)};function tu(h){h.j.G==0||h.J||qE(h.j,h)}function Ho(h){Ws(h);var b=h.M;b&&typeof b.ma=="function"&&b.ma(),h.M=null,it(h.U),h.g&&(b=h.g,h.g=null,b.abort(),b.ma())}function jy(h,b){try{var _=h.j;if(_.G!=0&&(_.g==h||My(_.h,h))){if(!h.K&&My(_.h,h)&&_.G==3){try{var R=_.Da.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)rf(_),tf(_);else break e;Fy(_),sn(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Wo(p(_.Za,_),6e3));if(1>=TE(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ko(_,11)}else if((h.K||_.g==h)&&rf(_),!x(b))for(F=_.Da.g.parse(b),b=0;b<F.length;b++){let et=F[b];if(_.T=et[0],et=et[1],_.G==2)if(et[0]=="c"){_.K=et[1],_.ia=et[2];const bn=et[3];bn!=null&&(_.la=bn,_.j.info("VER="+_.la));const Tn=et[4];Tn!=null&&(_.Aa=Tn,_.j.info("SVER="+_.Aa));const ol=et[5];ol!=null&&typeof ol=="number"&&0<ol&&(R=1.5*ol,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Wr=h.g;if(Wr){const of=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(of){var U=R.h;U.g||of.indexOf("spdy")==-1&&of.indexOf("quic")==-1&&of.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Oy(U,U.h),U.h=null))}if(R.D){const zy=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;zy&&(R.ya=zy,mt(R.I,R.D,zy))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var le=h;if(R.qa=KE(R,R.J?R.ia:null,R.W),le.K){EE(R.h,le);var dt=le,hn=R.L;hn&&(dt.I=hn),dt.B&&(Ws(dt),ot(dt)),R.g=le}else $E(R);0<_.i.length&&nf(_)}else et[0]!="stop"&&et[0]!="close"||Ko(_,7);else _.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Ko(_,7):Vy(_):et[0]!="noop"&&_.l&&_.l.ta(et),_.v=0)}}$o(4)}catch{}}var a5=class{constructor(h,b){this.g=h,this.map=b}};function xE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function TE(h){return h.h?1:h.g?h.g.size:0}function My(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Oy(h,b){h.g?h.g.add(b):h.h=b}function EE(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}xE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _E(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const _ of h.g.values())b=b.concat(_.D);return b}return y(h.i)}function l5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var b=[],_=h.length,R=0;R<_;R++)b.push(h[R]);return b}b=[],_=0;for(R in h)b[_++]=h[R];return b}function c5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var b=[];h=h.length;for(var _=0;_<h;_++)b.push(_);return b}b=[],_=0;for(const R in h)b[_++]=R;return b}}}function SE(h,b){if(h.forEach&&typeof h.forEach=="function")h.forEach(b,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,b,void 0);else for(var _=c5(h),R=l5(h),F=R.length,U=0;U<F;U++)b.call(void 0,R[U],_&&_[U],h)}var CE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u5(h,b){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var R=h[_].indexOf("="),F=null;if(0<=R){var U=h[_].substring(0,R);F=h[_].substring(R+1)}else U=h[_];b(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Go(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Go){this.h=h.h,Qh(this,h.j),this.o=h.o,this.g=h.g,Yh(this,h.s),this.l=h.l;var b=h.i,_=new su;_.i=b.i,b.g&&(_.g=new Map(b.g),_.h=b.h),AE(this,_),this.m=h.m}else h&&(b=String(h).match(CE))?(this.h=!1,Qh(this,b[1]||"",!0),this.o=nu(b[2]||""),this.g=nu(b[3]||"",!0),Yh(this,b[4]),this.l=nu(b[5]||"",!0),AE(this,b[6]||"",!0),this.m=nu(b[7]||"")):(this.h=!1,this.i=new su(null,this.h))}Go.prototype.toString=function(){var h=[],b=this.j;b&&h.push(ru(b,IE,!0),":");var _=this.g;return(_||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ru(b,IE,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(ru(_,_.charAt(0)=="/"?f5:h5,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",ru(_,m5)),h.join("")};function qs(h){return new Go(h)}function Qh(h,b,_){h.j=_?nu(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Yh(h,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);h.s=b}else h.s=null}function AE(h,b,_){b instanceof su?(h.i=b,g5(h.i,h.h)):(_||(b=ru(b,p5)),h.i=new su(b,h.h))}function mt(h,b,_){h.i.set(b,_)}function Xh(h){return mt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function nu(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ru(h,b,_){return typeof h=="string"?(h=encodeURI(h).replace(b,d5),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function d5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var IE=/[#\/\?@]/g,h5=/[#\?:]/g,f5=/[#\?]/g,p5=/[#\?@]/g,m5=/#/g;function su(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ai(h){h.g||(h.g=new Map,h.h=0,h.i&&u5(h.i,function(b,_){h.add(decodeURIComponent(b.replace(/\+/g," ")),_)}))}t=su.prototype,t.add=function(h,b){Ai(this),this.i=null,h=sl(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(b),this.h+=1,this};function NE(h,b){Ai(h),b=sl(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function PE(h,b){return Ai(h),b=sl(h,b),h.g.has(b)}t.forEach=function(h,b){Ai(this),this.g.forEach(function(_,R){_.forEach(function(F){h.call(b,F,R,this)},this)},this)},t.na=function(){Ai(this);const h=Array.from(this.g.values()),b=Array.from(this.g.keys()),_=[];for(let R=0;R<b.length;R++){const F=h[R];for(let U=0;U<F.length;U++)_.push(b[R])}return _},t.V=function(h){Ai(this);let b=[];if(typeof h=="string")PE(this,h)&&(b=b.concat(this.g.get(sl(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)b=b.concat(h[_])}return b},t.set=function(h,b){return Ai(this),this.i=null,h=sl(this,h),PE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=this.V(h),0<h.length?String(h[0]):b):b};function RE(h,b,_){NE(h,b),0<_.length&&(h.i=null,h.g.set(sl(h,b),y(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(var _=0;_<b.length;_++){var R=b[_];const U=encodeURIComponent(String(R)),le=this.V(R);for(R=0;R<le.length;R++){var F=U;le[R]!==""&&(F+="="+encodeURIComponent(String(le[R]))),h.push(F)}}return this.i=h.join("&")};function sl(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function g5(h,b){b&&!h.j&&(Ai(h),h.i=null,h.g.forEach(function(_,R){var F=R.toLowerCase();R!=F&&(NE(this,R),RE(this,F,_))},h)),h.j=b}function y5(h,b){const _=new qo;if(a.Image){const R=new Image;R.onload=g(Ii,_,"TestLoadImage: loaded",!0,b,R),R.onerror=g(Ii,_,"TestLoadImage: error",!1,b,R),R.onabort=g(Ii,_,"TestLoadImage: abort",!1,b,R),R.ontimeout=g(Ii,_,"TestLoadImage: timeout",!1,b,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function v5(h,b){const _=new qo,R=new AbortController,F=setTimeout(()=>{R.abort(),Ii(_,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout(F),U.ok?Ii(_,"TestPingServer: ok",!0,b):Ii(_,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(F),Ii(_,"TestPingServer: error",!1,b)})}function Ii(h,b,_,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(_)}catch{}}function w5(){this.g=new el}function x5(h,b,_){const R=_||"";try{SE(h,function(F,U){let le=F;c(F)&&(le=ur(F)),b.push(R+U+"="+encodeURIComponent(le))})}catch(F){throw b.push(R+"type="+encodeURIComponent("_badmap")),F}}function Jh(h){this.l=h.Ub||null,this.j=h.eb||!1}v(Jh,Ae),Jh.prototype.g=function(){return new Zh(this.l,this.j)},Jh.prototype.i=function(h){return function(){return h}}({});function Zh(h,b){st.call(this),this.D=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Zh,st),t=Zh.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=b,this.readyState=1,ou(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(b.body=h),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?iu(this):ou(this),this.readyState==3&&kE(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,iu(this))},t.Qa=function(h){this.g&&(this.response=h,iu(this))},t.ga=function(){this.g&&iu(this)};function iu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ou(h)}t.setRequestHeader=function(h,b){this.u.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var _=b.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=b.next();return h.join(`\r
`)};function ou(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function DE(h){let b="";return j(h,function(_,R){b+=R,b+=":",b+=_,b+=`\r
`}),b}function Ly(h,b,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=DE(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):mt(h,b,_))}function Rt(h){st.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Rt,st);var b5=/^https?$/i,T5=["POST","PUT"];t=Rt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,b,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eu.g(),this.v=this.o?tt(this.o):tt(eu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(U){jE(this,U);return}if(h=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)_.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())_.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(T5,b,void 0))||R||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,le]of _)this.g.setRequestHeader(U,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LE(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){jE(this,U)}};function jE(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.m=5,ME(h),ef(h)}function ME(h){h.A||(h.A=!0,He(h,"complete"),He(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,He(this,"complete"),He(this,"abort"),ef(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ef(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?OE(this):this.bb())},t.bb=function(){OE(this)};function OE(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Hs(h)!=4||h.Z()!=2)){if(h.u&&Hs(h)==4)ke(h.Ea,0,h);else if(He(h,"readystatechange"),Hs(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var _;if(!(_=b)){var R;if(R=le===0){var F=String(h.D).match(CE)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),R=!b5.test(F?F.toLowerCase():"")}_=R}if(_)He(h,"complete"),He(h,"success");else{h.m=6;try{var U=2<Hs(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",ME(h)}}finally{ef(h)}}}}function ef(h,b){if(h.g){LE(h);const _=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,b||He(h,"ready");try{_.onreadystatechange=R}catch{}}}function LE(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Hs(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Hs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),On(b)}};function VE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function E5(h){const b={};h=(h.g&&2<=Hs(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(x(h[R]))continue;var _=k(h[R]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=b[F]||[];b[F]=U,U.push(_)}C(b,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function au(h,b,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||b}function FE(h){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=au("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=au("baseRetryDelayMs",5e3,h),this.cb=au("retryDelaySeedMs",1e4,h),this.Wa=au("forwardChannelMaxRetries",2,h),this.wa=au("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new xE(h&&h.concurrentRequestLimit),this.Da=new w5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=FE.prototype,t.la=8,t.G=1,t.connect=function(h,b,_,R){sn(0),this.W=h,this.H=b||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=KE(this,null,this.W),nf(this)};function Vy(h){if(UE(h),h.G==3){var b=h.U++,_=qs(h.I);if(mt(_,"SID",h.K),mt(_,"RID",b),mt(_,"TYPE","terminate"),lu(h,_),b=new $r(h,h.j,b),b.L=2,b.v=Xh(qs(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=b.v,_=!0),_||(b.g=QE(b.j,null),b.g.ea(b.v)),b.F=Date.now(),ot(b)}GE(h)}function tf(h){h.g&&(Uy(h),h.g.cancel(),h.g=null)}function UE(h){tf(h),h.u&&(a.clearTimeout(h.u),h.u=null),rf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function nf(h){if(!bE(h.h)&&!h.s){h.s=!0;var b=h.Ga;ee||te(),L||(ee(),L=!0),V.add(b,h),h.B=0}}function _5(h,b){return TE(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=b.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wo(p(h.Ga,h,b),HE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new $r(this,this.j,h);let U=this.o;if(this.S&&(U?(U=S(U),N(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var b=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,4096<b){b=_;break e}if(b===4096||_===this.i.length-1){b=_+1;break e}}b=1e3}else b=1e3;b=BE(this,F,b),_=qs(this.I),mt(_,"RID",h),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),lu(this,_),U&&(this.O?b="headers="+encodeURIComponent(String(DE(U)))+"&"+b:this.m&&Ly(_,this.m,U)),Oy(this.h,F),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",b),mt(_,"SID","null"),F.T=!0,Ne(F,_,null)):Ne(F,_,b),this.G=2}}else this.G==3&&(h?zE(this,h):this.i.length==0||bE(this.h)||zE(this))};function zE(h,b){var _;b?_=b.l:_=h.U++;const R=qs(h.I);mt(R,"SID",h.K),mt(R,"RID",_),mt(R,"AID",h.T),lu(h,R),h.m&&h.o&&Ly(R,h.m,h.o),_=new $r(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),b&&(h.i=b.D.concat(h.i)),b=BE(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oy(h.h,_),Ne(_,R,b)}function lu(h,b){h.H&&j(h.H,function(_,R){mt(b,R,_)}),h.l&&SE({},function(_,R){mt(b,R,_)})}function BE(h,b,_){_=Math.min(h.i.length,_);var R=h.l?p(h.l.Na,h.l,h):null;e:{var F=h.i;let U=-1;for(;;){const le=["count="+_];U==-1?0<_?(U=F[0].g,le.push("ofs="+U)):U=0:le.push("ofs="+U);let dt=!0;for(let hn=0;hn<_;hn++){let et=F[hn].g;const bn=F[hn].map;if(et-=U,0>et)U=Math.max(0,F[hn].g-100),dt=!1;else try{x5(bn,le,"req"+et+"_")}catch{R&&R(bn)}}if(dt){R=le.join("&");break e}}}return h=h.i.splice(0,_),b.D=h,R}function $E(h){if(!h.g&&!h.u){h.Y=1;var b=h.Fa;ee||te(),L||(ee(),L=!0),V.add(b,h),h.v=0}}function Fy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wo(p(h.Fa,h),HE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,WE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wo(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),tf(this),WE(this))};function Uy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function WE(h){h.g=new $r(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var b=qs(h.qa);mt(b,"RID","rpc"),mt(b,"SID",h.K),mt(b,"AID",h.T),mt(b,"CI",h.F?"0":"1"),!h.F&&h.ja&&mt(b,"TO",h.ja),mt(b,"TYPE","xmlhttp"),lu(h,b),h.m&&h.o&&Ly(b,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Xh(qs(b)),_.m=null,_.P=!0,Xt(_,h)}t.Za=function(){this.C!=null&&(this.C=null,tf(this),Fy(this),sn(19))};function rf(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function qE(h,b){var _=null;if(h.g==b){rf(h),Uy(h),h.g=null;var R=2}else if(My(h.h,b))_=b.D,EE(h.h,b),R=1;else return;if(h.G!=0){if(b.o)if(R==1){_=b.m?b.m.length:0,b=Date.now()-b.F;var F=h.B;R=tl(),He(R,new Zc(R,_)),nf(h)}else $E(h);else if(F=b.s,F==3||F==0&&0<b.X||!(R==1&&_5(h,b)||R==2&&Fy(h)))switch(_&&0<_.length&&(b=h.h,b.i=b.i.concat(_)),F){case 1:Ko(h,5);break;case 4:Ko(h,10);break;case 3:Ko(h,6);break;default:Ko(h,2)}}}function HE(h,b){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*b}function Ko(h,b){if(h.j.info("Error code "+b),b==2){var _=p(h.fb,h),R=h.Xa;const F=!R;R=new Go(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qh(R,"https"),Xh(R),F?y5(R.toString(),_):v5(R.toString(),_)}else sn(2);h.G=0,h.l&&h.l.sa(b),GE(h),UE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function GE(h){if(h.G=0,h.ka=[],h.l){const b=_E(h.h);(b.length!=0||h.i.length!=0)&&(T(h.ka,b),T(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function KE(h,b,_){var R=_ instanceof Go?qs(_):new Go(_);if(R.g!="")b&&(R.g=b+"."+R.g),Yh(R,R.s);else{var F=a.location;R=F.protocol,b=b?b+"."+F.hostname:F.hostname,F=+F.port;var U=new Go(null);R&&Qh(U,R),b&&(U.g=b),F&&Yh(U,F),_&&(U.l=_),R=U}return _=h.D,b=h.ya,_&&b&&mt(R,_,b),mt(R,"VER",h.la),lu(h,R),R}function QE(h,b,_){if(b&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Ca&&!h.pa?new Rt(new Jh({eb:_})):new Rt(h.pa),b.Ha(h.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YE(){}t=YE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sf(){}sf.prototype.g=function(h,b){return new pr(h,b)};function pr(h,b){st.call(this),this.g=new FE(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(h?h["X-WebChannel-Client-Profile"]=b.va:h={"X-WebChannel-Client-Profile":b.va}),this.g.S=h,(h=b&&b.Sb)&&!x(h)&&(this.g.m=h),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!x(b)&&(this.g.D=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new il(this)}v(pr,st),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Vy(this.g)},pr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=ur(h),h=_);b.i.push(new a5(b.Ya++,h)),b.G==3&&nf(b)},pr.prototype.N=function(){this.g.l=null,delete this.j,Vy(this.g),delete this.g,pr.aa.N.call(this)};function XE(h){rn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const _ in b){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}v(XE,rn);function JE(){dr.call(this),this.status=1}v(JE,dr);function il(h){this.g=h}v(il,YE),il.prototype.ua=function(){He(this.g,"a")},il.prototype.ta=function(h){He(this.g,new XE(h))},il.prototype.sa=function(h){He(this.g,new JE)},il.prototype.ra=function(){He(this.g,"b")},sf.prototype.createWebChannel=sf.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Hj=function(){return new sf},qj=function(){return tl()},Wj=hr,H0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,vp=nl,Kh.COMPLETE="complete",$j=Kh,Qe.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",st.prototype.listen=st.prototype.K,ku=Qe,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Bj=Rt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const jA="@firebase/firestore",MA="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Fg("@firebase/firestore");function pl(){return Na.logLevel}function me(t,...e){if(Na.logLevel<=Ge.DEBUG){const n=e.map(zb);Na.debug(`Firestore (${qc}): ${t}`,...n)}}function mi(t,...e){if(Na.logLevel<=Ge.ERROR){const n=e.map(zb);Na.error(`Firestore (${qc}): ${t}`,...n)}}function xc(t,...e){if(Na.logLevel<=Ge.WARN){const n=e.map(zb);Na.warn(`Firestore (${qc}): ${t}`,...n)}}function zb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gj(t,r,n)}function Gj(t,e,n){let r=`FIRESTORE (${qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function rt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Gj(e,s,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class TQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EQ{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new si;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new si,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new si)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new Kj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class _Q{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _Q(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=AQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function G0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const i=Qj(),o=IQ(i.encode(LA(t,n)),i.encode(LA(e,n)));return o!==0?o:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function LA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function IQ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function bc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=-62135596800,FA=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FA);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VA)throw new pe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FA}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-VA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new At(0,0))}static max(){return new Ve(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ws.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),s=ws.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ws.extractNumericId(e).compare(ws.extractNumericId(n)):G0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class vt extends ws{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const NQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends ws{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return NQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UA}static keyField(){return new mn([UA])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new pe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new pe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new pe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(vt.fromString(e))}static fromName(e){return new Ce(vt.fromString(e).popFirst(5))}static empty(){return new Ce(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function PQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new Co(s,Ce.empty(),e)}function RQ(t){return new Co(t.readTime,t.key,Kd)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Ve.min(),Ce.empty(),Kd)}static max(){return new Co(Ve.max(),Ce.empty(),Kd)}}function kQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==DQ)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function MQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ug.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-1;function zg(t){return t==null}function Sm(t){return t===0&&1/t==-1/0}function OQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="";function LQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zA(e)),e=VQ(t.get(n),e);return zA(e)}function VQ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Xj:n+="";break;default:n+=i}}return n}function zA(t){return t+Xj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=i??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $A(this.data.getIterator())}getIteratorFrom(e){return new $A(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class $A{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new br([])}unionWith(e){let n=new tn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Zj("Invalid base64 string: "+i):i}}(e);return new xn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const FQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=FQ.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="server_timestamp",tM="__type__",nM="__previous_value__",rM="__local_write_time__";function $b(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tM])===null||n===void 0?void 0:n.stringValue)===eM}function Bg(t){const e=t.mapValue.fields[nM];return $b(e)?Bg(e):e}function Qd(t){const e=Ao(t.mapValue.fields[rM].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Cm="(default)";class Yd{constructor(e,n){this.projectId=e,this.database=n||Cm}static empty(){return new Yd("","")}get isDefaultDatabase(){return this.database===Cm}isEqual(e){return e instanceof Yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="__type__",iM="__max__",Lf={mapValue:{fields:{__type__:{stringValue:iM}}}},oM="__vector__",Am="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$b(t)?4:BQ(t)?9007199254740991:zQ(t)?10:11:je(28295,{value:t})}function zs(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qd(t).isEqual(Qd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ao(s.timestampValue),a=Ao(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Io(s.bytesValue).isEqual(Io(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ut(s.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ut(s.integerValue)===Ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ut(s.doubleValue),a=Ut(i.doubleValue);return o===a?Sm(o)===Sm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return bc(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(BA(o)!==BA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zs(o[l],a[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Xd(t,e){return(t.values||[]).find(n=>zs(n,e))!==void 0}function Tc(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ut(i.integerValue||i.doubleValue),l=Ut(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WA(t.timestampValue,e.timestampValue);case 4:return WA(Qd(t),Qd(e));case 5:return G0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Io(i),l=Io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=We(a[c],l[c]);if(d!==0)return d}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=We(Ut(i.latitude),Ut(o.latitude));return a!==0?a:We(Ut(i.longitude),Ut(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qA(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Am])===null||a===void 0?void 0:a.arrayValue,v=(l=p[Am])===null||l===void 0?void 0:l.arrayValue,y=We(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:qA(g,v)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lf.mapValue&&o===Lf.mapValue)return 0;if(i===Lf.mapValue)return 1;if(o===Lf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=G0(l[f],d[f]);if(p!==0)return p;const g=Tc(a[l[f]],c[d[f]]);if(g!==0)return g}return We(l.length,d.length)}(t.mapValue,e.mapValue);default:throw je(23264,{Pe:n})}}function WA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ao(t),r=Ao(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function qA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Tc(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function Ec(t){return K0(t)}function K0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=K0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${K0(n.fields[o])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function wp(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bg(t);return e?16+wp(e):16;case 5:return 2*t.stringValue.length;case 6:return Io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+wp(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Lo(r.fields,(i,o)=>{s+=i.length+wp(o)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function HA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q0(t){return!!t&&"integerValue"in t}function Wb(t){return!!t&&"arrayValue"in t}function GA(t){return!!t&&"nullValue"in t}function KA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xp(t){return!!t&&"mapValue"in t}function zQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sM])===null||n===void 0?void 0:n.stringValue)===oM}function ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ud(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new tr(ud(this.value))}}function aM(t){const e=[];return Lo(t.fields,(n,r)=>{const s=new mn([n]);if(xp(r)){const i=aM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,Ve.min(),Ve.min(),Ve.min(),tr.empty(),0)}static newFoundDocument(e,n,r,s){return new Rn(e,1,n,Ve.min(),r,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ve.min(),Ve.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ve.min(),Ve.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.position=e,this.inclusive=n}}function QA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ce.comparator(Ce.fromName(o.referenceValue),n.key):r=Tc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function $Q(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{}class Qt extends lM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qQ(e,n,r):n==="array-contains"?new KQ(e,r):n==="in"?new QQ(e,r):n==="not-in"?new YQ(e,r):n==="array-contains-any"?new XQ(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HQ(e,r):new GQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tc(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(Tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends lM{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new hs(e,n)}matches(e){return cM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cM(t){return t.op==="and"}function uM(t){return WQ(t)&&cM(t)}function WQ(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function Y0(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+Ec(t.value);if(uM(t))return t.filters.map(e=>Y0(e)).join(",");{const e=t.filters.map(n=>Y0(n)).join(",");return`${t.op}(${e})`}}function dM(t,e){return t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&zs(r.value,s.value)}(t,e):t instanceof hs?function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&dM(o,s.filters[a]),!0):!1}(t,e):void je(19439)}function hM(t){return t instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ec(n.value)}`}(t):t instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(hM).join(" ,")+"}"}(t):"Filter"}class qQ extends Qt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class HQ extends Qt{constructor(e,n){super(e,"in",n),this.keys=fM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GQ extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=fM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class KQ extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wb(n)&&Xd(n.arrayValue,this.value)}}class QQ extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}}class YQ extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xd(this.value.arrayValue,n)}}class XQ extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function XA(t,e=null,n=[],r=[],s=null,i=null,o=null){return new JQ(t,e,n,r,s,i,o)}function qb(t){const e=Ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ec(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ec(r)).join(",")),e.Ie=n}return e.Ie}function Hb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$Q(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YA(t.startAt,e.startAt)&&YA(t.endAt,e.endAt)}function X0(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZQ(t,e,n,r,s,i,o,a){return new Kc(t,e,n,r,s,i,o,a)}function $g(t){return new Kc(t)}function JA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pM(t){return t.collectionGroup!==null}function dd(t){const e=Ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Jd(i,r))}),n.has(mn.keyField().canonicalString())||e.Ee.push(new Jd(mn.keyField(),r))}return e.Ee}function Ds(t){const e=Ue(t);return e.de||(e.de=eY(e,dd(t))),e.de}function eY(t,e){if(t.limitType==="F")return XA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jd(s.field,i)});const n=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return XA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J0(t,e){const n=t.filters.concat([e]);return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nm(t,e,n){return new Kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wg(t,e){return Hb(Ds(t),Ds(e))&&t.limitType===e.limitType}function mM(t){return`${qb(Ds(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hM(s)).join(", ")}]`),zg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ec(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ec(s)).join(",")),`Target(${r})`}(Ds(t))}; limitType=${t.limitType})`}function qg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of dd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=QA(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,dd(r),s)||r.endAt&&!function(o,a,l){const c=QA(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,dd(r),s))}(t,e)}function tY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gM(t){return(e,n)=>{let r=!1;for(const s of dd(t)){const i=nY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nY(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Tc(l,c):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Jj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=new Nt(Ce.comparator);function gi(){return rY}const yM=new Nt(Ce.comparator);function Du(...t){let e=yM;for(const n of t)e=e.insert(n.key,n);return e}function vM(t){let e=yM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function la(){return hd()}function wM(){return hd()}function hd(){return new Ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const sY=new Nt(Ce.comparator),iY=new tn(Ce.comparator);function Ke(...t){let e=iY;for(const n of t)e=e.add(n);return e}const oY=new tn(We);function aY(){return oY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(e)?"-0":e}}function xM(t){return{integerValue:""+t}}function bM(t,e){return OQ(e)?xM(e):Gb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function lY(t,e,n){return t instanceof Zd?function(s,i){const o={fields:{[tM]:{stringValue:eM},[rM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$b(i)&&(i=Bg(i)),i&&(o.fields[nM]=i),{mapValue:o}}(n,e):t instanceof _c?EM(t,e):t instanceof Sc?_M(t,e):function(s,i){const o=TM(s,i),a=ZA(o)+ZA(s.Re);return Q0(o)&&Q0(s.Re)?xM(a):Gb(s.serializer,a)}(t,e)}function cY(t,e,n){return t instanceof _c?EM(t,e):t instanceof Sc?_M(t,e):n}function TM(t,e){return t instanceof eh?function(r){return Q0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zd extends Hg{}class _c extends Hg{constructor(e){super(),this.elements=e}}function EM(t,e){const n=SM(e);for(const r of t.elements)n.some(s=>zs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sc extends Hg{constructor(e){super(),this.elements=e}}function _M(t,e){let n=SM(e);for(const r of t.elements)n=n.filter(s=>!zs(s,r));return{arrayValue:{values:n}}}class eh extends Hg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function ZA(t){return Ut(t.integerValue||t.doubleValue)}function SM(t){return Wb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.field=e,this.transform=n}}function uY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _c&&s instanceof _c||r instanceof Sc&&s instanceof Sc?bc(r.elements,s.elements,zs):r instanceof eh&&s instanceof eh?zs(r.Re,s.Re):r instanceof Zd&&s instanceof Zd}(t.transform,e.transform)}class dY{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function CM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kb(t.key,Vr.none()):new Ah(t.key,t.data,Vr.none());{const n=t.data,r=tr.empty();let s=new tn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Vo(t.key,r,new br(s.toArray()),Vr.none())}}function hY(t,e,n){t instanceof Ah?function(s,i,o){const a=s.value.clone(),l=tI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vo?function(s,i,o){if(!bp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=tI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(AM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fd(t,e,n,r){return t instanceof Ah?function(i,o,a,l){if(!bp(i.precondition,o))return a;const c=i.value.clone(),d=nI(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vo?function(i,o,a,l){if(!bp(i.precondition,o))return a;const c=nI(i.fieldTransforms,l,o),d=o.data;return d.setAll(AM(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return bp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fY(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=TM(r.transform,s||null);i!=null&&(n===null&&(n=tr.empty()),n.set(r.field,i))}return n||null}function eI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bc(r,s,(i,o)=>uY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends Kg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vo extends Kg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tI(t,e,n){const r=new Map;rt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,cY(o,a,n[s]))}return r}function nI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,lY(i,o,e))}return r}class Kb extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pY extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&hY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&bc(this.mutations,e.mutations,(n,r)=>eI(n,r))&&bc(this.baseMutations,e.baseMutations,(n,r)=>eI(n,r))}}class Qb{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){rt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return sY}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Qb(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Ye;function vY(t){switch(t){case q.OK:return je(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function IM(t){if(t===void 0)return mi("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ht.OK:return q.OK;case Ht.CANCELLED:return q.CANCELLED;case Ht.UNKNOWN:return q.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return q.INTERNAL;case Ht.UNAVAILABLE:return q.UNAVAILABLE;case Ht.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ht.NOT_FOUND:return q.NOT_FOUND;case Ht.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ht.ABORTED:return q.ABORTED;case Ht.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ht.DATA_LOSS:return q.DATA_LOSS;default:return je(39323,{code:t})}}(Ye=Ht||(Ht={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=new fo([4294967295,4294967295],0);function rI(t){const e=Qj().encode(t),n=new zj;return n.update(e),new Uint8Array(n.digest())}function sI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,i],0)]}class Yb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ju(`Invalid padding: ${n}`);if(r<0)throw new ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ju(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(wY)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=rI(e),[r,s]=sI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Yb(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=rI(e),[r,s]=sI(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(Ve.min(),s,new Nt(We),gi(),Ke())}}class Ih{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ih(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class NM{constructor(e,n){this.targetId=e,this.Ce=n}}class PM{constructor(e,n,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iI{constructor(){this.Fe=0,this.Me=oI(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ke(),n=Ke(),r=Ke();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new Ih(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=oI()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xY{constructor(e){this.ze=e,this.je=new Map,this.He=gi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Nt(We)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(X0(i))if(r===0){const o=new Ce(i.path);this.tt(n,o,Rn.newNoDocument(o,Ve.min()))}else rt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Io(r).toUint8Array()}catch(l){if(l instanceof Zj)return xc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yb(o,s,i)}catch(l){return xc(l instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&X0(a.target)){const l=new Ce(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Rn.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ke();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Qg(e,n,this.Ze,this.He,r);return this.He=gi(),this.Je=Vf(),this.Ye=Vf(),this.Ze=new Nt(We),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new iI,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new tn(We),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new tn(We),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iI),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Vf(){return new Nt(Ce.comparator)}function oI(){return new Nt(Ce.comparator)}const bY={asc:"ASCENDING",desc:"DESCENDING"},TY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EY={and:"AND",or:"OR"};class _Y{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Z0(t,e){return t.useProto3Json||zg(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SY(t,e){return Pm(t,e.toTimestamp())}function js(t){return rt(!!t,49232),Ve.fromTimestamp(function(n){const r=Ao(n);return new At(r.seconds,r.nanos)}(t))}function Xb(t,e){return ex(t,e).canonicalString()}function ex(t,e){const n=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kM(t){const e=vt.fromString(t);return rt(LM(e),10190,{key:e.toString()}),e}function tx(t,e){return Xb(t.databaseId,e.path)}function $v(t,e){const n=kM(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(jM(n))}function DM(t,e){return Xb(t.databaseId,e)}function CY(t){const e=kM(t);return e.length===4?vt.emptyPath():jM(e)}function nx(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jM(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aI(t,e,n){return{name:tx(t,e),fields:n.value.mapValue.fields}}function AY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(rt(d===void 0||typeof d=="string",58123),xn.fromBase64String(d||"")):(rt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:IM(c.code);return new pe(d,c.message||"")}(o);n=new PM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$v(t,r.document.name),i=js(r.document.updateTime),o=r.document.createTime?js(r.document.createTime):Ve.min(),a=new tr({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Tp(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$v(t,r.document),i=r.readTime?js(r.readTime):Ve.min(),o=Rn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Tp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$v(t,r.document),i=r.removedTargetIds||[];n=new Tp([],i,s,null)}else{if(!("filter"in e))return je(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new yY(s,i),a=r.targetId;n=new NM(a,o)}}return n}function IY(t,e){let n;if(e instanceof Ah)n={update:aI(t,e.key,e.value)};else if(e instanceof Kb)n={delete:tx(t,e.key)};else if(e instanceof Vo)n={update:aI(t,e.key,e.data),updateMask:LY(e.fieldMask)};else{if(!(e instanceof pY))return je(16599,{ft:e.type});n={verify:tx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _c)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eh)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw je(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:SY(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:je(27497)}(t,e.precondition)),n}function NY(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?js(s.updateTime):js(i);return o.isEqual(Ve.min())&&(o=js(i)),new dY(o,s.transformResults||[])}(n,e))):[]}function PY(t,e){return{documents:[DM(t,e.path)]}}function RY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DM(t,s);const i=function(c){if(c.length!==0)return OM(hs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:gl(p.field),direction:jY(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Z0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function kY(t){let e=CY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){rt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=MM(f);return p instanceof hs&&uM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Jd(yl(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,zg(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Im(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Im(g,p)}(n.endAt)),ZQ(e,s,o,i,a,"F",l,c)}function DY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yl(n.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yl(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yl(n.unaryFilter.field);return Qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yl(n.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qt.create(yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(r=>MM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function jY(t){return bY[t]}function MY(t){return TY[t]}function OY(t){return EY[t]}function gl(t){return{fieldPath:t.canonicalString()}}function yl(t){return mn.fromServerFormat(t.fieldPath)}function OM(t){return t instanceof Qt?function(n){if(n.op==="=="){if(KA(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(GA(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KA(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(GA(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:MY(n.op),value:n.value}}}(t):t instanceof hs?function(n){const r=n.getFilters().map(s=>OM(s));return r.length===1?r[0]:{compositeFilter:{op:OY(n.op),filters:r}}}(t):je(54877,{filter:t})}function LY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,i=Ve.min(),o=Ve.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.wt=e}}function FY(t){const e=kY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(){this.Cn=new zY}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Co.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class zY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(vt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VM=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(VM,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Cc(0)}static lr(){return new Cc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="LruGarbageCollector",BY=1048576;function uI([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class $Y{constructor(e){this.Er=e,this.buffer=new tn(uI),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(cI,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gc(n)?me(cI,"Ignoring IndexedDB error during garbage collection: ",n):await Hc(n)}await this.mr(3e5)})}}class qY{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Ug.le);const r=new $Y(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(lI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lI):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),pl()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function HY(t,e){return new qY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(){this.changes=new Ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&fd(r.mutation,s,br.empty(),At.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=la();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Du();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=la();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gi();const o=hd(),a=function(){return hd()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Vo)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),fd(d.mutation,c,d.mutation.getFieldMask(),At.now())):o.set(c.key,br.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new KY(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hd();let s=new Nt((o,a)=>o-a),i=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||br.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ke()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=wM();d.forEach(p=>{if(!i.has(p)){const g=CM(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(la());let a=Kd,l=i;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ke())).next(d=>({batchId:a,changes:vM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let s=Du();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Du();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(f,p){return new Kc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Rn.newInvalidDocument(d)))});let a=Du();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&fd(d.mutation,c,br.empty(),At.now()),qg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return H.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:js(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:FY(s.bundledQuery),readTime:js(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.overlays=new Nt(Ce.comparator),this.Qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=la();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=la(),i=n.length+1,o=new Ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Nt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=la(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=la(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gY(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ke(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.$r=new tn(an.Ur),this.Kr=new tn(an.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new an(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new an(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ce(new vt([])),r=new an(n,e),s=new an(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ce(new vt([])),r=new an(n,e),s=new an(n,e+1);let i=Ke();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new an(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ce.comparator(e.key,n.key)||We(e.Zr,n.Zr)}static Wr(e,n){return We(e.Zr,n.Zr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new tn(an.Ur)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mY(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new an(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Bb:this.nr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(We);return n.forEach(s=>{const i=new an(s,0),o=new an(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),H.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ce.isDocumentKey(i)||(i=i.child(""));const o=new an(new Ce(i),0);let a=new tn(We);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),H.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){rt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return H.forEach(n.mutations,s=>{const i=new an(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new an(n,0),s=this.Xr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.ii=e,this.docs=function(){return new Nt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gi();const o=n.path,a=new Ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kQ(RQ(d),r)<=0||(s.has(d.key)||qg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}si(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tX(this)}getSize(e){return H.resolve(this.size)}}class tX extends GY{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e){this.persistence=e,this.oi=new Ga(n=>qb(n),Hb),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this._i=0,this.ai=new Jb,this.targetCount=0,this.ui=Cc.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),H.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Cc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Tr(n),H.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.ci={},this.overlays={},this.li=new Ug(0),this.hi=!1,this.hi=!0,this.Pi=new JY,this.referenceDelegate=e(this),this.Ti=new nX(this),this.indexManager=new UY,this.remoteDocumentCache=function(s){return new eX(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new VY(n),this.Ei=new YY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new ZY(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new rX(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return H.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class rX extends jQ{constructor(e){super(),this.currentSequenceNumber=e}}class Zb{constructor(e){this.persistence=e,this.Vi=new Jb,this.mi=null}static fi(e){return new Zb(e)}get gi(){if(this.mi)return this.mi;throw je(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.gi,r=>{const s=Ce.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ve.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return H.or([()=>H.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Rm{constructor(e,n){this.persistence=e,this.yi=new Ga(r=>LQ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=HY(this,n)}static fi(e,n){return new Rm(e,n)}di(){}Ai(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return H.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ve.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wp(e.data.value)),n}Dr(e,n,r){return H.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ke(),s=Ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new eT(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tK()?8:MQ(Mn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sX;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(pl()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),H.resolve()):(pl()<=Ge.DEBUG&&me("QueryEngine","Query:",ml(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(pl()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ds(n))):H.resolve())}ws(e,n){if(JA(n))return H.resolve(null);let r=Ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nm(n,null,"F"),r=Ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ke(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Nm(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return JA(n)||s.isEqual(Ve.min())?H.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(pl()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ml(n)),this.Fs(e,o,n,PQ(s,Kd)).next(a=>a))})}vs(e,n){let r=new tn(gM(e));return n.forEach((s,i)=>{qg(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return pl()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ml(n)),this.ys.getDocumentsMatchingQuery(e,n,Co.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LocalStore",oX=3e8;class aX{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Nt(We),this.Os=new Ga(i=>qb(i),Hb),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QY(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function lX(t,e,n,r){return new aX(t,e,n,r)}async function UM(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ke();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function cX(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=H.resolve();return p.forEach(v=>{g=g.next(()=>d.getEntry(l,v)).next(y=>{const T=c.docVersions.get(v);rt(T!==null,48541),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function zM(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function uX(t,e){const n=Ue(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(xn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,T,w){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=oX?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Ti.updateTargetData(i,g))});let l=gi(),c=Ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(dX(i,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(Ve.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function dX(t,e,n){let r=Ke(),s=Ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):me(tT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function hX(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bb),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fX(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function rx(t,e,n){const r=Ue(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Gc(o))throw o;me(tT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function dI(t,e,n){const r=Ue(t);let s=Ve.min(),i=Ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ue(l),p=f.Os.get(d);return p!==void 0?H.resolve(f.xs.get(p)):f.Ti.getTargetData(c,d)}(r,o,Ds(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Ve.min(),n?i:Ke())).next(a=>(pX(r,tY(e),a),{documents:a,$s:i})))}function pX(t,e,n){let r=t.Ns.get(e)||Ve.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class hI{constructor(){this.activeTargetIds=aY()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mX{constructor(){this.xo=new hI,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new hI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="ConnectivityMonitor";class pI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(fI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(fI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function sx(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="RestConnection",yX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vX{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Cm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=sx(),a=this.jo(e,n.toUriEncodedString());me(Wv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),d=Sh(c);return this.Jo(e,a,l,r,d).then(f=>(me(Wv,`Received RPC '${e}' ${o}: `,f),f),f=>{throw xc(Wv,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=yX[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class xX extends vX{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=sx();return new Promise((a,l)=>{const c=new Bj;c.setWithCredentials(!0),c.listenOnce($j.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vp.NO_ERROR:const f=c.getResponseJson();me(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case vp.TIMEOUT:me(Cn,`RPC '${e}' ${o} timed out`),l(new pe(q.DEADLINE_EXCEEDED,"Request time out"));break;case vp.HTTP_ERROR:const p=c.getStatus();if(me(Cn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(x)>=0?x:q.UNKNOWN}(v.status);l(new pe(y,v.message))}else l(new pe(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new pe(q.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{me(Cn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);me(Cn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=sx(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hj(),a=qj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");me(Cn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const v=new wX({Zo:T=>{g?me(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(me(Cn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),me(Cn,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Xo:()=>f.close()}),y=(T,w,x)=>{T.listen(w,E=>{try{x(E)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,ku.EventType.OPEN,()=>{g||(me(Cn,`RPC '${e}' stream ${s} transport opened.`),v.__())}),y(f,ku.EventType.CLOSE,()=>{g||(g=!0,me(Cn,`RPC '${e}' stream ${s} transport closed`),v.u_())}),y(f,ku.EventType.ERROR,T=>{g||(g=!0,xc(Cn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),v.u_(new pe(q.UNAVAILABLE,"The operation could not be completed")))}),y(f,ku.EventType.MESSAGE,T=>{var w;if(!g){const x=T.data[0];rt(!!x,16349);const E=x,I=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(I){me(Cn,`RPC '${e}' stream ${s} received error:`,I);const P=I.status;let j=function(A){const N=Ht[A];if(N!==void 0)return IM(N)}(P),C=I.message;j===void 0&&(j=q.INTERNAL,C="Unknown error status: "+P+" with message "+I.message),g=!0,v.u_(new pe(j,C)),f.close()}else me(Cn,`RPC '${e}' stream ${s} received:`,x),v.c_(x)}}),y(a,Wj.STAT_EVENT,T=>{T.stat===H0.PROXY?me(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===H0.NOPROXY&&me(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}}function qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return new _Y(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="PersistentStream";class $M{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new BM(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new pe(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(mI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(me(mI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bX extends $M{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=AY(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?js(o.readTime):Ve.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=nx(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=X0(l)?{documents:PY(i,l)}:{query:RY(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RM(i,o.resumeToken);const c=Z0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ve.min())>0){a.readTime=Pm(i,o.snapshotVersion.toTimestamp());const c=Z0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DY(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=nx(this.serializer),n.removeTarget=e,this.L_(n)}}class TX extends $M{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=NY(e.writeResults,e.commitTime),r=js(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=nx(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IY(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{}class _X extends EX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new pe(q.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ex(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(q.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ex(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(q.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class SX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(mi(n),this.oa=!1):me("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class CX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ka(this)&&(me(Pa,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.Ta.add(4),await Nh(c),c.da.set("Unknown"),c.Ta.delete(4),await Xg(c)}(this))})}),this.da=new SX(r,s)}}async function Xg(t){if(Ka(t))for(const e of t.Ia)await e(!0)}async function Nh(t){for(const e of t.Ia)await e(!1)}function WM(t,e){const n=Ue(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),iT(n)?sT(n):Qc(n).M_()&&rT(n,e))}function nT(t,e){const n=Ue(t),r=Qc(n);n.Pa.delete(e),r.M_()&&qM(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ka(n)&&n.da.set("Unknown"))}function rT(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qc(t).H_(e)}function qM(t,e){t.Aa.Ke(e),Qc(t).J_(e)}function sT(t){t.Aa=new xY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Qc(t).start(),t.da._a()}function iT(t){return Ka(t)&&!Qc(t).F_()&&t.Pa.size>0}function Ka(t){return Ue(t).Ta.size===0}function HM(t){t.Aa=void 0}async function AX(t){t.da.set("Online")}async function IX(t){t.Pa.forEach((e,n)=>{rT(t,e)})}async function NX(t,e){HM(t),iT(t)?(t.da.ca(e),sT(t)):t.da.set("Unknown")}async function PX(t,e,n){if(t.da.set("Online"),e instanceof PM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){me(Pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await km(t,r)}else if(e instanceof Tp?t.Aa.Xe(e):e instanceof NM?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Ve.min()))try{const r=await zM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),qM(i,l);const f=new Zi(d.target,l,c,d.sequenceNumber);rT(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me(Pa,"Failed to raise snapshot:",r),await km(t,r)}}async function km(t,e,n){if(!Gc(e))throw e;t.Ta.add(1),await Nh(t),t.da.set("Offline"),n||(n=()=>zM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Pa,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Xg(t)})}function GM(t,e){return e().catch(n=>km(t,n,e))}async function Jg(t){const e=Ue(t),n=Po(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Bb;for(;RX(e);)try{const s=await hX(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,kX(e,s)}catch(s){await km(e,s)}KM(e)&&QM(e)}function RX(t){return Ka(t)&&t.ha.length<10}function kX(t,e){t.ha.push(e);const n=Po(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function KM(t){return Ka(t)&&!Po(t).F_()&&t.ha.length>0}function QM(t){Po(t).start()}async function DX(t){Po(t).ta()}async function jX(t){const e=Po(t);for(const n of t.ha)e.Z_(n.mutations)}async function MX(t,e,n){const r=t.ha.shift(),s=Qb.from(r,e,n);await GM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Jg(t)}async function OX(t,e){e&&Po(t).Y_&&await async function(r,s){if(function(o){return vY(o)&&o!==q.ABORTED}(s.code)){const i=r.ha.shift();Po(r).O_(),await GM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Jg(r)}}(t,e),KM(t)&&QM(t)}async function gI(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),me(Pa,"RemoteStore received new credentials");const r=Ka(n);n.Ta.add(3),await Nh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Xg(n)}async function LX(t,e){const n=Ue(t);e?(n.Ta.delete(2),await Xg(n)):e||(n.Ta.add(2),await Nh(n),n.da.set("Unknown"))}function Qc(t){return t.Ra||(t.Ra=function(n,r,s){const i=Ue(n);return i.ra(),new bX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:AX.bind(null,t),n_:IX.bind(null,t),i_:NX.bind(null,t),j_:PX.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),iT(t)?sT(t):t.da.set("Unknown")):(await t.Ra.stop(),HM(t))})),t.Ra}function Po(t){return t.Va||(t.Va=function(n,r,s){const i=Ue(n);return i.ra(),new TX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:DX.bind(null,t),i_:OX.bind(null,t),X_:jX.bind(null,t),ea:MX.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Jg(t)):(await t.Va.stop(),t.ha.length>0&&(me(Pa,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new oT(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aT(t,e){if(mi("AsyncQueue",`${e}: ${t}`),Gc(t))return new pe(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.ma=new Nt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):je(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ac{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ac(e,n,ql.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class FX{constructor(){this.queries=vI(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Ue(n),i=s.queries;s.queries=vI(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new pe(q.ABORTED,"Firestore shutting down"))}}function vI(){return new Ga(t=>mM(t),Wg)}async function lT(t,e){const n=Ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new VX,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=aT(o,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&uT(n)}async function cT(t,e){const n=Ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UX(t,e){const n=Ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&uT(n)}function zX(t,e,n){const r=Ue(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function uT(t){t.ba.forEach(e=>{e.next()})}var ix,wI;(wI=ix||(ix={})).Ca="default",wI.Cache="cache";class dT{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class BX{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ke(),this.mutatedKeys=Ke(),this.Ha=gM(e),this.Ja=new ql(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new yI,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=qg(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?v!==y&&(r.track({type:3,doc:g}),T=!0):this.eu(p,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(g,v){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Vt:T})}};return y(g)-y(v)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new Ac(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new yI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ke(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new XM(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new YM(r))}),n}su(e){this.Ga=e.$s,this.ja=Ke();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Ac.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const hT="SyncEngine";class $X{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WX{constructor(e){this.key=e,this._u=!1}}class qX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Ga(a=>mM(a),Wg),this.cu=new Map,this.lu=new Set,this.hu=new Nt(Ce.comparator),this.Pu=new Map,this.Tu=new Jb,this.Iu={},this.Eu=new Map,this.du=Cc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function HX(t,e,n=!0){const r=rO(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await JM(r,e,n,!0),s}async function GX(t,e){const n=rO(t);await JM(n,e,!0,!1)}async function JM(t,e,n,r){const s=await fX(t.localStore,Ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await KX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&WM(t.remoteStore,s),a}async function KX(t,e,n,r,s){t.Ru=(f,p,g)=>async function(y,T,w,x){let E=T.view.Za(w);E.Cs&&(E=await dI(y.localStore,T.query,!1).then(({documents:C})=>T.view.Za(C,E)));const I=x&&x.targetChanges.get(T.targetId),P=x&&x.targetMismatches.get(T.targetId)!=null,j=T.view.applyChanges(E,y.isPrimaryClient,I,P);return bI(y,T.targetId,j.ru),j.snapshot}(t,f,p,g);const i=await dI(t.localStore,e,!0),o=new BX(e,i.$s),a=o.Za(i.documents),l=Ih.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);bI(t,n,c.ru);const d=new $X(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function QX(t,e,n){const r=Ue(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Wg(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&nT(r.remoteStore,s.targetId),ox(r,s.targetId)}).catch(Hc)):(ox(r,s.targetId),await rx(r.localStore,s.targetId,!0))}async function YX(t,e){const n=Ue(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nT(n.remoteStore,r.targetId))}async function XX(t,e,n){const r=sJ(t);try{const s=await function(o,a){const l=Ue(o),c=At.now(),d=a.reduce((g,v)=>g.add(v.key),Ke());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=gi(),y=Ke();return l.Bs.getEntries(g,d).next(T=>{v=T,v.forEach((w,x)=>{x.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,v)).next(T=>{f=T;const w=[];for(const x of a){const E=fY(x,f.get(x.key).overlayedDocument);E!=null&&w.push(new Vo(x.key,E,aM(E.value.mapValue),Vr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(T=>{p=T;const w=T.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,T.batchId,w)})}).then(()=>({batchId:p.batchId,changes:vM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new Nt(We)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Ph(r,s.changes),await Jg(r.remoteStore)}catch(s){const i=aT(s,"Failed to persist write");n.reject(i)}}async function ZM(t,e){const n=Ue(t);try{const r=await uX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?rt(o._u,14607):s.removedDocuments.size>0&&(rt(o._u,42227),o._u=!1))}),await Ph(n,r,e)}catch(r){await Hc(r)}}function xI(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ue(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&uT(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JX(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new Nt(Ce.comparator);o=o.insert(i,Rn.newNoDocument(i,Ve.min()));const a=Ke().add(i),l=new Qg(Ve.min(),new Map,new Nt(We),o,a);await ZM(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),fT(r)}else await rx(r.localStore,e,!1).then(()=>ox(r,e,n)).catch(Hc)}async function ZX(t,e){const n=Ue(t),r=e.batch.batchId;try{const s=await cX(n.localStore,e);tO(n,r,null),eO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ph(n,s)}catch(s){await Hc(s)}}async function eJ(t,e,n){const r=Ue(t);try{const s=await function(o,a){const l=Ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(rt(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);tO(r,e,n),eO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ph(r,s)}catch(s){await Hc(s)}}function eO(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function tO(t,e,n){const r=Ue(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function ox(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||nO(t,r)})}function nO(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(nT(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),fT(t))}function bI(t,e,n){for(const r of n)r instanceof YM?(t.Tu.addReference(r.key,e),tJ(t,r)):r instanceof XM?(me(hT,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||nO(t,r.key)):je(19791,{mu:r})}function tJ(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(me(hT,"New document in limbo: "+n),t.lu.add(r),fT(t))}function fT(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ce(vt.fromString(e)),r=t.du.next();t.Pu.set(r,new WX(n)),t.hu=t.hu.insert(n,r),WM(t.remoteStore,new Zi(Ds($g(n.path)),r,"TargetPurposeLimboResolution",Ug.le))}}async function Ph(t,e,n){const r=Ue(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=eT.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const d=Ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,p=>H.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>H.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Gc(f))throw f;me(tT,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),v=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(p,y)}}}(r.localStore,i))}async function nJ(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){me(hT,"User change. New user:",e.toKey());const r=await UM(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new pe(q.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ph(n,r.ks)}}function rJ(t,e){const n=Ue(t),r=n.Pu.get(e);if(r&&r._u)return Ke().add(r.key);{let s=Ke();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function rO(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JX.bind(null,e),e.au.j_=UX.bind(null,e.eventManager),e.au.Vu=zX.bind(null,e.eventManager),e}function sJ(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eJ.bind(null,e),e}class Dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return lX(this.persistence,new iX,e.initialUser,this.serializer)}yu(e){return new FM(Zb.fi,this.serializer)}pu(e){return new mX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dm.provider={build:()=>new Dm};class iJ extends Dm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){rt(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WY(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new FM(r=>Rm.fi(r,n),this.serializer)}}class ax{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nJ.bind(null,this.syncEngine),await LX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FX}()}createDatastore(e){const n=Yg(e.databaseInfo.databaseId),r=function(i){return new xX(i)}(e.databaseInfo);return function(i,o,a,l){return new _X(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new CX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xI(this.syncEngine,n,0),function(){return pI.C()?new pI:new gX}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new qX(s,i,o,a,l,c);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ue(s);me(Pa,"RemoteStore shutting down."),i.Ta.add(5),await Nh(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ax.provider={build:()=>new ax};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class oJ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=Yj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me(Ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me(Ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hv(t,e){t.asyncQueue.verifyOperationInProgress(),me(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await UM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aJ(t);me(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gI(e.remoteStore,s)),t._onlineComponents=e}async function aJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Ro,"Using user provided OfflineComponentProvider");try{await Hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;xc("Error using user provided cache. Falling back to memory cache: "+n),await Hv(t,new Dm)}}else me(Ro,"Using default OfflineComponentProvider"),await Hv(t,new iJ(void 0));return t._offlineComponents}async function sO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Ro,"Using user provided OnlineComponentProvider"),await TI(t,t._uninitializedComponentsProvider._online)):(me(Ro,"Using default OnlineComponentProvider"),await TI(t,new ax))),t._onlineComponents}function lJ(t){return sO(t).then(e=>e.syncEngine)}async function jm(t){const e=await sO(t),n=e.eventManager;return n.onListen=HX.bind(null,e.syncEngine),n.onUnlisten=QX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YX.bind(null,e.syncEngine),n}function cJ(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new pT({next:p=>{d.Cu(),o.enqueueAndForget(()=>cT(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new pe(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new pe(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new dT($g(a.path),d,{includeMetadataChanges:!0,La:!0});return lT(i,f)}(await jm(t),t.asyncQueue,e,n,r)),r.promise}function uJ(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new pT({next:p=>{d.Cu(),o.enqueueAndForget(()=>cT(i,f)),p.fromCache&&l.source==="server"?c.reject(new pe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new dT(a,d,{includeMetadataChanges:!0,La:!0});return lT(i,f)}(await jm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t,e,n){if(!n)throw new pe(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dJ(t,e,n,r){if(e===!0&&r===!0)throw new pe(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _I(t){if(!Ce.isDocumentKey(t))throw new pe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SI(t){if(Ce.isDocumentKey(t))throw new pe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new pe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hJ(t,e){if(e<=0)throw new pe(q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firestore.googleapis.com",CI=!0;class AI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aO,this.ssl=CI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BY)throw new pe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ey{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bQ;switch(r.type){case"firstParty":return new SQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EI.get(n);r&&(me("ComponentProvider","Removing Datastore"),EI.delete(n),r.terminate())}(this),Promise.resolve()}}function fJ(t,e,n,r={}){var s;t=lr(t,ey);const i=Sh(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(Pj(`https://${l}`),Rj("Firestore",!0)),o.host!==aO&&o.host!==l&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Fs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Nn.MOCK_USER;else{d=GG(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new pe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nn(p)}t._authCredentials=new TQ(new Kj(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ei(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class po extends Ei{constructor(e,n,r){super(e,n,$g(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Ce(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=Ot(t),oO("collection","path",e),t instanceof ey){const r=vt.fromString(e,...n);return SI(r),new po(t,null,r)}{if(!(t instanceof Dn||t instanceof po))throw new pe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return SI(r),new po(t.firestore,null,r)}}function xt(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=Yj.newId()),oO("doc","path",e),t instanceof ey){const r=vt.fromString(e,...n);return _I(r),new Dn(t,null,new Ce(r))}{if(!(t instanceof Dn||t instanceof po))throw new pe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return _I(r),new Dn(t.firestore,t instanceof po?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="AsyncQueue";class NI{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new BM(this,"async_queue_retry"),this.ec=()=>{const r=qv();r&&me(II,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=qv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new si;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Gc(e))throw e;me(II,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,mi("INTERNAL UNHANDLED ERROR: ",PI(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=oT.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&je(47125,{_c:PI(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function PI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class yi extends ey{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NI(e),this._firestoreClient=void 0,await e}}}function pJ(t,e){const n=typeof t=="object"?t:Ub(),r=typeof t=="string"?t:Cm,s=Ha(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qG("firestore");i&&fJ(s,...i)}return s}function ty(t){if(t._terminated)throw new pe(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mJ(t),t._firestoreClient}function mJ(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new UQ(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new oJ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(xn.fromBase64String(e))}catch(n){throw new pe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=/^__.*__$/;class yJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(e,this.data,n,this.fieldTransforms)}}class lO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{hc:t})}}class ry{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Mm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(cO(this.hc)&&gJ.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yg(e)}gc(e,n,r,s=!1){return new ry({hc:e,methodName:n,fc:r,path:mn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sy(t){const e=t._freezeSettings(),n=Yg(t._databaseId);return new vJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uO(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);bT("Data must be an object, but it was:",o,r);const a=hO(r,o);let l,c;if(i.merge)l=new br(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=lx(e,f,n);if(!o.contains(p))throw new pe(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pO(d,p)||d.push(p)}l=new br(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new yJ(new tr(a),l,c)}class iy extends Qa{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function dO(t,e,n){return new ry({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yT extends Qa{_toFieldTransform(e){return new Gg(e.path,new Zd)}isEqual(e){return e instanceof yT}}class vT extends Qa{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=dO(this,e,!0),r=this.yc.map(i=>Ya(i,n)),s=new _c(r);return new Gg(e.path,s)}isEqual(e){return e instanceof vT&&Fs(this.yc,e.yc)}}class wT extends Qa{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=dO(this,e,!0),r=this.yc.map(i=>Ya(i,n)),s=new Sc(r);return new Gg(e.path,s)}isEqual(e){return e instanceof wT&&Fs(this.yc,e.yc)}}class xT extends Qa{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new eh(e.serializer,bM(e.serializer,this.wc));return new Gg(e.path,n)}isEqual(e){return e instanceof xT&&this.wc===e.wc}}function wJ(t,e,n,r){const s=t.gc(1,e,n);bT("Data must be an object, but it was:",s,r);const i=[],o=tr.empty();Lo(r,(l,c)=>{const d=TT(e,l,n);c=Ot(c);const f=s.Ac(d);if(c instanceof iy)i.push(d);else{const p=Ya(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new br(i);return new lO(o,a,s.fieldTransforms)}function xJ(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[lx(e,r,n)],l=[s];if(i.length%2!=0)throw new pe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(lx(e,i[p])),l.push(i[p+1]);const c=[],d=tr.empty();for(let p=a.length-1;p>=0;--p)if(!pO(c,a[p])){const g=a[p];let v=l[p];v=Ot(v);const y=o.Ac(g);if(v instanceof iy)c.push(g);else{const T=Ya(v,y);T!=null&&(c.push(g),d.set(g,T))}}const f=new br(c);return new lO(d,f,o.fieldTransforms)}function bJ(t,e,n,r=!1){return Ya(n,t.gc(r?4:3,e))}function Ya(t,e){if(fO(t=Ot(t)))return bT("Unsupported field value:",e,t),hO(t,e);if(t instanceof Qa)return function(r,s){if(!cO(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Ya(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bM(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=At.fromDate(r);return{timestampValue:Pm(s.serializer,i)}}if(r instanceof At){const i=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(s.serializer,i)}}if(r instanceof mT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:RM(s.serializer,r._byteString)};if(r instanceof Dn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gT)return function(o,a){return{mapValue:{fields:{[sM]:{stringValue:oM},[Am]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Gb(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${Zg(r)}`)}(t,e)}function hO(t,e){const n={};return Jj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,(r,s)=>{const i=Ya(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof mT||t instanceof Ic||t instanceof Dn||t instanceof Qa||t instanceof gT)}function bT(t,e,n){if(!fO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Zg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function lx(t,e,n){if((e=Ot(e))instanceof ny)return e._internalPath;if(typeof e=="string")return TT(t,e);throw Mm("Field path arguments must be of type string or ",t,!1,void 0,n)}const TJ=new RegExp("[~\\*/\\[\\]]");function TT(t,e,n){if(e.search(TJ)>=0)throw Mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ny(...e.split("."))._internalPath}catch{throw Mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new pe(q.INVALID_ARGUMENT,a+t+l)}function pO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EJ extends mO{data(){return super.data()}}function oy(t,e){return typeof e=="string"?TT(t,e):e instanceof ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ET{}class _T extends ET{}function es(t,e,...n){let r=[];e instanceof ET&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ST).length,a=i.filter(l=>l instanceof ay).length;if(o>1||o>0&&a>0)throw new pe(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ay extends _T{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ay(e,n,r)}_apply(e){const n=this._parse(e);return yO(e._query,n),new Ei(e.firestore,e.converter,J0(e._query,n))}_parse(e){const n=sy(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){DI(f,d);const v=[];for(const y of f)v.push(kI(l,i,y));p={arrayValue:{values:v}}}else p=kI(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||DI(f,d),p=bJ(a,o,f,d==="in"||d==="not-in");return Qt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mu(t,e,n){const r=e,s=oy("where",t);return ay._create(s,r,n)}class ST extends ET{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ST(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)yO(o,l),o=J0(o,l)}(e._query,n),new Ei(e.firestore,e.converter,J0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CT extends _T{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CT(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new pe(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jd(i,o)}(e._query,this._field,this._direction);return new Ei(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Kc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yc(t,e="asc"){const n=e,r=oy("orderBy",t);return CT._create(r,n)}class AT extends _T{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new AT(e,n,r)}_apply(e){return new Ei(e.firestore,e.converter,Nm(e._query,this._limit,this._limitType))}}function IT(t){return hJ("limit",t),AT._create("limit",t,"F")}function kI(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new pe(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pM(e)&&n.indexOf("/")!==-1)throw new pe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Ce.isDocumentKey(r))throw new pe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HA(t,new Ce(r))}if(n instanceof Dn)return HA(t,n._key);throw new pe(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(n)}.`)}function DI(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yO(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _J{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Am].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ut(o.doubleValue));return new gT(i)}convertGeoPoint(e){return new mT(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const n=Ao(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);rt(LM(r),9688,{name:e});const s=new Yd(r.get(1),r.get(3)),i=new Ce(r.popFirst(5));return s.isEqual(n)||mi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wO extends mO{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ep extends wO{data(e={}){return super.data(e)}}class xO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ou(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ep(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ep(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ou(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ep(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ou(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:SJ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){t=lr(t,Dn);const e=lr(t.firestore,yi);return cJ(ty(e),t._key).then(n=>bO(e,t,n))}class NT extends _J{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function Zr(t){t=lr(t,Ei);const e=lr(t.firestore,yi),n=ty(e),r=new NT(e);return gO(t._query),uJ(n,t._query).then(s=>new xO(e,r,t,s))}function Nc(t,e,n){t=lr(t,Dn);const r=lr(t.firestore,yi),s=vO(t.converter,e,n);return ly(r,[uO(sy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vr.none())])}function ii(t,e,n,...r){t=lr(t,Dn);const s=lr(t.firestore,yi),i=sy(s);let o;return o=typeof(e=Ot(e))=="string"||e instanceof ny?xJ(i,"updateDoc",t._key,e,n,r):wJ(i,"updateDoc",t._key,e),ly(s,[o.toMutation(t._key,Vr.exists(!0))])}function Xs(t){return ly(lr(t.firestore,yi),[new Kb(t._key,Vr.none())])}function Rh(t,e){const n=lr(t.firestore,yi),r=xt(t),s=vO(t.converter,e);return ly(n,[uO(sy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}function PT(t,...e){var n,r,s;t=Ot(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(RI(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof Dn)c=lr(t.firestore,yi),d=$g(t._key.path),l={next:f=>{e[o]&&e[o](bO(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=lr(t,Ei);c=lr(f.firestore,yi),d=f._query;const p=new NT(c);l={next:g=>{e[o]&&e[o](new xO(c,p,f,g))},error:e[o+1],complete:e[o+2]},gO(t._query)}return function(p,g,v,y){const T=new pT(y),w=new dT(g,T,v);return p.asyncQueue.enqueueAndForget(async()=>lT(await jm(p),w)),()=>{T.Cu(),p.asyncQueue.enqueueAndForget(async()=>cT(await jm(p),w))}}(ty(c),d,a,l)}function ly(t,e){return function(r,s){const i=new si;return r.asyncQueue.enqueueAndForget(async()=>XX(await lJ(r),s,i)),i.promise}(ty(t),e)}function bO(t,e,n){const r=n.docs.get(e._key),s=new NT(t);return new wO(t,s,e._key,r,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}function TO(){return new yT("serverTimestamp")}function CJ(...t){return new vT("arrayUnion",t)}function AJ(...t){return new wT("arrayRemove",t)}function jI(t){return new xT("increment",t)}(function(e,n=!0){(function(s){qc=s})(Wc),Us(new ds("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new yi(new EQ(r.getProvider("auth-internal")),new CQ(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Lr(jA,MA,e),Lr(jA,MA,"esm2017")})();var IJ="firebase",NJ="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(IJ,NJ,"app");const EO="@firebase/installations",RT="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=1e4,SO=`w:${RT}`,CO="FIS_v2",PJ="https://firebaseinstallations.googleapis.com/v1",RJ=60*60*1e3,kJ="installations",DJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new qa(kJ,DJ,jJ);function AO(t){return t instanceof ps&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO({projectId:t}){return`${PJ}/projects/${t}/installations`}function NO(t){return{token:t.token,requestStatus:2,expiresIn:OJ(t.expiresIn),creationTime:Date.now()}}async function PO(t,e){const r=(await e.json()).error;return Ra.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function RO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MJ(t,{refreshToken:e}){const n=RO(t);return n.append("Authorization",LJ(e)),n}async function kO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function OJ(t){return Number(t.replace("s","000"))}function LJ(t){return`${CO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IO(t),s=RO(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:CO,appId:t.appId,sdkVersion:SO},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kO(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:NO(c.authToken)}}else throw await PO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=/^[cdef][\w-]{21}$/,cx="";function zJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=BJ(t);return UJ.test(n)?n:cx}catch{return cx}}function BJ(t){return FJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Map;function MO(t,e){const n=cy(t);OO(n,e),$J(n,e)}function OO(t,e){const n=jO.get(t);if(n)for(const r of n)r(e)}function $J(t,e){const n=WJ();n&&n.postMessage({key:t,fid:e}),qJ()}let ca=null;function WJ(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=t=>{OO(t.data.key,t.data.fid)}),ca}function qJ(){jO.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ="firebase-installations-database",GJ=1,ka="firebase-installations-store";let Gv=null;function kT(){return Gv||(Gv=Lj(HJ,GJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}})),Gv}async function Om(t,e){const n=cy(t),s=(await kT()).transaction(ka,"readwrite"),i=s.objectStore(ka),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&MO(t,e.fid),e}async function LO(t){const e=cy(t),r=(await kT()).transaction(ka,"readwrite");await r.objectStore(ka).delete(e),await r.done}async function uy(t,e){const n=cy(t),s=(await kT()).transaction(ka,"readwrite"),i=s.objectStore(ka),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&MO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(t){let e;const n=await uy(t.appConfig,r=>{const s=KJ(r),i=QJ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cx?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function KJ(t){const e=t||{fid:zJ(),registrationStatus:0};return VO(e)}function QJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ra.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XJ(t)}:{installationEntry:e}}async function YJ(t,e){try{const n=await VJ(t,e);return Om(t.appConfig,n)}catch(n){throw AO(n)&&n.customData.serverCode===409?await LO(t.appConfig):await Om(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function XJ(t){let e=await MI(t.appConfig);for(;e.registrationStatus===1;)await DO(100),e=await MI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await DT(t);return r||n}return e}function MI(t){return uy(t,e=>{if(!e)throw Ra.create("installation-not-found");return VO(e)})}function VO(t){return JJ(t)?{fid:t.fid,registrationStatus:0}:t}function JJ(t){return t.registrationStatus===1&&t.registrationTime+_O<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZJ({appConfig:t,heartbeatServiceProvider:e},n){const r=eZ(t,n),s=MJ(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:SO,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kO(()=>fetch(r,a));if(l.ok){const c=await l.json();return NO(c)}else throw await PO("Generate Auth Token",l)}function eZ(t,{fid:e}){return`${IO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(t,e=!1){let n;const r=await uy(t.appConfig,i=>{if(!FO(i))throw Ra.create("not-registered");const o=i.authToken;if(!e&&rZ(o))return i;if(o.requestStatus===1)return n=tZ(t,e),i;{if(!navigator.onLine)throw Ra.create("app-offline");const a=iZ(i);return n=nZ(t,a),a}});return n?await n:r.authToken}async function tZ(t,e){let n=await OI(t.appConfig);for(;n.authToken.requestStatus===1;)await DO(100),n=await OI(t.appConfig);const r=n.authToken;return r.requestStatus===0?jT(t,e):r}function OI(t){return uy(t,e=>{if(!FO(e))throw Ra.create("not-registered");const n=e.authToken;return oZ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nZ(t,e){try{const n=await ZJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Om(t.appConfig,r),n}catch(n){if(AO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await LO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Om(t.appConfig,r)}throw n}}function FO(t){return t!==void 0&&t.registrationStatus===2}function rZ(t){return t.requestStatus===2&&!sZ(t)}function sZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RJ}function iZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oZ(t){return t.requestStatus===1&&t.requestTime+_O<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await DT(e);return r?r.catch(console.error):jT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(t,e=!1){const n=t;return await cZ(n),(await jT(n,e)).token}async function cZ(t){const{registrationPromise:e}=await DT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(t){if(!t||!t.options)throw Kv("App Configuration");if(!t.name)throw Kv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Kv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Kv(t){return Ra.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="installations",dZ="installations-internal",hZ=t=>{const e=t.getProvider("app").getImmediate(),n=uZ(e),r=Ha(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},fZ=t=>{const e=t.getProvider("app").getImmediate(),n=Ha(e,UO).getImmediate();return{getId:()=>aZ(n),getToken:s=>lZ(n,s)}};function pZ(){Us(new ds(UO,hZ,"PUBLIC")),Us(new ds(dZ,fZ,"PRIVATE"))}pZ();Lr(EO,RT);Lr(EO,RT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="analytics",mZ="firebase_id",gZ="origin",yZ=60*1e3,vZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Fg("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_r=new qa("analytics","Analytics",wZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){if(!t.startsWith(MT)){const e=_r.create("invalid-gtag-resource",{gtagURL:t});return cr.warn(e.message),""}return t}function zO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function TZ(t,e){const n=bZ("firebase-js-sdk-policy",{createScriptURL:xZ}),r=document.createElement("script"),s=`${MT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function EZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _Z(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await zO(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){cr.error(a)}t("config",s,i)}async function SZ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await zO(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){cr.error(i)}}function CZ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await SZ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await _Z(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){cr.error(a)}}return s}function AZ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=CZ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function IZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(MT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=30,PZ=1e3;class RZ{constructor(e={},n=PZ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BO=new RZ;function kZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DZ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:kZ(r)},i=vZ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function jZ(t,e=BO,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw _r.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw _r.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new LZ;return setTimeout(async()=>{a.abort()},yZ),$O({appId:r,apiKey:s,measurementId:i},o,a,e)}async function $O(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=BO){var i;const{appId:o,measurementId:a}=t;try{await MZ(r,e)}catch(l){if(a)return cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await DZ(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!OZ(c)){if(s.deleteThrottleMetadata(o),a)return cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?TA(n,s.intervalMillis,NZ):TA(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),cr.debug(`Calling attemptFetch again in ${d} millis`),$O(t,f,r,s)}}function MZ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OZ(t){if(!(t instanceof ps)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class LZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function VZ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FZ(){if(Dj())try{await jj()}catch(t){return cr.warn(_r.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return cr.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UZ(t,e,n,r,s,i,o){var a;const l=jZ(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&cr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>cr.error(g)),e.push(l);const c=FZ().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);IZ(i)||TZ(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[gZ]="firebase",p.update=!0,f!=null&&(p[mZ]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e){this.app=e}_delete(){return delete pd[this.app.options.appId],Promise.resolve()}}let pd={},LI=[];const VI={};let Qv="dataLayer",BZ="gtag",FI,WO,UI=!1;function $Z(){const t=[];if(kj()&&t.push("This is a browser extension environment."),nK()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});cr.warn(n.message)}}function WZ(t,e,n){$Z();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _r.create("no-api-key");if(pd[r]!=null)throw _r.create("already-exists",{id:r});if(!UI){EZ(Qv);const{wrappedGtag:i,gtagCore:o}=AZ(pd,LI,VI,Qv,BZ);WO=i,FI=o,UI=!0}return pd[r]=UZ(t,LI,VI,e,FI,Qv,n),new zZ(t)}function qZ(t=Ub()){t=Ot(t);const e=Ha(t,Lm);return e.isInitialized()?e.getImmediate():HZ(t)}function HZ(t,e={}){const n=Ha(t,Lm);if(n.isInitialized()){const s=n.getImmediate();if(Fs(e,n.getOptions()))return s;throw _r.create("already-initialized")}return n.initialize({options:e})}function GZ(t,e,n,r){t=Ot(t),VZ(WO,pd[t.app.options.appId],e,n,r).catch(s=>cr.error(s))}const zI="@firebase/analytics",BI="0.10.16";function KZ(){Us(new ds(Lm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return WZ(r,s,n)},"PUBLIC")),Us(new ds("analytics-internal",t,"PRIVATE")),Lr(zI,BI),Lr(zI,BI,"esm2017");function t(e){try{const n=e.getProvider(Lm).getImmediate();return{logEvent:(r,s,i)=>GZ(n,r,s,i)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}}}KZ();var ux=function(t,e){return ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ux(t,e)};function QZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ux(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ht=function(){return ht=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ht.apply(this,arguments)};function kh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function YZ(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function qO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XZ=qO,HO=new qa("auth","Firebase",qO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Fg("@firebase/auth");function JZ(t,...e){Vm.logLevel<=Ge.WARN&&Vm.warn(`Auth (${Wc}): ${t}`,...e)}function _p(t,...e){Vm.logLevel<=Ge.ERROR&&Vm.error(`Auth (${Wc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw LT(t,...e)}function is(t,...e){return LT(t,...e)}function OT(t,e,n){const r=Object.assign(Object.assign({},XZ()),{[e]:n});return new qa("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return OT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZZ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(t,"argument-error"),OT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function LT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HO.create(t,...e)}function De(t,e,...n){if(!t)throw LT(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function wi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eee(){return $I()==="http:"||$I()==="https:"}function $I(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eee()||kj()||"connection"in navigator)?navigator.onLine:!0}function nee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=YG()||ZG()}get(){return tee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iee=new Dh(3e4,6e4);function _i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,s={}){return KO(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ch(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return JG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Sh(t.emulatorConfig.host)&&(c.credentials="include"),GO.fetch()(await QO(t,t.config.apiHost,n,a),c)})}async function KO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ree),e);try{const s=new aee(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OT(t,d,c);Br(t,d)}}catch(s){if(s instanceof ps)throw s;Br(t,"network-request-failed",{message:String(s)})}}async function jh(t,e,n,r,s={}){const i=await Si(t,e,n,r,s);return"mfaPendingCredential"in i&&Br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function QO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?VT(t.config,s):`${t.config.apiScheme}://${s}`;return see.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function oee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),iee.get())})}}function Uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=is(t,e,r);return s.customData._tokenResponse=n,s}function WI(t){return t!==void 0&&t.enterprise!==void 0}class lee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cee(t,e){return Si(t,"GET","/v2/recaptchaConfig",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uee(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function Fm(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dee(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),s=FT(r);De(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:md(Yv(s.auth_time)),issuedAtTime:md(Yv(s.iat)),expirationTime:md(Yv(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Yv(t){return Number(t)*1e3}function FT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const s=Cj(n);return s?JSON.parse(s):(_p("Failed to decode base64 JWT payload"),null)}catch(s){return _p("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qI(t){const e=FT(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ps&&hee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=md(this.lastLoginAt),this.creationTime=md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t){var e;const n=t.auth,r=await t.getIdToken(),s=await th(t,Fm(n,{idToken:r}));De(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?YO(i.providerUserInfo):[],a=mee(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function pee(t){const e=Ot(t);await Um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mee(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YO(t){return t.map(e=>{var{providerId:n}=e,r=kh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee(t,e){const n=await KO(t,{},async()=>{const r=Ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await QO(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yee(t,e){return Si(t,"POST","/v2/accounts:revokeToken",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=qI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gee(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Hl;return r&&(De(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(De(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await th(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dee(this,e)}reload(){return pee(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await th(this,uee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:P,providerData:j,stsTokenManager:C}=n;De(E&&C,e,"internal-error");const S=Hl.fromJSON(this.name,C);De(typeof E=="string",e,"internal-error"),ki(f,e.name),ki(p,e.name),De(typeof I=="boolean",e,"internal-error"),De(typeof P=="boolean",e,"internal-error"),ki(g,e.name),ki(v,e.name),ki(y,e.name),ki(T,e.name),ki(w,e.name),ki(x,e.name);const A=new ns({uid:E,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:P,photoURL:v,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:w,lastLoginAt:x});return j&&Array.isArray(j)&&(A.providerData=j.map(N=>Object.assign({},N))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Hl;s.updateFromServerResponse(n);const i=new ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Um(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];De(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YO(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Hl;a.updateFromIdToken(r);const l=new ns({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hx(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Map;function ni(t){wi(t instanceof Function,"Expected a class definition");let e=HI.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XO.type="NONE";const GI=XO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fm(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(ni(GI),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ni(GI);const o=Sp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Fm(e,{idToken:d}).catch(()=>{});if(!p)break;f=await ns._fromGetAccountInfoResponse(e,p,d)}else f=ns._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Gl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Gl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rL(e))return"Blackberry";if(sL(e))return"Webos";if(ZO(e))return"Safari";if((e.includes("chrome/")||eL(e))&&!e.includes("edge/"))return"Chrome";if(nL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JO(t=Mn()){return/firefox\//i.test(t)}function ZO(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eL(t=Mn()){return/crios\//i.test(t)}function tL(t=Mn()){return/iemobile/i.test(t)}function nL(t=Mn()){return/android/i.test(t)}function rL(t=Mn()){return/blackberry/i.test(t)}function sL(t=Mn()){return/webos/i.test(t)}function UT(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vee(t=Mn()){var e;return UT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wee(){return eK()&&document.documentMode===10}function iL(t=Mn()){return UT(t)||nL(t)||sL(t)||rL(t)||/windows phone/i.test(t)||tL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e=[]){let n;switch(t){case"Browser":n=KI(Mn());break;case"Worker":n=`${KI(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bee(t,e={}){return Si(t,"GET","/v2/passwordPolicy",_i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tee=6;class Eee{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Tee,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QI(this),this.idTokenSubscription=new QI(this),this.beforeStateQueue=new xee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fm(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Um(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(oi(this));const n=e?Ot(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bee(this),n=new Eee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yee(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fo(t){return Ot(t)}class QI{constructor(e){this.auth=e,this.observer=null,this.addObserver=aK(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function See(t){dy=t}function aL(t){return dy.loadJS(t)}function Cee(){return dy.recaptchaEnterpriseScript}function Aee(){return dy.gapiScript}function Iee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Nee{constructor(){this.enterprise=new Pee}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pee{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ree="recaptcha-enterprise",lL="NO_RECAPTCHA";class kee{constructor(e){this.type=Ree,this.auth=Fo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{cee(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new lee(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;WI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(lL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nee().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&WI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Cee();l.length!==0&&(l+=a),aL(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function YI(t,e,n,r=!1,s=!1){const i=new kee(t);let o;if(s)o=lL;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fx(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await YI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await YI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t,e){const n=Ha(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fs(i,e??{}))return s;Br(s,"already-initialized")}return n.initialize({options:e})}function jee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Mee(t,e,n){const r=Fo(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cL(e),{host:o,port:a}=Oee(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Fs(c,r.config.emulator)&&Fs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Sh(o)?(Pj(`${i}//${o}${l}`),Rj("Auth",!0)):Lee()}function cL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oee(t){const e=cL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:XI(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:XI(o)}}}function XI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function Vee(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fee(t,e){return jh(t,"POST","/v1/accounts:signInWithPassword",_i(t,e))}async function Uee(t,e){return Si(t,"POST","/v1/accounts:sendOobCode",_i(t,e))}async function zee(t,e){return Uee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bee(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}async function $ee(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends zT{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fx(e,n,"signInWithPassword",Fee);case"emailLink":return Bee(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fx(e,r,"signUpPassword",Vee);case"emailLink":return $ee(e,{idToken:n,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e){return jh(t,"POST","/v1/accounts:signInWithIdp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee="http://localhost";class Da extends zT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=kh(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Da(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:Wee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ch(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hee(t){const e=Pu(Ru(t)).link,n=e?Pu(Ru(e)).deep_link_id:null,r=Pu(Ru(t)).deep_link_id;return(r?Pu(Ru(r)).link:null)||r||n||e||t}class BT{constructor(e){var n,r,s,i,o,a;const l=Pu(Ru(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=qee((s=l.mode)!==null&&s!==void 0?s:null);De(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Hee(e);try{return new BT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.providerId=Xc.PROVIDER_ID}static credential(e,n){return nh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=BT.parseLink(n);return De(r,"argument-error"),nh._fromEmailAndCode(e,r.code,r.tenantId)}}Xc.PROVIDER_ID="password";Xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Mh{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Mh{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Mh{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gee(t,e){return jh(t,"POST","/v1/accounts:signUp",_i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ns._fromIdTokenResponse(e,r,s),o=JI(r);return new ja({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=JI(r);return new ja({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function JI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends ps{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new zm(e,n,r,s)}}function uL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(t,i,e,r):i})}async function Kee(t,e,n=!1){const r=await th(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qee(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(oi(r));const s="reauthenticate";try{const i=await th(t,uL(r,s,e,t),n);De(i.idToken,r,"internal-error");const o=FT(i.idToken);De(o,r,"internal-error");const{sub:a}=o;return De(t.uid===a,r,"user-mismatch"),ja._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e,n=!1){if(wr(t.app))return Promise.reject(oi(t));const r="signIn",s=await uL(t,r,e),i=await ja._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Yee(t,e){return dL(Fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t){const e=Fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xee(t,e,n){if(wr(t.app))return Promise.reject(oi(t));const r=Fo(t),o=await fx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gee).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hL(t),l}),a=await ja._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Jee(t,e,n){return wr(t.app)?Promise.reject(oi(t)):Yee(Ot(t),Xc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hL(t),r})}async function Zee(t,e){const n=Ot(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await zee(n.auth,s);i!==t.email&&await t.reload()}function ete(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function tte(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function hy(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function nte(t){return Ot(t).signOut()}const Bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=1e3,ste=10;class pL extends fL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);wee()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ste):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pL.type="LOCAL";const ite=pL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL extends fL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mL.type="SESSION";const gL=mL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ote(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await ote(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=WT("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function lte(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function cte(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ute(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dte(){return yL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebaseLocalStorageDb",hte=1,$m="firebaseLocalStorage",wL="fbase_key";class Oh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function py(t,e){return t.transaction([$m],e?"readwrite":"readonly").objectStore($m)}function fte(){const t=indexedDB.deleteDatabase(vL);return new Oh(t).toPromise()}function px(){const t=indexedDB.open(vL,hte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($m,{keyPath:wL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($m)?e(r):(r.close(),await fte(),e(await px()))})})}async function ZI(t,e,n){const r=py(t,!0).put({[wL]:e,value:n});return new Oh(r).toPromise()}async function pte(t,e){const n=py(t,!1).get(e),r=await new Oh(n).toPromise();return r===void 0?null:r.value}function eN(t,e){const n=py(t,!0).delete(e);return new Oh(n).toPromise()}const mte=800,gte=3;class xL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await px(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fy._getInstance(dte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cte(),!this.activeServiceWorker)return;this.sender=new ate(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ute()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await px();return await ZI(e,Bm,"1"),await eN(e,Bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eN(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=py(s,!1).getAll();return new Oh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xL.type="LOCAL";const yte=xL;new Dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){return e?ni(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends zT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vte(t){return dL(t.auth,new qT(t),t.bypassAuthState)}function wte(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),Qee(n,new qT(t),t.bypassAuthState)}async function xte(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),Kee(n,new qT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vte;case"linkViaPopup":case"linkViaRedirect":return xte;case"reauthViaPopup":case"reauthViaRedirect":return wte;default:Br(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new Dh(2e3,1e4);async function EL(t,e,n){if(wr(t.app))return Promise.reject(is(t,"operation-not-supported-in-this-environment"));const r=Fo(t);ZZ(t,e,$T);const s=bL(r,n);return new ua(r,"signInViaPopup",e,s).executeNotNull()}class ua extends TL{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=WT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bte.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte="pendingRedirect",Cp=new Map;class Ete extends TL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cp.get(this.auth._key());if(!e){try{const r=await _te(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cp.set(this.auth._key(),e)}return this.bypassAuthState||Cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _te(t,e){const n=Ate(e),r=Cte(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ste(t,e){Cp.set(t._key(),e)}function Cte(t){return ni(t._redirectPersistence)}function Ate(t){return Sp(Tte,t.config.apiKey,t.name)}async function Ite(t,e,n=!1){if(wr(t.app))return Promise.reject(oi(t));const r=Fo(t),s=bL(r,e),o=await new Ete(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=10*60*1e3;class Pte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_L(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nte&&this.cachedEventUids.clear(),this.cachedEventUids.has(tN(e))}saveEventToCache(e){this.cachedEventUids.add(tN(e)),this.lastProcessedEventTime=Date.now()}}function tN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _L({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _L(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kte(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jte=/^https?/;async function Mte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kte(t);for(const n of e)try{if(Ote(n))return}catch{}Br(t,"unauthorized-domain")}function Ote(t){const e=dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jte.test(n))return!1;if(Dte.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte=new Dh(3e4,6e4);function nN(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vte(t){return new Promise((e,n)=>{var r,s,i;function o(){nN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nN(),n(is(t,"network-request-failed"))},timeout:Lte.get()})}if(!((s=(r=Ms().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ms().gapi)===null||i===void 0)&&i.load)o();else{const a=Iee("iframefcb");return Ms()[a]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},aL(`${Aee()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function Fte(t){return Ap=Ap||Vte(t),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=new Dh(5e3,15e3),zte="__/auth/iframe",Bte="emulator/auth/iframe",$te={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qte(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VT(e,Bte):`https://${t.config.authDomain}/${zte}`,r={apiKey:e.apiKey,appName:t.name,v:Wc},s=Wte.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ch(r).slice(1)}`}async function Hte(t){const e=await Fte(t),n=Ms().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:qte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$te,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),a=Ms().setTimeout(()=>{i(o)},Ute.get());function l(){Ms().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kte=500,Qte=600,Yte="_blank",Xte="http://localhost";class rN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jte(t,e,n,r=Kte,s=Qte){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Gte),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Mn().toLowerCase();n&&(a=eL(c)?Yte:n),JO(c)&&(e=e||Xte,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(vee(c)&&a!=="_self")return Zte(e||"",a),new rN(null);const f=window.open(e||"",a,d);De(f,t,"popup-blocked");try{f.focus()}catch{}return new rN(f)}function Zte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="__/auth/handler",tne="emulator/auth/handler",nne=encodeURIComponent("fac");async function sN(t,e,n,r,s,i){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wc,eventId:s};if(e instanceof $T){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Mh){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${nne}=${encodeURIComponent(l)}`:"";return`${rne(t)}?${Ch(a).slice(1)}${c}`}function rne({config:t}){return t.emulator?VT(t,tne):`https://${t.authDomain}/${ene}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="webStorageSupport";class sne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gL,this._completeRedirectFn=Ite,this._overrideRedirectResult=Ste}async _openPopup(e,n,r,s){var i;wi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await sN(e,n,r,dx(),s);return Jte(e,o,WT())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await sN(e,n,r,dx(),s);return lte(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(wi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hte(e),r=new Pte(e);return n.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xv,{type:Xv},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Xv];o!==void 0&&n(!!o),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iL()||ZO()||UT()}}const ine=sne;var iN="@firebase/auth",oN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lne(t){Us(new ds("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;De(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oL(t)},c=new _ee(r,s,i,l);return jee(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new ds("auth-internal",e=>{const n=Fo(e.getProvider("auth").getImmediate());return(r=>new one(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(iN,oN,ane(t)),Lr(iN,oN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=5*60,une=Nj("authIdTokenMaxAge")||cne;let aN=null;const dne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>une)return;const s=n==null?void 0:n.token;aN!==s&&(aN=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hne(t=Ub()){const e=Ha(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dee(t,{popupRedirectResolver:ine,persistence:[yte,ite,gL]}),r=Nj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=dne(i.toString());tte(n,o,()=>o(n.currentUser)),ete(n,a=>o(a))}}const s=Aj("auth");return s&&Mee(n,`http://${s}`),n}function fne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}See({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",fne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lne("Browser");const SL=async t=>{try{const e=new FormData;e.append("file",t);const n=await fetch("https://store4.gofile.io/uploadFile",{method:"POST",body:e});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const r=await n.json();if(console.log("GoFile API Response:",r),r.status!=="ok"||!r.data)throw new Error("Upload failed: "+JSON.stringify(r));return{fileId:r.data.fileId||r.data.id,fileName:r.data.fileName||r.data.name,fileUrl:r.data.downloadPage||r.data.url}}catch(e){throw console.error("Error in uploadFileToGofile:",e),new Error(`Failed to upload file: ${e.message}`)}},pne=async t=>{const e="https://api.gofile.io/deleteContent",n=new FormData;n.append("contentsId",t),n.append("token","ADcGHPd8aWmNV0h2Sxr5rEeEDFYLyTFW");try{const s=await(await fetch(e,{method:"POST",body:n})).json();if(s.status==="ok")console.log(`File ${t} deleted from GoFile.`);else throw new Error(`Failed to delete file from GoFile: ${s.status}`)}catch(r){throw console.error("Error deleting file from GoFile:",r),r}},mne={apiKey:"AIzaSyBEQ4RINpi53JYlQfDwtuE8RZ9m9l87BvM",authDomain:"alpha-project-713de.firebaseapp.com",projectId:"alpha-project-713de",storageBucket:"alpha-project-713de.appspot.com",messagingSenderId:"551038009112",appId:"1:551038009112:web:9a3f5ddd6c0d2a0164286d",measurementId:"G-T1LYWSN7PS"},HT=Vj(mne);qZ(HT);const Gt=hne(HT),ze=pJ(HT),gne=async(t,e,n)=>{try{return(await Rh(Zt(ze,"subjects"),{name:t,stageId:e,course:n,createdAt:At.now()})).id}catch(r){throw console.error("Error adding subject: ",r),r}},yne=async()=>{try{const t=Zt(ze,"subjects");return(await Zr(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",stageId:r.stageId||"",course:r.course||"2",createdAt:r.createdAt||null}})}catch(t){throw console.error("Error getting subjects: ",t),t}},vne=async(t,e,n,r)=>{try{const s=xt(ze,"subjects",t),i={name:e,stageId:n};r&&(i.course=r),await ii(s,i)}catch(s){throw s}},wne=async t=>{try{await Xs(xt(ze,"subjects",t))}catch(e){throw console.error("Error deleting subject: ",e),e}},xne=async(t,e,n,r)=>{try{const s=await SL(r);if(!s||!s.fileId||!s.fileName||!s.fileUrl)throw new Error("Failed to upload file to Gofile, missing file information.");return(await Rh(Zt(ze,"lectures"),{subjectId:t,title:e,description:n,fileId:s.fileId,fileName:s.fileName,fileUrl:s.fileUrl,createdAt:At.now()})).id}catch(s){throw console.error("Error adding lecture: ",s),s}},bne=async t=>{try{const e=Zt(ze,"lectures"),n=t?es(e,Mu("subjectId","==",t)):e;return(await Zr(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting lectures: ",e),e}},Tne=async(t,e,n,r,s)=>{try{const i=xt(ze,"lectures",t);await ii(i,{title:e,description:n,fileId:s,fileName:"",fileUrl:""})}catch(i){throw console.error("Error updating lecture: ",i),i}},Ene=async(t,e)=>{try{if(e)try{await pne(e)}catch(n){console.warn("Could not delete Gofile file, it might not exist or permissions are insufficient:",n)}await Xs(xt(ze,"lectures",t))}catch(n){throw console.error("Error deleting lecture: ",n),n}},Dr={en:{home:"Home",about:"About",services:"Services",contact:"Contact",lectures:"Lectures",news:"News",readMore:"Read More",learnMore:"Learn More",submit:"Submit",cancel:"Cancel",save:"Save",switchToArabic:"عربي",switchToEnglish:"English",welcomeMessage:"Welcome to our educational platform",platformDescription:"A comprehensive platform to help students access lectures and study materials easily and conveniently. We aim to provide an exceptional and organized educational experience for all academic levels.",organizedLectures:"Organized Lectures",organizedLecturesDesc:"All lectures are arranged by stages and subjects for easy access and follow-up",specializedTeam:"Specialized Team",specializedTeamDesc:"The Alpha Team works hard to provide the best educational materials and support for students",highQuality:"High Quality",highQualityDesc:"High-quality content that is constantly updated to ensure the best educational experience",latestNews:"Latest News and Updates",latestNewsDesc:"Check out the latest 3 news and updates on our platform",aboutUs:"Who are we?",aboutUsDesc:"Alpha Team is a group of students and specialists who aim to facilitate the educational process and provide the necessary resources for students' success in their academic journey. We believe that education should be accessible, organized, and easy to reach, which is why we created this platform to be a digital home for all lectures and study materials required in different stages.",joinUs:"Join Us Today",joinUsDesc:"Start your learning journey with us and discover a world of knowledge and opportunities",registerNow:"Register Now",contactUs:"Contact Us",learnAboutOurTeam:"Learn About Our Team",startBrowsing:"Start Browsing",viewAllNews:"View All News",ourMission:"Our Mission",ourMissionDesc:"We strive to provide an integrated educational platform that helps students achieve their academic goals by providing high-quality educational content, an easy and enjoyable user experience, and continuous support from a specialized team.",contentQuality:"Content Quality",contentQualityDesc:"We provide high-quality educational content organized professionally",easeOfUse:"Ease of Use",easeOfUseDesc:"A simple and easy user interface that enables students to access content quickly",continuousSupport:"Continuous Support",continuousSupportDesc:"A specialized support team always available to help students",ourVision:"Our Vision",ourVisionDesc:"To be the first educational platform in the Arab world that provides organized and up-to-date content for all academic levels.",distinguishedContent:"Distinguished Content",distinguishedContentDesc:"Providing high-quality lectures, summaries, and educational materials, organized and easy to search and use.",specializedTeamAbout:"Specialized Team",specializedTeamAboutDesc:"An elite group of programmers and teachers working together to provide the best digital educational experience.",ourValues:"Our Values",ourValuesDesc:"Transparency, cooperation, innovation, and supporting students in their educational journey.",studentTestimonials:"Student Testimonials",noNews:"No news at the moment.",followUpdates:"Follow the latest developments and updates on the Alpha educational platform",addNews:"Add News",close:"Close",lectureTranslation:"Lecture Translation",translationDescription:"Upload your lecture file and get it translated to your desired language.",uploadLecture:"Upload Lecture File",clickToUpload:"Click to upload or drag and drop",supportedFormats:"PDF, DOC, DOCX, TXT (max. 10MB)",targetLanguage:"Target Language",translate:"Translate",translating:"Translating...",originalText:"Original Text",originalTextPlaceholder:"The original text will appear here after uploading the file...",translatedText:"Translated Text",translatedTextPlaceholder:"The translated text will appear here.",downloadTranslated:"Download Translated File",downloadTooltip:"Download the translated text as a PDF file",copyToClipboard:"Copy to Clipboard",pleaseSelectFile:"Please select a file first.",translationError:"An error occurred during translation. Please try again.",pleaseUploadFile:"Please upload a file for translation.",waitMinutes:"Please wait {minutes} minutes before requesting another translation.",aiError:"Sorry, an error occurred while connecting to AI.",tooManyRequests:"Too Many Requests: You have exceeded the AI usage rate limits. Please try again later.",loadingStages:"Loading academic stages...",errorMessageTitle:"Error",lecturesTitle:"Lectures",lecturesDescription:"Select an academic stage to access required materials and lectures or search for a specific lecture",searchLecturePlaceholder:"Search for a lecture...",allStages:"All Stages",academicStages:"Academic Stages",noStagesAvailable:"No academic stages available currently.",noStagesAddedYet:"It seems no academic stages have been added yet.",viewMaterials:"View Materials",filteredResultsTitle:"Filtered Results and Lectures",noLecturesMatchCriteria:"No lectures match the search or filter criteria.",dateNotAvailable:"Date not available",viewLecture:"View Lecture",latestLecturesAdded:"Latest Added Lectures",loadingLatestLectures:"Loading latest lectures...",fetchStagesError:"Failed to fetch academic stages.",fetchLatestLecturesError:"Failed to fetch latest lectures.",fetchAllLecturesError:"Failed to fetch all lectures.",firstCourse:"First Course",secondCourse:"Second Course",loadingStageData:"Loading stage data...",fetchStageError:"Failed to fetch stage data.",backToStages:"Back to Stages",stageNotFound:"Stage not found.",stageNotFoundDescription:"The requested stage could not be found.",stageLabel:"Stage",availableSubjectsForStage:"Available subjects for this stage:",noSubjectsInFirstCourse:"No subjects available in the first course yet.",firstCourseSubjectsLater:"Subjects for the first course will be added later.",noSubjectsAvailable:"No subjects available yet.",noSubjectsAddedYet:"It seems no subjects have been added yet.",exploreSubjectsLectures:"Explore subjects and lectures",viewLectures:"View Lectures",popularLecturesTitle:"Popular Lectures",loadingPopularLectures:"Loading popular lectures...",noPopularLecturesAvailable:"No Popular Lectures Available",noPopularLecturesAddedYet:"Popular lectures will appear here soon.",noDescriptionAvailable:"No description available.",allLecturesTitle:"All Lectures",loadingAllLectures:"Loading all lectures...",noLecturesFound:"No Lectures Found",tryDifferentSearch:"Try a different search term or filter.",page:"Page",of:"of",trendingLectures:"Trending Lectures",recentlyAddedLectures:"Recently Added Lectures",resources:"Resources",resourceLibrary:"Resource Library",resourceLibraryDesc:"Discover our collection of technical resources, tools, and learning materials",searchResources:"Search resources...",categories:"Categories",download:"Download",visit:"Visit",addResource:"Add Resource",addNewResource:"Add New Resource",addResourceDesc:"Add a new resource to the library",resourceTitlePlaceholder:"Enter resource title",resourceDescPlaceholder:"Enter resource description",resourceLinkPlaceholder:"Enter resource link",selectCategory:"Select a category",selectType:"Select resource type",book:"Book",tool:"Tool",type:"Type",link:"Link",adding:"Adding...",add:"Add",title:"Title",description:"Description",category:"Category",error:"Error",success:"Success",fillAllFields:"Please fill all fields",resourceAddedSuccess:"Resource added successfully",resourceAddError:"Error adding resource",noResourcesFound:"No resources match your search",noResourcesAvailable:"No resources available yet",resourceFetchError:"Failed to load resources"},ar:{home:"الرئيسية",about:"من نحن",services:"خدماتنا",contact:"اتصل بنا",lectures:"المحاضرات",news:"الأخبار",readMore:"اقرأ المزيد",learnMore:"اعرف المزيد",submit:"إرسال",cancel:"إلغاء",save:"حفظ",switchToArabic:"عربي",switchToEnglish:"English",welcomeMessage:"مرحباً بك في منصتنا التعليمية",platformDescription:"منصة شاملة لمساعدة الطلاب في الوصول إلى المحاضرات والمواد الدراسية بسهولة ويسر. نهدف إلى توفير تجربة تعليمية متميزة ومنظمة لجميع المراحل الدراسية.",organizedLectures:"محاضرات منظمة",organizedLecturesDesc:"جميع المحاضرات مرتبة حسب المراحل والمواد لسهولة الوصول والمتابعة",specializedTeam:"فريق متخصص",specializedTeamDesc:"فريق Alpha Team يعمل بجد لتوفير أفضل المواد التعليمية والدعم للطلاب",highQuality:"جودة عالية",highQualityDesc:"محتوى عالي الجودة ومحدث باستمرار لضمان أفضل تجربة تعليمية",latestNews:"آخر الأخبار والتحديثات",latestNewsDesc:"اطلع على آخر 3 أخبار وتحديثات في منصتنا",aboutUs:"من نحن؟",aboutUsDesc:"فريق Alpha Team هو مجموعة من الطلاب والمختصين الذين يهدفون إلى تسهيل العملية التعليمية وتوفير الموارد اللازمة لنجاح الطلاب في مسيرتهم الأكاديمية. نحن نؤمن بأن التعليم يجب أن يكون متاحاً ومنظماً وسهل الوصول إليه، لذلك أنشأنا هذه المنصة لتكون بيتاً رقمياً لجميع المحاضرات والمواد الدراسية المطلوبة في المراحل المختلفة.",joinUs:"انضم إلينا اليوم",joinUsDesc:"ابدأ رحلة التعلم معنا واكتشف عالم من المعرفة والفرص",registerNow:"سجل الآن",contactUs:"تواصل معنا",learnAboutOurTeam:"تعرف على فريقنا",startBrowsing:"ابدأ التصفح",viewAllNews:"عرض جميع الأخبار",ourMission:"رسالتنا",ourMissionDesc:"نسعى جاهدين لتوفير منصة تعليمية متكاملة تساعد الطلاب على تحقيق أهدافهم الأكاديمية من خلال تقديم محتوى تعليمي عالي الجودة، وتجربة مستخدم سهلة وممتعة، ودعم مستمر من فريق متخصص.",contentQuality:"جودة المحتوى",contentQualityDesc:"نقدم محتوى تعليمي عالي الجودة ومنظم بشكل احترافي",easeOfUse:"سهولة الاستخدام",easeOfUseDesc:"واجهة مستخدم سهلة وبسيطة تمكن الطلاب من الوصول للمحتوى بسرعة",continuousSupport:"دعم مستمر",continuousSupportDesc:"فريق دعم متخصص متاح دائماً لمساعدة الطلاب",ourVision:"رؤيتنا",ourVisionDesc:"أن نكون المنصة التعليمية الأولى في العالم العربي التي توفر محتوى منظم وحديث لجميع المراحل الدراسية.",distinguishedContent:"محتوى متميز",distinguishedContentDesc:"توفير محاضرات وملخصات ومواد تعليمية عالية الجودة، منظمة وسهلة البحث والاستخدام.",specializedTeamAbout:"فريق متخصص",specializedTeamAboutDesc:"نخبة من المبرمجين والمعلمين يعملون معًا لتقديم أفضل تجربة تعليمية رقمية.",ourValues:"قيمنا",ourValuesDesc:"الشفافية، التعاون، الابتكار، ودعم الطلاب في رحلتهم التعليمية.",studentTestimonials:"آراء طلابنا",noNews:"لا توجد أخبار حالياً.",followUpdates:"تابع أحدث المستجدات والتحديثات على منصة Alpha التعليمية",addNews:"إضافة خبر",close:"إغلاق",lectureTranslation:"ترجمة المحاضرة",translationDescription:"قم بتحميل ملف المحاضرة واحصل على ترجمته إلى اللغة المطلوبة.",uploadLecture:"تحميل ملف المحاضرة",clickToUpload:"انقر للتحميل أو اسحب وأفلت",supportedFormats:"PDF, DOC, DOCX, TXT (الحد الأقصى 10 ميجابايت)",targetLanguage:"اللغة المستهدفة",translate:"ترجمة",translating:"جاري الترجمة...",originalText:"النص الأصلي",originalTextPlaceholder:"سيظهر النص الأصلي هنا بعد تحميل الملف...",translatedText:"النص المترجم",translatedTextPlaceholder:"سيظهر النص المترجم هنا.",downloadTranslated:"تنزيل الملف المترجم",downloadTooltip:"تنزيل النص المترجم كملف PDF",copyToClipboard:"نسخ إلى الحافظة",pleaseSelectFile:"الرجاء اختيار ملف أولاً.",translationError:"حدث خطأ أثناء الترجمة. يرجى المحاولة مرة أخرى.",pleaseUploadFile:"الرجاء تحميل ملف للترجمة.",waitMinutes:"الرجاء الانتظار {minutes} دقائق قبل طلب ترجمة أخرى.",aiError:"عذراً، حدث خطأ أثناء الاتصال بالذكاء الاصطناعي.",tooManyRequests:"Too Many Requests: لقد تجاوزت حدود معدل الاستخدام لـ AI. يرجى المحاولة لاحقاً.",loadingStages:"جاري تحميل المراحل الدراسية...",errorMessageTitle:"حدث خطأ",lecturesTitle:"المحاضرات",lecturesDescription:"اختر المرحلة الدراسية للوصول إلى المواد والمحاضرات المطلوبة أو ابحث عن محاضرة معينة",searchLecturePlaceholder:"البحث عن محاضرة...",allStages:"جميع المراحل",academicStages:"المراحل الدراسية",noStagesAvailable:"لا توجد مراحل دراسية حاليًا.",noStagesAddedYet:"يبدو أنه لم يتم إضافة أي مراحل دراسية حتى الآن.",viewMaterials:"عرض المواد",filteredResultsTitle:"نتائج البحث والمحاضرات المفلترة",noLecturesMatchCriteria:"لا توجد محاضرات تطابق معايير البحث أو التصفية.",dateNotAvailable:"التاريخ غير متاح",viewLecture:"عرض المحاضرة",latestLecturesAdded:"آخر المحاضرات المضافة",loadingLatestLectures:"جاري تحميل آخر المحاضرات...",fetchStagesError:"فشل في جلب المراحل الدراسية.",fetchLatestLecturesError:"فشل في جلب آخر المحاضرات.",fetchAllLecturesError:"فشل في جلب جميع المحاضرات.",firstCourse:"الفصل الدراسي الأول",secondCourse:"الفصل الدراسي الثاني",loadingStageData:"جاري تحميل بيانات المرحلة...",fetchStageError:"فشل في جلب بيانات المرحلة.",backToStages:"العودة إلى المراحل",stageNotFound:"لم يتم العثور على المرحلة.",stageNotFoundDescription:"لا يمكن العثور على المرحلة المطلوبة.",stageLabel:"المرحلة",availableSubjectsForStage:"المواد المتاحة لهذه المرحلة:",noSubjectsInFirstCourse:"لا توجد مواد متاحة في الفصل الدراسي الأول حتى الآن.",firstCourseSubjectsLater:"ستتم إضافة مواد الفصل الدراسي الأول لاحقًا.",noSubjectsAvailable:"لا توجد مواد متاحة حتى الآن.",noSubjectsAddedYet:"يبدو أنه لم يتم إضافة أي مواد حتى الآن.",exploreSubjectsLectures:"استكشاف المواد والمحاضرات",viewLectures:"عرض المحاضرات",popularLecturesTitle:"المحاضرات الأكثر شيوعًا",loadingPopularLectures:"تحميل المحاضرات الأكثر شيوعًا...",noPopularLecturesAvailable:"لا توجد محاضرات شائعة حاليًا.",noPopularLecturesAddedYet:"ستظهر المحاضرات الشائعة هنا قريباً.",noDescriptionAvailable:"لا يوجد وصف متاح.",allLecturesTitle:"جميع المحاضرات",loadingAllLectures:"تحميل جميع المحاضرات...",noLecturesFound:"لم يتم العثور على محاضرات",tryDifferentSearch:"جرب مصطلح بحث أو تصفية مختلف.",page:"صفحة",of:"من",trendingLectures:"المحاضرات الرائجة",recentlyAddedLectures:"المحاضرات المضافة حديثاً",resources:"المصادر",resourceLibrary:"مكتبة المصادر",resourceLibraryDesc:"اكتشف مجموعتنا من المصادر التقنية والأدوات والمواد التعليمية",searchResources:"البحث في المصادر...",categories:"التصنيفات",download:"تحميل",visit:"زيارة",addResource:"إضافة مصدر",addNewResource:"إضافة مصدر جديد",addResourceDesc:"إضافة مصدر جديد إلى المكتبة",resourceTitlePlaceholder:"أدخل عنوان المصدر",resourceDescPlaceholder:"أدخل وصف المصدر",resourceLinkPlaceholder:"أدخل رابط المصدر",selectCategory:"اختر الفئة",selectType:"اختر نوع المصدر",book:"كتاب",tool:"أداة",type:"النوع",link:"الرابط",adding:"جاري الإضافة...",add:"إضافة",title:"العنوان",description:"الوصف",category:"الفئة",error:"خطأ",success:"نجاح",fillAllFields:"يرجى ملء جميع الحقول",resourceAddedSuccess:"تمت إضافة المصدر بنجاح",resourceAddError:"حدث خطأ أثناء إضافة المصدر",noResourcesFound:"لا توجد مصادر تطابق بحثك",noResourcesAvailable:"لا توجد مصادر متاحة حالياً",resourceFetchError:"فشل في تحميل المصادر"}},CL=m.createContext(void 0),_ne=({children:t})=>{const[e,n]=m.useState(()=>localStorage.getItem("language")||"en");return m.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.dir=e==="ar"?"rtl":"ltr",document.documentElement.lang=e},[e]),u.jsxs(CL.Provider,{value:{language:e,setLanguage:n},children:[console.log("LanguageContext language:",e,"translations[language]:",Dr[e]),t]})},Xa=()=>{const t=m.useContext(CL);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t},Sne=()=>{const{scrollYProgress:t}=jG();yA(t,[0,.5],[1,0]),yA(t,[0,.5],[1,.8]);const[e,n]=m.useState([]),[r,s]=m.useState(!0),i=Wa(),{language:o}=Xa(),a=Dr[o];m.useEffect(()=>{(async()=>{try{s(!0);const d=Zt(ze,"news"),f=es(d,Yc("createdAt","desc"),IT(3)),g=(await Zr(f)).docs.map(v=>({id:v.id,...v.data()}));n(g)}catch(d){console.error("Error fetching latest news:",d)}finally{s(!1)}})()},[]);const l=c=>{console.log("Navigating to news with ID:",c),i(`/news/${c}`)};return u.jsx(u.Fragment,{children:u.jsxs("section",{className:"relative min-h-screen container mx-auto px-4 py-20 overflow-hidden bg-gradient-to-b from-background via-background/95 to-muted",children:[u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((c,d)=>u.jsx(Le.div,{className:"absolute w-2 h-2 bg-primary/20 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight},animate:{y:[0,-100],opacity:[0,1,0]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2}},d))}),u.jsx(Le.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse"},className:"absolute top-10 left-10 w-32 h-32 bg-primary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(Le.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:.5},className:"absolute bottom-10 right-10 w-40 h-40 bg-secondary rounded-full mix-blend-multiply filter blur-3xl"}),u.jsx(Le.div,{initial:{opacity:0,scale:.8},animate:{opacity:.3,scale:1},transition:{duration:2,ease:"easeOut",repeat:1/0,repeatType:"reverse",delay:1},className:"absolute top-1/4 right-20 w-28 h-28 bg-accent rounded-full mix-blend-multiply filter blur-3xl"}),u.jsxs("div",{className:"relative z-10 text-center mb-16",children:[u.jsx(Le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"inline-block",children:u.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium mb-4",children:[u.jsx(Wk,{className:"w-4 h-4 mr-2"}),a.welcomeMessage]})}),u.jsx(Le.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-5xl md:text-6xl font-extrabold text-foreground mb-6 leading-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:u.jsx("span",{className:"text-primary",children:"ALPHA TEAM"})}),u.jsx(Le.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:a.platformDescription}),u.jsx(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.8,type:"spring"},className:"mt-10",children:u.jsx(Dt,{to:"/news",children:u.jsxs(de,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[a.startBrowsing,u.jsx(Cu,{className:"mr-2 h-5 w-5"})]})})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:[{icon:u.jsx(jr,{className:"h-8 w-8 text-primary"}),title:a.organizedLectures,description:a.organizedLecturesDesc},{icon:u.jsx(Pl,{className:"h-8 w-8 text-primary"}),title:a.specializedTeam,description:a.specializedTeamDesc},{icon:u.jsx(bS,{className:"h-8 w-8 text-primary"}),title:a.highQuality,description:a.highQualityDesc}].map((c,d)=>u.jsx(Le.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},viewport:{once:!0,amount:.5},children:u.jsxs(Bt,{className:"text-center shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-gradient-to-b from-card to-card/80 backdrop-blur-sm border-primary/20",children:[u.jsxs(gn,{children:[u.jsx(Le.div,{whileHover:{scale:1.1,rotate:5},className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:c.icon}),u.jsx($n,{className:"text-xl font-semibold text-foreground",children:c.title})]}),u.jsx(cn,{children:u.jsx(Ls,{className:"text-base text-muted-foreground",children:c.description})})]})},d))}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs(Le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-4",children:a.latestNews}),u.jsx("p",{className:"text-xl text-muted-foreground",children:a.latestNewsDesc})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r?Array.from({length:3}).map((c,d)=>u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"bg-muted rounded-lg h-48 mb-4"}),u.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),u.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]},d)):e.length>0?e.map((c,d)=>{var f;return u.jsx(Le.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},viewport:{once:!0},children:u.jsxs(Bt,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 h-full cursor-pointer",onClick:()=>l(c.id),children:[u.jsxs("div",{className:"relative h-48 overflow-hidden",children:[u.jsx("img",{src:c.imageUrls[0]||"https://placehold.co/600x400",alt:c.title,className:"w-full h-full object-cover transform hover:scale-110 transition-transform duration-300"}),c.tag&&u.jsx("div",{className:"absolute top-4 right-4 bg-primary/90 text-primary-foreground px-3 py-1 rounded-full text-sm",children:c.tag})]}),u.jsxs(gn,{children:[u.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[u.jsx(QU,{className:"w-4 h-4 mr-2"}),(f=c.createdAt)==null?void 0:f.toDate().toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"})]}),u.jsx($n,{className:"text-xl font-semibold line-clamp-2",children:c.title})]}),u.jsxs(cn,{className:"flex flex-col justify-between h-full",children:[u.jsx(Ls,{className:"text-base line-clamp-2 mb-4",children:c.description}),u.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-muted-foreground",children:[u.jsx(bS,{className:"w-4 h-4 mr-1"}),c.likes]}),u.jsxs(de,{variant:"ghost",className:"text-primary hover:text-primary/80",onClick:p=>{p.stopPropagation(),l(c.id)},children:["اقرأ المزيد",u.jsx(Cu,{className:"mr-2 h-4 w-4"})]})]})]})]})},c.id)}):u.jsx("div",{className:"col-span-3 text-center py-12",children:u.jsx("p",{className:"text-xl text-muted-foreground",children:"لا توجد أخبار حالياً"})})})]})}),u.jsx(Le.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"relative mt-20",children:u.jsxs(Bt,{className:"bg-gradient-to-br from-card to-card/80 backdrop-blur-sm border-primary/20 shadow-xl",children:[u.jsx(gn,{className:"text-center",children:u.jsx(Le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:u.jsx($n,{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:a.aboutUs})})}),u.jsx(cn,{className:"text-center",children:u.jsxs(Le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[u.jsx("p",{className:"text-xl text-muted-foreground max-w-4xl mx-auto leading-relaxed mb-8",children:a.aboutUsDesc}),u.jsx(Le.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Dt,{to:"/about",children:u.jsxs(de,{size:"lg",variant:"outline",className:"bg-transparent hover:bg-primary/10 text-primary border-primary hover:border-primary/80 px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[a.readMore,u.jsx(Cu,{className:"mr-2 h-5 w-5"})]})})})]})})]})}),u.jsx("section",{className:"py-20 bg-gradient-to-b from-muted to-background",children:u.jsx("div",{className:"container mx-auto px-4 text-center",children:u.jsxs(Le.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[u.jsx("h2",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary mb-6",children:a.joinUs}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto mb-8",children:a.joinUsDesc}),u.jsx(Le.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(Dt,{to:"/register",children:u.jsxs(de,{size:"lg",className:"bg-gradient-to-r from-primary to-secondary hover:from-primary/90 hover:to-secondary/90 text-primary-foreground px-10 py-6 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[a.registerNow,u.jsx(Cu,{className:"mr-2 h-5 w-5"})]})})})]})})})]})})},Et=m.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Et.displayName="Input";var Cne="Label",AL=m.forwardRef((t,e)=>u.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AL.displayName=Cne;var IL=AL;const Ane=wh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zn=m.forwardRef(({className:t,...e},n)=>u.jsx(IL,{ref:n,className:fe(Ane(),t),...e}));zn.displayName=IL.displayName;const Ine=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),o=Wa(),a=async c=>{if(c.preventDefault(),i(""),!t||!/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(t)){i("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(!n){i("الرجاء إدخال كلمة المرور.");return}try{if(!(await Jee(Gt,t,n)).user.emailVerified){i("يرجى تأكيد بريدك الإلكتروني قبل تسجيل الدخول. تحقق من صندوق الوارد الخاص بك."),await Gt.signOut();return}o("/")}catch(d){console.error("Login error:",d),d.code==="auth/invalid-credential"||d.code==="auth/wrong-password"?i("البريد الإلكتروني أو كلمة المرور غير صحيحة."):d.code==="auth/invalid-email"?i("صيغة البريد الإلكتروني غير صحيحة."):d.code==="auth/user-disabled"?i("تم تعطيل هذا الحساب. يرجى التواصل مع المسؤول."):d.code==="auth/too-many-requests"?i("تم حظر هذا الحساب مؤقتاً بسبب محاولات تسجيل الدخول الفاشلة المتعددة. يرجى المحاولة لاحقاً أو إعادة تعيين كلمة المرور."):i("حدث خطأ أثناء تسجيل الدخول. يرجى المحاولة مرة أخرى.")}},l=async()=>{i("");try{const c=new _s,f=(await EL(Gt,c)).user,p=xt(ze,"users",f.uid);(await vi(p)).exists()?await Nc(p,{email:f.email,fullName:f.displayName||"",updatedAt:new Date},{merge:!0}):await Nc(p,{email:f.email,fullName:f.displayName||"",role:"user",createdAt:new Date}),o("/")}catch(c){console.error("Google login error:",c),i("فشل تسجيل الدخول باستخدام Google. يرجى المحاولة مرة أخرى.")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Dt,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(de,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),u.jsx(Le.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(Bt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(gn,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(Le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(s9,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx($n,{className:"text-4xl font-extrabold text-primary mb-2",children:"تسجيل الدخول"}),u.jsx(Ls,{className:"text-lg text-muted-foreground",children:"ادخل بياناتك للوصول إلى حسابك"})]}),u.jsxs(cn,{className:"p-8",children:[u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:c=>e(c.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(i0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),s&&u.jsx(Le.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:s}),u.jsx(de,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل الدخول"})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),u.jsxs(de,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:l,children:[u.jsx(zk,{className:"h-6 w-6 mr-3"}),"تسجيل الدخول باستخدام Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["ليس لديك حساب؟"," ",u.jsx(Dt,{to:"/register",className:"text-primary hover:underline font-semibold",children:"سجل الآن"})]})]})]})})]})},Nne=["register","login","logout","delete_user_by_admin","ban_user_by_admin","unban_user","add_lecture","delete_lecture","add_subject","delete_subject","update_lecture","update_subject"],rh=async t=>{if(!Nne.includes(t.type)){console.warn(`Activity type '${t.type}' is not allowed for logging.`);return}try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error(`Failed to fetch IP address: ${e.statusText}`);const n=await e.json();await Rh(Zt(ze,"activities"),{...t,ipAddress:n.ip,timestamp:TO(),metadata:{browser:navigator.userAgent,platform:navigator.platform,timestamp_client:new Date().toISOString()}}),console.log("Activity logged successfully:",t.type)}catch(e){throw e.code==="permission-denied"?console.error("Error logging activity: Missing or insufficient permissions."):console.error("Error logging activity:",e),new Error("Failed to log activity. Please check Firestore rules or network connectivity.")}},Jv=["https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uchgfbvn93vankxi8ngt.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uemk18ecy4s9l5hkusfg.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ldf6gddraviuecktdv6r.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ypkhs51swkfc6dlwjvsw.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ezpug86k3gkypdx7u0bd.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/mwqpkyy8mnhq5eybpxgr.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/uivpymjbxjfpoiy0i659.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"],Pne=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[d,f]=m.useState(Jv[0]),[p,g]=m.useState(!1),[v,y]=m.useState(null),T=Wa(),w=j=>/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(j),x=j=>/^[\u0600-\u06FF\s]+$/.test(j)&&j.trim().split(/\s+/).length>=2,E=async j=>{if(j.preventDefault(),c(""),!t||!n||!s||!o){c("الرجاء ملء جميع الحقول.");return}if(!x(t)){c("الاسم الكامل يجب أن يحتوي على أحرف عربية فقط ويتكون من كلمتين على الأقل.");return}if(!w(n)){c("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(s.length<6){c("كلمة المرور يجب أن تتكون من 6 أحرف على الأقل.");return}if(s!==o){c("كلمة المرور وتأكيد كلمة المرور غير متطابقين.");return}try{const S=(await Xee(Gt,n,s)).user;await Zee(S),await Nc(xt(ze,"users",S.uid),{fullName:t,email:n,avatar:d,role:"user",createdAt:new Date}),await rh({type:"register",userId:S.uid,username:n,details:`قام المستخدم ${t||n} بإنشاء حساب جديد`}),Ft({title:"تم إرسال رابط التحقق",description:"يرجى التحقق من بريدك الإلكتروني لتأكيد حسابك قبل تسجيل الدخول.",variant:"default",duration:5e3}),T("/login")}catch(C){console.error("Registration error:",C),C.code==="auth/email-already-in-use"?c("هذا البريد الإلكتروني مستخدم بالفعل."):C.code==="auth/invalid-email"?c("صيغة البريد الإلكتروني غير صحيحة."):C.code==="auth/weak-password"?c("كلمة المرور ضعيفة جداً. يرجى اختيار كلمة مرور أقوى."):c("حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.")}},I=async()=>{c("");try{const j=new _s,S=(await EL(Gt,j)).user;y(S),g(!0)}catch(j){console.error("Google registration error:",j),j.code==="auth/popup-closed-by-user"?c("تم إغلاق نافذة تسجيل الدخول من Google. يرجى المحاولة مرة أخرى."):j.code==="auth/cancelled-popup-request"?c("تم إلغاء طلب النافذة المنبثقة. يرجى المحاولة مرة أخرى."):j.code==="auth/operation-not-allowed"?c("تم تعطيل تسجيل الدخول باستخدام Google. يرجى الاتصال بالمسؤول."):j.code==="auth/unauthorized-domain"?c("النطاق غير مصرح به لعمليات OAuth. يرجى التحقق من إعدادات Firebase."):c("فشل التسجيل باستخدام Google. يرجى المحاولة مرة أخرى. (قد تكون مشكلة في أذونات Firebase)")}},P=async j=>{if(v)try{const C=xt(ze,"users",v.uid);await Nc(C,{email:v.email,fullName:v.displayName||"",avatar:j,role:"user",createdAt:new Date},{merge:!0}),await rh({type:"register",userId:v.uid,username:v.email||"N/A",details:`مستخدم جديد ${v.email} سجل باستخدام Google.`}),g(!1),y(null),T("/")}catch{c("حدث خطأ أثناء حفظ الأفتار. يرجى المحاولة مرة أخرى.")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Dt,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(de,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),u.jsx(Le.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(Bt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(gn,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(Le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(qk,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx($n,{className:"text-4xl font-extrabold text-primary mb-2",children:"إنشاء حساب جديد"}),u.jsx(Ls,{className:"text-lg text-muted-foreground",children:"املأ البيانات لإنشاء حسابك"})]}),u.jsxs(cn,{className:"p-8",children:[u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"fullName",className:"text-base font-medium",children:"الاسم الكامل (ثلاثي)"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"fullName",type:"text",placeholder:"ادخل اسمك الثلاثي الكامل",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:j=>e(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:j=>r(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(i0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:s,onChange:j=>i(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(zn,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"تأكيد كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(i0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Et,{id:"confirmPassword",type:"password",placeholder:"أعد إدخال كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:o,onChange:j=>a(j.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block mb-2 font-medium",children:"اختر الأفتار:"}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-4",children:Jv.map((j,C)=>u.jsx("img",{src:j,alt:"avatar",style:{border:d===j?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:"pointer"},onClick:()=>f(j)},C))})]}),l&&u.jsx(Le.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:l}),u.jsx(de,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل"})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),u.jsxs(de,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:I,children:[u.jsx(zk,{className:"h-6 w-6 mr-3"}),"التسجيل باستخدام Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["لديك حساب بالفعل؟"," ",u.jsx(Dt,{to:"/login",className:"text-primary hover:underline font-semibold",children:"سجل الدخول"})]})]})]})}),p&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-card rounded-xl p-8 shadow-2xl max-w-xs w-full",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:"اختر صورة الأفتار"}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-4",children:Jv.map((j,C)=>u.jsx("img",{src:j,alt:"avatar",style:{border:d===j?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:"pointer"},onClick:()=>f(j)},C))}),u.jsx(de,{className:"w-full",onClick:()=>P(d),children:"حفظ الأفتار والمتابعة"})]})})]})},Rne=()=>{const t=$a();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},kne=()=>{const{language:t}=Xa(),e=Dr[t];return u.jsxs("footer",{className:"bg-card text-foreground border-t border-border py-8 md:py-12",children:[u.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("div",{className:"w-8 md:w-10 h-8 md:h-10 rounded-lg flex items-center justify-center shadow-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"w-full h-full object-contain rounded-lg"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Alpha Team"})]}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:e.platformDescription})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:t==="en"?"Quick Links":"روابط سريعة"}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Dt,{to:"/",className:"hover:text-primary transition-colors duration-300",children:e.home})}),u.jsx("li",{children:u.jsx(Dt,{to:"/lectures",className:"hover:text-primary transition-colors duration-300",children:e.lectures})}),u.jsx("li",{children:u.jsx(Dt,{to:"/about",className:"hover:text-primary transition-colors duration-300",children:e.about})}),u.jsx("li",{children:u.jsx(Dt,{to:"/contact",className:"hover:text-primary transition-colors duration-300",children:e.contact})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:t==="en"?"Contact Us":"اتصل بنا"}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx(jd,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"alphateam.dev1234@gmail.com"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(i9,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:t==="en"?"Babil, Iraq":"بابل, العراق"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(am,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@talpha.dev"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(td,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@xteam_alpha"})]})]})]})]}),u.jsx("div",{className:"container mx-auto px-4 mt-8 pt-8 border-t border-border text-center text-xs md:text-sm text-muted-foreground",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," Alpha Team. ",t==="en"?"All rights reserved.":"جميع الحقوق محفوظة."]})})]})};var Dne=m.createContext(void 0);function my(t){const e=m.useContext(Dne);return t||e||"ltr"}var Zv=0;function GT(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lN()),document.body.insertAdjacentElement("beforeend",t[1]??lN()),Zv++,()=>{Zv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zv--}},[])}function lN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ew="focusScope.autoFocusOnMount",tw="focusScope.autoFocusOnUnmount",cN={bubbles:!1,cancelable:!0},jne="FocusScope",gy=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=wn(s),d=wn(i),f=m.useRef(null),p=Je(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const I=E.target;a.contains(I)?f.current=I:Li(f.current,{select:!0})},T=function(E){if(g.paused||!a)return;const I=E.relatedTarget;I!==null&&(a.contains(I)||Li(f.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Li(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),x.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){dN.add(g);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(ew,cN);a.addEventListener(ew,c),a.dispatchEvent(w),w.defaultPrevented||(Mne(Une(NL(a)),{select:!0}),document.activeElement===y&&Li(a))}return()=>{a.removeEventListener(ew,c),setTimeout(()=>{const w=new CustomEvent(tw,cN);a.addEventListener(tw,d),a.dispatchEvent(w),w.defaultPrevented||Li(y??document.body,{select:!0}),a.removeEventListener(tw,d),dN.remove(g)},0)}}},[a,c,d,g]);const v=m.useCallback(y=>{if(!n&&!r||g.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(T&&w){const x=y.currentTarget,[E,I]=One(x);E&&I?!y.shiftKey&&w===I?(y.preventDefault(),n&&Li(E,{select:!0})):y.shiftKey&&w===E&&(y.preventDefault(),n&&Li(I,{select:!0})):w===x&&y.preventDefault()}},[n,r,g.paused]);return u.jsx(Oe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});gy.displayName=jne;function Mne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Li(r,{select:e}),document.activeElement!==n)return}function One(t){const e=NL(t),n=uN(e,t),r=uN(e.reverse(),t);return[n,r]}function NL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function uN(t,e){for(const n of t)if(!Lne(n,{upTo:e}))return n}function Lne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vne(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Vne(t)&&e&&t.select()}}var dN=Fne();function Fne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hN(t,e),t.unshift(e)},remove(e){var n;t=hN(t,e),(n=t[0])==null||n.resume()}}}function hN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Une(t){return t.filter(e=>e.tagName!=="A")}function zne(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...v}=f,y=(p==null?void 0:p[t][l])||a,T=m.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:T,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,v=m.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Bne(s,...e)]}function Bne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var nw="rovingFocusGroup.onEntryFocus",$ne={bubbles:!1,cancelable:!0},yy="RovingFocusGroup",[mx,PL,Wne]=xg(yy),[qne,vy]=zne(yy,[Wne]),[Hne,Gne]=qne(yy),RL=m.forwardRef((t,e)=>u.jsx(mx.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(mx.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Kne,{...t,ref:e})})}));RL.displayName=yy;var Kne=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=Je(e,p),v=my(i),[y=null,T]=Aa({prop:o,defaultProp:a,onChange:l}),[w,x]=m.useState(!1),E=wn(c),I=PL(n),P=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(nw,E),()=>S.removeEventListener(nw,E)},[E]),u.jsx(Hne,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(S=>T(S),[T]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Oe.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ce(t.onMouseDown,()=>{P.current=!0}),onFocus:ce(t.onFocus,S=>{const A=!P.current;if(S.target===S.currentTarget&&A&&!w){const N=new CustomEvent(nw,$ne);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=I().filter(J=>J.focusable),M=k.find(J=>J.active),D=k.find(J=>J.id===y),ae=[M,D,...k].filter(Boolean).map(J=>J.ref.current);jL(ae,d)}}P.current=!1}),onBlur:ce(t.onBlur,()=>x(!1))})})}),kL="RovingFocusGroupItem",DL=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Ns(),l=i||a,c=Gne(kL,n),d=c.currentTabStopId===l,f=PL(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),u.jsx(mx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Oe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ce(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:ce(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ce(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Xne(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=f().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const x=w.indexOf(v.currentTarget);w=c.loop?Jne(w,x+1):w.slice(x+1)}setTimeout(()=>jL(w))}})})})});DL.displayName=kL;var Qne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Xne(t,e,n){const r=Yne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Qne[r]}function jL(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Jne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ML=RL,OL=DL,Zne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ll=new WeakMap,zf=new WeakMap,Bf={},rw=0,LL=function(t){return t&&(t.host||LL(t.parentNode))},ere=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tre=function(t,e,n,r){var s=ere(e,Array.isArray(t)?t:[t]);Bf[n]||(Bf[n]=new WeakMap);var i=Bf[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(ll.get(p)||0)+1,T=(i.get(p)||0)+1;ll.set(p,y),i.set(p,T),o.push(p),y===1&&v&&zf.set(p,!0),T===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),rw++,function(){o.forEach(function(f){var p=ll.get(f)-1,g=i.get(f)-1;ll.set(f,p),i.set(f,g),p||(zf.has(f)||f.removeAttribute(r),zf.delete(f)),g||f.removeAttribute(n)}),rw--,rw||(ll=new WeakMap,ll=new WeakMap,zf=new WeakMap,Bf={})}},KT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Zne(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),tre(r,s,n,"aria-hidden")):function(){return null}},Ip="right-scroll-bar-position",Np="width-before-scroll-bar",nre="with-scroll-bars-hidden",rre="--removed-body-scroll-bar-size";function sw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sre(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var ire=typeof window<"u"?m.useLayoutEffect:m.useEffect,fN=new WeakMap;function ore(t,e){var n=sre(null,function(r){return t.forEach(function(s){return sw(s,r)})});return ire(function(){var r=fN.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||sw(a,null)}),i.forEach(function(a){s.has(a)||sw(a,o)})}fN.set(n,t)},[t]),n}function are(t){return t}function lre(t,e){e===void 0&&(e=are);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function cre(t){t===void 0&&(t={});var e=lre(null);return e.options=ht({async:!0,ssr:!1},t),e}var VL=function(t){var e=t.sideCar,n=kh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ht({},n))};VL.isSideCarExport=!0;function ure(t,e){return t.useMedium(e),VL}var FL=cre(),iw=function(){},wy=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:iw,onWheelCapture:iw,onTouchMoveCapture:iw}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,T=t.as,w=T===void 0?"div":T,x=t.gapMode,E=kh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=p,P=ore([n,e]),j=ht(ht({},E),s);return m.createElement(m.Fragment,null,d&&m.createElement(I,{sideCar:FL,removeScrollBar:c,shards:f,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?m.cloneElement(m.Children.only(a),ht(ht({},j),{ref:P})):m.createElement(w,ht({},j,{className:l,ref:P}),a))});wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wy.classNames={fullWidth:Np,zeroRight:Ip};var dre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dre();return e&&t.setAttribute("nonce",e),t}function fre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hre())&&(fre(e,n),pre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gre=function(){var t=mre();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UL=function(){var t=gre(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},yre={left:0,top:0,right:0,gap:0},ow=function(t){return parseInt(t||"",10)||0},vre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ow(n),ow(r),ow(s)]},wre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yre;var e=vre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xre=UL(),Ql="data-scroll-locked",bre=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ip,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Np,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ip," .").concat(Ip,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Np," .").concat(Np,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(rre,": ").concat(a,`px;
  }
`)},pN=function(){var t=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(t)?t:0},Tre=function(){m.useEffect(function(){return document.body.setAttribute(Ql,(pN()+1).toString()),function(){var t=pN()-1;t<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,t.toString())}},[])},Ere=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Tre();var i=m.useMemo(function(){return wre(s)},[s]);return m.createElement(xre,{styles:bre(i,!e,s,n?"":"!important")})},gx=!1;if(typeof window<"u")try{var $f=Object.defineProperty({},"passive",{get:function(){return gx=!0,!0}});window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{gx=!1}var cl=gx?{passive:!1}:!1,_re=function(t){return t.tagName==="TEXTAREA"},zL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_re(t)&&n[e]==="visible")},Sre=function(t){return zL(t,"overflowY")},Cre=function(t){return zL(t,"overflowX")},mN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BL(t,r);if(s){var i=$L(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Are=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Ire=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BL=function(t,e){return t==="v"?Sre(e):Cre(e)},$L=function(t,e){return t==="v"?Are(e):Ire(e)},Nre=function(t,e){return t==="h"&&e==="rtl"?-1:1},Pre=function(t,e,n,r,s){var i=Nre(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=$L(t,a),v=g[0],y=g[1],T=g[2],w=y-T-i*v;(v||w)&&BL(t,a)&&(f+=w,p+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},Wf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gN=function(t){return[t.deltaX,t.deltaY]},yN=function(t){return t&&"current"in t?t.current:t},Rre=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Dre=0,ul=[];function jre(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Dre++)[0],i=m.useState(UL)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=YZ([t.lockRef.current],(t.shards||[]).map(yN),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=Wf(y),x=n.current,E="deltaX"in y?y.deltaX:x[0]-w[0],I="deltaY"in y?y.deltaY:x[1]-w[1],P,j=y.target,C=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var S=mN(C,j);if(!S)return!0;if(S?P=C:(P=C==="v"?"h":"v",S=mN(C,j)),!S)return!1;if(!r.current&&"changedTouches"in y&&(E||I)&&(r.current=P),!P)return!0;var A=r.current||P;return Pre(A,T,y,A==="h"?E:I,!0)},[]),l=m.useCallback(function(y){var T=y;if(!(!ul.length||ul[ul.length-1]!==i)){var w="deltaY"in T?gN(T):Wf(T),x=e.current.filter(function(P){return P.name===T.type&&(P.target===T.target||T.target===P.shadowParent)&&Rre(P.delta,w)})[0];if(x&&x.should){T.cancelable&&T.preventDefault();return}if(!x){var E=(o.current.shards||[]).map(yN).filter(Boolean).filter(function(P){return P.contains(T.target)}),I=E.length>0?a(T,E[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),c=m.useCallback(function(y,T,w,x){var E={name:y,delta:T,target:w,should:x,shadowParent:Mre(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),d=m.useCallback(function(y){n.current=Wf(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,gN(y),y.target,a(y,t.lockRef.current))},[]),p=m.useCallback(function(y){c(y.type,Wf(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return ul.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,cl),document.addEventListener("touchmove",l,cl),document.addEventListener("touchstart",d,cl),function(){ul=ul.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,cl),document.removeEventListener("touchmove",l,cl),document.removeEventListener("touchstart",d,cl)}},[]);var g=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:kre(s)}):null,g?m.createElement(Ere,{gapMode:t.gapMode}):null)}function Mre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ore=ure(FL,jre);var xy=m.forwardRef(function(t,e){return m.createElement(wy,ht({},t,{ref:e,sideCar:Ore}))});xy.classNames=wy.classNames;var yx=["Enter"," "],Lre=["ArrowDown","PageUp","Home"],WL=["ArrowUp","PageDown","End"],Vre=[...Lre,...WL],Fre={ltr:[...yx,"ArrowRight"],rtl:[...yx,"ArrowLeft"]},Ure={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lh="Menu",[sh,zre,Bre]=xg(Lh),[Ja,qL]=bi(Lh,[Bre,Vc,vy]),by=Vc(),HL=vy(),[$re,Za]=Ja(Lh),[Wre,Vh]=Ja(Lh),GL=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=by(e),[l,c]=m.useState(null),d=m.useRef(!1),f=wn(i),p=my(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(x2,{...a,children:u.jsx($re,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(Wre,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};GL.displayName=Lh;var qre="MenuAnchor",QT=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=by(n);return u.jsx(G1,{...s,...r,ref:e})});QT.displayName=qre;var YT="MenuPortal",[Hre,KL]=Ja(YT,{forceMount:void 0}),QL=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Za(YT,e);return u.jsx(Hre,{scope:e,forceMount:n,children:u.jsx(fs,{present:n||i.open,children:u.jsx(yh,{asChild:!0,container:s,children:r})})})};QL.displayName=YT;var Fr="MenuContent",[Gre,XT]=Ja(Fr),YL=m.forwardRef((t,e)=>{const n=KL(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Za(Fr,t.__scopeMenu),o=Vh(Fr,t.__scopeMenu);return u.jsx(sh.Provider,{scope:t.__scopeMenu,children:u.jsx(fs,{present:r||i.open,children:u.jsx(sh.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Kre,{...s,ref:e}):u.jsx(Qre,{...s,ref:e})})})})}),Kre=m.forwardRef((t,e)=>{const n=Za(Fr,t.__scopeMenu),r=m.useRef(null),s=Je(e,r);return m.useEffect(()=>{const i=r.current;if(i)return KT(i)},[]),u.jsx(JT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ce(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Qre=m.forwardRef((t,e)=>{const n=Za(Fr,t.__scopeMenu);return u.jsx(JT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JT=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=t,T=Za(Fr,n),w=Vh(Fr,n),x=by(n),E=HL(n),I=zre(n),[P,j]=m.useState(null),C=m.useRef(null),S=Je(e,C,T.onContentChange),A=m.useRef(0),N=m.useRef(""),k=m.useRef(0),M=m.useRef(null),D=m.useRef("right"),z=m.useRef(0),ae=v?xy:m.Fragment,J=v?{as:xo,allowPinchZoom:!0}:void 0,ee=V=>{var re,ve;const te=N.current+V,G=I().filter(Te=>!Te.disabled),ne=document.activeElement,W=(re=G.find(Te=>Te.ref.current===ne))==null?void 0:re.textValue,Ee=G.map(Te=>Te.textValue),Ie=ase(Ee,te,W),ue=(ve=G.find(Te=>Te.textValue===Ie))==null?void 0:ve.ref.current;(function Te(ge){N.current=ge,window.clearTimeout(A.current),ge!==""&&(A.current=window.setTimeout(()=>Te(""),1e3))})(te),ue&&setTimeout(()=>ue.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),GT();const L=m.useCallback(V=>{var G,ne;return D.current===((G=M.current)==null?void 0:G.side)&&cse(V,(ne=M.current)==null?void 0:ne.area)},[]);return u.jsx(Gre,{scope:n,searchRef:N,onItemEnter:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),onItemLeave:m.useCallback(V=>{var te;L(V)||((te=C.current)==null||te.focus(),j(null))},[L]),onTriggerLeave:m.useCallback(V=>{L(V)&&V.preventDefault()},[L]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(V=>{M.current=V},[]),children:u.jsx(ae,{...J,children:u.jsx(gy,{asChild:!0,trapped:s,onMountAutoFocus:ce(i,V=>{var te;V.preventDefault(),(te=C.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(jc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:u.jsx(ML,{asChild:!0,...E,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:j,onEntryFocus:ce(l,V=>{w.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(K1,{role:"menu","aria-orientation":"vertical","data-state":h4(T.open),"data-radix-menu-content":"",dir:w.dir,...x,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:ce(y.onKeyDown,V=>{const G=V.target.closest("[data-radix-menu-content]")===V.currentTarget,ne=V.ctrlKey||V.altKey||V.metaKey,W=V.key.length===1;G&&(V.key==="Tab"&&V.preventDefault(),!ne&&W&&ee(V.key));const Ee=C.current;if(V.target!==Ee||!Vre.includes(V.key))return;V.preventDefault();const ue=I().filter(re=>!re.disabled).map(re=>re.ref.current);WL.includes(V.key)&&ue.reverse(),ise(ue)}),onBlur:ce(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),N.current="")}),onPointerMove:ce(t.onPointerMove,ih(V=>{const te=V.target,G=z.current!==V.clientX;if(V.currentTarget.contains(te)&&G){const ne=V.clientX>z.current?"right":"left";D.current=ne,z.current=V.clientX}}))})})})})})})});YL.displayName=Fr;var Yre="MenuGroup",ZT=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{role:"group",...r,ref:e})});ZT.displayName=Yre;var Xre="MenuLabel",XL=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{...r,ref:e})});XL.displayName=Xre;var Wm="MenuItem",vN="menu.itemSelect",Ty=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Vh(Wm,t.__scopeMenu),a=XT(Wm,t.__scopeMenu),l=Je(e,i),c=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(vN,{bubbles:!0,cancelable:!0});f.addEventListener(vN,g=>r==null?void 0:r(g),{once:!0}),j1(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(JL,{...s,ref:l,disabled:n,onClick:ce(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:ce(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ce(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||yx.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ty.displayName=Wm;var JL=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=XT(Wm,n),a=HL(n),l=m.useRef(null),c=Je(e,l),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[i.children]),u.jsx(sh.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(OL,{asChild:!0,...a,focusable:!r,children:u.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ce(t.onPointerMove,ih(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(t.onPointerLeave,ih(v=>o.onItemLeave(v))),onFocus:ce(t.onFocus,()=>f(!0)),onBlur:ce(t.onBlur,()=>f(!1))})})})}),Jre="MenuCheckboxItem",ZL=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(s4,{scope:t.__scopeMenu,checked:n,children:u.jsx(Ty,{role:"menuitemcheckbox","aria-checked":qm(n)?"mixed":n,...s,ref:e,"data-state":tE(n),onSelect:ce(s.onSelect,()=>r==null?void 0:r(qm(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZL.displayName=Jre;var e4="MenuRadioGroup",[Zre,ese]=Ja(e4,{value:void 0,onValueChange:()=>{}}),t4=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=wn(r);return u.jsx(Zre,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(ZT,{...s,ref:e})})});t4.displayName=e4;var n4="MenuRadioItem",r4=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=ese(n4,t.__scopeMenu),i=n===s.value;return u.jsx(s4,{scope:t.__scopeMenu,checked:i,children:u.jsx(Ty,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":tE(i),onSelect:ce(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});r4.displayName=n4;var eE="MenuItemIndicator",[s4,tse]=Ja(eE,{checked:!1}),i4=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=tse(eE,n);return u.jsx(fs,{present:r||qm(i.checked)||i.checked===!0,children:u.jsx(Oe.span,{...s,ref:e,"data-state":tE(i.checked)})})});i4.displayName=eE;var nse="MenuSeparator",o4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});o4.displayName=nse;var rse="MenuArrow",a4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=by(n);return u.jsx(Q1,{...s,...r,ref:e})});a4.displayName=rse;var sse="MenuSub",[wce,l4]=Ja(sse),Lu="MenuSubTrigger",c4=m.forwardRef((t,e)=>{const n=Za(Lu,t.__scopeMenu),r=Vh(Lu,t.__scopeMenu),s=l4(Lu,t.__scopeMenu),i=XT(Lu,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(QT,{asChild:!0,...c,children:u.jsx(JL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":h4(n.open),...t,ref:wg(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ce(t.onPointerMove,ih(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ce(t.onPointerLeave,ih(f=>{var g,v;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(v=n.content)==null?void 0:v.dataset.side,T=y==="right",w=T?-5:5,x=p[T?"left":"right"],E=p[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ce(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||Fre[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});c4.displayName=Lu;var u4="MenuSubContent",d4=m.forwardRef((t,e)=>{const n=KL(Fr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Za(Fr,t.__scopeMenu),o=Vh(Fr,t.__scopeMenu),a=l4(u4,t.__scopeMenu),l=m.useRef(null),c=Je(e,l);return u.jsx(sh.Provider,{scope:t.__scopeMenu,children:u.jsx(fs,{present:r||i.open,children:u.jsx(sh.Slot,{scope:t.__scopeMenu,children:u.jsx(JT,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ce(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ce(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ce(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=Ure[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});d4.displayName=u4;function h4(t){return t?"open":"closed"}function qm(t){return t==="indeterminate"}function tE(t){return qm(t)?"indeterminate":t?"checked":"unchecked"}function ise(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function ose(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ase(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ose(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function lse(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function cse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return lse(n,e)}function ih(t){return e=>e.pointerType==="mouse"?t(e):void 0}var use=GL,dse=QT,hse=QL,fse=YL,pse=ZT,mse=XL,gse=Ty,yse=ZL,vse=t4,wse=r4,xse=i4,bse=o4,Tse=a4,Ese=c4,_se=d4,nE="DropdownMenu",[Sse,xce]=bi(nE,[qL]),Kn=qL(),[Cse,f4]=Sse(nE),p4=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Kn(e),c=m.useRef(null),[d=!1,f]=Aa({prop:s,defaultProp:i,onChange:o});return u.jsx(Cse,{scope:e,triggerId:Ns(),triggerRef:c,contentId:Ns(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(use,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};p4.displayName=nE;var m4="DropdownMenuTrigger",g4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=f4(m4,n),o=Kn(n);return u.jsx(dse,{asChild:!0,...o,children:u.jsx(Oe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:wg(e,i.triggerRef),onPointerDown:ce(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ce(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});g4.displayName=m4;var Ase="DropdownMenuPortal",y4=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Kn(e);return u.jsx(hse,{...r,...n})};y4.displayName=Ase;var v4="DropdownMenuContent",w4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=f4(v4,n),i=Kn(n),o=m.useRef(!1);return u.jsx(fse,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ce(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ce(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});w4.displayName=v4;var Ise="DropdownMenuGroup",Nse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(pse,{...s,...r,ref:e})});Nse.displayName=Ise;var Pse="DropdownMenuLabel",x4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(mse,{...s,...r,ref:e})});x4.displayName=Pse;var Rse="DropdownMenuItem",b4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(gse,{...s,...r,ref:e})});b4.displayName=Rse;var kse="DropdownMenuCheckboxItem",T4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(yse,{...s,...r,ref:e})});T4.displayName=kse;var Dse="DropdownMenuRadioGroup",jse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(vse,{...s,...r,ref:e})});jse.displayName=Dse;var Mse="DropdownMenuRadioItem",E4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(wse,{...s,...r,ref:e})});E4.displayName=Mse;var Ose="DropdownMenuItemIndicator",_4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(xse,{...s,...r,ref:e})});_4.displayName=Ose;var Lse="DropdownMenuSeparator",S4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(bse,{...s,...r,ref:e})});S4.displayName=Lse;var Vse="DropdownMenuArrow",Fse=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Tse,{...s,...r,ref:e})});Fse.displayName=Vse;var Use="DropdownMenuSubTrigger",C4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(Ese,{...s,...r,ref:e})});C4.displayName=Use;var zse="DropdownMenuSubContent",A4=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Kn(n);return u.jsx(_se,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A4.displayName=zse;var Bse=p4,$se=g4,Wse=y4,I4=w4,N4=x4,P4=b4,R4=T4,k4=E4,D4=_4,j4=S4,M4=C4,O4=A4;const qse=Bse,Hse=$se,Gse=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(M4,{ref:s,className:fe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(Uk,{className:"ml-auto h-4 w-4"})]}));Gse.displayName=M4.displayName;const Kse=m.forwardRef(({className:t,...e},n)=>u.jsx(O4,{ref:n,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Kse.displayName=O4.displayName;const L4=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Wse,{children:u.jsx(I4,{ref:r,sideOffset:e,className:fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));L4.displayName=I4.displayName;const V4=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(P4,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));V4.displayName=P4.displayName;const Qse=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(R4,{ref:s,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(D4,{children:u.jsx(Fk,{className:"h-4 w-4"})})}),e]}));Qse.displayName=R4.displayName;const Yse=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(k4,{ref:r,className:fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(D4,{children:u.jsx(ZU,{className:"h-2 w-2 fill-current"})})}),e]}));Yse.displayName=k4.displayName;const F4=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(N4,{ref:r,className:fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));F4.displayName=N4.displayName;const U4=m.forwardRef(({className:t,...e},n)=>u.jsx(j4,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));U4.displayName=j4.displayName;var rE="Avatar",[Xse,bce]=bi(rE),[Jse,z4]=Xse(rE),B4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return u.jsx(Jse,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Oe.span,{...r,ref:e})})});B4.displayName=rE;var $4="AvatarImage",W4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=z4($4,n),a=Zse(r,i.referrerPolicy),l=wn(c=>{s(c),o.onImageLoadingStatusChange(c)});return dn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Oe.img,{...i,ref:e,src:r}):null});W4.displayName=$4;var q4="AvatarFallback",H4=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=z4(q4,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Oe.span,{...s,ref:e}):null});H4.displayName=q4;function Zse(t,e){const[n,r]=m.useState("idle");return dn(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var G4=B4,K4=W4,Q4=H4;const Vu=m.forwardRef(({className:t,...e},n)=>u.jsx(G4,{ref:n,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Vu.displayName=G4.displayName;const Fu=m.forwardRef(({className:t,src:e,alt:n="Avatar",...r},s)=>e?u.jsx(K4,{ref:s,src:e,alt:n,className:fe("aspect-square h-full w-full object-cover",t),onLoadingStatusChange:i=>{i==="error"&&console.error("Failed to load avatar image: "+e)},onError:i=>{console.warn("Avatar image failed to load, showing fallback"),i.currentTarget&&(i.currentTarget.style.display="none")},...r}):null);Fu.displayName=K4.displayName;const Uu=m.forwardRef(({className:t,name:e,children:n,...r},s)=>{const i=m.useMemo(()=>e?e.split(" ").map(o=>o[0]).slice(0,2).join("").toUpperCase():null,[e]);return u.jsx(Q4,{ref:s,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground font-medium",t),delayMs:300,...r,children:n||i||"👤"})});Uu.displayName=Q4.displayName;const eie=()=>{const{language:t,setLanguage:e}=Xa(),n=()=>{e(t==="en"?"ar":"en")};return u.jsx(de,{variant:"outline",size:"icon",onClick:n,className:"h-10 w-10 rounded-full border-2 border-primary/50 bg-background shadow-lg hover:shadow-xl hover:border-primary hover:bg-background/95 transition-all duration-300",children:u.jsx("span",{className:"text-sm font-semibold text-primary",children:t==="en"?"عربي":"EN"})})},Y4=m.createContext(void 0),tie=({children:t})=>{const[e,n]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return u.jsx(Y4.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})},nie=()=>{const t=m.useContext(Y4);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},rie=()=>{const{theme:t,toggleTheme:e}=nie();return u.jsxs(de,{variant:"outline",size:"icon",onClick:e,className:"rounded-full shadow-lg transition-all duration-300 hover:scale-110",children:[t==="light"?u.jsx(a9,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}):u.jsx(h9,{className:"h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})};var sE="Dialog",[X4,J4]=bi(sE),[sie,ms]=X4(sE),Z4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=Aa({prop:r,defaultProp:s,onChange:i});return u.jsx(sie,{scope:e,triggerRef:a,contentRef:l,contentId:Ns(),titleId:Ns(),descriptionId:Ns(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};Z4.displayName=sE;var eV="DialogTrigger",tV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(eV,n),i=Je(e,s.triggerRef);return u.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aE(s.open),...r,ref:i,onClick:ce(t.onClick,s.onOpenToggle)})});tV.displayName=eV;var iE="DialogPortal",[iie,nV]=X4(iE,{forceMount:void 0}),rV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ms(iE,e);return u.jsx(iie,{scope:e,forceMount:n,children:m.Children.map(r,o=>u.jsx(fs,{present:n||i.open,children:u.jsx(yh,{asChild:!0,container:s,children:o})}))})};rV.displayName=iE;var Hm="DialogOverlay",sV=m.forwardRef((t,e)=>{const n=nV(Hm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(Hm,t.__scopeDialog);return i.modal?u.jsx(fs,{present:r||i.open,children:u.jsx(oie,{...s,ref:e})}):null});sV.displayName=Hm;var oie=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(Hm,n);return u.jsx(xy,{as:xo,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Oe.div,{"data-state":aE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ma="DialogContent",iV=m.forwardRef((t,e)=>{const n=nV(Ma,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ms(Ma,t.__scopeDialog);return u.jsx(fs,{present:r||i.open,children:i.modal?u.jsx(aie,{...s,ref:e}):u.jsx(lie,{...s,ref:e})})});iV.displayName=Ma;var aie=m.forwardRef((t,e)=>{const n=ms(Ma,t.__scopeDialog),r=m.useRef(null),s=Je(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return KT(i)},[]),u.jsx(oV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ce(t.onFocusOutside,i=>i.preventDefault())})}),lie=m.forwardRef((t,e)=>{const n=ms(Ma,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx(oV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oV=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ms(Ma,n),l=m.useRef(null),c=Je(e,l);return GT(),u.jsxs(u.Fragment,{children:[u.jsx(gy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(jc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(uie,{titleId:a.titleId}),u.jsx(hie,{contentRef:l,descriptionId:a.descriptionId})]})]})}),oE="DialogTitle",aV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(oE,n);return u.jsx(Oe.h2,{id:s.titleId,...r,ref:e})});aV.displayName=oE;var lV="DialogDescription",cV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(lV,n);return u.jsx(Oe.p,{id:s.descriptionId,...r,ref:e})});cV.displayName=lV;var uV="DialogClose",dV=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ms(uV,n);return u.jsx(Oe.button,{type:"button",...r,ref:e,onClick:ce(t.onClick,()=>s.onOpenChange(!1))})});dV.displayName=uV;function aE(t){return t?"open":"closed"}var hV="DialogTitleWarning",[cie,fV]=aU(hV,{contentName:Ma,titleName:oE,docsSlug:"dialog"}),uie=({titleId:t})=>{const e=fV(hV),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},die="DialogDescriptionWarning",hie=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fV(die).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},lE=Z4,cE=tV,uE=rV,Fh=sV,Uh=iV,zh=aV,Bh=cV,$h=dV;const wa=lE,fie=cE,pie=uE,pV=m.forwardRef(({className:t,...e},n)=>u.jsx(Fh,{ref:n,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));pV.displayName=Fh.displayName;const mo=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(pie,{children:[u.jsx(pV,{}),u.jsxs(Uh,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs($h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ei,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mo.displayName=Uh.displayName;const go=({className:t,...e})=>u.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});go.displayName="DialogHeader";const mV=({className:t,...e})=>u.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});mV.displayName="DialogFooter";const yo=m.forwardRef(({className:t,...e},n)=>u.jsx(zh,{ref:n,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));yo.displayName=zh.displayName;const gV=m.forwardRef(({className:t,...e},n)=>u.jsx(Bh,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));gV.displayName=Bh.displayName;const mie=["https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uchgfbvn93vankxi8ngt.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/uemk18ecy4s9l5hkusfg.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ldf6gddraviuecktdv6r.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ypkhs51swkfc6dlwjvsw.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047283/ezpug86k3gkypdx7u0bd.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/mwqpkyy8mnhq5eybpxgr.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/uivpymjbxjfpoiy0i659.png","https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"],Ol=({children:t})=>{var P,j,C,S;const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!1),[a,l]=m.useState(!1);m.useState(!1),oe.useRef(null);const c=Wa(),d=$a(),{language:f}=Xa(),[p,g]=m.useState(!1),[v,y]=m.useState(!1),[T,w]=m.useState(!1);m.useEffect(()=>{const A=()=>g(window.matchMedia("(min-width: 768px)").matches);return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const x=[{name:f==="en"?Dr.en.home:Dr.ar.home,path:"/"},{name:f==="en"?Dr.en.news:Dr.ar.news,path:"/news"},{name:f==="en"?Dr.en.about:Dr.ar.about,path:"/about"}];m.useEffect(()=>{const A=hy(Gt,async N=>{if(console.log("onAuthStateChanged fired. currentUser:",N),n(N),N){const k=xt(ze,"users",N.uid),M=await vi(k);console.log("Fetched user docSnap.exists():",M.exists()),M.exists()?(console.log("userProfile from Firestore:",M.data()),s(M.data())):(console.log("No user doc in Firestore, using fallback profile."),s({fullName:N.displayName||(f==="en"?"User":"مستخدم"),email:N.email||(f==="en"?"No email":"لا يوجد بريد إلكتروني")}))}else s(null)});return()=>A()},[f]);const E=async()=>{try{await nte(Gt),console.log("User signed out successfully."),c("/")}catch(A){console.error("Error logging out:",A)}},I=async A=>{if(e){w(!0);try{const N=xt(ze,"users",e.uid);await ii(N,{avatar:A,updatedAt:TO()}),"updateProfile"in e&&typeof e.updateProfile=="function"&&await e.updateProfile({photoURL:A}),s(k=>k&&{...k,avatar:A}),Ft({title:"تم تغيير الأفتار بنجاح"}),y(!1)}catch{Ft({title:"حدث خطأ أثناء تغيير الأفتار",variant:"destructive"})}w(!1)}};return u.jsxs("div",{className:`min-h-screen bg-background text-foreground flex flex-col ${f==="ar"?"rtl":"ltr"}`,children:[u.jsxs("header",{className:"bg-card/80 backdrop-blur-xl sticky top-0 z-50 w-full shadow-xl transition-all duration-300 ease-in-out",children:[u.jsxs("div",{className:"container mx-auto px-4 py-3 lg:py-4 flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx(Dt,{to:"/",className:"flex items-center space-x-2 group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 rounded-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"h-12 w-12 rounded-lg transition-transform group-hover:scale-105 group-focus:scale-105 shadow-md"})})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[x.map((A,N)=>u.jsx(Dt,{to:A.path,className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                  ${d.pathname===A.path?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
                  ${f==="ar"&&N<x.length-1?"ml-4":""}
                `,children:A.name},A.path)),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"relative text-sm font-medium flex items-center gap-1 transition-colors duration-300 focus:outline-none focus-visible:text-primary text-muted-foreground hover:text-primary",tabIndex:0,type:"button",children:[f==="ar"?"الادوات":"Tools",u.jsx(om,{className:"h-4 w-4"})]}),u.jsxs("div",{className:`
                absolute left-0 mt-2 min-w-[160px] bg-card border border-border rounded-lg shadow-lg
                transition-opacity duration-200 z-50
                ${p?"opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto":"hidden"}
              `,children:[u.jsx(Dt,{to:"/resources",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10 hover:text-primary rounded transition",children:f==="ar"?"المصادر":"Resources"}),u.jsx(Dt,{to:"/challenges",className:"block px-4 py-2 text-sm text-foreground hover:bg-primary/10 hover:text-primary rounded transition",children:f==="ar"?"تحديات برمجية":"Programming Challenges"})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Dt,{to:"/admin-dashboard",className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                ${d.pathname==="/admin-dashboard"?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
              `,children:f==="en"?"Dashboard":"لوحة التحكم"}),e?u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs(qse,{children:[u.jsx(Hse,{asChild:!0,children:u.jsx(de,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all duration-300 hover:scale-110 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 p-0",children:u.jsxs(Vu,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:[u.jsx(Fu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Uu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((P=r==null?void 0:r.fullName)==null?void 0:P[0])||"U"})]})})}),u.jsxs(L4,{className:"w-64 p-3 shadow-2xl rounded-lg border border-border animate-in fade-in-0 zoom-in-95",align:f==="ar"?"start":"end",forceMount:!0,children:[u.jsx(F4,{className:"font-normal p-0 mb-3",children:u.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsxs(Vu,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:[u.jsx(Fu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Uu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((j=r==null?void 0:r.fullName)==null?void 0:j[0])||"U"})]}),u.jsxs("div",{className:"flex flex-col space-y-1 text-right",children:[u.jsxs("p",{className:"text-sm font-semibold leading-none text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||(f==="en"?"User":"مستخدم"),u.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[u.jsx(jd,{className:"h-4 w-4 text-muted-foreground"}),r.role==="owner"?f==="en"?"Owner":"المالك":r.role==="admin"?f==="en"?"Admin":"مسؤول":f==="en"?"User":"مستخدم",u.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]})]})]})}),u.jsx(U4,{className:"my-2 bg-border"}),u.jsx("button",{className:"w-full text-right px-2 py-2 hover:bg-muted rounded transition",onClick:()=>y(!0),children:"🖼️ تغيير الأفتار"}),u.jsxs(V4,{onClick:E,className:"cursor-pointer flex items-center justify-end text-red-500 hover:bg-red-50 focus:bg-red-50 hover:text-red-600 focus:text-red-600 rounded-md p-2 transition-colors duration-200 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[u.jsx(yS,{className:"h-4 w-4 mr-2"}),f==="en"?"Logout":"تسجيل الخروج"]})]})]})}):u.jsx(Dt,{to:"/login",className:"relative text-sm font-medium text-muted-foreground hover:text-primary transition-colors duration-300 after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full focus:outline-none focus-visible:text-primary",children:f==="en"?"Login":"تسجيل الدخول"})]}),u.jsx("div",{className:"md:hidden flex items-center gap-2",children:e&&u.jsx(de,{variant:"ghost",className:"p-0 h-10 w-10 rounded-full border-2 border-primary/50 shadow-sm",onClick:()=>y(!0),title:"تغيير الأفتار",children:u.jsxs(Vu,{className:"h-10 w-10",children:[u.jsx(Fu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:(r==null?void 0:r.fullName)||"User"}),u.jsx(Uu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((C=r==null?void 0:r.fullName)==null?void 0:C[0])||"U"})]})})}),u.jsx("button",{className:"md:hidden text-muted-foreground hover:text-primary transition-colors duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",onClick:()=>{o(!i),l(!1)},"aria-label":i?f==="en"?"Close menu":"إغلاق القائمة":f==="en"?"Open menu":"فتح القائمة",children:i?u.jsx(ei,{className:"h-6 w-6"}):u.jsx($k,{className:"h-6 w-6"})})]}),u.jsxs(xm,{children:[i&&!a&&u.jsx(Le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[x.map(A=>u.jsx(Dt,{to:A.path,onClick:()=>o(!1),className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                      ${d.pathname===A.path?"text-primary":"text-foreground hover:text-primary"}
                    `,children:A.name},A.path)),u.jsx("div",{className:"relative group",children:u.jsxs("button",{className:"relative text-base font-medium flex items-center gap-1 transition-colors duration-300 focus:outline-none focus-visible:text-primary text-muted-foreground hover:text-primary",tabIndex:0,onClick:()=>l(!0),children:[f==="ar"?"الادوات":"Tools",u.jsx(om,{className:"h-4 w-4"})]})}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Dt,{to:"/admin-dashboard",className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                    ${d.pathname==="/admin-dashboard"?"text-primary":"text-foreground hover:text-primary"}
                  `,onClick:()=>o(!1),children:f==="en"?"Dashboard":"لوحة التحكم"}),u.jsx("div",{className:"border-t border-border pt-4 mt-4 flex items-center space-x-3 rtl:space-x-reverse",children:e?u.jsxs(u.Fragment,{children:[u.jsxs(Vu,{className:"h-12 w-12 flex-shrink-0 border-2 border-primary/50 shadow-md",children:[u.jsx(Fu,{src:r!=null&&r.avatar&&r.avatar.startsWith("https://res.cloudinary.com")?r.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"object-cover",onError:A=>{A.currentTarget.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx(Uu,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:((S=r==null?void 0:r.fullName)==null?void 0:S[0])||"U"})]}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsxs("p",{className:"text-base font-semibold text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||(f==="en"?"User":"مستخدم"),u.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsx("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[u.jsx(jd,{className:"h-4 w-4 text-muted-foreground"}),r.role==="owner"?f==="en"?"Owner":"المالك":r.role==="admin"?f==="en"?"Admin":"مسؤول":f==="en"?"User":"مستخدم",u.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("button",{onClick:()=>{E(),o(!1)},className:"text-red-500 hover:text-red-600 transition-colors duration-300 text-right font-medium mt-2 flex items-center justify-end gap-1 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:[u.jsx(yS,{className:"h-4 w-4 mr-2"}),f==="en"?"Logout":"تسجيل الخروج"]})]})]}):u.jsx(Dt,{to:"/login",className:"text-base font-medium text-foreground hover:text-primary transition-colors duration-300 pt-4 border-t border-border mt-4 focus:outline-none focus-visible:text-primary",onClick:()=>o(!1),children:f==="en"?"Login":"تسجيل الدخول"})})]})}),i&&a&&u.jsx(Le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[u.jsx("button",{className:"flex items-center gap-2 text-base font-medium text-muted-foreground hover:text-primary transition-colors mb-2",onClick:()=>l(!1),children:f==="ar"?"← رجوع":"← Back"}),u.jsx(Dt,{to:"/resources",className:"block px-4 py-2 text-base text-foreground hover:bg-primary/10 hover:text-primary rounded transition",onClick:()=>{o(!1),l(!1)},children:f==="ar"?"المصادر":"Resources"}),u.jsx(Dt,{to:"/challenges",className:"block px-4 py-2 text-base text-foreground hover:bg-primary/10 hover:text-primary rounded transition",onClick:()=>{o(!1),l(!1)},children:f==="ar"?"تحديات برمجية":"Programming Challenges"})]})})]})]}),u.jsx("main",{className:"flex-grow",children:u.jsx(xm,{mode:"wait",children:u.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:t},d.pathname)})}),u.jsx(kne,{}),u.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex items-center gap-4",children:[u.jsx(eie,{}),u.jsx(rie,{})]}),u.jsx(wa,{open:v,onOpenChange:y,children:u.jsxs(mo,{children:[u.jsx(go,{children:u.jsx(yo,{children:"اختر صورة الأفتار الجديدة"})}),u.jsx("div",{className:"flex flex-wrap gap-4 justify-center py-2",children:mie.map((A,N)=>u.jsx("img",{src:A,alt:"avatar",style:{border:(r==null?void 0:r.avatar)===A?"2px solid #2563eb":"2px solid transparent",width:60,height:60,borderRadius:"50%",cursor:T?"not-allowed":"pointer",opacity:T?.5:1},onClick:()=>!T&&I(A)},N))}),T&&u.jsx("div",{className:"text-center py-2",children:"جاري التغيير..."})]})})]})},Pp=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:fe("w-full caption-bottom text-sm",t),...e})}));Pp.displayName="Table";const Rp=m.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:fe("[&_tr]:border-b",t),...e}));Rp.displayName="TableHeader";const kp=m.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:fe("[&_tr:last-child]:border-0",t),...e}));kp.displayName="TableBody";const gie=m.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));gie.displayName="TableFooter";const ea=m.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ea.displayName="TableRow";const Ln=m.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ln.displayName="TableHead";const Vn=m.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Vn.displayName="TableCell";const yie=m.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));yie.displayName="TableCaption";var yV="AlertDialog",[vie,Tce]=bi(yV,[J4]),Ci=J4(),vV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ci(e);return u.jsx(lE,{...r,...n,modal:!0})};vV.displayName=yV;var wie="AlertDialogTrigger",wV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(cE,{...s,...r,ref:e})});wV.displayName=wie;var xie="AlertDialogPortal",xV=t=>{const{__scopeAlertDialog:e,...n}=t,r=Ci(e);return u.jsx(uE,{...r,...n})};xV.displayName=xie;var bie="AlertDialogOverlay",bV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(Fh,{...s,...r,ref:e})});bV.displayName=bie;var Yl="AlertDialogContent",[Tie,Eie]=vie(Yl),TV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Ci(n),o=m.useRef(null),a=Je(e,o),l=m.useRef(null);return u.jsx(cie,{contentName:Yl,titleName:EV,docsSlug:"alert-dialog",children:u.jsx(Tie,{scope:n,cancelRef:l,children:u.jsxs(Uh,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ce(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(D1,{children:r}),u.jsx(Sie,{contentRef:o})]})})})});TV.displayName=Yl;var EV="AlertDialogTitle",_V=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(zh,{...s,...r,ref:e})});_V.displayName=EV;var SV="AlertDialogDescription",CV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx(Bh,{...s,...r,ref:e})});CV.displayName=SV;var _ie="AlertDialogAction",AV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Ci(n);return u.jsx($h,{...s,...r,ref:e})});AV.displayName=_ie;var IV="AlertDialogCancel",NV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Eie(IV,n),i=Ci(n),o=Je(e,s);return u.jsx($h,{...i,...r,ref:o})});NV.displayName=IV;var Sie=({contentRef:t})=>{const e=`\`${Yl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yl}\` by passing a \`${SV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Cie=vV,Aie=wV,Iie=xV,PV=bV,RV=TV,kV=AV,DV=NV,jV=_V,MV=CV;const vx=Cie,wx=Aie,Nie=Iie,OV=m.forwardRef(({className:t,...e},n)=>u.jsx(PV,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));OV.displayName=PV.displayName;const Gm=m.forwardRef(({className:t,...e},n)=>u.jsxs(Nie,{children:[u.jsx(OV,{}),u.jsx(RV,{ref:n,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Gm.displayName=RV.displayName;const Km=({className:t,...e})=>u.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Km.displayName="AlertDialogHeader";const Qm=({className:t,...e})=>u.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Qm.displayName="AlertDialogFooter";const Ym=m.forwardRef(({className:t,...e},n)=>u.jsx(jV,{ref:n,className:fe("text-lg font-semibold",t),...e}));Ym.displayName=jV.displayName;const Xm=m.forwardRef(({className:t,...e},n)=>u.jsx(MV,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));Xm.displayName=MV.displayName;const Jm=m.forwardRef(({className:t,...e},n)=>u.jsx(kV,{ref:n,className:fe(sb(),t),...e}));Jm.displayName=kV.displayName;const Zm=m.forwardRef(({className:t,...e},n)=>u.jsx(DV,{ref:n,className:fe(sb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Zm.displayName=DV.displayName;function gs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Oa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const LV=6048e5,Pie=864e5;let Rie={};function Ey(){return Rie}function oh(t,e){var a,l,c,d;const n=Ey(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=gs(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function eg(t){return oh(t,{weekStartsOn:1})}function VV(t){const e=gs(t),n=e.getFullYear(),r=Oa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=eg(r),i=Oa(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=eg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function wN(t){const e=gs(t);return e.setHours(0,0,0,0),e}function xN(t){const e=gs(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kie(t,e){const n=wN(t),r=wN(e),s=+n-xN(n),i=+r-xN(r);return Math.round((s-i)/Pie)}function Die(t){const e=VV(t),n=Oa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),eg(n)}function jie(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Mie(t){if(!jie(t)&&typeof t!="number")return!1;const e=gs(t);return!isNaN(Number(e))}function Oie(t){const e=gs(t),n=Oa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Lie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vie=(t,e,n)=>{let r;const s=Lie[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Fie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bie={date:Xl({formats:Fie,defaultWidth:"full"}),time:Xl({formats:Uie,defaultWidth:"full"}),dateTime:Xl({formats:zie,defaultWidth:"full"})},$ie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wie=(t,e,n,r)=>$ie[t];function Ss(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const qie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Kie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xie=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jie={ordinalNumber:Xie,era:Ss({values:qie,defaultWidth:"wide"}),quarter:Ss({values:Hie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ss({values:Gie,defaultWidth:"wide"}),day:Ss({values:Kie,defaultWidth:"wide"}),dayPeriod:Ss({values:Qie,defaultWidth:"wide",formattingValues:Yie,defaultFormattingWidth:"wide"})};function Cs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?eoe(a,f=>f.test(o)):Zie(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function Zie(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eoe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function FV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const toe=/^(\d+)(th|st|nd|rd)?/i,noe=/\d+/i,roe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},soe={any:[/^b/i,/^(a|c)/i]},ioe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ooe={any:[/1/i,/2/i,/3/i,/4/i]},aoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},loe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},coe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uoe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},doe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},foe={ordinalNumber:FV({matchPattern:toe,parsePattern:noe,valueCallback:t=>parseInt(t,10)}),era:Cs({matchPatterns:roe,defaultMatchWidth:"wide",parsePatterns:soe,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:ioe,defaultMatchWidth:"wide",parsePatterns:ooe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cs({matchPatterns:aoe,defaultMatchWidth:"wide",parsePatterns:loe,defaultParseWidth:"any"}),day:Cs({matchPatterns:coe,defaultMatchWidth:"wide",parsePatterns:uoe,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:doe,defaultMatchWidth:"any",parsePatterns:hoe,defaultParseWidth:"any"})},poe={code:"en-US",formatDistance:Vie,formatLong:Bie,formatRelative:Wie,localize:Jie,match:foe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function moe(t){const e=gs(t);return kie(e,Oie(e))+1}function goe(t){const e=gs(t),n=+eg(e)-+Die(e);return Math.round(n/LV)+1}function UV(t,e){var d,f,p,g;const n=gs(t),r=n.getFullYear(),s=Ey(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Oa(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=oh(o,e),l=Oa(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=oh(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function yoe(t,e){var a,l,c,d;const n=Ey(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=UV(t,e),i=Oa(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),oh(i,e)}function voe(t,e){const n=gs(t),r=+oh(n,e)-+yoe(n,e);return Math.round(r/LV)+1}function at(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Di={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return at(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):at(n+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return at(s,e.length)}},dl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bN={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Di.y(t,e)},Y:function(t,e,n,r){const s=UV(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return at(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):at(i,e.length)},R:function(t,e){const n=VV(t);return at(n,e.length)},u:function(t,e){const n=t.getFullYear();return at(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Di.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=voe(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):at(s,e.length)},I:function(t,e,n){const r=goe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Di.d(t,e)},D:function(t,e,n){const r=moe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return at(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return at(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return at(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=dl.noon:r===0?s=dl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=dl.evening:r>=12?s=dl.afternoon:r>=4?s=dl.morning:s=dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Di.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Di.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Di.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Di.s(t,e)},S:function(t,e){return Di.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return EN(r);case"XXXX":case"XX":return ta(r);case"XXXXX":case"XXX":default:return ta(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return EN(r);case"xxxx":case"xx":return ta(r);case"xxxxx":case"xxx":default:return ta(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+TN(r,":");case"OOOO":default:return"GMT"+ta(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+TN(r,":");case"zzzz":default:return"GMT"+ta(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return at(r,e.length)},T:function(t,e,n){const r=t.getTime();return at(r,e.length)}};function TN(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+at(i,2)}function EN(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):ta(t,e)}function ta(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=at(Math.trunc(r/60),2),i=at(r%60,2);return n+s+e+i}const _N=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},woe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return _N(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",_N(r,e)).replace("{{time}}",zV(s,e))},xoe={p:zV,P:woe},boe=/^D+$/,Toe=/^Y+$/,Eoe=["D","DD","YY","YYYY"];function _oe(t){return boe.test(t)}function Soe(t){return Toe.test(t)}function Coe(t,e,n){const r=Aoe(t,e,n);if(console.warn(r),Eoe.includes(t))throw new RangeError(r)}function Aoe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ioe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Noe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Poe=/^'([^]*?)'?$/,Roe=/''/g,koe=/[a-zA-Z]/;function SN(t,e,n){var d,f,p,g,v,y,T,w;const r=Ey(),s=(n==null?void 0:n.locale)??r.locale??poe,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(T=r.locale)==null?void 0:T.options)==null?void 0:w.weekStartsOn)??0,a=gs(t);if(!Mie(a))throw new RangeError("Invalid time value");let l=e.match(Noe).map(x=>{const E=x[0];if(E==="p"||E==="P"){const I=xoe[E];return I(x,s.formatLong)}return x}).join("").match(Ioe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:Doe(x)};if(bN[E])return{isToken:!0,value:x};if(E.match(koe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Soe(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_oe(E))&&Coe(E,e,String(t));const I=bN[E[0]];return I(a,E,s.localize,c)}).join("")}function Doe(t){const e=t.match(Poe);return e?e[1].replace(Roe,"'"):t}const joe=wh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xx({className:t,variant:e,...n}){return u.jsx("div",{className:fe(joe({variant:e}),t),...n})}const Moe={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},Ooe=(t,e,n)=>{const r=Moe[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+s:"منذ "+s:s},Loe={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Voe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Foe={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uoe={date:Xl({formats:Loe,defaultWidth:"full"}),time:Xl({formats:Voe,defaultWidth:"full"}),dateTime:Xl({formats:Foe,defaultWidth:"full"})},zoe={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},Boe=t=>zoe[t],$oe={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},Woe={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},qoe={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},Hoe={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},Goe={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},Koe={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},Qoe=t=>String(t),Yoe={ordinalNumber:Qoe,era:Ss({values:$oe,defaultWidth:"wide"}),quarter:Ss({values:Woe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ss({values:qoe,defaultWidth:"wide"}),day:Ss({values:Hoe,defaultWidth:"wide"}),dayPeriod:Ss({values:Goe,defaultWidth:"wide",formattingValues:Koe,defaultFormattingWidth:"wide"})},Xoe=/^(\d+)(th|st|nd|rd)?/i,Joe=/\d+/i,Zoe={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},eae={any:[/قبل/,/بعد/]},tae={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},nae={any:[/1/i,/2/i,/3/i,/4/i]},rae={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},sae={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},iae={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},oae={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},aae={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},lae={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},cae={ordinalNumber:FV({matchPattern:Xoe,parsePattern:Joe,valueCallback:t=>parseInt(t,10)}),era:Cs({matchPatterns:Zoe,defaultMatchWidth:"wide",parsePatterns:eae,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:tae,defaultMatchWidth:"wide",parsePatterns:nae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cs({matchPatterns:rae,defaultMatchWidth:"wide",parsePatterns:sae,defaultParseWidth:"any"}),day:Cs({matchPatterns:iae,defaultMatchWidth:"wide",parsePatterns:oae,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:aae,defaultMatchWidth:"any",parsePatterns:lae,defaultParseWidth:"any"})},CN={code:"ar",formatDistance:Ooe,formatLong:Uoe,formatRelative:Boe,localize:Yoe,match:cae,options:{weekStartsOn:6,firstWeekContainsDate:1}},uae=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(null),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const f=es(Zt(ze,"activities"),Yc("timestamp","desc")),p=PT(f,g=>{const v=[];g.forEach(y=>{v.push({id:y.id,...y.data()})}),e(v),i(!1)},g=>{console.error("Error fetching activities:",g),a("فشل في جلب سجلات الأنشطة"),i(!1)});return()=>p()},[]);const d=f=>({register:{icon:qk,color:"bg-green-500",text:"تسجيل حساب جديد"},add_lecture:{icon:Au,color:"bg-blue-500",text:"إضافة محاضرة"},delete_lecture:{icon:lo,color:"bg-red-500",text:"حذف محاضرة"},add_subject:{icon:jr,color:"bg-purple-500",text:"إضافة مادة"},delete_subject:{icon:lo,color:"bg-red-500",text:"حذف مادة"},update_lecture:{icon:o0,color:"bg-yellow-500",text:"تعديل محاضرة"},update_subject:{icon:o0,color:"bg-yellow-500",text:"تعديل مادة"},delete_user_by_admin:{icon:lo,color:"bg-red-500",text:"حذف مستخدم"},ban_user_by_admin:{icon:Vk,color:"bg-red-500",text:"حظر مستخدم"},unban_user:{icon:Bk,color:"bg-green-500",text:"إلغاء حظر مستخدم"}})[f]||{icon:JU,color:"bg-gray-500",text:f};return s?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.jsxs(Bt,{className:"shadow-lg",children:[u.jsx(cn,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border",children:u.jsx(xm,{children:t.map(f=>{const p=d(f.type),g=p.icon;return u.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 hover:bg-accent/50 transition-colors",children:u.jsx("button",{onClick:()=>{r(f),c(!0)},className:"w-full text-right",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(xx,{className:`${p.color} p-2`,children:u.jsx(g,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-foreground",children:p.text}),u.jsx("p",{className:"text-sm text-muted-foreground",children:SN(f.timestamp.toDate(),"PPpp",{locale:CN})}),f.details&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:f.details})]})]})})},f.id)})})})}),u.jsx(wa,{open:l,onOpenChange:c,children:u.jsxs(mo,{className:"sm:max-w-[500px]",children:[u.jsx(go,{children:u.jsx(yo,{className:"text-2xl font-bold mb-4",children:"تفاصيل النشاط"})}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"نوع النشاط"}),u.jsx("p",{children:d(n.type).text})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المستخدم"}),u.jsx("p",{children:n.username||"غير معروف"})]})]}),n.subjectName&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المادة"}),u.jsx("p",{children:n.subjectName})]}),n.lectureTitle&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المحاضرة"}),u.jsx("p",{children:n.lectureTitle})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"التفاصيل"}),u.jsx("p",{children:n.details||"لا توجد تفاصيل إضافية"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"الوقت"}),u.jsx("p",{children:SN(n.timestamp.toDate(),"PPpp",{locale:CN})})]}),n.ipAddress&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"عنوان IP"}),u.jsx("p",{className:"font-mono",children:n.ipAddress})]})]}),u.jsx(mV,{children:u.jsx(de,{onClick:()=>c(!1),children:"إغلاق"})})]})})]})};var dE="Tabs",[dae,Ece]=bi(dE,[vy]),BV=vy(),[hae,hE]=dae(dE),$V=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=my(a),[f,p]=Aa({prop:r,onChange:s,defaultProp:i});return u.jsx(hae,{scope:n,baseId:Ns(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(Oe.div,{dir:d,"data-orientation":o,...c,ref:e})})});$V.displayName=dE;var WV="TabsList",qV=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=hE(WV,n),o=BV(n);return u.jsx(ML,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});qV.displayName=WV;var HV="TabsTrigger",GV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=hE(HV,n),a=BV(n),l=YV(o.baseId,r),c=XV(o.baseId,r),d=r===o.value;return u.jsx(OL,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ce(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ce(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ce(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});GV.displayName=HV;var KV="TabsContent",QV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=hE(KV,n),l=YV(a.baseId,r),c=XV(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(fs,{present:s||d,children:({present:p})=>u.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});QV.displayName=KV;function YV(t,e){return`${t}-trigger-${e}`}function XV(t,e){return`${t}-content-${e}`}var fae=$V,JV=qV,ZV=GV,eF=QV;const pae=fae,tF=m.forwardRef(({className:t,...e},n)=>u.jsx(JV,{ref:n,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));tF.displayName=JV.displayName;const zu=m.forwardRef(({className:t,...e},n)=>u.jsx(ZV,{ref:n,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));zu.displayName=ZV.displayName;const Bu=m.forwardRef(({className:t,...e},n)=>u.jsx(eF,{ref:n,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Bu.displayName=eF.displayName;function AN(t,[e,n]){return Math.min(n,Math.max(e,t))}function mae(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gae=[" ","Enter","ArrowUp","ArrowDown"],yae=[" ","Enter"],Wh="Select",[_y,Sy,vae]=xg(Wh),[Jc,_ce]=bi(Wh,[vae,Vc]),Cy=Vc(),[wae,Uo]=Jc(Wh),[xae,bae]=Jc(Wh),nF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:v}=t,y=Cy(e),[T,w]=m.useState(null),[x,E]=m.useState(null),[I,P]=m.useState(!1),j=my(c),[C=!1,S]=Aa({prop:r,defaultProp:s,onChange:i}),[A,N]=Aa({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),M=T?v||!!T.closest("form"):!0,[D,z]=m.useState(new Set),ae=Array.from(D).map(J=>J.props.value).join(";");return u.jsx(x2,{...y,children:u.jsxs(wae,{required:g,scope:e,trigger:T,onTriggerChange:w,valueNode:x,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:Ns(),value:A,onValueChange:N,open:C,onOpenChange:S,dir:j,triggerPointerDownPosRef:k,disabled:p,children:[u.jsx(_y.Provider,{scope:e,children:u.jsx(xae,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{z(ee=>new Set(ee).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{z(ee=>{const L=new Set(ee);return L.delete(J),L})},[]),children:n})}),M?u.jsxs(AF,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:J=>N(J.target.value),disabled:p,form:v,children:[A===void 0?u.jsx("option",{value:""}):null,Array.from(D)]},ae):null]})})};nF.displayName=Wh;var rF="SelectTrigger",sF=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Cy(n),o=Uo(rF,n),a=o.disabled||r,l=Je(e,o.onTriggerChange),c=Sy(n),d=m.useRef("touch"),[f,p,g]=IF(y=>{const T=c().filter(E=>!E.disabled),w=T.find(E=>E.value===o.value),x=NF(T,y,w);x!==void 0&&o.onValueChange(x.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(G1,{asChild:!0,...i,children:u.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":CF(o.value)?"":void 0,...s,ref:l,onClick:ce(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:ce(s.onPointerDown,y=>{d.current=y.pointerType;const T=y.target;T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:ce(s.onKeyDown,y=>{const T=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(T&&y.key===" ")&&gae.includes(y.key)&&(v(),y.preventDefault())})})})});sF.displayName=rF;var iF="SelectValue",oF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Uo(iF,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Je(e,l.onValueNodeChange);return dn(()=>{c(d)},[c,d]),u.jsx(Oe.span,{...a,ref:f,style:{pointerEvents:"none"},children:CF(l.value)?u.jsx(u.Fragment,{children:o}):i})});oF.displayName=iF;var Tae="SelectIcon",aF=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});aF.displayName=Tae;var Eae="SelectPortal",lF=t=>u.jsx(yh,{asChild:!0,...t});lF.displayName=Eae;var La="SelectContent",cF=m.forwardRef((t,e)=>{const n=Uo(La,t.__scopeSelect),[r,s]=m.useState();if(dn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?za.createPortal(u.jsx(uF,{scope:t.__scopeSelect,children:u.jsx(_y.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(dF,{...t,ref:e})});cF.displayName=La;var Gr=10,[uF,zo]=Jc(La),_ae="SelectContentImpl",dF=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:T,...w}=t,x=Uo(La,n),[E,I]=m.useState(null),[P,j]=m.useState(null),C=Je(e,re=>I(re)),[S,A]=m.useState(null),[N,k]=m.useState(null),M=Sy(n),[D,z]=m.useState(!1),ae=m.useRef(!1);m.useEffect(()=>{if(E)return KT(E)},[E]),GT();const J=m.useCallback(re=>{const[ve,...Te]=M().map(Q=>Q.ref.current),[ge]=Te.slice(-1),he=document.activeElement;for(const Q of re)if(Q===he||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===ve&&P&&(P.scrollTop=0),Q===ge&&P&&(P.scrollTop=P.scrollHeight),Q==null||Q.focus(),document.activeElement!==he))return},[M,P]),ee=m.useCallback(()=>J([S,E]),[J,S,E]);m.useEffect(()=>{D&&ee()},[D,ee]);const{onOpenChange:L,triggerPointerDownPosRef:V}=x;m.useEffect(()=>{if(E){let re={x:0,y:0};const ve=ge=>{var he,Q;re={x:Math.abs(Math.round(ge.pageX)-(((he=V.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Q=V.current)==null?void 0:Q.y)??0))}},Te=ge=>{re.x<=10&&re.y<=10?ge.preventDefault():E.contains(ge.target)||L(!1),document.removeEventListener("pointermove",ve),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",Te,{capture:!0})}}},[E,L,V]),m.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[te,G]=IF(re=>{const ve=M().filter(he=>!he.disabled),Te=ve.find(he=>he.ref.current===document.activeElement),ge=NF(ve,re,Te);ge&&setTimeout(()=>ge.ref.current.focus())}),ne=m.useCallback((re,ve,Te)=>{const ge=!ae.current&&!Te;(x.value!==void 0&&x.value===ve||ge)&&(A(re),ge&&(ae.current=!0))},[x.value]),W=m.useCallback(()=>E==null?void 0:E.focus(),[E]),Ee=m.useCallback((re,ve,Te)=>{const ge=!ae.current&&!Te;(x.value!==void 0&&x.value===ve||ge)&&k(re)},[x.value]),Ie=r==="popper"?bx:hF,ue=Ie===bx?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:T}:{};return u.jsx(uF,{scope:n,content:E,viewport:P,onViewportChange:j,itemRefCallback:ne,selectedItem:S,onItemLeave:W,itemTextRefCallback:Ee,focusSelectedItem:ee,selectedItemText:N,position:r,isPositioned:D,searchRef:te,children:u.jsx(xy,{as:xo,allowPinchZoom:!0,children:u.jsx(gy,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ce(s,re=>{var ve;(ve=x.trigger)==null||ve.focus({preventScroll:!0}),re.preventDefault()}),children:u.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(Ie,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...w,...ue,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ce(w.onKeyDown,re=>{const ve=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ve&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ge=M().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const he=re.target,Q=ge.indexOf(he);ge=ge.slice(Q+1)}setTimeout(()=>J(ge)),re.preventDefault()}})})})})})})});dF.displayName=_ae;var Sae="SelectItemAlignedPosition",hF=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Uo(La,n),o=zo(La,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=Je(e,C=>d(C)),p=Sy(n),g=m.useRef(!1),v=m.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:w,focusSelectedItem:x}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&T&&w){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(i.dir!=="rtl"){const he=N.left-S.left,Q=A.left-he,Se=C.left-Q,xe=C.width+Se,Fe=Math.max(xe,S.width),O=window.innerWidth-Gr,$=AN(Q,[Gr,Math.max(Gr,O-Fe)]);a.style.minWidth=xe+"px",a.style.left=$+"px"}else{const he=S.right-N.right,Q=window.innerWidth-A.right-he,Se=window.innerWidth-C.right-Q,xe=C.width+Se,Fe=Math.max(xe,S.width),O=window.innerWidth-Gr,$=AN(Q,[Gr,Math.max(Gr,O-Fe)]);a.style.minWidth=xe+"px",a.style.right=$+"px"}const k=p(),M=window.innerHeight-Gr*2,D=y.scrollHeight,z=window.getComputedStyle(c),ae=parseInt(z.borderTopWidth,10),J=parseInt(z.paddingTop,10),ee=parseInt(z.borderBottomWidth,10),L=parseInt(z.paddingBottom,10),V=ae+J+D+L+ee,te=Math.min(T.offsetHeight*5,V),G=window.getComputedStyle(y),ne=parseInt(G.paddingTop,10),W=parseInt(G.paddingBottom,10),Ee=C.top+C.height/2-Gr,Ie=M-Ee,ue=T.offsetHeight/2,re=T.offsetTop+ue,ve=ae+J+re,Te=V-ve;if(ve<=Ee){const he=k.length>0&&T===k[k.length-1].ref.current;a.style.bottom="0px";const Q=c.clientHeight-y.offsetTop-y.offsetHeight,Se=Math.max(Ie,ue+(he?W:0)+Q+ee),xe=ve+Se;a.style.height=xe+"px"}else{const he=k.length>0&&T===k[0].ref.current;a.style.top="0px";const Se=Math.max(Ee,ae+y.offsetTop+(he?ne:0)+ue)+Te;a.style.height=Se+"px",y.scrollTop=ve-Ee+y.offsetTop}a.style.margin=`${Gr}px 0`,a.style.minHeight=te+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,T,w,i.dir,r]);dn(()=>E(),[E]);const[I,P]=m.useState();dn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const j=m.useCallback(C=>{C&&v.current===!0&&(E(),x==null||x(),v.current=!1)},[E,x]);return u.jsx(Aae,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:u.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hF.displayName=Sae;var Cae="SelectPopperPosition",bx=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Gr,...i}=t,o=Cy(n);return u.jsx(K1,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bx.displayName=Cae;var[Aae,fE]=Jc(La,{}),Tx="SelectViewport",fF=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=zo(Tx,n),o=fE(Tx,n),a=Je(e,i.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(_y.Slot,{scope:n,children:u.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-Gr*2,y=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),w=Math.max(y,T);if(w<v){const x=w+g,E=Math.min(v,x),I=x-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});fF.displayName=Tx;var pF="SelectGroup",[Iae,Nae]=Jc(pF),Pae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ns();return u.jsx(Iae,{scope:n,id:s,children:u.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Pae.displayName=pF;var mF="SelectLabel",gF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Nae(mF,n);return u.jsx(Oe.div,{id:s.id,...r,ref:e})});gF.displayName=mF;var tg="SelectItem",[Rae,yF]=Jc(tg),vF=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Uo(tg,n),l=zo(tg,n),c=a.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),v=Je(e,x=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,x,r,s)}),y=Ns(),T=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Rae,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:m.useCallback(x=>{f(E=>E||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(_y.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(Oe.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ce(o.onFocus,()=>g(!0)),onBlur:ce(o.onBlur,()=>g(!1)),onClick:ce(o.onClick,()=>{T.current!=="mouse"&&w()}),onPointerUp:ce(o.onPointerUp,()=>{T.current==="mouse"&&w()}),onPointerDown:ce(o.onPointerDown,x=>{T.current=x.pointerType}),onPointerMove:ce(o.onPointerMove,x=>{var E;T.current=x.pointerType,s?(E=l.onItemLeave)==null||E.call(l):T.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(o.onPointerLeave,x=>{var E;x.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ce(o.onKeyDown,x=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&x.key===" "||(yae.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});vF.displayName=tg;var $u="SelectItemText",wF=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Uo($u,n),a=zo($u,n),l=yF($u,n),c=bae($u,n),[d,f]=m.useState(null),p=Je(e,w=>f(w),l.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=c;return dn(()=>(y(v),()=>T(v)),[y,T,v]),u.jsxs(u.Fragment,{children:[u.jsx(Oe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?za.createPortal(i.children,o.valueNode):null]})});wF.displayName=$u;var xF="SelectItemIndicator",bF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yF(xF,n).isSelected?u.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});bF.displayName=xF;var Ex="SelectScrollUpButton",TF=m.forwardRef((t,e)=>{const n=zo(Ex,t.__scopeSelect),r=fE(Ex,t.__scopeSelect),[s,i]=m.useState(!1),o=Je(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(_F,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});TF.displayName=Ex;var _x="SelectScrollDownButton",EF=m.forwardRef((t,e)=>{const n=zo(_x,t.__scopeSelect),r=fE(_x,t.__scopeSelect),[s,i]=m.useState(!1),o=Je(e,r.onScrollButtonChange);return dn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(_F,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});EF.displayName=_x;var _F=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=zo("SelectScrollButton",n),o=m.useRef(null),a=Sy(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),dn(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ce(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{l()})})}),kae="SelectSeparator",SF=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});SF.displayName=kae;var Sx="SelectArrow",Dae=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Cy(n),i=Uo(Sx,n),o=zo(Sx,n);return i.open&&o.position==="popper"?u.jsx(Q1,{...s,...r,ref:e}):null});Dae.displayName=Sx;function CF(t){return t===""||t===void 0}var AF=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Je(e,s),o=mae(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(vh,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});AF.displayName="BubbleSelect";function IF(t){const e=wn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function NF(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=jae(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function jae(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mae=nF,PF=sF,Oae=oF,Lae=aF,Vae=lF,RF=cF,Fae=fF,kF=gF,DF=vF,Uae=wF,zae=bF,jF=TF,MF=EF,OF=SF;const Jl=Mae,Zl=Oae,xa=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(PF,{ref:r,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Lae,{asChild:!0,children:u.jsx(om,{className:"h-4 w-4 opacity-50"})})]}));xa.displayName=PF.displayName;const LF=m.forwardRef(({className:t,...e},n)=>u.jsx(jF,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(XU,{className:"h-4 w-4"})}));LF.displayName=jF.displayName;const VF=m.forwardRef(({className:t,...e},n)=>u.jsx(MF,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(om,{className:"h-4 w-4"})}));VF.displayName=MF.displayName;const ba=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(Vae,{children:u.jsxs(RF,{ref:s,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(LF,{}),u.jsx(Fae,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(VF,{})]})}));ba.displayName=RF.displayName;const Bae=m.forwardRef(({className:t,...e},n)=>u.jsx(kF,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Bae.displayName=kF.displayName;const Jn=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(DF,{ref:r,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(zae,{children:u.jsx(Fk,{className:"h-4 w-4"})})}),u.jsx(Uae,{children:e})]}));Jn.displayName=DF.displayName;const $ae=m.forwardRef(({className:t,...e},n)=>u.jsx(OF,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));$ae.displayName=OF.displayName;const Wae=lE,qae=cE,qf=$h,Hae=uE,FF=m.forwardRef(({className:t,...e},n)=>u.jsx(Fh,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));FF.displayName=Fh.displayName;const Gae=wh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),UF=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(Hae,{children:[u.jsx(FF,{}),u.jsxs(Uh,{ref:s,className:fe(Gae({side:t}),e),...r,children:[n,u.jsxs($h,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(ei,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));UF.displayName=Uh.displayName;const zF=({className:t,...e})=>u.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});zF.displayName="SheetHeader";const BF=m.forwardRef(({className:t,...e},n)=>u.jsx(zh,{ref:n,className:fe("text-lg font-semibold text-foreground",t),...e}));BF.displayName=zh.displayName;const $F=m.forwardRef(({className:t,...e},n)=>u.jsx(Bh,{ref:n,className:fe("text-sm text-muted-foreground",t),...e}));$F.displayName=Bh.displayName;const Kae=()=>{var Fe;const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,c]=m.useState(!0),[d,f]=m.useState(""),[p,g]=m.useState(void 0),[v,y]=m.useState(null),T=(Fe=Gt.currentUser)==null?void 0:Fe.uid,[w,x]=m.useState(null),{toast:E}=k1(),[I,P]=m.useState("all");m.useState("all");const[j,C]=m.useState(""),[S,A]=m.useState(""),[N,k]=m.useState("2");m.useState(null);const[M,D]=m.useState(""),[z,ae]=m.useState(""),[J,ee]=m.useState(null),[L,V]=m.useState("");m.useState(""),m.useState(null);const[te,G]=m.useState([]),[ne,W]=m.useState("users"),Ee=async()=>{try{c(!0),f("");const O=Zt(ze,"users"),ie=(await Zr(O)).docs.map(Z=>({id:Z.id,...Z.data()}));e(ie)}catch(O){console.error("Error fetching users:",O),f("فشل في جلب بيانات المستخدمين.")}finally{c(!1)}},Ie=async()=>{try{const O=await yne();r(O)}catch(O){console.error("Error fetching subjects:",O),E({title:"خطأ",description:"فشل في جلب المواد.",variant:"destructive"})}},ue=async()=>{try{const $=(await bne()).sort((ie,Z)=>{const Pe=ie.createdAt?new Date(ie.createdAt.toMillis()):new Date(0),we=Z.createdAt?new Date(Z.createdAt.toMillis()):new Date(0);return Pe.getTime()-we.getTime()});i($)}catch(O){console.error("Error fetching lectures:",O),E({title:"خطأ",description:"فشل في جلب المحاضرات.",variant:"destructive"})}},re=async()=>{try{const O=Zt(ze,"stages"),ie=(await Zr(O)).docs.map(Z=>({id:Z.id,name:Z.data().name}));a(ie)}catch(O){console.error("Error fetching stages:",O),E({title:"خطأ",description:"فشل في جلب المراحل الدراسية.",variant:"destructive"})}};m.useEffect(()=>{Ee(),Ie(),ue(),re(),(async()=>{const Z=Gt.currentUser;if(Z){const Pe=xt(ze,"users",Z.uid),we=await vi(Pe);we.exists()&&x(we.data().role)}})();const $=es(Zt(ze,"activities"),Yc("timestamp","desc"),IT(5)),ie=PT($,Z=>{const Pe=Z.docs.map(we=>({id:we.id,...we.data()}));G(Pe)});return()=>ie()},[]);const ve=async O=>{var $,ie,Z,Pe;try{const we=t.find(it=>it.id===O);if(!we){console.warn("User not found in the current state.");return}const pt=es(Zt(ze,"activities"),Mu("userId","==",O)),nn=(await Zr(pt)).docs.map(it=>Xs(it.ref));await Promise.all(nn);const Lt=es(Zt(ze,"lectures"),Mu("createdBy","==",O)),He=(await Zr(Lt)).docs.map(it=>Xs(it.ref));await Promise.all(He);const Y=es(Zt(ze,"subjects"),Mu("createdBy","==",O)),Re=(await Zr(Y)).docs.map(it=>Xs(it.ref));await Promise.all(Re);const Yt=es(Zt(ze,"news"),Mu("createdBy","==",O)),Wt=(await Zr(Yt)).docs.map(it=>Xs(it.ref));await Promise.all(Wt),await Xs(xt(ze,"users",O));try{console.warn("Client-side Firebase Auth user deletion is not supported. User must be deleted from Auth via Admin SDK.")}catch(it){console.warn("Could not delete user from Auth:",it)}(($=Gt.currentUser)==null?void 0:$.uid)===O&&await Gt.signOut(),e(it=>it.filter(ur=>ur.id!==O)),await rh({type:"delete_user_by_admin",userId:(ie=Gt.currentUser)==null?void 0:ie.uid,username:((Z=Gt.currentUser)==null?void 0:Z.email)||"N/A",details:`المالك ${(Pe=Gt.currentUser)==null?void 0:Pe.email} حذف المستخدم ${we.fullName||we.email} وجميع بياناته من النظام.`}),E({title:"تم حذف المستخدم",description:`تم حذف المستخدم (${we.fullName||we.email}) وجميع بياناته من النظام بنجاح.`,variant:"default"})}catch(we){console.error("Error deleting user:",we),f("فشل في حذف المستخدم."),E({title:"خطأ",description:"فشل في حذف المستخدم وجميع بياناته.",variant:"destructive"})}},Te=async O=>{y(O),g(void 0)},ge=async O=>{try{if(!t.find(Z=>Z.id===O))return;const ie=xt(ze,"users",O);await ii(ie,{isBanned:!1,banUntil:null}),e(t.map(Z=>Z.id===O?{...Z,isBanned:!1,banUntil:null}:Z))}catch($){console.error("Error unbanning user:",$),f("فشل في إلغاء حظر المستخدم.")}},he=async O=>{try{f(""),c(!0),console.log("Uploading file:",{name:O.name,size:O.size,type:O.type});const{fileId:$,fileName:ie,fileUrl:Z}=await SL(O);console.log("File uploaded successfully:",{fileId:$,fileName:ie,fileUrl:Z}),await xne(L,M,z,O),E({title:"نجاح",description:"تم رفع المحاضرة بنجاح."}),D(""),ae(""),V(""),ee(null),ue()}catch($){console.error("Error uploading lecture:",$),E({title:"خطأ",description:`فشل في رفع الملف: ${$.message||"خطأ غير معروف"}`,variant:"destructive"})}finally{c(!1)}},Q=async O=>{try{const $=O.course==="1"?"2":"1";await vne(O.id,O.name,O.stageId,$),E({title:"نجاح",description:`تم نقل المادة "${O.name}" إلى ${$==="1"?"الكورس الأول":"الكورس الثاني"}.`}),Ie()}catch($){console.error("Error moving subject course:",$),E({title:"خطأ",description:"فشل في نقل المادة إلى كورس آخر.",variant:"destructive"})}},Se=async(O,$)=>{var ie,Z,Pe;try{const we=t.find(Ze=>Ze.id===O);if(!we){console.warn("User not found in the current state.");return}const pt=xt(ze,"users",O);await ii(pt,{role:$,updatedAt:new Date}),e(t.map(Ze=>Ze.id===O?{...Ze,role:$}:Ze)),await rh({type:"change_user_role",userId:(ie=Gt.currentUser)==null?void 0:ie.uid,username:((Z=Gt.currentUser)==null?void 0:Z.email)||"N/A",details:`المالك ${(Pe=Gt.currentUser)==null?void 0:Pe.email} قام بتغيير رتبة المستخدم ${we.fullName||we.email} إلى ${$==="admin"?"مسؤول":"مستخدم"}.`}),E({title:"تم تغيير الرتبة",description:`تم تغيير رتبة المستخدم (${we.fullName||we.email}) إلى ${$==="admin"?"مسؤول":"مستخدم"} بنجاح.`,variant:"default"})}catch(we){console.error("Error changing user role:",we),E({title:"خطأ",description:"فشل في تغيير رتبة المستخدم.",variant:"destructive"})}};t.length,t.filter(O=>!O.isBanned).length,t.filter(O=>O.isBanned).length,t.filter(O=>O.role==="admin").length,t.filter(O=>O.role==="user").length,s.filter(O=>I==="all"||O.subjectId===I);const xe=[{label:"عدد المستخدمين",value:t.length,icon:u.jsx(Pl,{className:"h-7 w-7 text-primary"})},{label:"عدد المحاضرات",value:s.length,icon:u.jsx(Au,{className:"h-7 w-7 text-primary"})},{label:"عدد المواد",value:n.length,icon:u.jsx(jr,{className:"h-7 w-7 text-primary"})}];return u.jsxs("div",{className:"container mx-auto py-8 animate-fade-in",children:[u.jsxs(Le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative rounded-2xl bg-gradient-to-r from-primary/80 to-primary/40 p-8 mb-8 flex items-center shadow-lg overflow-hidden",children:[u.jsx(Wk,{className:"absolute right-6 top-6 text-white/30 h-16 w-16 animate-pulse"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[u.jsx(r9,{className:"h-8 w-8 text-white/90"}),"لوحة تحكم المسؤول"]}),u.jsx("p",{className:"text-lg text-white/80",children:"مرحبًا بك في لوحة التحكم. يمكنك إدارة المستخدمين، المواد، والمحاضرات بكل سهولة واحترافية."})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:xe.map((O,$)=>u.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*$,duration:.6,type:"spring"},className:"dashboard-card flex items-center gap-4 p-6 bg-background/80 hover:scale-[1.03] transition-transform",children:[u.jsx("div",{className:"flex-shrink-0",children:O.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-foreground",children:O.value}),u.jsx("div",{className:"text-muted-foreground",children:O.label})]})]},O.label))}),u.jsx("div",{className:"md:hidden flex justify-end mb-4",children:u.jsxs(Wae,{children:[u.jsx(qae,{asChild:!0,children:u.jsx(de,{variant:"outline",size:"icon",children:u.jsx($k,{className:"h-6 w-6"})})}),u.jsxs(UF,{side:"left",className:"w-64",children:[u.jsxs(zF,{children:[u.jsx(BF,{children:"لوحة التحكم"}),u.jsx($F,{children:"انتقل بين أقسام لوحة التحكم."})]}),u.jsxs("div",{className:"flex flex-col space-y-4 py-6",children:[u.jsx(qf,{asChild:!0,children:u.jsxs(de,{variant:"ghost",className:"justify-start",onClick:()=>W("users"),children:[u.jsx(Pl,{className:"h-5 w-5 ml-2"})," إدارة المستخدمين"]})}),u.jsx(qf,{asChild:!0,children:u.jsxs(de,{variant:"ghost",className:"justify-start",onClick:()=>W("subjects"),children:[u.jsx(jr,{className:"h-5 w-5 ml-2"})," إدارة المواد"]})}),u.jsx(qf,{asChild:!0,children:u.jsxs(de,{variant:"ghost",className:"justify-start",onClick:()=>W("lectures"),children:[u.jsx(Au,{className:"h-5 w-5 ml-2"})," إدارة المحاضرات"]})}),u.jsx(qf,{asChild:!0,children:u.jsxs(de,{variant:"ghost",className:"justify-start",onClick:()=>W("activities"),children:[u.jsx(vv,{className:"h-5 w-5 ml-2"})," سجل النشاطات"]})})]})]})]})}),u.jsxs(pae,{defaultValue:"users",value:ne,onValueChange:W,className:"w-full",children:[u.jsxs(tF,{className:"hidden md:grid md:grid-cols-4 gap-0 mb-8 p-1 bg-muted rounded-lg",children:[u.jsxs(zu,{value:"users",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Pl,{className:"h-5 w-5 ml-2"}),"إدارة المستخدمين"]}),u.jsxs(zu,{value:"subjects",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(jr,{className:"h-5 w-5 ml-2"}),"إدارة المواد"]}),u.jsxs(zu,{value:"lectures",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Au,{className:"h-5 w-5 ml-2"}),"إدارة المحاضرات"]}),u.jsxs(zu,{value:"activities",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(vv,{className:"h-5 w-5 ml-2"}),"سجل النشاطات"]})]}),u.jsx(Bu,{value:"users",className:"space-y-6",children:u.jsxs(Bt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(gn,{className:"p-6",children:u.jsxs($n,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Pl,{className:"h-6 w-6 ml-2 text-primary"}),"قائمة المستخدمين"]})}),u.jsx(cn,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Pp,{className:"admin-dashboard-table",children:[u.jsx(Rp,{children:u.jsxs(ea,{children:[u.jsx(Ln,{children:"الاسم"}),u.jsx(Ln,{children:"البريد الإلكتروني"}),u.jsx(Ln,{children:"الدور"}),u.jsx(Ln,{children:"الحالة"}),u.jsx(Ln,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(kp,{children:t.map(O=>u.jsxs(ea,{children:[u.jsx(Vn,{children:O.fullName||"-"}),u.jsx(Vn,{children:O.email}),u.jsx(Vn,{children:O.role==="owner"?"المالك":O.role==="admin"?"مسؤول":"مستخدم"}),u.jsx(Vn,{children:O.isBanned?u.jsx("span",{className:"text-red-500",children:"محظور"}):u.jsx("span",{className:"text-green-600",children:"نشط"})}),u.jsxs(Vn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[w==="owner"&&O.role!=="owner"&&O.id!==T&&u.jsxs(u.Fragment,{children:[u.jsxs(vx,{children:[u.jsx(wx,{asChild:!0,children:u.jsx(de,{variant:"destructive",size:"icon",children:u.jsx(lo,{className:"h-5 w-5"})})}),u.jsxs(Gm,{children:[u.jsxs(Km,{children:[u.jsx(Ym,{children:"هل أنت متأكد من حذف هذا المستخدم؟"}),u.jsx(Xm,{children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف المستخدم نهائياً من النظام."})]}),u.jsxs(Qm,{children:[u.jsx(Zm,{children:"إلغاء"}),u.jsx(Jm,{onClick:()=>ve(O.id),children:"تأكيد الحذف"})]})]})]}),u.jsxs(vx,{children:[u.jsx(wx,{asChild:!0,children:u.jsx(de,{variant:"outline",size:"icon",className:O.role==="admin"?"text-yellow-500 hover:text-yellow-600":"text-blue-500 hover:text-blue-600",children:O.role==="admin"?u.jsx(m9,{className:"h-5 w-5"}):u.jsx(p9,{className:"h-5 w-5"})})}),u.jsxs(Gm,{children:[u.jsxs(Km,{children:[u.jsx(Ym,{children:O.role==="admin"?"إلغاء صلاحيات المسؤول":"ترقية إلى مسؤول"}),u.jsx(Xm,{children:O.role==="admin"?"هل أنت متأكد من إلغاء صلاحيات المسؤول عن هذا المستخدم؟":"هل أنت متأكد من ترقية هذا المستخدم إلى مسؤول؟"})]}),u.jsxs(Qm,{children:[u.jsx(Zm,{children:"إلغاء"}),u.jsx(Jm,{onClick:()=>Se(O.id,O.role==="admin"?"user":"admin"),children:O.role==="admin"?"إلغاء الصلاحيات":"ترقية"})]})]})]})]}),O.isBanned?u.jsx(de,{variant:"outline",onClick:()=>ge(O.id),size:"icon",children:u.jsx(Bk,{className:"h-5 w-5 text-green-600"})}):u.jsx(de,{variant:"outline",onClick:()=>Te(O),size:"icon",children:u.jsx(Vk,{className:"h-5 w-5 text-red-500"})})]})]},O.id))})]})})})]})}),u.jsx(Bu,{value:"subjects",children:u.jsxs(Bt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(gn,{className:"p-6",children:u.jsxs($n,{className:"text-xl font-semibold flex items-center",children:[u.jsx(jr,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المواد"]})}),u.jsxs(cn,{children:[u.jsxs("form",{onSubmit:async O=>{O.preventDefault();try{const $=await gne(j,S,N);E({title:"نجاح الإضافة",description:"تم إضافة المادة بنجاح."}),Ie()}catch($){console.error("Error adding subject: ",$),E({title:"خطأ",description:"حدث خطأ أثناء إضافة المادة.",variant:"destructive"})}},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Et,{placeholder:"اسم المادة",value:j,onChange:O=>C(O.target.value)}),u.jsxs(Jl,{value:S,onValueChange:O=>A(O),children:[u.jsx(xa,{children:u.jsx(Zl,{placeholder:"اختر المرحلة"})}),u.jsx(ba,{children:o.map(O=>u.jsx(Jn,{value:O.id,children:O.name},O.id))})]}),u.jsxs(Jl,{value:N,onValueChange:O=>k(O),children:[u.jsx(xa,{children:u.jsx(Zl,{placeholder:"اختر الكورس"})}),u.jsxs(ba,{children:[u.jsx(Jn,{value:"1",children:"الكورس الأول"}),u.jsx(Jn,{value:"2",children:"الكورس الثاني"})]})]})]}),u.jsx(de,{type:"submit",className:"w-full",children:"إضافة مادة"})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Pp,{className:"admin-dashboard-table",children:[u.jsx(Rp,{children:u.jsxs(ea,{children:[u.jsx(Ln,{children:"اسم المادة"}),u.jsx(Ln,{children:"المرحلة"}),u.jsx(Ln,{children:"الكورس"}),u.jsx(Ln,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(kp,{children:n.map(O=>{var $;return u.jsxs(ea,{children:[u.jsx(Vn,{children:O.name}),u.jsx(Vn,{children:(($=o.find(ie=>ie.id===O.stageId))==null?void 0:$.name)||"-"}),u.jsx(Vn,{children:O.course==="1"?"الكورس الأول":"الكورس الثاني"}),u.jsxs(Vn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(de,{variant:"outline",onClick:()=>Q(O),size:"icon",children:u.jsx(GU,{className:"h-5 w-5"})}),u.jsx(de,{variant:"destructive",onClick:async()=>{try{await wne(O.id),E({title:"نجاح",description:"تم حذف المادة بنجاح"}),Ie()}catch(ie){console.error("Error deleting subject: ",ie),E({title:"خطأ",description:"فشل حذف المادة",variant:"destructive"})}},size:"icon",children:u.jsx(lo,{className:"h-5 w-5"})})]})]},O.id)})})]})})]})]})}),u.jsx(Bu,{value:"lectures",children:u.jsxs(Bt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(gn,{className:"p-6",children:u.jsxs($n,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Au,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المحاضرات"]})}),u.jsxs(cn,{children:[u.jsxs("form",{onSubmit:O=>{if(O.preventDefault(),!L){E({title:"خطأ",description:"يرجى اختيار المادة للمحاضرة",variant:"destructive"});return}J&&he(J)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(Et,{placeholder:"عنوان المحاضرة",value:M,onChange:O=>D(O.target.value)}),u.jsx(Et,{placeholder:"وصف المحاضرة",value:z,onChange:O=>ae(O.target.value)}),u.jsxs(Jl,{value:L,onValueChange:O=>V(O),children:[u.jsx(xa,{children:u.jsx(Zl,{placeholder:"اختر المادة"})}),u.jsx(ba,{children:n.map(O=>u.jsx(Jn,{value:O.id,children:O.name},O.id))})]}),u.jsx(Et,{type:"file",onChange:O=>{var $;return ee((($=O.target.files)==null?void 0:$[0])||null)}})]}),u.jsx(de,{type:"submit",className:"w-full",children:"رفع محاضرة"})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Pp,{className:"admin-dashboard-table",children:[u.jsx(Rp,{children:u.jsxs(ea,{children:[u.jsx(Ln,{children:"اسم المادة"}),u.jsx(Ln,{children:"عنوان المحاضرة"}),u.jsx(Ln,{children:"الوصف"}),u.jsx(Ln,{children:"اسم الملف"}),u.jsx(Ln,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(kp,{children:s.map(O=>{var $;return u.jsxs(ea,{children:[u.jsx(Vn,{children:(($=n.find(ie=>ie.id===O.subjectId))==null?void 0:$.name)||"-"}),u.jsx(Vn,{children:O.title}),u.jsx(Vn,{children:O.description}),u.jsx(Vn,{children:O.fileName}),u.jsxs(Vn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(de,{variant:"outline",onClick:()=>Tne(O.id,O.title,O.description),size:"icon",children:u.jsx(o0,{className:"h-5 w-5"})}),u.jsx(de,{variant:"destructive",onClick:async()=>{try{await Ene(O.id,O.fileId),E({title:"نجاح",description:"تم حذف المحاضرة بنجاح"}),ue()}catch(ie){console.error("Error deleting lecture: ",ie),E({title:"خطأ",description:"فشل حذف المحاضرة",variant:"destructive"})}},size:"icon",children:u.jsx(lo,{className:"h-5 w-5"})})]})]},O.id)})})]})})]})]})}),u.jsx(Bu,{value:"activities",className:"space-y-6",children:u.jsxs(Bt,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsxs(gn,{className:"p-6",children:[u.jsxs($n,{className:"text-xl font-semibold flex items-center",children:[u.jsx(vv,{className:"h-6 w-6 ml-2 text-primary"}),"سجل النشاطات"]}),u.jsx(Ls,{children:"جميع الأنشطة والتغييرات التي تتم في النظام"})]}),u.jsx(cn,{children:u.jsx(uae,{})})]})})]}),u.jsxs(Le.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},className:"fixed bottom-8 left-8 z-50 bg-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 dashboard-button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},title:"إضافة عنصر جديد",children:[u.jsx(lm,{className:"h-6 w-6"}),"إضافة"]})]})},IN=({allowedRoles:t})=>{const[e,n]=m.useState(!0),[r,s]=m.useState(!1),[i,o]=m.useState(void 0);return m.useEffect(()=>{const a=hy(Gt,async l=>{if(l){s(!0);const c=xt(ze,"users",l.uid),d=await vi(c);d.exists()?o(d.data().role):o("user")}else s(!1),o(null)});return()=>a()},[]),m.useEffect(()=>{r!==!1&&i!==void 0&&n(!1),r===!1&&i===null&&n(!1)},[r,i]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsx("p",{children:"جاري التحقق من الصلاحيات..."})}):!r||i===null?u.jsx(g0,{to:"/login",replace:!0}):t&&!t.includes(i)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"لا تملك الصلاحيات الكافية"}),u.jsx("p",{className:"text-muted-foreground",children:"ليس لديك إذن للوصول إلى هذه الصفحة."}),u.jsx(g0,{to:"/",replace:!0})," "]})}):u.jsx(f8,{})},Cx=m.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Cx.displayName="Textarea";function Qae(t){return Object.prototype.toString.call(t)==="[object Object]"}function NN(t){return Qae(t)||Array.isArray(t)}function Yae(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function pE(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!NN(a)||!NN(l)?a===l:pE(a,l)})}function PN(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Xae(t,e){if(t.length!==e.length)return!1;const n=PN(t),r=PN(e);return n.every((s,i)=>{const o=r[i];return pE(s,o)})}function mE(t){return typeof t=="number"}function Ax(t){return typeof t=="string"}function Ay(t){return typeof t=="boolean"}function RN(t){return Object.prototype.toString.call(t)==="[object Object]"}function St(t){return Math.abs(t)}function gE(t){return Math.sign(t)}function gd(t,e){return St(t-e)}function Jae(t,e){if(t===0||e===0||St(t)<=St(e))return 0;const n=gd(St(t),St(e));return St(n/t)}function ah(t){return lh(t).map(Number)}function os(t){return t[qh(t)]}function qh(t){return Math.max(0,t.length-1)}function yE(t,e){return e===qh(t)}function kN(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function lh(t){return Object.keys(t)}function WF(t,e){return[t,e].reduce((n,r)=>(lh(r).forEach(s=>{const i=n[s],o=r[s],a=RN(i)&&RN(o);n[s]=a?WF(i,o):o}),n),{})}function Ix(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Zae(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return Ax(t)?n[t](l):t(e,l,c)}return{measure:o}}function ch(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function ele(t,e,n,r){const s=ch(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){g(),s.clear()}function f(T){if(!l)return;o||(o=T);const w=T-o;for(o=T,a+=w;a>=i;)n(i),a-=i;const x=a/i;r(x),l&&e.requestAnimationFrame(f)}function p(){l||(l=e.requestAnimationFrame(f))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:d,start:p,stop:g,update:()=>n(i),render:r}}function tle(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=f();function c(v){const{height:y,width:T}=v;return r?y:T}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function p(v){return v*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Va(t=0,e=0){const n=St(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function qF(t,e,n){const{constrain:r}=Va(0,t),s=t+1;let i=o(e);function o(p){return n?St((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),f}function c(p){return d().set(a()+p)}function d(){return qF(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function nle(t,e,n,r,s,i,o,a,l,c,d,f,p,g,v,y,T,w,x){const{cross:E,direction:I}=t,P=["INPUT","SELECT","TEXTAREA"],j={passive:!1},C=ch(),S=ch(),A=Va(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},k={mouse:500,touch:600},M=v?43:25;let D=!1,z=0,ae=0,J=!1,ee=!1,L=!1,V=!1;function te(Q){if(!x)return;function Se(Fe){(Ay(x)||x(Q,Fe))&&ue(Fe)}const xe=e;C.add(xe,"dragstart",Fe=>Fe.preventDefault(),j).add(xe,"touchmove",()=>{},j).add(xe,"touchend",()=>{}).add(xe,"touchstart",Se).add(xe,"mousedown",Se).add(xe,"touchcancel",ve).add(xe,"contextmenu",ve).add(xe,"click",Te,!0)}function G(){C.clear(),S.clear()}function ne(){const Q=V?n:e;S.add(Q,"touchmove",re,j).add(Q,"touchend",ve).add(Q,"mousemove",re,j).add(Q,"mouseup",ve)}function W(Q){const Se=Q.nodeName||"";return P.includes(Se)}function Ee(){return(v?k:N)[V?"mouse":"touch"]}function Ie(Q,Se){const xe=f.add(gE(Q)*-1),Fe=d.byDistance(Q,!v).distance;return v||St(Q)<A?Fe:T&&Se?Fe*.5:d.byIndex(xe.get(),0).distance}function ue(Q){const Se=Ix(Q,r);V=Se,L=v&&Se&&!Q.buttons&&D,D=gd(s.get(),o.get())>=2,!(Se&&Q.button!==0)&&(W(Q.target)||(J=!0,i.pointerDown(Q),c.useFriction(0).useDuration(0),s.set(o),ne(),z=i.readPoint(Q),ae=i.readPoint(Q,E),p.emit("pointerDown")))}function re(Q){if(!Ix(Q,r)&&Q.touches.length>=2)return ve(Q);const xe=i.readPoint(Q),Fe=i.readPoint(Q,E),O=gd(xe,z),$=gd(Fe,ae);if(!ee&&!V&&(!Q.cancelable||(ee=O>$,!ee)))return ve(Q);const ie=i.pointerMove(Q);O>y&&(L=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(I(ie)),Q.preventDefault()}function ve(Q){const xe=d.byDistance(0,!1).index!==f.get(),Fe=i.pointerUp(Q)*Ee(),O=Ie(I(Fe),xe),$=Jae(Fe,O),ie=M-10*$,Z=w+$/50;ee=!1,J=!1,S.clear(),c.useDuration(ie).useFriction(Z),l.distance(O,!v),V=!1,p.emit("pointerUp")}function Te(Q){L&&(Q.stopPropagation(),Q.preventDefault(),L=!1)}function ge(){return J}return{init:te,destroy:G,pointerDown:ge}}function rle(t,e){let r,s;function i(f){return f.timeStamp}function o(f,p){const v=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(Ix(f,e)?f:f.touches[0])[v]}function a(f){return r=f,s=f,o(f)}function l(f){const p=o(f)-o(s),g=i(f)-i(r)>170;return s=f,g&&(r=f),p}function c(f){if(!r||!s)return 0;const p=o(s)-o(r),g=i(f)-i(r),v=i(f)-i(s)>170,y=p/g;return g&&!v&&St(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function sle(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function ile(t){function e(r){return t*(r/100)}return{measure:e}}function ole(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],f=!1;function p(T){return s.measureSize(o.measure(T))}function g(T){if(!i)return;c=p(t),d=r.map(p);function w(x){for(const E of x){if(f)return;const I=E.target===t,P=r.indexOf(E.target),j=I?c:d[P],C=p(I?t:r[P]);if(St(C-j)>=.5){T.reInit(),e.emit("resize");break}}}l=new ResizeObserver(x=>{(Ay(i)||i(T,x))&&w(x)}),n.requestAnimationFrame(()=>{a.forEach(x=>l.observe(x))})}function v(){f=!0,l&&l.disconnect()}return{init:g,destroy:v}}function ale(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),f=0;function p(j){const C=j/1e3,S=l*C,A=r.get()-t.get(),N=!l;let k=0;return N?(o=0,n.set(r),t.set(r),k=A):(n.set(t),o+=A/S,o*=c,d+=o,t.add(o*C),k=d-f),a=gE(k),f=d,P}function g(){const j=r.get()-e.get();return St(j)<.001}function v(){return l}function y(){return a}function T(){return o}function w(){return E(s)}function x(){return I(i)}function E(j){return l=j,P}function I(j){return c=j,P}const P={direction:y,duration:v,velocity:T,seek:p,settled:g,useBaseFriction:x,useBaseDuration:w,useFriction:I,useDuration:E};return P}function lle(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=Va(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",y=St(t[v]-e.get()),T=n.get()-e.get(),w=a.constrain(y/o);n.subtract(T*w),!g&&St(T)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:f}}function cle(t,e,n,r,s){const i=Va(-e+t,0),o=f(),a=d(),l=p();function c(v,y){return gd(v,y)<1}function d(){const v=o[0],y=os(o),T=o.lastIndexOf(v),w=o.indexOf(y)+1;return Va(T,w)}function f(){return n.map((v,y)=>{const{min:T,max:w}=i,x=i.constrain(v),E=!y,I=yE(n,y);return E?w:I||c(T,x)?T:c(w,x)?w:x}).map(v=>parseFloat(v.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:v,max:y}=a;return o.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function ule(t,e,n){const r=e[0],s=n?r-t:os(e);return{limit:Va(s,r)}}function dle(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Va(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const g=t*(p*-1);r.forEach(v=>v.add(g))}return{loop:d}}function hle(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function fle(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=f().map(e.measure),c=p(),d=g();function f(){return a(r).map(y=>os(y)[o]-y[0][i]).map(St)}function p(){return r.map(y=>n[i]-y[i]).map(y=>-St(y))}function g(){return a(c).map(y=>y[0]).map((y,T)=>y+l[T])}return{snaps:c,snapsAligned:d}}function ple(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const p=o(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?p:p.slice(a,l).map((v,y,T)=>{const w=!y,x=yE(T,y);if(w){const E=os(T[0])+1;return kN(E)}if(x){const E=qh(i)-os(T)[0]+1;return kN(E,os(T)[0])}return v})}return{slideRegistry:c}}function mle(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((y,T)=>St(y)-St(T))[0]}function c(v){const y=t?o(v):a(v),T=e.map((x,E)=>({diff:d(x-y,0),index:E})).sort((x,E)=>St(x.diff)-St(E.diff)),{index:w}=T[0];return{index:w,distance:y}}function d(v,y){const T=[v,v+n,v-n];if(!t)return v;if(!y)return l(T);const w=T.filter(x=>gE(x)===y);return w.length?l(w):os(T)-n}function f(v,y){const T=e[v]-s.get(),w=d(T,y);return{index:v,distance:w}}function p(v,y){const T=s.get()+v,{index:w,distance:x}=c(T),E=!t&&i(T);if(!y||E)return{index:w,distance:v};const I=e[w]-x,P=v+d(I,0);return{index:w,distance:P}}return{byDistance:p,byIndex:f,shortcut:d}}function gle(t,e,n,r,s,i,o){function a(f){const p=f.distance,g=f.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function l(f,p){const g=s.byDistance(f,p);a(g)}function c(f,p){const g=e.clone().set(f),v=s.byIndex(g.get(),p);a(v)}return{distance:l,index:c}}function yle(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(E=>E.includes(y));mE(x)&&(s.useDuration(0),r.index(x,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),e.forEach((y,T)=>{i.add(y,"focus",w=>{(Ay(a)||a(g,w))&&v(T)},l)})}function f(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function Wu(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return mE(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function HF(t,e){const n=t.scroll==="x"?i:o,r=e.style;let s=!1;function i(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function a(f){s||(r.transform=n(t.direction(f)))}function l(f){s=!f}function c(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function vle(t,e,n,r,s,i,o,a,l){const d=ah(s),f=ah(s).reverse(),p=w().concat(x());function g(C,S){return C.reduce((A,N)=>A-s[N],S)}function v(C,S){return C.reduce((A,N)=>g(A,S)>0?A.concat([N]):A,[])}function y(C){return i.map((S,A)=>({start:S-r[A]+.5+C,end:S+e-.5+C}))}function T(C,S,A){const N=y(S);return C.map(k=>{const M=A?0:-n,D=A?n:0,z=A?"end":"start",ae=N[k][z];return{index:k,loopPoint:ae,slideLocation:Wu(-1),translate:HF(t,l[k]),target:()=>a.get()>ae?M:D}})}function w(){const C=o[0],S=v(f,C);return T(S,n,!1)}function x(){const C=e-o[0]-1,S=v(d,C);return T(S,-n,!0)}function E(){return p.every(({index:C})=>{const S=d.filter(A=>A!==C);return g(S,e)<=.1})}function I(){p.forEach(C=>{const{target:S,translate:A,slideLocation:N}=C,k=S();k!==N.get()&&(A.to(k),N.set(k))})}function P(){p.forEach(C=>C.translate.clear())}return{canLoop:E,clear:P,loop:I,loopPoints:p}}function wle(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(Ay(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function xle(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const T=e.indexOf(y.target);s[T]=y}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function f(v){return lh(s).reduce((y,T)=>{const w=parseInt(T),{isIntersecting:x}=s[w];return(v&&x||!v&&!x)&&y.push(w),y},[])}function p(v=!0){if(v&&i)return i;if(!v&&o)return o;const y=f(v);return v&&(i=y),v||(o=y),y}return{init:c,destroy:d,get:p}}function ble(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=v(),f=y(),p=n.map(o),g=T();function v(){if(!c)return 0;const x=n[0];return St(e[a]-x[a])}function y(){if(!c)return 0;const x=i.getComputedStyle(os(r));return parseFloat(x.getPropertyValue(`margin-${l}`))}function T(){return n.map((x,E,I)=>{const P=!E,j=yE(I,E);return P?p[E]+d:j?p[E]+f:I[E+1][a]-x[a]}).map(St)}return{slideSizes:p,slideSizesWithGaps:g,startGap:d,endGap:f}}function Tle(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:f}=t,p=mE(n);function g(w,x){return ah(w).filter(E=>E%x===0).map(E=>w.slice(E,E+x))}function v(w){return w.length?ah(w).reduce((x,E,I)=>{const P=os(x)||0,j=P===0,C=E===qh(w),S=s[c]-i[P][c],A=s[c]-i[E][d],N=!r&&j?f(o):0,k=!r&&C?f(a):0,M=St(A-k-(S+N));return I&&M>e+l&&x.push(E),C&&x.push(w.length),x},[]).map((x,E,I)=>{const P=Math.max(I[E-1]||0);return w.slice(P,x)}):[]}function y(w){return p?g(w,n):v(w)}return{groupSlides:y}}function Ele(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:p,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:T,skipSnaps:w,containScroll:x,watchResize:E,watchSlides:I,watchDrag:P,watchFocus:j}=i,C=2,S=sle(),A=S.measure(e),N=n.map(S.measure),k=tle(l,c),M=k.measureSize(A),D=ile(M),z=Zae(a,M),ae=!f&&!!x,J=f||!!x,{slideSizes:ee,slideSizesWithGaps:L,startGap:V,endGap:te}=ble(k,A,N,n,J,s),G=Tle(k,M,T,f,A,N,V,te,C),{snaps:ne,snapsAligned:W}=fle(k,z,A,N,G),Ee=-os(ne)+os(L),{snapsContained:Ie,scrollContainLimit:ue}=cle(M,Ee,W,x,C),re=ae?Ie:W,{limit:ve}=ule(Ee,re,f),Te=qF(qh(re),d,f),ge=Te.clone(),he=ah(n),Q=({dragHandler:Re,scrollBody:Yt,scrollBounds:Pt,options:{loop:Wt}},it)=>{Wt||Pt.constrain(Re.pointerDown()),Yt.seek(it)},Se=({scrollBody:Re,translate:Yt,location:Pt,offsetLocation:Wt,scrollLooper:it,slideLooper:ur,dragHandler:On,animation:el,eventHandler:Ae,scrollBounds:tt,options:{loop:Qe}},qt)=>{const rn=Re.settled(),dr=!tt.shouldConstrain(),hr=Qe?rn:rn&&dr;hr&&!On.pointerDown()&&(el.stop(),Ae.emit("settle")),hr||Ae.emit("scroll");const Bo=Pt.get()*qt+ie.get()*(1-qt);Wt.set(Bo),Qe&&(it.loop(Re.direction()),ur.loop()),Yt.to(Wt.get())},xe=ele(r,s,Re=>Q(ke,Re),Re=>Se(ke,Re)),Fe=.68,O=re[Te.get()],$=Wu(O),ie=Wu(O),Z=Wu(O),Pe=Wu(O),we=ale($,Z,ie,Pe,p,Fe),pt=mle(f,re,Ee,ve,Pe),Ze=gle(xe,Te,ge,we,pt,Pe,o),nn=hle(ve),Lt=ch(),st=xle(e,n,o,y),{slideRegistry:He}=ple(ae,x,re,ue,G,he),Y=yle(t,n,He,Ze,we,Lt,o,j),ke={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:A,slideRects:N,animation:xe,axis:k,dragHandler:nle(k,t,r,s,Pe,rle(k,s),$,xe,Ze,we,pt,Te,o,D,g,v,w,Fe,P),eventStore:Lt,percentOfView:D,index:Te,indexPrevious:ge,limit:ve,location:$,offsetLocation:Z,previousLocation:ie,options:i,resizeHandler:ole(e,o,s,n,k,E,S),scrollBody:we,scrollBounds:lle(ve,Z,Pe,we,D),scrollLooper:dle(Ee,ve,Z,[$,Z,ie,Pe]),scrollProgress:nn,scrollSnapList:re.map(nn.get),scrollSnaps:re,scrollTarget:pt,scrollTo:Ze,slideLooper:vle(k,M,Ee,ee,L,ne,re,Z,n),slideFocus:Y,slidesHandler:wle(e,o,I),slidesInView:st,slideIndexes:he,slideRegistry:He,slidesToScroll:G,target:Pe,translate:HF(k,e)};return ke}function _le(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const Sle={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Cle(t){function e(i,o){return WF(i,o||{})}function n(i){const o=i.breakpoints||{},a=lh(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>lh(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Ale(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function ng(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=Cle(s),o=Ale(i),a=ch(),l=_le(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:p,off:g,emit:v}=l,y=k;let T=!1,w,x=c(Sle,ng.globalOptions),E=c(x),I=[],P,j,C;function S(){const{container:he,slides:Q}=E;j=(Ax(he)?t.querySelector(he):he)||t.children[0];const xe=Ax(Q)?j.querySelectorAll(Q):Q;C=[].slice.call(xe||j.children)}function A(he){const Q=Ele(t,j,C,r,s,he,l);if(he.loop&&!Q.slideLooper.canLoop()){const Se=Object.assign({},he,{loop:!1});return A(Se)}return Q}function N(he,Q){T||(x=c(x,he),E=d(x),I=Q||I,S(),w=A(E),f([x,...I.map(({options:Se})=>Se)]).forEach(Se=>a.add(Se,"change",k)),E.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(ge),w.eventHandler.init(ge),w.resizeHandler.init(ge),w.slidesHandler.init(ge),w.options.loop&&w.slideLooper.loop(),j.offsetParent&&C.length&&w.dragHandler.init(ge),P=o.init(ge,I)))}function k(he,Q){const Se=G();M(),N(c({startIndex:Se},he),Q),l.emit("reInit")}function M(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),o.destroy(),a.clear()}function D(){T||(T=!0,a.clear(),M(),l.emit("destroy"),l.clear())}function z(he,Q,Se){!E.active||T||(w.scrollBody.useBaseFriction().useDuration(Q===!0?0:E.duration),w.scrollTo.index(he,Se||0))}function ae(he){const Q=w.index.add(1).get();z(Q,he,-1)}function J(he){const Q=w.index.add(-1).get();z(Q,he,1)}function ee(){return w.index.add(1).get()!==G()}function L(){return w.index.add(-1).get()!==G()}function V(){return w.scrollSnapList}function te(){return w.scrollProgress.get(w.location.get())}function G(){return w.index.get()}function ne(){return w.indexPrevious.get()}function W(){return w.slidesInView.get()}function Ee(){return w.slidesInView.get(!1)}function Ie(){return P}function ue(){return w}function re(){return t}function ve(){return j}function Te(){return C}const ge={canScrollNext:ee,canScrollPrev:L,containerNode:ve,internalEngine:ue,destroy:D,off:g,on:p,emit:v,plugins:Ie,previousScrollSnap:ne,reInit:y,rootNode:re,scrollNext:ae,scrollPrev:J,scrollProgress:te,scrollSnapList:V,scrollTo:z,selectedScrollSnap:G,slideNodes:Te,slidesInView:W,slidesNotInView:Ee};return N(e,n),setTimeout(()=>l.emit("init"),0),ge}ng.globalOptions=void 0;function vE(t={},e=[]){const n=m.useRef(t),r=m.useRef(e),[s,i]=m.useState(),[o,a]=m.useState(),l=m.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return m.useEffect(()=>{pE(n.current,t)||(n.current=t,l())},[t,l]),m.useEffect(()=>{Xae(r.current,e)||(r.current=e,l())},[e,l]),m.useEffect(()=>{if(Yae()&&o){ng.globalOptions=vE.globalOptions;const c=ng(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}vE.globalOptions=void 0;const GF=m.createContext(null);function Iy(){const t=m.useContext(GF);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const KF=m.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=vE({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=m.useState(!1),[p,g]=m.useState(!1),v=m.useCallback(x=>{x&&(f(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=m.useCallback(()=>{c==null||c.scrollPrev()},[c]),T=m.useCallback(()=>{c==null||c.scrollNext()},[c]),w=m.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),T())},[y,T]);return m.useEffect(()=>{!c||!n||n(c)},[c,n]),m.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),u.jsx(GF.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:T,canScrollPrev:d,canScrollNext:p},children:u.jsx("div",{ref:a,onKeyDownCapture:w,className:fe("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});KF.displayName="Carousel";const QF=m.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=Iy();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:fe("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});QF.displayName="CarouselContent";const YF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r}=Iy();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:fe("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});YF.displayName="CarouselItem";const XF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollPrev:s,canScrollPrev:i}=Iy();return u.jsxs(de,{ref:n,variant:"outline",size:"icon",className:fe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"left-4 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(Uk,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:"السابق"})]})});XF.displayName="CarouselPrevious";const JF=m.forwardRef(({className:t,...e},n)=>{const{orientation:r,scrollNext:s,canScrollNext:i}=Iy();return u.jsxs(de,{ref:n,variant:"outline",size:"icon",className:fe("absolute h-10 w-10 rounded-full border-2 border-primary/50 bg-black/50 hover:bg-black/75 text-white hover:text-white",r==="horizontal"?"right-4 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!i,onClick:s,...e,children:[u.jsx(YU,{className:"h-6 w-6"}),u.jsx("span",{className:"sr-only",children:"التالي"})]})});JF.displayName="CarouselNext";var DN=!1,na,Nx,Px,Dp,jp,ZF,Mp,Rx,kx,Dx,e5,jx,Mx,t5,n5;function Yn(){if(!DN){DN=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(jx=/\b(iPhone|iP[ao]d)/.exec(t),Mx=/\b(iP[ao]d)/.exec(t),Dx=/Android/i.exec(t),t5=/FBAN\/\w+;/i.exec(t),n5=/Mobile/i.exec(t),e5=!!/Win64/.exec(t),e){na=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,na&&document&&document.documentMode&&(na=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);ZF=r?parseFloat(r[1])+4:na,Nx=e[2]?parseFloat(e[2]):NaN,Px=e[3]?parseFloat(e[3]):NaN,Dp=e[4]?parseFloat(e[4]):NaN,Dp?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),jp=e&&e[1]?parseFloat(e[1]):NaN):jp=NaN}else na=Nx=Px=jp=Dp=NaN;if(n){if(n[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Mp=s?parseFloat(s[1].replace("_",".")):!0}else Mp=!1;Rx=!!n[2],kx=!!n[3]}else Mp=Rx=kx=!1}}var Ox={ie:function(){return Yn()||na},ieCompatibilityMode:function(){return Yn()||ZF>na},ie64:function(){return Ox.ie()&&e5},firefox:function(){return Yn()||Nx},opera:function(){return Yn()||Px},webkit:function(){return Yn()||Dp},safari:function(){return Ox.webkit()},chrome:function(){return Yn()||jp},windows:function(){return Yn()||Rx},osx:function(){return Yn()||Mp},linux:function(){return Yn()||kx},iphone:function(){return Yn()||jx},mobile:function(){return Yn()||jx||Mx||Dx||n5},nativeApp:function(){return Yn()||t5},android:function(){return Yn()||Dx},ipad:function(){return Yn()||Mx}},Ile=Ox,Hf=!!(typeof window<"u"&&window.document&&window.document.createElement),Nle={canUseDOM:Hf,canUseWorkers:typeof Worker<"u",canUseEventListeners:Hf&&!!(window.addEventListener||window.attachEvent),canUseViewport:Hf&&!!window.screen,isInWorker:!Hf},Ple=Nle,r5=Ple,s5;r5.canUseDOM&&(s5=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Rle(t,e){if(!r5.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var s=document.createElement("div");s.setAttribute(n,"return;"),r=typeof s[n]=="function"}return!r&&s5&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var kle=Rle,Dle=Ile,jle=kle,jN=10,MN=40,ON=800;function i5(t){var e=0,n=0,r=0,s=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*jN,s=n*jN,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||s)&&t.deltaMode&&(t.deltaMode==1?(r*=MN,s*=MN):(r*=ON,s*=ON)),r&&!e&&(e=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:s}}i5.getEventType=function(){return Dle.firefox()?"DOMMouseScroll":jle("wheel")?"wheel":"mousewheel"};var Mle=i5,Ole=Mle;const Lle=Lx(Ole);function Vle(t,e,n,r,s,i){i===void 0&&(i=0);var o=Pc(t,e,i),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*s?{width:d*s,height:d}:{width:c,height:c/s}}function Fle(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function bu(t,e,n,r,s){s===void 0&&(s=0);var i=Pc(e.width,e.height,s),o=i.width,a=i.height;return{x:LN(t.x,o,n.width,r),y:LN(t.y,a,n.height,r)}}function LN(t,e,n,r){var s=e*r/2-n/2;return Ny(t,-s,s)}function VN(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function FN(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Ule(t,e,n,r,s,i,o){i===void 0&&(i=0),o===void 0&&(o=!0);var a=o?zle:Ble,l=Pc(e.width,e.height,i),c=Pc(e.naturalWidth,e.naturalHeight,i),d={x:a(100,((l.width-n.width/s)/2-t.x/s)/l.width*100),y:a(100,((l.height-n.height/s)/2-t.y/s)/l.height*100),width:a(100,n.width/l.width*100/s),height:a(100,n.height/l.height*100/s)},f=Math.round(a(c.width,d.width*c.width/100)),p=Math.round(a(c.height,d.height*c.height/100)),g=c.width>=c.height*r,v=g?{width:Math.round(p*r),height:p}:{width:f,height:Math.round(f/r)},y=ht(ht({},v),{x:Math.round(a(c.width-v.width,d.x*c.width/100)),y:Math.round(a(c.height-v.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:y}}function zle(t,e){return Math.min(t,Math.max(0,e))}function Ble(t,e){return e}function $le(t,e,n,r,s,i){var o=Pc(e.width,e.height,n),a=Ny(r.width/o.width*(100/t.width),s,i),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function Wle(t,e,n){var r=Fle(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function qle(t,e,n,r,s,i){n===void 0&&(n=0);var o=Pc(e.naturalWidth,e.naturalHeight,n),a=Ny(Wle(t,e,r),s,i),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function UN(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function Hle(t){return t*Math.PI/180}function Pc(t,e,n){var r=Hle(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Ny(t,e,n){return Math.min(Math.max(t,e),n)}function Gf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var Gle=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Kle=1,Qle=3,Yle=1,zN=function(t){QZ(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=m.createRef(),n.imageRef=m.createRef(),n.videoRef=m.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=$le(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=s.crop,o=s.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=qle(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=a.crop,o=a.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,s,i,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,p=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,g=c.offsetWidth<f||c.offsetHeight<p,v=f/p,y=void 0;if(g)switch(n.state.mediaObjectFit){default:case"contain":y=d>v?{width:n.containerRect.height*v,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/v};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/v};break;case"vertical-cover":y={width:n.containerRect.height*v,height:n.containerRect.height};break}else y={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=ht(ht({},y),{naturalWidth:f,naturalHeight:p}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var T=n.props.cropSize?n.props.cropSize:Vle(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==T.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==T.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(T),n.setState({cropSize:T},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(T),T}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,i,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=ht({},n.props.crop),(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s)},n.onDrag=function(r){var s=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||i===void 0)){var o=s-n.dragStartPosition.x,a=i-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?bu(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),i=Lle(r).pixelY,o=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(o,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,s){var i=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-s.x),y:n.containerRect.height/2-(o-s.y)}},n.getPointOnMedia=function(r){var s=r.x,i=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(s+a.x)/l,y:(i+a.y)/l}},n.setNewZoom=function(r,s,i){var o=i===void 0?{}:i,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Ny(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(s,n.containerPosition),f=n.getPointOnMedia(d),p={x:f.x*c-d.x,y:f.y*c-d.y},g=n.props.restrictPosition?bu(p,n.mediaSize,n.state.cropSize,c,n.props.rotation):p;n.props.onCropChange(g)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?bu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Ule(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?bu(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,i,o=n.props,a=o.crop,l=o.onCropChange,c=o.keyboardStep,d=o.zoom,f=o.rotation,p=c;if(n.state.cropSize){r.shiftKey&&(p*=.2);var g=ht({},a);switch(r.key){case"ArrowUp":g.y-=p,r.preventDefault();break;case"ArrowDown":g.y+=p,r.preventDefault();break;case"ArrowLeft":g.x-=p,r.preventDefault();break;case"ArrowRight":g.x+=p,r.preventDefault();break;default:return}n.props.restrictPosition&&(g=bu(g,n.mediaSize,n.state.cropSize,d,f)),r.repeat||(i=(s=n.props).onInteractionStart)===null||i===void 0||i.call(s),l(g)}},n.onKeyUp=function(r){var s,i;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(i=(s=n.props).onInteractionEnd)===null||i===void 0||i.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Gle,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,i,o,a,l,c,d,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,i;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=VN(r,s),this.lastPinchRotation=FN(r,s),this.onDragStart(UN(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),o=UN(s,i);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=VN(s,i),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=FN(s,i),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,s=this.props,i=s.image,o=s.video,a=s.mediaProps,l=s.cropperProps,c=s.transform,d=s.crop,f=d.x,p=d.y,g=s.rotation,v=s.zoom,y=s.cropShape,T=s.showGrid,w=s.style,x=w.containerStyle,E=w.cropAreaStyle,I=w.mediaStyle,P=s.classes,j=P.containerClassName,C=P.cropAreaClassName,S=P.mediaClassName,A=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return m.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(k){return n.containerRef=k},"data-testid":"container",style:x,className:Gf("reactEasyCrop_Container",j)},i?m.createElement("img",ht({alt:"",className:Gf("reactEasyCrop_Image",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{src:i,ref:this.imageRef,style:ht(ht({},I),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),onLoad:this.onMediaLoad})):o&&m.createElement("video",ht({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Gf("reactEasyCrop_Video",A==="contain"&&"reactEasyCrop_Contain",A==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",A==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",S)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ht(ht({},I),{transform:c||"translate(".concat(f,"px, ").concat(p,"px) rotate(").concat(g,"deg) scale(").concat(v,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(N){return m.createElement("source",ht({key:N.src},N))})),this.state.cropSize&&m.createElement("div",ht({ref:this.cropperRef,style:ht(ht({},E),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Gf("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",T&&"reactEasyCrop_CropAreaGrid",C)},l)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Qle,minZoom:Kle,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Yle},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(m.Component);const o5=m.createContext({user:null,loading:!0}),wE=()=>m.useContext(o5),Xle=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0);return m.useEffect(()=>{const i=hy(Gt,o=>{n(o),s(!1)});return()=>i()},[]),u.jsx(o5.Provider,{value:{user:e,loading:r},children:t})},BN=async t=>{var i;const e="dmao2zbvt",n="news_unsigned",r=[],s=[];for(const o of t){const a=new FormData;a.append("file",o),a.append("upload_preset",n),a.append("cloud_name",e);const l=await fetch(`https://api.cloudinary.com/v1_1/${e}/image/upload`,{method:"POST",body:a,mode:"cors"});if(!l.ok){const d=await l.json();throw new Error(`فشل رفع الصورة: ${((i=d.error)==null?void 0:i.message)||l.statusText}`)}const c=await l.json();if(!c.secure_url)throw new Error("لم يتم استلام رابط الصورة من Cloudinary");r.push(c.secure_url),s.push(o.name)}return{urls:r,names:s}},$N=()=>{const{language:t}=Xa(),e=Dr[t],{user:n}=wE(),[r,s]=m.useState(!1),[i,o]=m.useState(!1),[a,l]=m.useState([]),[c,d]=m.useState(!1),[f,p]=m.useState(null),[g,v]=m.useState(!1);m.useState(!1);const[y,T]=m.useState(""),[w,x]=m.useState(""),[E,I]=m.useState([]),[P,j]=m.useState(0),[C,S]=m.useState([]),[A,N]=m.useState(null),[k,M]=m.useState(!1),[D,z]=m.useState(null),[ae,J]=m.useState({x:0,y:0}),[ee,L]=m.useState(1),[V,te]=m.useState(null),G=m.useRef(null),[ne,W]=m.useState([]),[Ee,Ie]=m.useState([]),[ue,re]=m.useState(null),[ve,Te]=m.useState(!1),[ge,he]=m.useState(""),[Q,Se]=m.useState(""),[xe,Fe]=m.useState([]),[O,$]=m.useState(0),[ie,Z]=m.useState([]),[Pe,we]=m.useState([]),[pt,Ze]=m.useState(!1),[nn,Lt]=m.useState(null),[st,He]=m.useState({x:0,y:0}),[Y,ke]=m.useState(1),[Re,Yt]=m.useState(null),[Pt,Wt]=m.useState(null),[it,ur]=m.useState({}),[On,el]=m.useState(""),[Ae,tt]=m.useState(null),[Qe,qt]=m.useState("latest");m.useState(!1);const[rn,dr]=m.useState(!1),[hr,Bo]=m.useState({}),tl=a.filter(B=>{const X=B.title.toLowerCase().includes(On.toLowerCase())||B.description.toLowerCase().includes(On.toLowerCase()),_e=!Ae||Ae==="all"||B.category===Ae;return X&&_e}).sort((B,X)=>{switch(Qe){case"trending":return(X.trending?1:0)-(B.trending?1:0);case"popular":return(X.likes||0)-(B.likes||0);default:return new Date(X.createdAt).getTime()-new Date(B.createdAt).getTime()}}),Hh=B=>{dr(!0);const X=window.open("","_blank");X&&(X.document.write(`
        <html dir="rtl">
          <head>
            <title>${B.title}</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .header { text-align: center; margin-bottom: 20px; }
              .image { max-width: 100%; height: auto; margin: 20px 0; }
              .content { line-height: 1.6; }
              .footer { margin-top: 20px; text-align: center; font-size: 0.8em; color: #666; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>${B.title}</h1>
              <p>${new Date(B.createdAt).toLocaleDateString("ar-EG")}</p>
            </div>
            ${B.imageUrls[0]?`<img src="${B.imageUrls[0]}" class="image" alt="${B.title}">`:""}
            <div class="content">${B.description}</div>
            <div class="footer">
              <p>منصة Alpha التعليمية</p>
            </div>
          </body>
        </html>
      `),X.document.close(),X.print(),dr(!1))};m.useEffect(()=>{(async()=>{if(!n)return s(!1);const X=xt(ze,"users",n.uid),_e=await vi(X);s(_e.exists()&&_e.data().role==="owner"||_e.data().role==="admin")})()},[n]),m.useEffect(()=>{(async()=>{d(!0);const X=es(Zt(ze,"news"),Yc("createdAt","desc")),_e=await Zr(X);l(_e.docs.map(Ne=>({id:Ne.id,...Ne.data()}))),d(!1)})()},[]);const $o=B=>{if(B.target.files&&B.target.files.length>0){const X=Array.from(B.target.files);W(X),I(X),S([]),j(0),N(null);const _e=[];let Ne=!1;return Promise.all(X.map(ct=>new Promise((ot,Qn)=>{const Ws=new FileReader;Ws.addEventListener("load",()=>ot(Ws.result),{once:!0}),Ws.addEventListener("error",()=>{console.error("Error reading file",ct),Ne||Qn(new Error(`Failed to read file: ${ct.name}`))},{once:!0}),Ws.readAsDataURL(ct),_e.push(Ws)}))).then(ct=>{Ne||Ie(ct)}).catch(ct=>{console.error("Error generating previews:",ct),Ne||(Ie([]),N("Failed to load image previews."))}),()=>{Ne=!0,_e.forEach(ct=>ct&&ct.abort&&ct.abort())}}},Gh=B=>{if(ne.length>B){const X=ne[B],_e=new FileReader;_e.addEventListener("load",()=>{z(_e.result),j(B),M(!0),L(1),J({x:0,y:0})}),_e.readAsDataURL(X)}},sn=m.useCallback((B,X)=>{te(X)},[]),Zc=m.useCallback(async()=>{if(!D||!V||E.length===0||!G.current)return null;try{const B=document.createElement("canvas"),X=G.current,_e=X.naturalWidth/X.width,Ne=X.naturalHeight/X.height;B.width=V.width,B.height=V.height;const Xt=B.getContext("2d");return Xt?(Xt.drawImage(X,V.x*_e,V.y*Ne,V.width*_e,V.height*Ne,0,0,V.width,V.height),new Promise(fr=>{B.toBlob(ct=>{if(ct){const ot=new File([ct],`cropped_${E[P].name}`,{type:ct.type});fr(ot)}else fr(null)},E[P].type,1)})):null}catch(B){return console.error("Error cropping image:",B),null}},[D,V,E,P,G]),Wo=m.useCallback(async()=>{const B=await Zc();if(B)if(S(X=>[...X,B]),P<E.length-1){j(_e=>_e+1);const X=new FileReader;X.addEventListener("load",()=>{z(X.result),L(1),J({x:0,y:0})}),X.readAsDataURL(E[P+1])}else M(!1),z(null),j(0),I([]);else if(Ft({title:"خطأ في القص",description:"حدث خطأ أثناء قص الصورة. يرجى المحاولة مرة أخرى.",variant:"destructive"}),P<E.length-1){j(_e=>_e+1);const X=new FileReader;X.addEventListener("load",()=>{z(X.result),L(1),J({x:0,y:0})}),X.readAsDataURL(E[P+1])}else M(!1),z(null),j(0),I([])},[Zc,P,E,S,j,M,z,L,J]),qo=async B=>{if(B.preventDefault(),N(null),!y.trim()||!w.trim()||C.length===0){N("يرجى ملء جميع الحقول وإرفاق صورة واحدة على الأقل.");return}d(!0);try{const{urls:X,names:_e}=await BN(C),Ne=await Rh(Zt(ze,"news"),{title:y.trim(),description:w.trim(),imageUrls:X,imageNames:_e,createdAt:At.now(),tag:"خبر",likes:0,likedBy:[]});o(!1),T(""),x(""),I([]),j(0),S([]),W([]),l(Xt=>[{id:Ne.id,title:y.trim(),description:w.trim(),imageUrls:X,imageNames:_e,createdAt:new Date,tag:"خبر",likes:0,likedBy:[]},...Xt])}catch{N("حدث خطأ أثناء إضافة الخبر.")}d(!1)},Py=B=>{re(B),he(B.title),Se(B.description),Fe([]),$(0),Z([]),we([]),Ze(!1),Lt(null),He({x:0,y:0}),ke(1),Yt(null),Te(!0)},Ry=B=>{if(B.target.files&&B.target.files.length>0){const X=Array.from(B.target.files);if(Fe(X),Z([]),$(0),X.length>0){const _e=new FileReader;_e.addEventListener("load",()=>{Lt(_e.result),Ze(!0)}),_e.readAsDataURL(X[0])}}},$s=m.useCallback(async()=>{if(!nn||!Re||xe.length===0||!G.current)return null;try{const B=document.createElement("canvas"),X=G.current,_e=X.naturalWidth/X.width,Ne=X.naturalHeight/X.height;B.width=Re.width,B.height=Re.height;const Xt=B.getContext("2d");return Xt?(Xt.drawImage(X,Re.x*_e,Re.y*Ne,Re.width*_e,Re.height*Ne,0,0,Re.width,Re.height),new Promise(fr=>{B.toBlob(ct=>{if(ct){const ot=new File([ct],`cropped_edit_${xe[O].name}`,{type:ct.type});fr(ot)}else fr(null)},xe[O].type,1)})):null}catch(B){return console.error("Error cropping image:",B),null}},[nn,Re,xe,O,G]),ky=m.useCallback(async()=>{const B=await $s();if(B)if(Z(X=>[...X,B]),O<xe.length-1){$(_e=>_e+1);const X=new FileReader;X.addEventListener("load",()=>{Lt(X.result),ke(1),He({x:0,y:0})}),X.readAsDataURL(xe[O+1])}else Ze(!1),Lt(null),$(0),Fe([]);else if(Ft({title:"خطأ في القص",description:"حدث خطأ أثناء قص الصورة. يرجى المحاولة مرة أخرى.",variant:"destructive"}),O<xe.length-1){$(_e=>_e+1);const X=new FileReader;X.addEventListener("load",()=>{Lt(X.result),ke(1),He({x:0,y:0})}),X.readAsDataURL(xe[O+1])}else Ze(!1),Lt(null),$(0),Fe([])},[$s,O,xe,Z,$,Ze,Lt,ke,He]),Dy=async B=>{if(B.preventDefault(),!!ue){d(!0);try{const X=ue.imageUrls.filter((ot,Qn)=>!Pe.includes(Qn)),_e=ue.imageNames.filter((ot,Qn)=>!Pe.includes(Qn));let Ne=[],Xt=[];if(ie.length>0){const ot=await BN(ie);Ne=ot.urls,Xt=ot.names}const fr=[...X,...Ne],ct=[..._e,...Xt];await ii(xt(ze,"news",ue.id),{title:ge.trim(),description:Q.trim(),imageUrls:fr,imageNames:ct}),l(ot=>ot.map(Qn=>Qn.id===ue.id?{...Qn,title:ge.trim(),description:Q.trim(),imageUrls:fr,imageNames:ct}:Qn)),Te(!1),re(null),Fe([]),$(0),Z([]),we([]),Ze(!1),Lt(null),He({x:0,y:0}),ke(1),Yt(null),Ft({title:"تم التعديل",description:"تم تعديل الخبر بنجاح."})}catch{Ft({title:"خطأ",description:"حدث خطأ أثناء تعديل الخبر",variant:"destructive"})}d(!1)}},nl=async B=>{if(!n){Ft({title:"تنبيه",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}Bo(Ne=>({...Ne,[B]:!0})),setTimeout(()=>{Bo(Ne=>({...Ne,[B]:!1}))},1e3);const X=xt(ze,"news",B),_e=await vi(X);_e.exists()&&((_e.data().likedBy||[]).includes(n.uid)?(await ii(X,{likes:jI(-1),likedBy:AJ(n.uid)}),l(ct=>ct.map(ot=>ot.id===B?{...ot,likes:(ot.likes||0)-1,likedBy:ot.likedBy.filter(Qn=>Qn!==n.uid)}:ot))):(await ii(X,{likes:jI(1),likedBy:CJ(n.uid)}),l(ct=>ct.map(ot=>ot.id===B?{...ot,likes:(ot.likes||0)+1,likedBy:[...ot.likedBy||[],n.uid]}:ot))))},Kh=async B=>{try{await Xs(xt(ze,"news",B)),l(X=>X.filter(_e=>_e.id!==B)),v(!1),Ft({title:"تم حذف الخبر",description:"تم حذف الخبر بنجاح"})}catch(X){console.error("Error deleting news:",X),Ft({title:"خطأ",description:"حدث خطأ أثناء حذف الخبر",variant:"destructive"})}},eu=async B=>{const X=`${window.location.origin}/#news/${B}`;try{await navigator.clipboard.writeText(X),Ft({title:"تم النسخ",description:"تم نسخ رابط الخبر إلى الحافظة."})}catch(_e){console.error("Failed to copy link: ",_e),Ft({title:"خطأ",description:"فشل نسخ رابط الخبر.",variant:"destructive"})}},rl=B=>{ur(X=>({...X,[B]:!X[B]})),Ft({title:it[B]?"تم إزالة الإشارة المرجعية":"تم إضافة الإشارة المرجعية",description:it[B]?"تمت إزالة الخبر من الإشارات المرجعية":"تم إضافة الخبر إلى الإشارات المرجعية"})},$r=async B=>{if(navigator.share)try{await navigator.share({title:B.title,text:B.description,url:`${window.location.origin}/#news/${B.id}`})}catch(X){console.error("Error sharing:",X)}else eu(B.id)};return u.jsx(Ol,{children:u.jsxs("div",{className:"container mx-auto py-6 px-1 md:px-0 animate-fade-in",children:[u.jsxs(Le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"mb-12 text-center relative",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 blur-3xl -z-10"}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(Le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},children:u.jsx(l9,{className:"h-16 w-16 text-primary drop-shadow-lg"})})}),u.jsx(Le.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-4xl md:text-5xl font-extrabold text-primary mb-2 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary/80",children:e.news}),u.jsx(Le.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-lg md:text-xl text-muted-foreground font-medium",children:a.length===0?e.noNews:e.followUpdates}),u.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-center items-center gap-4 mt-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx(am,{className:"h-6 w-6"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",children:u.jsx(td,{className:"h-6 w-6"})})]})]}),r&&u.jsx("div",{className:"flex justify-center mt-8 mb-8",children:u.jsxs(de,{size:"lg",className:"flex items-center gap-2 text-lg font-bold",onClick:()=>{o(B=>!B),i||(W([]),Ie([]),I([]),S([]),j(0),z(null),J({x:0,y:0}),L(1),te(null),N(null))},variant:i?"secondary":"default",children:[u.jsx(lm,{className:"h-5 w-5"}),i?e.close:e.addNews]})}),i&&r&&u.jsx(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-2xl mx-auto mb-12",children:u.jsxs(Bt,{children:[u.jsx(gn,{children:u.jsx($n,{children:e.addNews})}),u.jsx(cn,{children:u.jsxs("form",{onSubmit:qo,className:"space-y-4",children:[u.jsx("div",{children:u.jsx(Et,{type:"text",placeholder:"News Title",value:y,onChange:B=>T(B.target.value),required:!0})}),u.jsx("div",{children:u.jsx(Cx,{placeholder:"News Content",value:w,onChange:B=>x(B.target.value),required:!0})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"imageUpload",className:"block text-sm font-medium text-muted-foreground mb-1",children:"إرفاق صور (يمكن اختيار أكثر من صورة)"}),u.jsx(Et,{id:"imageUpload",type:"file",accept:"image/*",multiple:!0,onChange:$o,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),Ee.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:"الصور المختارة:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map((B,X)=>u.jsx("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>Gh(X),children:u.jsx("img",{src:B,alt:`Selected image ${X+1}`,className:"w-full h-full object-cover"})},X))})]}),C.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:"الصور المقصوصة:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:C.map((B,X)=>u.jsxs("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden",children:[u.jsx("img",{src:URL.createObjectURL(B),alt:`Cropped image ${X+1}`,className:"w-full h-full object-cover"}),u.jsx(de,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5 rounded-full",onClick:()=>S(_e=>_e.filter((Ne,Xt)=>Xt!==X)),children:u.jsx(ei,{className:"h-3 w-3"})})]},X))})]}),A&&u.jsx("p",{className:"text-red-500 text-sm",children:A}),u.jsxs(de,{type:"submit",className:"w-full",disabled:c||C.length===0,children:[c?u.jsx(s0,{className:"mr-2 h-4 w-4 animate-spin"}):u.jsx(td,{className:"mr-2 h-4 w-4"}),e.submit]})]})})]})}),r&&ve&&ue&&u.jsxs(Le.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:Dy,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[u.jsx(wS,{className:"h-6 w-6"})," تعديل الخبر"]}),u.jsx(Et,{placeholder:"عنوان الخبر",value:ge,onChange:B=>he(B.target.value),className:"mb-3",maxLength:120,required:!0}),u.jsx(Cx,{placeholder:"وصف الخبر",value:Q,onChange:B=>Se(B.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(gS,{className:"h-5 w-5"}),"صور الخبر الحالية"]}),u.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:ue.imageUrls.map((B,X)=>Pe.includes(X)?null:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:B,alt:`صورة ${X+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(de,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>we(_e=>[..._e,X]),title:"إزالة الصورة",children:u.jsx(ei,{className:"h-4 w-4"})})]},X))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(gS,{className:"h-5 w-5"}),"إضافة صور جديدة (اختياري)"]}),u.jsx(Et,{type:"file",accept:"image/*",multiple:!0,onChange:Ry,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),xe.length>0&&!pt&&u.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Files selected for cropping: ",xe.map(B=>B.name).join(", ")]}),ie.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-md font-medium mb-2",children:"الصور الجديدة المقصوصة:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map((B,X)=>u.jsxs("div",{className:"relative w-24 h-24 border rounded-md overflow-hidden",children:[u.jsx("img",{src:URL.createObjectURL(B),alt:`Cropped new image ${X+1}`,className:"w-full h-full object-cover"}),u.jsx(de,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5 rounded-full",onClick:()=>Z(_e=>_e.filter((Ne,Xt)=>Xt!==X)),children:u.jsx(ei,{className:"h-3 w-3"})})]},X))})]})]}),u.jsx(de,{type:"submit",className:"w-full",disabled:c||ie.length===0&&Pe.length===0&&ge.trim()===(ue==null?void 0:ue.title)&&Q.trim()===(ue==null?void 0:ue.description),children:c?u.jsxs(u.Fragment,{children:[u.jsx(s0,{className:"h-5 w-5 mr-2 animate-spin"}),"جاري التعديل..."]}):"حفظ التعديلات"}),u.jsx(de,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>Te(!1),children:"إلغاء"})]}),u.jsx(wa,{open:pt,onOpenChange:Ze,children:u.jsxs(mo,{className:"sm:max-w-[425px]",children:[u.jsx(go,{children:u.jsxs(yo,{children:["قص الصورة الجديدة ",O+1," من ",xe.length]})}),u.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px]",children:[nn&&u.jsx(zN,{image:nn,crop:st,zoom:Y,aspect:16/9,onCropChange:He,onZoomChange:ke,onCropComplete:sn}),u.jsx("img",{ref:G,src:nn||"",alt:"New image to crop",className:"hidden"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[u.jsx("label",{className:"text-sm text-muted-foreground",children:"Zoom:"}),u.jsx(Et,{type:"range",min:1,max:3,step:.1,value:Y,onChange:B=>ke(parseFloat(B.target.value)),className:"w-2/3"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(de,{variant:"outline",onClick:()=>Ze(!1),children:[" ","إلغاء"]}),u.jsx(de,{onClick:ky,disabled:!Re,children:"تطبيق القص"})]})]})}),Pt&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center",onClick:()=>Wt(null),children:[u.jsx("img",{src:Pt,alt:"صورة الخبر",className:"max-w-full max-h-full rounded-lg shadow-2xl border-4 border-white",style:{objectFit:"contain"}}),u.jsx("button",{className:"absolute top-4 left-4 bg-white/80 rounded-full p-2 text-black",onClick:()=>Wt(null),children:u.jsx(ei,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8",children:u.jsx(xm,{children:tl.map((B,X)=>{var _e;return u.jsx(Le.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*X,duration:.6,type:"spring"},onClick:()=>{p(B),v(!0)},className:"group",children:u.jsxs(Bt,{className:"relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 rounded-2xl border bg-gradient-to-br from-card via-background/50 to-background flex flex-col h-full",children:[u.jsxs("div",{className:"relative card-image w-full h-48 sm:h-56 object-cover rounded-t-xl overflow-hidden",children:[B.imageUrls&&B.imageUrls.length>0?u.jsx(Le.img,{src:B.imageUrls[0],alt:B.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.5}}):u.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center text-muted-foreground",children:"لا توجد صورة"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),B.imageUrls&&B.imageUrls.length>1&&u.jsxs(Le.span,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full backdrop-blur-sm",children:[B.imageUrls.length," صور"]}),u.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute top-2 right-2 flex gap-2",children:[u.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Ne=>{Ne.stopPropagation(),rl(B.id)},children:u.jsx(KU,{className:`h-4 w-4 ${it[B.id]?"fill-white":""}`})}),u.jsx(de,{variant:"ghost",size:"icon",className:"bg-black/40 hover:bg-black/60 text-white rounded-full",onClick:Ne=>{Ne.stopPropagation(),$r(B)},children:u.jsx(xS,{className:"h-4 w-4"})})]})]}),u.jsx("div",{className:"relative p-4 sm:p-6 z-10 flex-grow",children:u.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-xl p-4 sm:p-6 shadow-lg border border-border/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx($n,{className:"text-lg sm:text-xl md:text-2xl font-bold line-clamp-2 text-foreground flex-1 ml-4",children:B.title}),r&&u.jsxs(de,{variant:"outline",size:"sm",onClick:Ne=>{Ne.stopPropagation(),Py(B),v(!1)},children:[u.jsx(wS,{className:"h-4 w-4 ml-2"}),"تعديل"]})]}),u.jsx(Ls,{className:"text-xs sm:text-sm md:text-base text-muted-foreground/90 line-clamp-3 mb-4",children:B.description}),u.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Ne=>Ne.stopPropagation(),children:u.jsx(am,{className:"h-4 w-4"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-all duration-300 transform hover:scale-110",onClick:Ne=>Ne.stopPropagation(),children:u.jsx(td,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Ne=>{Ne.stopPropagation(),Hh(B)},title:"طباعة",children:u.jsx(u9,{className:"h-4 w-4"})}),u.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Ne=>{Ne.stopPropagation(),nl(B.id)},children:u.jsx(f9,{className:`h-4 w-4 ${(_e=B.likedBy)!=null&&_e.includes(n==null?void 0:n.uid)?"fill-primary":""}`})}),u.jsx(de,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:Ne=>{Ne.stopPropagation(),$r(B)},children:u.jsx(xS,{className:"h-4 w-4"})})]})]})]})}),r&&u.jsx("div",{className:"absolute bottom-4 left-4 z-20",children:u.jsxs(vx,{children:[u.jsx(wx,{asChild:!0,children:u.jsxs(de,{variant:"destructive",size:"sm",onClick:Ne=>Ne.stopPropagation(),children:[u.jsx(lo,{className:"h-4 w-4 ml-2"}),"حذف الخبر"]})}),u.jsxs(Gm,{children:[u.jsxs(Km,{children:[u.jsx(Ym,{children:"هل أنت متأكد من حذف الخبر؟"}),u.jsx(Xm,{children:"لا يمكن التراجع عن هذا الإجراء. سيتم حذف الخبر بشكل دائم."})]}),u.jsxs(Qm,{children:[u.jsx(Zm,{onClick:Ne=>Ne.stopPropagation(),children:"إلغاء"}),u.jsx(Jm,{onClick:Ne=>{Ne.stopPropagation(),Kh(B.id)},children:"حذف"})]})]})]})})]})},B.id)})})}),u.jsx(wa,{open:g,onOpenChange:v,children:u.jsx(mo,{className:"max-w-4xl",children:f&&u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsxs("div",{className:"w-full md:w-1/2",children:[u.jsx(go,{children:u.jsx(yo,{className:"text-2xl font-bold mb-4",children:f.title})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:f.description}),u.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:u.jsx("time",{className:"text-sm",children:f.createdAt instanceof At?new Date(f.createdAt.toMillis()).toLocaleDateString("ar-EG"):new Date(f.createdAt).toLocaleDateString("ar-EG")})})]})]}),u.jsx("div",{className:"w-full md:w-1/2",children:f.imageUrls&&f.imageUrls.length>0&&u.jsxs(KF,{children:[u.jsx(QF,{children:f.imageUrls.map((B,X)=>u.jsx(YF,{children:u.jsx("img",{src:B,alt:`${f.title} - صورة ${X+1}`,className:"w-full h-auto rounded-lg"})},X))}),u.jsx(XF,{}),u.jsx(JF,{})]})})]})})}),u.jsx(wa,{open:k,onOpenChange:M,children:u.jsxs(mo,{className:"sm:max-w-[425px]",children:[u.jsx(go,{children:u.jsxs(yo,{children:["قص الصورة ",P+1," من ",E.length]})}),u.jsxs("div",{className:"relative w-full h-[300px] sm:h-[400px]",children:[D&&u.jsx(zN,{image:D,crop:ae,zoom:ee,aspect:16/9,onCropChange:J,onZoomChange:L,onCropComplete:sn}),u.jsx("img",{ref:G,src:D||"",alt:"Image to crop",className:"hidden"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[u.jsx("label",{className:"text-sm text-muted-foreground",children:"Zoom:"}),u.jsx(Et,{type:"range",min:1,max:3,step:.1,value:ee,onChange:B=>L(parseFloat(B.target.value)),className:"w-2/3"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsxs(de,{variant:"outline",onClick:()=>M(!1),children:[" ","إلغاء"]}),u.jsx(de,{onClick:Wo,disabled:!V,children:"تطبيق القص"})]})]})})]})})},Jle="https://instagram.com/alpha_team.iq",Zle="https://t.me/alphateam_iq",hl=[{name:"حسين حيدر",role:{en:"Team Founder",ar:"مؤسس الفريق"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/bghcpeiacxnthdxgiup6.jpg",link:"https://linktr.ee/hsabadix"},{name:"حسنين عباس",role:{en:"Assistant Leader",ar:"قائد مساعد"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/uhen7u7sr3aa2rx1uxpa.jpg",link:"https://linktr.ee/4pv_1"},{name:"كرار امير",role:{en:"Development Team Lead",ar:"رئيس فريق التطوير"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/cka4s6p8geysflkp2s77.jpg",link:"http://Linktr.ee/wski4"},{name:"حسن علي",role:{en:"Development Team Member",ar:"عضو فريق التطوير"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748568146/jcs4zyfsmg7xqyllzcmb.jpg",link:"https://linktr.ee/Hasan.21"},{name:"همام علي",role:{en:"Development Team Member",ar:"عضو فريق التطوير"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/ni2wrrr54v2ep3pnef2v.jpg",link:"https://linktr.ee/humam1500"},{name:"حسين محمد",role:{en:"Development Team Member",ar:"عضو فريق التطوير"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/zyfjcos1xkgtrixnwfia.jpg",link:"https://linktr.ee/Dve_Hussein"},{name:"ايلاف محمد",role:{en:"Media Team Member",ar:"فريق الاعلام"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748618880/qwbvrxcuo700z8zdqi2g.jpg",link:"https://linktr.ee/elaf_8"},{name:"سجاد فراس",role:{en:"Media Team Member",ar:"فريق الاعلام"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/wqltditgxyk9skpksxxo.jpg",link:"https://linktr.ee/sa_is1"},{name:"سيف حسام",role:{en:"Media Team Member",ar:"فريق الاعلام"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/gt1tologlhpmtor694nk.jpg",link:"https://linktr.ee/xalpha_team"},{name:"اوس ياس",role:{en:"Media Team Member",ar:"فريق الاعلام"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/wg9xa205iy3oxgknzome.jpg",link:"https://linktr.ee/awsyaas"},{name:"ايهم مهدي",role:{en:"Media Team Member",ar:"فريق الاعلام"},img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/xzlcssrx6wpjy7rwpbg8.jpg",link:"https://linktr.ee/null4"}],ece=()=>{const{language:t}=Xa(),e=Dr[t];return u.jsx(Ol,{children:u.jsxs("div",{className:"container mx-auto px-4 py-16",children:[u.jsxs("div",{className:"flex flex-col items-center mb-12",children:[u.jsx(Pl,{className:"h-16 w-16 text-primary mb-4"}),u.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-4 text-center",children:t==="en"?"About Alpha Team":"عن Alpha Team"}),u.jsx("p",{className:"text-lg md:text-xl text-muted-foreground text-center max-w-2xl",children:e.aboutUsDesc}),u.jsxs("div",{className:"flex gap-4 mt-6",children:[u.jsx("a",{href:Jle,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"rounded-full bg-primary/10 hover:bg-primary/20 text-primary p-3 transition",children:u.jsx(am,{className:"h-6 w-6"})}),u.jsx("a",{href:Zle,target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",className:"rounded-full bg-primary/10 hover:bg-primary/20 text-primary p-3 transition",children:u.jsx(td,{className:"h-6 w-6"})})]})]}),u.jsxs("div",{className:"mb-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-primary mb-6 text-center",children:t==="en"?"Our Team":"فريق العمل"}),u.jsx("div",{className:"flex justify-center mb-10",children:u.jsxs(Bt,{className:"w-full max-w-md text-center shadow-lg border-0 bg-card/90 rounded-2xl",children:[u.jsxs(gn,{children:[u.jsx("img",{src:hl[0].img,alt:hl[0].name,className:"w-28 h-28 rounded-full mx-auto mb-4 border-2 border-primary object-cover"}),u.jsx($n,{className:"text-xl font-bold text-primary",children:hl[0].name}),u.jsx(Ls,{className:"text-muted-foreground",children:hl[0].role[t]})]}),u.jsx(cn,{children:u.jsxs("a",{href:hl[0].link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-4 py-2 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition text-sm font-medium",children:[u.jsx(vS,{className:"h-4 w-4"}),t==="en"?"Contact":"تواصل"]})})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:hl.slice(1).map((n,r)=>u.jsxs(Bt,{className:"text-center shadow-md border-0 bg-card/80 rounded-2xl",children:[u.jsxs(gn,{children:[u.jsx("img",{src:n.img,alt:n.name,className:"w-24 h-24 rounded-full mx-auto mb-4 border-2 border-primary object-cover"}),u.jsx($n,{className:"text-lg font-bold text-primary",children:n.name}),u.jsx(Ls,{className:"text-muted-foreground",children:n.role[t]})]}),u.jsx(cn,{children:u.jsxs("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-4 py-2 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition text-sm font-medium",children:[u.jsx(vS,{className:"h-4 w-4"}),t==="en"?"Contact":"تواصل"]})})]},r))})]})]})})},tce=[{id:"all",icon:jr,label:{en:"All",ar:"الكل"}},{id:"programming",icon:fl,label:{en:"Programming",ar:"البرمجة"}},{id:"security",icon:up,label:{en:"Cybersecurity",ar:"الأمن السيبراني"}},{id:"ai",icon:cp,label:{en:"AI",ar:"الذكاء الاصطناعي"}},{id:"certificates",icon:lp,label:{en:"Certificates",ar:"شهادات"}}],nce=()=>{const{language:t}=Xa(),{user:e}=wE(),n=Dr[t],[r,s]=m.useState(""),[i,o]=m.useState("all"),[a,l]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState(!0),[g,v]=m.useState([]),[y,T]=m.useState(null),[w,x]=m.useState(tce),[E,I]=m.useState(!1),[P,j]=m.useState(""),[C,S]=m.useState(""),[A,N]=m.useState("BookOpen"),[k,M]=m.useState(null),[D,z]=m.useState(""),[ae,J]=m.useState(""),[ee,L]=m.useState("BookOpen"),[V,te]=m.useState(null),[G,ne]=m.useState(null),[W,Ee]=m.useState(""),[Ie,ue]=m.useState(""),[re,ve]=m.useState(""),[Te,ge]=m.useState(""),[he,Q]=m.useState(""),[Se,xe]=m.useState(null);m.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const ke=xt(ze,"users",e.uid),Re=await vi(ke);Re.exists()?xe(Re.data().role||null):xe(null)}catch{xe(null)}else xe(null)})()},[e]);const Fe=Se==="admin"||Se==="owner";m.useEffect(()=>{(async()=>{try{p(!0);const ke=es(Zt(ze,"resources"),Yc("createdAt","desc")),Yt=(await Zr(ke)).docs.map(Pt=>({id:Pt.id,...Pt.data()}));v(Yt),T(null)}catch(ke){console.error("Error fetching resources:",ke),T(n.resourceFetchError)}finally{p(!1)}})()},[n]);const O=async Y=>{if(Y.preventDefault(),!W||!Ie||!re||!Te||!he){Ft({title:n.error,description:n.fillAllFields,variant:"destructive"});return}d(!0);try{const ke=await Rh(Zt(ze,"resources"),{title:W,description:Ie,category:re,type:Te,link:he,createdAt:new Date,createdBy:e==null?void 0:e.uid});v(Re=>[{id:ke.id,title:W,description:Ie,category:re,type:Te,link:he,createdAt:new Date,createdBy:e==null?void 0:e.uid},...Re]),Ft({title:n.success,description:n.resourceAddedSuccess}),l(!1),Ee(""),ue(""),ve(""),ge(""),Q("")}catch(ke){console.error("Error adding resource:",ke),Ft({title:n.error,description:n.resourceAddError,variant:"destructive"})}finally{d(!1)}},$=Y=>{Y.preventDefault(),!(!P.trim()||!C.trim())&&(x(ke=>[...ke,{id:P.toLowerCase().replace(/\s+/g,"-"),icon:we(A),label:{en:P,ar:C}}]),j(""),S(""),N("BookOpen"),I(!1))},ie=Y=>{x(ke=>ke.filter(Re=>Re.id!==Y)),i===Y&&o("all")},Z=Y=>{M(Y.id),z(Y.label.en),J(Y.label.ar),L(pt(Y.icon)),I(!0)},Pe=Y=>{Y.preventDefault(),!(!k||!D.trim()||!ae.trim())&&(x(ke=>ke.map(Re=>Re.id===k?{...Re,label:{en:D,ar:ae},icon:we(ee),id:D.toLowerCase().replace(/\s+/g,"-")}:Re)),M(null),z(""),J(""),L("BookOpen"),I(!1))};function we(Y){switch(Y){case"BookOpen":return jr;case"Code":return fl;case"Shield":return up;case"Brain":return cp;case"Book":return Af;case"Award":return lp;default:return jr}}function pt(Y){return Y===jr?"BookOpen":Y===fl?"Code":Y===up?"Shield":Y===cp?"Brain":Y===Af?"Book":Y===lp?"Award":"BookOpen"}const Ze=async Y=>{try{await Xs(xt(ze,"resources",Y)),v(ke=>ke.filter(Re=>Re.id!==Y)),Ft({title:n.success,description:t==="ar"?"تم حذف المصدر بنجاح":"Resource deleted successfully"})}catch{Ft({title:n.error,description:t==="ar"?"حدث خطأ أثناء الحذف":"Error deleting resource",variant:"destructive"})}},nn=Y=>{te(Y.id),ne(Y),Ee(Y.title),ue(Y.description),ve(Y.category),ge(Y.type),Q(Y.link),l(!0)},Lt=async Y=>{if(Y.preventDefault(),!(!V||!W||!Ie||!re||!Te||!he)){d(!0);try{v(ke=>ke.map(Re=>Re.id===V?{...Re,title:W,description:Ie,category:re,type:Te,link:he}:Re)),Ft({title:n.success,description:t==="ar"?"تم تعديل المصدر بنجاح":"Resource updated successfully"}),l(!1),te(null),ne(null),Ee(""),ue(""),ve(""),ge(""),Q("")}catch{Ft({title:n.error,description:n.resourceAddError,variant:"destructive"})}finally{d(!1)}}},st=g.filter(Y=>{const ke=Y.title.toLowerCase().includes(r.toLowerCase())||Y.description.toLowerCase().includes(r.toLowerCase()),Re=i==="all"||Y.category===i;return ke&&Re}),He=Y=>{switch(Y){case"book":return Af;case"tool":return fl;default:return mS}};return u.jsxs("div",{className:"container mx-auto px-2 md:px-6 py-8",children:[u.jsxs(Le.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-center mb-12",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx(Le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"bg-gradient-to-tr from-primary/90 to-secondary/80 rounded-full p-7 shadow-2xl border-4 border-background/40 backdrop-blur-md",children:u.jsx(jr,{className:"h-16 w-16 text-white drop-shadow-2xl transition-transform duration-300 group-hover:rotate-6"})})}),u.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary drop-shadow-lg tracking-tight",children:n.resourceLibrary}),u.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto mb-2 font-medium",children:n.resourceLibraryDesc}),u.jsx("div",{className:"flex justify-center gap-4 mt-2",children:u.jsxs(xx,{variant:"secondary",className:"text-base px-5 py-1 rounded-full bg-primary/10 text-primary font-semibold shadow",children:[st.length," ",t==="ar"?"مصدر":"Resources"]})}),Fe&&u.jsxs(wa,{open:a,onOpenChange:l,children:[u.jsx(fie,{asChild:!0,children:u.jsxs(de,{className:"mt-7 bg-gradient-to-r from-primary to-secondary text-white shadow-xl hover:from-primary/90 hover:to-secondary/90 px-10 py-3 text-lg rounded-full font-bold transition-all duration-200",children:[u.jsx(lm,{className:"mr-2 h-5 w-5"}),n.addResource]})}),u.jsxs(mo,{children:[u.jsxs(go,{children:[u.jsx(yo,{children:n.addNewResource}),u.jsx(gV,{children:n.addResourceDesc})]}),u.jsxs("form",{onSubmit:V?Lt:O,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(zn,{htmlFor:"title",children:n.title}),u.jsx(Et,{id:"title",value:W,onChange:Y=>Ee(Y.target.value),placeholder:n.resourceTitlePlaceholder})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zn,{htmlFor:"description",children:n.description}),u.jsx(Et,{id:"description",value:Ie,onChange:Y=>ue(Y.target.value),placeholder:n.resourceDescPlaceholder})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zn,{htmlFor:"category",children:n.category}),u.jsxs(Jl,{value:re,onValueChange:ve,children:[u.jsx(xa,{children:u.jsx(Zl,{placeholder:n.selectCategory})}),u.jsx(ba,{children:w.map(Y=>u.jsx(Jn,{value:Y.id,children:Y.label[t]},Y.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zn,{htmlFor:"type",children:n.type}),u.jsxs(Jl,{value:Te,onValueChange:ge,children:[u.jsx(xa,{children:u.jsx(Zl,{placeholder:n.selectType})}),u.jsxs(ba,{children:[u.jsx(Jn,{value:"book",children:n.book}),u.jsx(Jn,{value:"tool",children:n.tool})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zn,{htmlFor:"link",children:n.link}),u.jsx(Et,{id:"link",value:he,onChange:Y=>Q(Y.target.value),placeholder:n.resourceLinkPlaceholder})]}),u.jsx(de,{type:"submit",className:"w-full",disabled:c,children:c?n.adding:V?t==="ar"?"تعديل":"Edit":n.add})]})]})]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-10",children:[u.jsxs("div",{className:"relative w-full md:w-1/2",children:[u.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:u.jsx(d9,{className:"h-5 w-5 text-muted-foreground"})}),u.jsx(Et,{placeholder:n.searchResources,value:r,onChange:Y=>s(Y.target.value),className:"pl-10 rounded-xl shadow bg-background/80 border border-border focus:ring-2 focus:ring-primary/30 transition-all"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center md:justify-end items-center",children:[w.map(Y=>u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs(de,{variant:i===Y.id?"default":"ghost",className:`flex items-center gap-2 px-4 py-2 rounded-full font-semibold transition-all duration-200 border-2 ${i===Y.id?"bg-gradient-to-r from-primary/90 to-secondary/80 text-white shadow-lg border-primary":"hover:bg-primary/10 border-transparent"}`,onClick:()=>o(Y.id),children:[u.jsx(Y.icon,{className:"h-5 w-5 transition-transform duration-200 group-hover:scale-110"}),Y.label[t]]}),Fe&&Y.id!=="all"&&u.jsxs(u.Fragment,{children:[u.jsx(de,{size:"icon",variant:"ghost",className:"p-1",title:t==="ar"?"تعديل":"Edit",onClick:()=>Z(Y),children:u.jsx(fl,{className:"h-4 w-4 text-yellow-500 hover:scale-110 transition-transform"})}),u.jsx(de,{size:"icon",variant:"ghost",className:"p-1",title:t==="ar"?"حذف":"Delete",onClick:()=>ie(Y.id),children:u.jsx(mS,{className:"h-4 w-4 text-red-500 hover:scale-110 transition-transform"})})]})]},Y.id)),Fe&&u.jsxs(u.Fragment,{children:[u.jsx(de,{variant:"outline",className:"rounded-full px-3 py-2 border-2 border-primary/30 hover:border-primary transition-all",onClick:()=>{I(!0),M(null),z(""),J(""),L("BookOpen")},title:t==="ar"?"إضافة فئة":"Add Category",children:u.jsx(lm,{className:"h-4 w-4"})}),u.jsx(wa,{open:E,onOpenChange:I,children:u.jsxs(mo,{className:"max-w-md rounded-2xl shadow-2xl bg-background border border-border p-6",children:[u.jsx(go,{children:u.jsx(yo,{className:"text-2xl font-bold mb-2 text-primary text-center",children:k?t==="ar"?"تعديل الفئة":"Edit Category":t==="ar"?"إضافة فئة جديدة":"Add New Category"})}),u.jsxs("form",{onSubmit:k?Pe:$,className:"space-y-5",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(zn,{className:"mb-1 block",children:t==="ar"?"اسم الفئة (إنجليزي)":"Category Name (EN)"}),u.jsx(Et,{value:k?D:P,onChange:Y=>k?z(Y.target.value):j(Y.target.value),placeholder:t==="ar"?"مثال: Math":"e.g. Math",required:!0})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx(zn,{className:"mb-1 block",children:t==="ar"?"اسم الفئة (عربي)":"Category Name (AR)"}),u.jsx(Et,{value:k?ae:C,onChange:Y=>k?J(Y.target.value):S(Y.target.value),placeholder:t==="ar"?"مثال: رياضيات":"e.g. رياضيات",required:!0})]})]}),u.jsxs("div",{children:[u.jsx(zn,{className:"mb-1 block",children:t==="ar"?"الأيقونة":"Icon"}),u.jsxs(Jl,{value:k?ee:A,onValueChange:Y=>k?L(Y):N(Y),children:[u.jsx(xa,{children:u.jsx(Zl,{})}),u.jsxs(ba,{children:[u.jsxs(Jn,{value:"BookOpen",children:[u.jsx(jr,{className:"inline h-4 w-4 mr-2"}),"BookOpen"]}),u.jsxs(Jn,{value:"Code",children:[u.jsx(fl,{className:"inline h-4 w-4 mr-2"}),"Code"]}),u.jsxs(Jn,{value:"Shield",children:[u.jsx(up,{className:"inline h-4 w-4 mr-2"}),"Shield"]}),u.jsxs(Jn,{value:"Brain",children:[u.jsx(cp,{className:"inline h-4 w-4 mr-2"}),"Brain"]}),u.jsxs(Jn,{value:"Book",children:[u.jsx(Af,{className:"inline h-4 w-4 mr-2"}),"Book"]}),u.jsxs(Jn,{value:"Award",children:[u.jsx(lp,{className:"inline h-4 w-4 mr-2"}),"Award"]})]})]})]}),u.jsx(de,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-gradient-to-r from-primary to-destructive hover:from-primary/90 hover:to-destructive/90 text-white rounded-xl shadow-lg transition-all duration-300",children:k?t==="ar"?"تعديل":"Edit":t==="ar"?"إضافة":"Add"})]})]})})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:u.jsx("div",{className:"col-span-3",children:f?u.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:u.jsx(s0,{className:"h-10 w-10 animate-spin text-primary"})}):y?u.jsx("div",{className:"text-center text-red-500 py-8 text-lg font-semibold",children:y}):st.length===0?u.jsx("div",{className:"text-center text-muted-foreground py-12 text-xl font-medium",children:r?n.noResourcesFound:n.noResourcesAvailable}):u.jsx(Le.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{staggerChildren:.08}}},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:st.map((Y,ke)=>{var Yt,Pt,Wt,it;const Re=He(Y.type);return u.jsx(Le.div,{initial:{opacity:0,y:40,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,delay:ke*.08,type:"spring"},whileHover:{scale:1.04,boxShadow:"0 12px 40px 0 rgba(80,80,200,0.13)"},children:u.jsxs(Bt,{className:"relative h-full overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-background/90 via-card/80 to-background/80 rounded-3xl group backdrop-blur-xl",children:[u.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/20 rounded-full blur-2xl opacity-60 z-0 pointer-events-none"}),u.jsx(xx,{className:`absolute top-5 right-5 z-10 px-5 py-1 rounded-full text-xs font-bold shadow-lg tracking-wider ${Y.type==="book"?"bg-primary/90 text-white":"bg-secondary/90 text-white"}`,style:{letterSpacing:"1px"},children:Y.type==="book"?n.book:n.tool}),u.jsxs(gn,{className:"flex flex-col items-center justify-center pt-12 pb-4 z-10 relative",children:[u.jsx("div",{className:"mb-4 rounded-full bg-gradient-to-tr from-primary/80 to-secondary/80 p-4 shadow-lg group-hover:scale-110 transition-transform",children:u.jsx(Re,{className:"h-10 w-10 text-white drop-shadow-xl"})}),u.jsx($n,{className:"text-2xl font-bold text-foreground text-center mb-2 line-clamp-2",children:Y.title}),u.jsx(Ls,{className:"text-base text-muted-foreground text-center line-clamp-3",children:Y.description})]}),u.jsxs(cn,{className:"flex flex-col gap-3 items-center pb-8 z-10 relative",children:[u.jsx(de,{variant:"outline",className:"w-full bg-gradient-to-r from-primary/10 to-secondary/10 hover:from-primary/20 hover:to-secondary/20 text-primary font-semibold rounded-full shadow transition-all duration-300 text-base py-3",asChild:!0,children:u.jsxs("a",{href:Y.link,target:"_blank",rel:"noopener noreferrer",children:[Y.type==="book"?u.jsx(t9,{className:"mr-2 h-5 w-5"}):u.jsx(n9,{className:"mr-2 h-5 w-5"}),Y.type==="book"?n.download:n.visit]})}),u.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:t==="ar"?`أضيفت في ${new Date(((Pt=(Yt=Y.createdAt)==null?void 0:Yt.toDate)==null?void 0:Pt.call(Yt))||Y.createdAt).toLocaleDateString("ar-EG")}`:`Added on ${new Date(((it=(Wt=Y.createdAt)==null?void 0:Wt.toDate)==null?void 0:it.call(Wt))||Y.createdAt).toLocaleDateString("en-US")}`}),Fe&&u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx(de,{size:"sm",variant:"outline",className:"rounded-lg",onClick:()=>nn(Y),children:t==="ar"?"تعديل":"Edit"}),u.jsx(de,{size:"sm",variant:"destructive",className:"rounded-lg",onClick:()=>Ze(Y.id),children:t==="ar"?"حذف":"Delete"})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-background/80 to-transparent pointer-events-none z-0"})]})},Y.id)})})})})]})},rce=[{id:1,question:"Which of the following is NOT a feature of object-oriented programming?",options:["Encapsulation","Polymorphism","Recursion","Inheritance"],answer:"Recursion"},{id:2,question:"What is the default port number for HTTPS?",options:["80","21","443","8080"],answer:"443"},{id:3,question:"Which command is used to display the routing table in Linux?",options:["ifconfig","route","netstat -r","ping"],answer:"netstat -r"},{id:4,question:"Which sorting algorithm has the best average-case time complexity?",options:["Bubble Sort","Merge Sort","Selection Sort","Insertion Sort"],answer:"Merge Sort"},{id:5,question:"Which protocol is used for secure file transfer over SSH?",options:["FTP","SFTP","SMTP","HTTP"],answer:"SFTP"},{id:6,question:"Which of the following is a non-relational database?",options:["MySQL","PostgreSQL","MongoDB","Oracle"],answer:"MongoDB"},{id:7,question:"Which layer of the OSI model is responsible for end-to-end communication?",options:["Network","Transport","Session","Data Link"],answer:"Transport"},{id:8,question:"What is the output of 2 ** 3 in Python?",options:["6","8","9","5"],answer:"8"},{id:9,question:"Which Linux command is used to change file permissions?",options:["chmod","chown","ls","mv"],answer:"chmod"},{id:10,question:"Which of the following is NOT a valid HTTP method?",options:["GET","POST","FETCH","PUT"],answer:"FETCH"},{id:11,question:"Which data structure uses FIFO (First In First Out) principle?",options:["Stack","Queue","Tree","Graph"],answer:"Queue"},{id:12,question:"Which command is used to display running processes in Linux?",options:["ls","ps","cd","rm"],answer:"ps"},{id:13,question:"Which of the following is a stateless protocol?",options:["TCP","UDP","FTP","SMTP"],answer:"UDP"},{id:14,question:"Which keyword is used to inherit a class in Java?",options:["extends","implements","inherits","super"],answer:"extends"},{id:15,question:"Which of the following is NOT a type of operating system?",options:["Batch","Time-sharing","Distributed","Compiler"],answer:"Compiler"},{id:16,question:"Which protocol is used to assign IP addresses automatically?",options:["DNS","DHCP","HTTP","FTP"],answer:"DHCP"},{id:17,question:"Which of the following is used to prevent SQL injection?",options:["Prepared Statements","Cookies","Sessions","Triggers"],answer:"Prepared Statements"},{id:18,question:"Which command is used to search for a pattern in files in Linux?",options:["find","grep","awk","sed"],answer:"grep"},{id:19,question:"Which of the following is NOT a valid IP address?",options:["192.168.1.1","255.255.255.255","10.0.0.256","172.16.0.1"],answer:"10.0.0.256"},{id:20,question:"Which of the following is a compiled language?",options:["Python","Java","JavaScript","HTML"],answer:"Java"},{id:21,question:"Which command is used to display disk usage in Linux?",options:["df","du","ls","pwd"],answer:"df"},{id:22,question:"Which of the following is NOT a NoSQL database?",options:["MongoDB","Redis","Cassandra","SQLite"],answer:"SQLite"},{id:23,question:"Which protocol is used for email transmission?",options:["SMTP","FTP","HTTP","SNMP"],answer:"SMTP"},{id:24,question:"Which of the following is NOT a valid subnet mask?",options:["255.255.255.0","255.255.0.0","255.0.255.0","255.255.255.128"],answer:"255.0.255.0"},{id:25,question:"Which of the following is NOT a valid data type in C?",options:["int","float","string","char"],answer:"string"},{id:26,question:"Which command is used to display the current working directory in Linux?",options:["pwd","ls","cd","mv"],answer:"pwd"},{id:27,question:"Which of the following is NOT a valid HTTP status code?",options:["200","404","500","700"],answer:"700"},{id:28,question:"Which of the following is a connection-oriented protocol?",options:["UDP","TCP","ICMP","ARP"],answer:"TCP"},{id:29,question:"Which of the following is NOT a Linux distribution?",options:["Ubuntu","Fedora","Windows","Debian"],answer:"Windows"},{id:30,question:"Which of the following is NOT a valid loop in JavaScript?",options:["for","while","foreach","do-while"],answer:"foreach"},{id:31,question:"Which command is used to list all files, including hidden ones, in Linux?",options:["ls -a","ls -l","ls -h","ls -s"],answer:"ls -a"},{id:32,question:"Which of the following is NOT a valid CSS selector?",options:[".class","#id","element","@media"],answer:"@media"},{id:33,question:"Which of the following is NOT a valid SQL command?",options:["SELECT","INSERT","UPDATE","FETCHALL"],answer:"FETCHALL"},{id:34,question:"Which of the following is NOT a valid HTTP header?",options:["Content-Type","User-Agent","Accept","File-Type"],answer:"File-Type"},{id:35,question:"Which of the following is NOT a valid JavaScript data type?",options:["Number","String","Boolean","Character"],answer:"Character"},{id:36,question:"Which of the following is NOT a valid Linux file permission?",options:["r","w","x","e"],answer:"e"},{id:37,question:"Which of the following is NOT a valid HTTP response code?",options:["201","302","418","609"],answer:"609"},{id:38,question:"Which of the following is NOT a valid Java access modifier?",options:["public","private","protected","internal"],answer:"internal"},{id:39,question:"Which of the following is NOT a valid Python data structure?",options:["List","Tuple","Dictionary","ArrayList"],answer:"ArrayList"},{id:40,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","copy"],answer:"copy"},{id:41,question:"Which of the following is NOT a valid HTML tag?",options:["<div>","<span>","<section>","<item>"],answer:"<item>"},{id:42,question:"Which of the following is NOT a valid C++ operator?",options:["++","--","**","->"],answer:"**"},{id:43,question:"Which of the following is NOT a valid JavaScript framework?",options:["React","Angular","Vue","Django"],answer:"Django"},{id:44,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","ARRAY"],answer:"ARRAY"},{id:45,question:"Which of the following is NOT a valid Linux shell?",options:["bash","zsh","fish","dash"],answer:"dash"},{id:46,question:"Which of the following is NOT a valid HTTP method?",options:["PATCH","TRACE","CONNECT","SEND"],answer:"SEND"},{id:47,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onhover","onload","onchange"],answer:"onhover"},{id:48,question:"Which of the following is NOT a valid Python keyword?",options:["def","class","function","lambda"],answer:"function"},{id:49,question:"Which of the following is NOT a valid Linux process state?",options:["Running","Sleeping","Stopped","Paused"],answer:"Paused"},{id:50,question:"Which of the following is NOT a valid HTTP status code?",options:["200","404","500","600"],answer:"600"},{id:51,question:"Which of the following is NOT a valid JavaScript operator?",options:["+","-","===","=="],answer:"==="},{id:52,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","SORT BY"],answer:"SORT BY"},{id:53,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","APFS"],answer:"APFS"},{id:54,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","display()"],answer:"display()"},{id:55,question:"Which of the following is NOT a valid SQL join?",options:["INNER JOIN","OUTER JOIN","LEFT JOIN","RIGHT JOIN"],answer:"OUTER JOIN"},{id:56,question:"Which of the following is NOT a valid Linux user command?",options:["useradd","usermod","userdel","useredit"],answer:"useredit"},{id:57,question:"Which of the following is NOT a valid JavaScript array method?",options:["push()","pop()","shift()","remove()"],answer:"remove()"},{id:58,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTAL()"],answer:"TOTAL()"},{id:59,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","network"],answer:"network"},{id:60,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","size","constructor","prototype"],answer:"size"},{id:61,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","INDEX"],answer:"INDEX"},{id:62,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","npm"],answer:"npm"},{id:63,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat-until"],answer:"repeat-until"},{id:64,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","TEXTUAL"],answer:"TEXTUAL"},{id:65,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Hard link"],answer:"Hard link"},{id:66,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","substr()","splitAt()"],answer:"splitAt()"},{id:67,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:68,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","end"],answer:"end"},{id:69,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","toNumber()"],answer:"toNumber()"},{id:70,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","XOR"],answer:"XOR"},{id:71,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","edit"],answer:"edit"},{id:72,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.square()"],answer:"Math.square()"},{id:73,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","TODAY()"],answer:"TODAY()"},{id:74,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","archive"],answer:"archive"},{id:75,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","size","constructor","prototype"],answer:"size"},{id:76,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","CHANGE"],answer:"CHANGE"},{id:77,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","networker"],answer:"networker"},{id:78,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getProperty()"],answer:"getProperty()"},{id:79,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","OUTER JOIN","LEFT JOIN","CROSS JOIN"],answer:"OUTER JOIN"},{id:80,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","HFS+"],answer:"HFS+"},{id:81,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpress"],answer:"onpress"},{id:82,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","FILTER BY"],answer:"FILTER BY"},{id:83,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","move"],answer:"move"},{id:84,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","display()"],answer:"display()"},{id:85,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTAL()"],answer:"TOTAL()"},{id:86,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","network"],answer:"network"},{id:87,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","size","constructor","prototype"],answer:"size"},{id:88,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","INDEX"],answer:"INDEX"},{id:89,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","npm"],answer:"npm"},{id:90,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat-until"],answer:"repeat-until"},{id:91,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","TEXTUAL"],answer:"TEXTUAL"},{id:92,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Hard link"],answer:"Hard link"},{id:93,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","substr()","splitAt()"],answer:"splitAt()"},{id:94,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:95,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","end"],answer:"end"},{id:96,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","toNumber()"],answer:"toNumber()"},{id:97,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","XOR"],answer:"XOR"},{id:98,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","edit"],answer:"edit"},{id:99,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.square()"],answer:"Math.square()"},{id:100,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","TODAY()"],answer:"TODAY()"},{id:101,question:"Which command is used to display the manual of a command in Linux?",options:["help","man","info","doc"],answer:"man"},{id:102,question:"Which of the following is a hashing algorithm?",options:["SHA-256","AES","RSA","DES"],answer:"SHA-256"},{id:103,question:"Which protocol is used to resolve domain names to IP addresses?",options:["FTP","DNS","DHCP","SMTP"],answer:"DNS"},{id:104,question:"Which of the following is NOT a valid HTTP status code for redirection?",options:["301","302","307","404"],answer:"404"},{id:105,question:"Which of the following is NOT a valid data structure in Java?",options:["ArrayList","HashMap","LinkedList","SetList"],answer:"SetList"},{id:106,question:"Which command is used to terminate a process in Linux?",options:["kill","end","stop","terminate"],answer:"kill"},{id:107,question:"Which of the following is NOT a valid HTTP request header?",options:["Accept","Host","Referer","Location"],answer:"Location"},{id:108,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","REMOVE","UPDATE"],answer:"REMOVE"},{id:109,question:"Which of the following is NOT a valid Linux signal?",options:["SIGKILL","SIGSTOP","SIGPAUSE","SIGTERM"],answer:"SIGPAUSE"},{id:110,question:"Which of the following is NOT a valid JavaScript variable declaration?",options:["var","let","const","define"],answer:"define"},{id:111,question:"Which protocol is used for remote login to a server?",options:["FTP","SSH","SMTP","HTTP"],answer:"SSH"},{id:112,question:"Which of the following is NOT a valid SQL function?",options:["COUNT()","SUM()","MAXIMUM()","MIN()"],answer:"MAXIMUM()"},{id:113,question:"Which of the following is NOT a valid Linux runlevel?",options:["0","3","5","7"],answer:"7"},{id:114,question:"Which of the following is NOT a valid Java interface?",options:["Serializable","Cloneable","Runnable","Inheritable"],answer:"Inheritable"},{id:115,question:"Which of the following is NOT a valid HTTP method?",options:["GET","POST","UPDATE","DELETE"],answer:"UPDATE"},{id:116,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","MERGE","APPEND"],answer:"APPEND"},{id:117,question:"Which of the following is NOT a valid Linux environment variable?",options:["PATH","HOME","USER","ROOT"],answer:"ROOT"},{id:118,question:"Which of the following is NOT a valid JavaScript array method?",options:["map()","filter()","reduce()","collect()"],answer:"collect()"},{id:119,question:"Which of the following is NOT a valid SQL join?",options:["LEFT JOIN","RIGHT JOIN","FULL JOIN","PARTIAL JOIN"],answer:"PARTIAL JOIN"},{id:120,question:"Which of the following is NOT a valid Linux file system?",options:["ext3","ext4","NTFS","FAT64"],answer:"FAT64"},{id:121,question:"Which of the following is NOT a valid JavaScript event?",options:["onblur","onfocus","onhover","oninput"],answer:"onhover"},{id:122,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","HAVING","ORDER","GROUP"],answer:"ORDER"},{id:123,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","movefile"],answer:"movefile"},{id:124,question:"Which of the following is NOT a valid JavaScript function?",options:["parseInt()","parseFloat()","toNumber()","isNaN()"],answer:"toNumber()"},{id:125,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTALSUM()"],answer:"TOTALSUM()"},{id:126,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","networkctl"],answer:"networkctl"},{id:127,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","sizeOf"],answer:"sizeOf"},{id:128,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","MANDATORY"],answer:"MANDATORY"},{id:129,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","pacman","pip"],answer:"pip"},{id:130,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","repeat"],answer:"repeat"},{id:131,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","CHARACTER"],answer:"CHARACTER"},{id:132,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Soft link"],answer:"Soft link"},{id:133,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","join()"],answer:"join()"},{id:134,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","REPLACEALL"],answer:"REPLACEALL"},{id:135,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","process"],answer:"process"},{id:136,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","parseNumber()"],answer:"parseNumber()"},{id:137,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","BETWEENALL"],answer:"BETWEENALL"},{id:138,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","notepad"],answer:"notepad"},{id:139,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.cube()"],answer:"Math.cube()"},{id:140,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","CURRENTTIME()"],answer:"CURRENTTIME()"},{id:141,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","compressor"],answer:"compressor"},{id:142,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","capacity"],answer:"capacity"},{id:143,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","MODIFY"],answer:"MODIFY"},{id:144,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netwatch"],answer:"netwatch"},{id:145,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getOwn()"],answer:"getOwn()"},{id:146,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","MIDDLE JOIN"],answer:"MIDDLE JOIN"},{id:147,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","ZFSX"],answer:"ZFSX"},{id:148,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpresskey"],answer:"onpresskey"},{id:149,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","SORT"],answer:"SORT"},{id:150,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","copyfile"],answer:"copyfile"},{id:151,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","show()"],answer:"show()"},{id:152,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","TOTALCOUNT()"],answer:"TOTALCOUNT()"},{id:153,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","netinfo"],answer:"netinfo"},{id:154,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","dimension"],answer:"dimension"},{id:155,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","MANDATE"],answer:"MANDATE"},{id:156,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","packman"],answer:"packman"},{id:157,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","foreachloop"],answer:"foreachloop"},{id:158,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","NUMERICSTRING"],answer:"NUMERICSTRING"},{id:159,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","Virtual file"],answer:"Virtual file"},{id:160,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","merge()"],answer:"merge()"},{id:161,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","RETRIEVE"],answer:"RETRIEVE"},{id:162,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","procman"],answer:"procman"},{id:163,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","numberFormat()"],answer:"numberFormat()"},{id:164,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","EXCEPTS"],answer:"EXCEPTS"},{id:165,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","wordpad"],answer:"wordpad"},{id:166,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.divide()"],answer:"Math.divide()"},{id:167,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","CURRENTDATE()"],answer:"CURRENTDATE()"},{id:168,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","archiver"],answer:"archiver"},{id:169,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","elements"],answer:"elements"},{id:170,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","ALTERATE"],answer:"ALTERATE"},{id:171,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netstatx"],answer:"netstatx"},{id:172,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","getPrototype()"],answer:"getPrototype()"},{id:173,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","OUTERLEFT JOIN"],answer:"OUTERLEFT JOIN"},{id:174,question:"Which of the following is NOT a valid Linux file system?",options:["ext4","NTFS","FAT32","EXT5"],answer:"EXT5"},{id:175,question:"Which of the following is NOT a valid JavaScript event?",options:["onclick","onload","onchange","onpressbutton"],answer:"onpressbutton"},{id:176,question:"Which of the following is NOT a valid SQL clause?",options:["WHERE","GROUP BY","ORDER BY","ORDERED BY"],answer:"ORDERED BY"},{id:177,question:"Which of the following is NOT a valid Linux command?",options:["ls","cd","mv","moveit"],answer:"moveit"},{id:178,question:"Which of the following is NOT a valid JavaScript function?",options:["alert()","prompt()","confirm()","notify()"],answer:"notify()"},{id:179,question:"Which of the following is NOT a valid SQL aggregate function?",options:["SUM()","AVG()","COUNT()","COUNTALL()"],answer:"COUNTALL()"},{id:180,question:"Which of the following is NOT a valid Linux network command?",options:["ifconfig","ip","netstat","networks"],answer:"networks"},{id:181,question:"Which of the following is NOT a valid JavaScript object property?",options:["length","constructor","prototype","objectSize"],answer:"objectSize"},{id:182,question:"Which of the following is NOT a valid SQL constraint?",options:["PRIMARY KEY","FOREIGN KEY","UNIQUE","REQUIRED"],answer:"REQUIRED"},{id:183,question:"Which of the following is NOT a valid Linux package manager?",options:["apt","yum","brew","packager"],answer:"packager"},{id:184,question:"Which of the following is NOT a valid JavaScript loop?",options:["for","while","do-while","loopfor"],answer:"loopfor"},{id:185,question:"Which of the following is NOT a valid SQL data type?",options:["INT","VARCHAR","BOOLEAN","NUM"],answer:"NUM"},{id:186,question:"Which of the following is NOT a valid Linux file type?",options:["Regular file","Directory","Symbolic link","File link"],answer:"File link"},{id:187,question:"Which of the following is NOT a valid JavaScript string method?",options:["charAt()","substring()","split()","concatAll()"],answer:"concatAll()"},{id:188,question:"Which of the following is NOT a valid SQL keyword?",options:["SELECT","INSERT","UPDATE","FETCH"],answer:"FETCH"},{id:189,question:"Which of the following is NOT a valid Linux process management command?",options:["ps","top","kill","processman"],answer:"processman"},{id:190,question:"Which of the following is NOT a valid JavaScript number method?",options:["toFixed()","toPrecision()","toString()","numberToString()"],answer:"numberToString()"},{id:191,question:"Which of the following is NOT a valid SQL operator?",options:["AND","OR","NOT","EXCLUSIVE"],answer:"EXCLUSIVE"},{id:192,question:"Which of the following is NOT a valid Linux text editor?",options:["vim","nano","emacs","editor"],answer:"editor"},{id:193,question:"Which of the following is NOT a valid JavaScript Math method?",options:["Math.abs()","Math.sqrt()","Math.pow()","Math.multiply()"],answer:"Math.multiply()"},{id:194,question:"Which of the following is NOT a valid SQL function?",options:["NOW()","CURDATE()","GETDATE()","DATEOF()"],answer:"DATEOF()"},{id:195,question:"Which of the following is NOT a valid Linux archive command?",options:["tar","zip","gzip","arch"],answer:"arch"},{id:196,question:"Which of the following is NOT a valid JavaScript array property?",options:["length","constructor","prototype","arraySize"],answer:"arraySize"},{id:197,question:"Which of the following is NOT a valid SQL statement?",options:["SELECT","INSERT","UPDATE","REPLACE"],answer:"REPLACE"},{id:198,question:"Which of the following is NOT a valid Linux networking tool?",options:["ping","traceroute","netcat","netping"],answer:"netping"},{id:199,question:"Which of the following is NOT a valid JavaScript object method?",options:["hasOwnProperty()","toString()","isPrototypeOf()","objectOf()"],answer:"objectOf()"},{id:200,question:"Which of the following is NOT a valid SQL join type?",options:["INNER JOIN","LEFT JOIN","RIGHT JOIN","OUTER JOIN"],answer:"OUTER JOIN"}];function sce(){m.useState("python");const[t,e]=m.useState(rce),[n,r]=m.useState(0),[s,i]=m.useState(""),[o,a]=m.useState(0),[l,c]=m.useState(!1),[d,f]=m.useState(null),[p,g]=m.useState({question:"",code:"",options:["","","",""],answer:""}),[v,y]=m.useState(null),{user:T}=wE(),[w,x]=m.useState(null),[E,I]=m.useState([]),[P,j]=m.useState([]),C=Wa(),{toast:S}=k1(),A=2,[N,k]=m.useState(30),[M,D]=m.useState(!1),[z,ae]=m.useState(!1),J=m.useRef(null),ee=m.useRef(!1),L=m.useRef(!1),[V,te]=m.useState(!1);m.useEffect(()=>{if(!T){performance.navigation.type!==1&&C("/login");return}},[T,C]),m.useEffect(()=>{(async()=>{if(T!=null&&T.uid)try{const $=xt(ze,"users",T.uid),ie=await vi($);ie.exists()?x(ie.data().role||null):x(null)}catch{x(null)}else x(null)})()},[T]),m.useEffect(()=>{(async()=>{if(T!=null&&T.uid)try{const $=xt(ze,"users",T.uid),ie=await vi($);if(ie.exists()){const Z=ie.data();a(Z.challengeScore||0),I(Z.completedChallenges||[]),Z.questionsRepeatCount&&e(Pe=>Pe.map(we=>({...we,repeatCount:Z.questionsRepeatCount[we.id]||0})))}else await Nc($,{challengeScore:0,completedChallenges:[],questionsRepeatCount:{},fullName:T.displayName||"مستخدم جديد",email:T.email,createdAt:new Date().toISOString()})}catch($){console.error("Error loading user progress:",$),S({title:"خطأ",description:"حدث خطأ في تحميل تقدمك",variant:"destructive"})}})()},[T]);const G=async(O,$,ie={})=>{if(T!=null&&T.uid)try{const Z=xt(ze,"users",T.uid);await Nc(Z,{challengeScore:O,completedChallenges:$,questionsRepeatCount:ie,lastUpdated:new Date().toISOString()},{merge:!0})}catch(Z){console.error("Error saving progress:",Z),S({title:"خطأ",description:"حدث خطأ في حفظ تقدمك",variant:"destructive"})}};m.useEffect(()=>{const O=es(Zt(ze,"users"),Yc("challengeScore","desc"),IT(5)),$=PT(O,ie=>{const Z=[];ie.forEach(Pe=>{const we=Pe.data();we.challengeScore!==void 0&&Z.push({id:Pe.id,fullName:we.fullName||"مستخدم مجهول",challengeScore:we.challengeScore,avatar:we.avatar})}),j(Z)});return()=>$()},[]);const ne=t.filter(O=>!E.includes(O.id)&&(!O.repeatCount||O.repeatCount<A)),W=ne.length>0&&n!==-1?ne[Math.max(0,Math.min(n,ne.length-1))]:null;m.useEffect(()=>{L.current=!1},[z]),m.useEffect(()=>{const O=async()=>{if(T!=null&&T.uid&&o>0&&z&&W){const pt=o-1;try{await ii(xt(ze,"users",T.uid),{challengeScore:pt,lastUpdated:new Date().toISOString()}),a(pt),S({title:"تم خصم نقطة",description:"تم خصم نقطة بسبب مغادرة أو إخفاء الصفحة أثناء التحدي.",variant:"destructive"})}catch(Ze){console.error("Error updating score:",Ze)}}},$=pt=>{if(T!=null&&T.uid&&o>0&&z&&W)return O(),pt.preventDefault(),pt.returnValue="سيتم خصم نقطة عند الخروج. هل أنت متأكد؟",pt.returnValue},ie=()=>{document.visibilityState==="hidden"&&O()},Z=()=>{O()},Pe=()=>{O()};window.addEventListener("beforeunload",$),document.addEventListener("visibilitychange",ie),window.addEventListener("pagehide",Z),window.addEventListener("blur",Pe);const we=pt=>(pt.preventDefault(),!1);return document.addEventListener("copy",we),document.addEventListener("paste",we),document.addEventListener("contextmenu",we),document.addEventListener("cut",we),document.addEventListener("selectstart",we),()=>{window.removeEventListener("beforeunload",$),document.removeEventListener("visibilitychange",ie),window.removeEventListener("pagehide",Z),window.removeEventListener("blur",Pe),document.removeEventListener("copy",we),document.removeEventListener("paste",we),document.removeEventListener("contextmenu",we),document.removeEventListener("cut",we),document.removeEventListener("selectstart",we)}},[T,o,z,W,S]),m.useEffect(()=>(W&&(ee.current=!1,k(30),D(!0),i("")),()=>{J.current&&clearInterval(J.current)}),[W==null?void 0:W.id]),m.useEffect(()=>{let O=null;return W&&M&&!ee.current&&(O=setInterval(()=>{k($=>$<=1?(clearInterval(O),Ee(),30):$-1)},1e3)),()=>{O&&clearInterval(O)}},[W,M,ee.current]);const Ee=()=>{if(!ee.current&&W){ee.current=!0,D(!1),y("انتهى الوقت!"),te(!0);const O=t.map(ie=>ie.id===(W==null?void 0:W.id)?{...ie,repeatCount:(ie.repeatCount||0)+1}:ie);e(O);const $=O.reduce((ie,Z)=>({...ie,[Z.id]:Z.repeatCount||0}),{});G(o,E,$)}},Ie=()=>{const O=t.map(ie=>ie.id===(W==null?void 0:W.id)?{...ie,repeatCount:(ie.repeatCount||0)+1}:ie);e(O);const $=O.reduce((ie,Z)=>({...ie,[Z.id]:Z.repeatCount||0}),{});G(o,E,$),y("إجابة غير صحيحة"),te(!0)},ue=()=>{if(!p.question.trim()||p.options.some(O=>!O.trim())||!p.answer.trim()){y("يرجى ملء جميع الحقول واختيار الإجابة الصحيحة.");return}if(!p.options.includes(p.answer)){y("الإجابة الصحيحة يجب أن تكون من ضمن الخيارات.");return}e(d?O=>O.map($=>$.id===d?{...$,question:p.question,code:p.code,options:p.options,answer:p.answer}:$):O=>[...O,{id:Date.now(),question:p.question,code:p.code,options:p.options,answer:p.answer}]),g({question:"",code:"",options:["","","",""],answer:""}),f(null),c(!1),y(null)},re=async O=>{window.confirm("هل أنت متأكد من حذف هذا السؤال؟")&&(e(ie=>ie.filter(Z=>Z.id!==O)),n>=t.length-1&&n>0&&r(n-1))},ve=O=>{g({question:O.question,code:O.code||"",options:[...O.options],answer:O.answer}),f(O.id),c(!0),y(null)},Te=O=>{if(!O||!W||!(T!=null&&T.uid)||ee.current)return;ee.current=!0,clearInterval(J.current);const $=W.answer.trim().toLowerCase();if(O.trim().toLowerCase()===$){const Z=o+1;a(Z);const Pe=[...E,W.id];I(Pe),G(Z,Pe),S({title:"أحسنت!",description:"إجابة صحيحة",variant:"default"}),ne.length===1?r(-1):setTimeout(()=>{r(we=>we+1)},1e3)}else Ie()},ge=()=>{window.confirm("هل أنت متأكد من إنهاء التحدي؟ سيتم حفظ تقدمك الحالي.")&&(ae(!1),r(0),i(""),te(!1),y(null),k(30),D(!1))},he=()=>u.jsx("div",{className:"absolute top-4 right-4 bg-white/90 dark:bg-gray-800/90 px-6 py-3 rounded-2xl shadow-lg backdrop-blur-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(e9,{className:"h-5 w-5 text-primary"}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"الوقت المتبقي"}),u.jsxs("span",{className:`font-bold text-xl ${N<=10?"text-red-500":N<=20?"text-yellow-500":"text-primary"}`,children:[N," ثانية"]})]})]})}),Q=()=>u.jsx(Bt,{className:"text-center p-16 bg-gradient-to-br from-primary/5 to-secondary/5 rounded-3xl shadow-2xl",children:u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"text-6xl",children:"🎯"}),u.jsx("h3",{className:"text-4xl font-bold text-primary",children:"مرحباً بك في التحديات البرمجية"}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"اختبر معلوماتك البرمجية وتنافس مع الآخرين"}),u.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"لديك 30 ثانية للإجابة على كل سؤال"}),u.jsxs(de,{size:"lg",onClick:()=>ae(!0),className:"text-xl px-8 py-6 rounded-full bg-primary hover:bg-primary/90 transition-all duration-300 hover:scale-105",children:["ابدأ التحدي",u.jsx(Cu,{className:"ml-2 h-5 w-5"})]})]})]})}),Se=()=>{const O=P[0],$=P[1],ie=P[2];return u.jsxs("div",{className:"relative w-full h-[200px] mb-8 flex justify-center items-end gap-2",children:[$&&u.jsxs("div",{className:"relative group max-w-[110px] flex flex-col items-center order-1",style:{zIndex:2},children:[u.jsxs("div",{className:"w-24 h-24 rounded-full border-4 border-gray-300 bg-gray-100 dark:bg-gray-700 shadow-md flex items-center justify-center relative overflow-hidden",children:[u.jsx("img",{src:$.avatar&&$.avatar.startsWith("http")?$.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-full h-full rounded-full object-cover absolute inset-0",style:{zIndex:1},onError:Z=>{Z.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-3 -right-3 bg-yellow-400 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-xl border-4 border-background",style:{zIndex:2},children:"2"})]}),u.jsxs("div",{className:"mt-2 text-center truncate",children:[u.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 truncate px-1 break-all text-xs md:text-sm max-w-full",children:$.fullName}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-xs",children:[$.challengeScore," نقطة"]})]})]}),O&&u.jsxs("div",{className:"relative group max-w-[140px] flex flex-col items-center order-2",style:{zIndex:3},children:[u.jsxs("div",{className:"w-32 h-32 rounded-full border-4 border-yellow-400 bg-yellow-100 dark:bg-yellow-700 shadow-xl flex items-center justify-center relative overflow-hidden",children:[u.jsx("img",{src:O.avatar&&O.avatar.startsWith("http")?O.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-full h-full rounded-full object-cover absolute inset-0",style:{zIndex:1},onError:Z=>{Z.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-4 -right-4 bg-yellow-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold text-2xl border-4 border-background",style:{zIndex:2},children:"1"}),u.jsx(TS,{className:"h-12 w-12 text-yellow-600 group-hover:text-white z-10 absolute left-1/2 -translate-x-1/2 bottom-2"})]}),u.jsxs("div",{className:"mt-2 text-center truncate",children:[u.jsx("p",{className:"font-bold text-yellow-600 dark:text-yellow-400 truncate px-1 break-all text-base md:text-lg max-w-full",children:O.fullName}),u.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400 text-xs",children:[O.challengeScore," نقطة"]}),u.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"المركز الأول"})]})]}),ie&&u.jsxs("div",{className:"relative group max-w-[90px] flex flex-col items-center order-3",style:{zIndex:1},children:[u.jsxs("div",{className:"w-20 h-20 rounded-full border-4 border-amber-600 bg-amber-100 dark:bg-amber-700 shadow-md flex items-center justify-center relative overflow-hidden",children:[u.jsx("img",{src:ie.avatar&&ie.avatar.startsWith("http")?ie.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-full h-full rounded-full object-cover absolute inset-0",style:{zIndex:1},onError:Z=>{Z.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"absolute -top-2 -right-2 bg-amber-500 text-white rounded-full w-7 h-7 flex items-center justify-center font-bold text-lg border-4 border-background",style:{zIndex:2},children:"3"})]}),u.jsxs("div",{className:"mt-2 text-center truncate",children:[u.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-200 truncate px-1 break-all text-xs md:text-sm max-w-full",children:ie.fullName}),u.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-xs",children:[ie.challengeScore," نقطة"]})]})]})]})},xe=()=>u.jsxs(Bt,{className:"border-0 shadow-2xl rounded-3xl overflow-hidden bg-white/90 dark:bg-[#1e293b]/90 backdrop-blur-sm transform transition-all duration-300 hover:translate-y-[-2px]",children:[u.jsx(gn,{className:"bg-gradient-to-br from-primary via-primary/90 to-secondary p-6 text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(o9,{className:"h-7 w-7 text-white animate-pulse"}),u.jsx("h2",{className:"text-2xl font-bold text-white",children:"المتصدرين"})]})}),u.jsx(cn,{className:"p-4",children:u.jsx("div",{className:"space-y-2",children:P.slice(3).map((O,$)=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl transition-all duration-300 hover:bg-muted/50 border border-transparent hover:border-primary/10",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-muted/50",children:u.jsx("span",{className:"font-bold text-foreground/80",children:$+4})}),u.jsx("img",{src:O.avatar&&O.avatar.startsWith("http")?O.avatar:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png",alt:"avatar",className:"w-8 h-8 rounded-full object-cover border-2 border-yellow-400 bg-[#222]",onError:ie=>{ie.target.src="https://res.cloudinary.com/dmao2zbvt/image/upload/v1749047282/insghjql3cf7hep1aidk.png"}}),u.jsx("span",{className:"font-medium text-foreground truncate break-all text-xs md:text-sm max-w-[120px]",children:O.fullName})]}),u.jsxs("span",{className:"font-bold text-primary text-xs md:text-sm",children:[O.challengeScore," نقطة"]})]},O.id))})})]}),Fe=()=>u.jsx("div",{className:"grid grid-cols-2 gap-x-5 gap-y-8",children:W==null?void 0:W.options.map((O,$)=>u.jsx(de,{variant:s===O?"default":"outline",onClick:()=>{V||(i(O),y(null))},className:`w-full justify-start text-right text-lg py-5 px-6 rounded-2xl border-2 transition-all
            ${s===O?"bg-primary/10 border-primary/30 shadow-lg":"border-muted/20"}
            ${V&&O===W.answer?"border-green-500 bg-green-50 dark:bg-green-900/20":""}
            ${V&&s===O&&O!==W.answer?"border-red-500 bg-red-50 dark:bg-red-900/20":""}
            hover:scale-[1.02] hover:shadow-md`,disabled:V,children:O},$))});return u.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-background to-muted/40",children:[u.jsxs("header",{className:"relative overflow-hidden py-8 px-2 md:py-12 md:px-4 mb-6 md:mb-8",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-primary/5 to-transparent"}),u.jsx("div",{className:"max-w-2xl md:max-w-4xl mx-auto relative z-10",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6",children:[u.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-foreground mb-2 md:mb-4 text-center leading-tight",children:"تحديات برمجية"}),u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 bg-primary/10 px-4 md:px-6 py-2 md:py-3 rounded-xl md:rounded-2xl shadow-lg",children:[u.jsx(TS,{className:"h-5 w-5 md:h-6 md:w-6 text-primary"}),u.jsxs("span",{className:"font-semibold text-lg md:text-xl",children:["النقاط: ",o]})]})]})})]}),u.jsx("main",{className:"max-w-full md:max-w-7xl mx-auto px-2 md:px-4 py-4 md:py-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 md:gap-12",children:[u.jsx("div",{className:"lg:col-span-8 space-y-6 md:space-y-8",children:z?W?u.jsxs(Bt,{className:"overflow-hidden border-0 shadow-2xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-md rounded-2xl md:rounded-3xl",children:[u.jsxs(gn,{className:"border-b bg-gradient-to-r from-primary/5 to-secondary/5 px-4 md:px-8 py-4 md:py-6 relative",children:[u.jsx(he,{}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("div",{className:"flex items-center",children:(w==="admin"||w==="owner")&&u.jsxs(u.Fragment,{children:[u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{c(!0),ve(W)},children:u.jsx(c9,{className:"h-5 w-5"})}),u.jsx(de,{variant:"ghost",size:"sm",onClick:()=>re(W.id),children:u.jsx(lo,{className:"h-5 w-5 text-destructive"})})]})})})]}),u.jsx(cn,{className:"p-4 md:p-8",children:u.jsxs("div",{className:"space-y-10",children:[u.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:W.question}),W.code&&u.jsx("pre",{className:"bg-muted/30 p-6 rounded-2xl overflow-x-auto font-mono text-base text-left mb-6",children:u.jsx("code",{children:W.code})}),Fe(),v&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 rounded-xl bg-destructive/10 text-destructive text-center text-lg font-medium",children:v}),V&&u.jsxs("div",{className:"p-4 rounded-xl bg-green-100 dark:bg-green-900/20 border-2 border-green-500 text-center space-y-4",children:[u.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:"الإجابة الصحيحة هي:"}),u.jsx("p",{className:"text-lg text-green-800 dark:text-green-200",children:W==null?void 0:W.answer}),u.jsx(de,{onClick:()=>{te(!1),y(null),i("");const O=n+1;O<ne.length?(r(O),k(30),D(!0),ee.current=!1):r(-1)},className:"bg-green-600 hover:bg-green-700 text-white px-8 py-2 rounded-full",children:"السؤال التالي"})]})]}),!V&&!ee.current&&u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsxs("div",{className:"flex justify-center gap-8",children:[u.jsx(de,{variant:"ghost",onClick:()=>{const O=n-1;O>=0&&r(O)},disabled:n===0,className:"rounded-full w-14 h-14","aria-label":"السابق"}),u.jsx(de,{onClick:()=>Te(s),disabled:!s,className:"px-12 py-4 text-xl rounded-full shadow-lg bg-primary hover:bg-primary/90 text-white",children:"تحقق"}),u.jsx(de,{variant:"ghost",onClick:()=>{const O=n+1;O<ne.length&&r(O)},disabled:n===ne.length-1,className:"rounded-full w-14 h-14","aria-label":"التالي"})]}),u.jsx(de,{variant:"destructive",onClick:ge,className:"mt-4 px-8 py-2 rounded-xl hover:scale-105 transition-all duration-300",children:"إنهاء التحدي"})]})]})})]}):u.jsx(Bt,{className:"text-center p-8 md:p-16 bg-gradient-to-br from-primary/5 to-secondary/5 rounded-2xl md:rounded-3xl shadow-2xl",children:u.jsxs("div",{className:"space-y-6 md:space-y-8",children:[u.jsx("div",{className:"text-6xl md:text-8xl",children:"🎉"}),u.jsx("h3",{className:"text-2xl md:text-4xl font-bold text-primary",children:"أحسنت!"}),u.jsx("p",{className:"text-lg md:text-2xl",children:"لقد أجبت على جميع الأسئلة"}),u.jsxs("p",{className:"text-2xl md:text-4xl font-bold text-primary",children:["مجموع نقاطك: ",o]})]})}):u.jsx(Q,{})}),u.jsxs("aside",{className:"lg:col-span-4 lg:sticky lg:top-8 space-y-8 md:space-y-12",children:[u.jsx(Se,{}),u.jsx(xe,{})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4 bg-black/40",children:u.jsxs(Bt,{className:"relative w-full max-w-xs sm:max-w-md md:max-w-lg rounded-xl md:rounded-2xl shadow-2xl",children:[u.jsxs(gn,{children:[u.jsx(de,{variant:"ghost",size:"icon",className:"absolute right-2 top-2",onClick:()=>{c(!1),f(null),g({question:"",code:"",options:["","","",""],answer:""}),y(null)},children:u.jsx(ei,{className:"h-4 w-4"})}),u.jsx("h3",{className:"text-lg font-bold text-center",children:d?"تعديل سؤال":"إضافة سؤال جديد"})]}),u.jsxs(cn,{className:"space-y-4",children:[u.jsx("input",{className:"w-full border rounded-lg px-4 py-2",placeholder:"نص السؤال",value:p.question,onChange:O=>g($=>({...$,question:O.target.value}))}),u.jsx("input",{className:"w-full border rounded-lg px-4 py-2",placeholder:"كود (اختياري)",value:p.code,onChange:O=>g($=>({...$,code:O.target.value}))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.options.map((O,$)=>u.jsx("input",{className:"border rounded-lg px-4 py-2",placeholder:`خيار ${$+1}`,value:O,onChange:ie=>{const Z=[...p.options];Z[$]=ie.target.value,g(Pe=>({...Pe,options:Z}))}},$))}),u.jsxs("select",{className:"w-full border rounded-lg px-4 py-2",value:p.answer,onChange:O=>g($=>({...$,answer:O.target.value})),children:[u.jsx("option",{value:"",children:"اختر الإجابة الصحيحة"}),p.options.map((O,$)=>O?u.jsx("option",{value:O,children:O},$):null)]}),v&&u.jsx("p",{className:"text-red-500 text-center",children:v}),u.jsxs("div",{className:"flex justify-center gap-3",children:[u.jsx(de,{onClick:ue,className:"px-6 py-2",children:d?"تعديل":"إضافة"}),d&&u.jsx(de,{variant:"outline",onClick:()=>{f(null),g({question:"",code:"",options:["","","",""],answer:""}),y(null)},children:"إلغاء"})]})]})]})}),u.jsx("style",{children:`
        @media (max-width: 767px) {
          .card, .rounded-3xl, .rounded-2xl {
            border-radius: 1rem !important;
          }
          .card-header, .card-content {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
            padding-top: 1rem !important;
            padding-bottom: 1rem !important;
          }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-8px); }
        }
        @keyframes float-slower {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-6px); }
        }
        @keyframes ping-slow {
          0% { transform: scale(1); opacity: 1; }
          100% { transform: scale(1.5); opacity: 0; }
        }
        .animate-float {
          animation: float 4s ease-in-out infinite;
        }
        .animate-float-slow {
          animation: float-slow 4.5s ease-in-out infinite;
        }
        .animate-float-slower {
          animation: float-slower 5s ease-in-out infinite;
        }
        .animate-ping-slow {
          animation: ping-slow 2s infinite;
        }
      `})]})}const ice=new T$,oce=()=>(m.useEffect(()=>{const t=hy(Gt,e=>{e&&rh({userId:e.uid,type:"app_loaded",details:JSON.stringify({pathname:window.location.pathname,search:window.location.search})})});return()=>t()},[]),u.jsx(_$,{client:ice,children:u.jsx(Xle,{children:u.jsx(_ne,{children:u.jsxs(ZB,{children:[u.jsx(X9,{}),u.jsx(Cz,{}),u.jsx(T8,{children:u.jsxs(m8,{children:[u.jsx(Xn,{path:"/",element:u.jsx(Ol,{children:u.jsx(Sne,{})})}),u.jsx(Xn,{path:"/login",element:u.jsx(Ine,{})}),u.jsx(Xn,{path:"/register",element:u.jsx(Pne,{})}),u.jsx(Xn,{path:"/news",element:u.jsx($N,{})}),u.jsx(Xn,{path:"/news/:newsId",element:u.jsx($N,{})}),u.jsx(Xn,{path:"/about",element:u.jsx(ece,{})}),u.jsx(Xn,{path:"/resources",element:u.jsx(Ol,{children:u.jsx(nce,{})})}),u.jsx(Xn,{path:"/challenges",element:u.jsx(Ol,{children:u.jsx(sce,{})})}),u.jsx(Xn,{element:u.jsx(IN,{})}),u.jsx(Xn,{element:u.jsx(IN,{allowedRoles:["admin","owner"]}),children:u.jsx(Xn,{path:"/admin-dashboard",element:u.jsx(Ol,{children:u.jsx(Kae,{})})})}),u.jsx(Xn,{path:"/AlphaTeam/*",element:u.jsx(g0,{to:"/",replace:!0})}),u.jsx(Xn,{path:"*",element:u.jsx(Rne,{})})]})})]})})})}));hk(document.getElementById("root")).render(u.jsx(tie,{children:u.jsx(oce,{})}));
