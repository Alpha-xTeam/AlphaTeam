var oE=t=>{throw TypeError(t)};var Hg=(t,e,n)=>e.has(t)||oE("Cannot "+n);var q=(t,e,n)=>(Hg(t,e,"read from private field"),n?n.call(t):e.get(t)),qe=(t,e,n)=>e.has(t)?oE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ne=(t,e,n,r)=>(Hg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rn=(t,e,n)=>(Hg(t,e,"access private method"),n);var vh=(t,e,n,r)=>({set _(s){Ne(t,e,s,n)},get _(){return q(t,e,r)}});function iF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function LA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VA={exports:{}},lm={},FA={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),oF=Symbol.for("react.portal"),aF=Symbol.for("react.fragment"),lF=Symbol.for("react.strict_mode"),cF=Symbol.for("react.profiler"),uF=Symbol.for("react.provider"),dF=Symbol.for("react.context"),hF=Symbol.for("react.forward_ref"),fF=Symbol.for("react.suspense"),pF=Symbol.for("react.memo"),mF=Symbol.for("react.lazy"),aE=Symbol.iterator;function gF(t){return t===null||typeof t!="object"?null:(t=aE&&t[aE]||t["@@iterator"],typeof t=="function"?t:null)}var UA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$A=Object.assign,BA={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=BA,this.updater=n||UA}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zA(){}zA.prototype=Yl.prototype;function Dw(t,e,n){this.props=t,this.context=e,this.refs=BA,this.updater=n||UA}var Mw=Dw.prototype=new zA;Mw.constructor=Dw;$A(Mw,Yl.prototype);Mw.isPureReactComponent=!0;var lE=Array.isArray,WA=Object.prototype.hasOwnProperty,jw={current:null},HA={key:!0,ref:!0,__self:!0,__source:!0};function qA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)WA.call(e,r)&&!HA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bd,type:t,key:i,ref:o,props:s,_owner:jw.current}}function yF(t,e){return{$$typeof:bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ow(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function vF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cE=/\/+/g;function qg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vF(""+t.key):e.toString(36)}function nf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bd:case oF:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qg(o,0):r,lE(s)?(n="",t!=null&&(n=t.replace(cE,"$&/")+"/"),nf(s,e,n,"",function(c){return c})):s!=null&&(Ow(s)&&(s=yF(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+qg(i,a);o+=nf(i,e,n,l,s)}else if(l=gF(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+qg(i,a++),o+=nf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wh(t,e,n){if(t==null)return t;var r=[],s=0;return nf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function wF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pn={current:null},rf={transition:null},xF={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:rf,ReactCurrentOwner:jw};function GA(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:wh,forEach:function(t,e,n){wh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wh(t,function(){e++}),e},toArray:function(t){return wh(t,function(e){return e})||[]},only:function(t){if(!Ow(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Yl;Me.Fragment=aF;Me.Profiler=cF;Me.PureComponent=Dw;Me.StrictMode=lF;Me.Suspense=fF;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;Me.act=GA;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$A({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WA.call(e,l)&&!HA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bd,type:t.type,key:s,ref:i,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:dF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uF,_context:t},t.Consumer=t};Me.createElement=qA;Me.createFactory=function(t){var e=qA.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:hF,render:t}};Me.isValidElement=Ow;Me.lazy=function(t){return{$$typeof:mF,_payload:{_status:-1,_result:t},_init:wF}};Me.memo=function(t,e){return{$$typeof:pF,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};Me.unstable_act=GA;Me.useCallback=function(t,e){return Pn.current.useCallback(t,e)};Me.useContext=function(t){return Pn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Pn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Pn.current.useEffect(t,e)};Me.useId=function(){return Pn.current.useId()};Me.useImperativeHandle=function(t,e,n){return Pn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Pn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Pn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Pn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Pn.current.useReducer(t,e,n)};Me.useRef=function(t){return Pn.current.useRef(t)};Me.useState=function(t){return Pn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Pn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Pn.current.useTransition()};Me.version="18.3.1";FA.exports=Me;var m=FA.exports;const re=LA(m),KA=iF({__proto__:null,default:re},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _F=m,bF=Symbol.for("react.element"),EF=Symbol.for("react.fragment"),TF=Object.prototype.hasOwnProperty,SF=_F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CF={key:!0,ref:!0,__self:!0,__source:!0};function QA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TF.call(e,r)&&!CF.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bF,type:t,key:i,ref:o,props:s,_owner:SF.current}}lm.Fragment=EF;lm.jsx=QA;lm.jsxs=QA;VA.exports=lm;var u=VA.exports,YA={exports:{}},rr={},XA={exports:{}},JA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,F){var Y=O.length;O.push(F);e:for(;0<Y;){var Q=Y-1>>>1,ee=O[Q];if(0<s(ee,F))O[Q]=F,O[Y]=ee,Y=Q;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var F=O[0],Y=O.pop();if(Y!==F){O[0]=Y;e:for(var Q=0,ee=O.length,se=ee>>>1;Q<se;){var ve=2*(Q+1)-1,Re=O[ve],me=ve+1,te=O[me];if(0>s(Re,Y))me<ee&&0>s(te,Re)?(O[Q]=te,O[me]=Y,Q=me):(O[Q]=Re,O[ve]=Y,Q=ve);else if(me<ee&&0>s(te,Y))O[Q]=te,O[me]=Y,Q=me;else break e}}return F}function s(O,F){var Y=O.sortIndex-F.sortIndex;return Y!==0?Y:O.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=O)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function A(O){if(y=!1,E(O),!x)if(n(l)!==null)x=!0,J(N);else{var F=n(c);F!==null&&Z(A,F.startTime-O)}}function N(O,F){x=!1,y&&(y=!1,v(S),S=-1),g=!0;var Y=p;try{for(E(F),f=n(l);f!==null&&(!(f.expirationTime>F)||O&&!D());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ee=Q(f.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),E(F)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var ve=n(c);ve!==null&&Z(A,ve.startTime-F),se=!1}return se}finally{f=null,p=Y,g=!1}}var j=!1,C=null,S=-1,I=5,P=-1;function D(){return!(t.unstable_now()-P<I)}function M(){if(C!==null){var O=t.unstable_now();P=O;var F=!0;try{F=C(!0,O)}finally{F?k():(j=!1,C=null)}}else j=!1}var k;if(typeof _=="function")k=function(){_(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,oe=z.port2;z.port1.onmessage=M,k=function(){oe.postMessage(null)}}else k=function(){b(M,0)};function J(O){C=O,j||(j=!0,k())}function Z(O,F){S=b(function(){O(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,J(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var Y=p;p=F;try{return O()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,F){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=p;p=O;try{return F()}finally{p=Y}},t.unstable_scheduleCallback=function(O,F,Y){var Q=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,O={id:d++,callback:F,priorityLevel:O,startTime:Y,expirationTime:ee,sortIndex:-1},Y>Q?(O.sortIndex=Y,e(c,O),n(l)===null&&O===n(c)&&(y?(v(S),S=-1):y=!0,Z(A,Y-Q))):(O.sortIndex=ee,e(l,O),x||g||(x=!0,J(N))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var F=p;return function(){var Y=p;p=F;try{return O.apply(this,arguments)}finally{p=Y}}}})(JA);XA.exports=JA;var IF=XA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AF=m,nr=IF;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZA=new Set,Iu={};function ma(t,e){Pl(t,e),Pl(t+"Capture",e)}function Pl(t,e){for(Iu[t]=e,t=0;t<e.length;t++)ZA.add(e[t])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hv=Object.prototype.hasOwnProperty,PF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uE={},dE={};function RF(t){return hv.call(dE,t)?!0:hv.call(uE,t)?!1:PF.test(t)?dE[t]=!0:(uE[t]=!0,!1)}function NF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kF(t,e,n,r){if(e===null||typeof e>"u"||NF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lw=/[\-:]([a-z])/g;function Vw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lw,Vw);Xt[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lw,Vw);Xt[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lw,Vw);Xt[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fw(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kF(e,n,s,r)&&(n=null),r||s===null?RF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zs=AF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xh=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),mv=Symbol.for("react.suspense_list"),Bw=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),nP=Symbol.for("react.offscreen"),hE=Symbol.iterator;function Ac(t){return t===null||typeof t!="object"?null:(t=hE&&t[hE]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Gg;function Fc(t){if(Gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gg=e&&e[1]||""}return`
`+Gg+t}var Kg=!1;function Qg(t,e){if(!t||Kg)return"";Kg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fc(t):""}function DF(t){switch(t.tag){case 5:return Fc(t.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return t=Qg(t.type,!1),t;case 11:return t=Qg(t.type.render,!1),t;case 1:return t=Qg(t.type,!0),t;default:return""}}function gv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case Ba:return"Portal";case fv:return"Profiler";case Uw:return"StrictMode";case pv:return"Suspense";case mv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tP:return(t.displayName||"Context")+".Consumer";case eP:return(t._context.displayName||"Context")+".Provider";case $w:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bw:return e=t.displayName||null,e!==null?e:gv(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return gv(t(e))}catch{}}return null}function MF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gv(e);case 8:return e===Uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jF(t){var e=rP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=jF(t))}function sP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yv(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iP(t,e){e=e.checked,e!=null&&Fw(t,"checked",e,!1)}function vv(t,e){iP(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wv(t,e.type,n):e.hasOwnProperty("defaultValue")&&wv(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wv(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uc=Array.isArray;function il(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Uc(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function oP(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,lP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OF=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){OF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function cP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function uP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var LF=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bv(t,e){if(e){if(LF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Ev(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function zw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sv=null,ol=null,al=null;function yE(t){if(t=Sd(t)){if(typeof Sv!="function")throw Error(X(280));var e=t.stateNode;e&&(e=fm(e),Sv(t.stateNode,t.type,e))}}function dP(t){ol?al?al.push(t):al=[t]:ol=t}function hP(){if(ol){var t=ol,e=al;if(al=ol=null,yE(t),e)for(t=0;t<e.length;t++)yE(e[t])}}function fP(t,e){return t(e)}function pP(){}var Yg=!1;function mP(t,e,n){if(Yg)return t(e,n);Yg=!0;try{return fP(t,e,n)}finally{Yg=!1,(ol!==null||al!==null)&&(pP(),hP())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var r=fm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Cv=!1;if(Us)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Cv=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Cv=!1}function VF(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var iu=!1,Wf=null,Hf=!1,Iv=null,FF={onError:function(t){iu=!0,Wf=t}};function UF(t,e,n,r,s,i,o,a,l){iu=!1,Wf=null,VF.apply(FF,arguments)}function $F(t,e,n,r,s,i,o,a,l){if(UF.apply(this,arguments),iu){if(iu){var c=Wf;iu=!1,Wf=null}else throw Error(X(198));Hf||(Hf=!0,Iv=c)}}function ga(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vE(t){if(ga(t)!==t)throw Error(X(188))}function BF(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vE(s),t;if(i===r)return vE(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function yP(t){return t=BF(t),t!==null?vP(t):null}function vP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vP(t);if(e!==null)return e;t=t.sibling}return null}var wP=nr.unstable_scheduleCallback,wE=nr.unstable_cancelCallback,zF=nr.unstable_shouldYield,WF=nr.unstable_requestPaint,Ct=nr.unstable_now,HF=nr.unstable_getCurrentPriorityLevel,Ww=nr.unstable_ImmediatePriority,xP=nr.unstable_UserBlockingPriority,qf=nr.unstable_NormalPriority,qF=nr.unstable_LowPriority,_P=nr.unstable_IdlePriority,cm=null,us=null;function GF(t){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(cm,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:YF,KF=Math.log,QF=Math.LN2;function YF(t){return t>>>=0,t===0?32:31-(KF(t)/QF|0)|0}var Eh=64,Th=4194304;function $c(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=$c(a):(i&=o,i!==0&&(r=$c(i)))}else o=n&~s,o!==0?r=$c(o):i!==0&&(r=$c(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Or(e),s=1<<n,r|=t[n],e&=~s;return r}function XF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Or(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=XF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bP(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function Xg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ed(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=n}function ZF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Or(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Or(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Qe=0;function EP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TP,qw,SP,CP,IP,Pv=!1,Sh=[],Oi=null,Li=null,Vi=null,Ru=new Map,Nu=new Map,wi=[],e5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xE(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function Rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Sd(e),e!==null&&qw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function t5(t,e,n,r,s){switch(e){case"focusin":return Oi=Rc(Oi,t,e,n,r,s),!0;case"dragenter":return Li=Rc(Li,t,e,n,r,s),!0;case"mouseover":return Vi=Rc(Vi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ru.set(i,Rc(Ru.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nu.set(i,Rc(Nu.get(i)||null,t,e,n,r,s)),!0}return!1}function AP(t){var e=ko(t.target);if(e!==null){var n=ga(e);if(n!==null){if(e=n.tag,e===13){if(e=gP(n),e!==null){t.blockedOn=e,IP(t.priority,function(){SP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tv=r,n.target.dispatchEvent(r),Tv=null}else return e=Sd(n),e!==null&&qw(e),t.blockedOn=n,!1;e.shift()}return!0}function _E(t,e,n){sf(t)&&n.delete(e)}function n5(){Pv=!1,Oi!==null&&sf(Oi)&&(Oi=null),Li!==null&&sf(Li)&&(Li=null),Vi!==null&&sf(Vi)&&(Vi=null),Ru.forEach(_E),Nu.forEach(_E)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,Pv||(Pv=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,n5)))}function ku(t){function e(s){return Nc(s,t)}if(0<Sh.length){Nc(Sh[0],t);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&Nc(Oi,t),Li!==null&&Nc(Li,t),Vi!==null&&Nc(Vi,t),Ru.forEach(e),Nu.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)AP(n),n.blockedOn===null&&wi.shift()}var ll=Zs.ReactCurrentBatchConfig,Kf=!0;function r5(t,e,n,r){var s=Qe,i=ll.transition;ll.transition=null;try{Qe=1,Gw(t,e,n,r)}finally{Qe=s,ll.transition=i}}function s5(t,e,n,r){var s=Qe,i=ll.transition;ll.transition=null;try{Qe=4,Gw(t,e,n,r)}finally{Qe=s,ll.transition=i}}function Gw(t,e,n,r){if(Kf){var s=Rv(t,e,n,r);if(s===null)ay(t,e,r,Qf,n),xE(t,r);else if(t5(s,t,e,n,r))r.stopPropagation();else if(xE(t,r),e&4&&-1<e5.indexOf(t)){for(;s!==null;){var i=Sd(s);if(i!==null&&TP(i),i=Rv(t,e,n,r),i===null&&ay(t,e,r,Qf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ay(t,e,r,null,n)}}var Qf=null;function Rv(t,e,n,r){if(Qf=null,t=zw(r),t=ko(t),t!==null)if(e=ga(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qf=t,null}function PP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HF()){case Ww:return 1;case xP:return 4;case qf:case qF:return 16;case _P:return 536870912;default:return 16}default:return 16}}var Ni=null,Kw=null,of=null;function RP(){if(of)return of;var t,e=Kw,n=e.length,r,s="value"in Ni?Ni.value:Ni.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return of=s.slice(t,1<r?1-r:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function bE(){return!1}function sr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ch:bE,this.isPropagationStopped=bE,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qw=sr(Xl),Td=pt({},Xl,{view:0,detail:0}),i5=sr(Td),Jg,Zg,kc,um=pt({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kc&&(kc&&t.type==="mousemove"?(Jg=t.screenX-kc.screenX,Zg=t.screenY-kc.screenY):Zg=Jg=0,kc=t),Jg)},movementY:function(t){return"movementY"in t?t.movementY:Zg}}),EE=sr(um),o5=pt({},um,{dataTransfer:0}),a5=sr(o5),l5=pt({},Td,{relatedTarget:0}),ey=sr(l5),c5=pt({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),u5=sr(c5),d5=pt({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h5=sr(d5),f5=pt({},Xl,{data:0}),TE=sr(f5),p5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g5[t])?!!e[t]:!1}function Yw(){return y5}var v5=pt({},Td,{key:function(t){if(t.key){var e=p5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yw,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w5=sr(v5),x5=pt({},um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SE=sr(x5),_5=pt({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yw}),b5=sr(_5),E5=pt({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),T5=sr(E5),S5=pt({},um,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),C5=sr(S5),I5=[9,13,27,32],Xw=Us&&"CompositionEvent"in window,ou=null;Us&&"documentMode"in document&&(ou=document.documentMode);var A5=Us&&"TextEvent"in window&&!ou,NP=Us&&(!Xw||ou&&8<ou&&11>=ou),CE=" ",IE=!1;function kP(t,e){switch(t){case"keyup":return I5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function P5(t,e){switch(t){case"compositionend":return DP(e);case"keypress":return e.which!==32?null:(IE=!0,CE);case"textInput":return t=e.data,t===CE&&IE?null:t;default:return null}}function R5(t,e){if(Wa)return t==="compositionend"||!Xw&&kP(t,e)?(t=RP(),of=Kw=Ni=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NP&&e.locale!=="ko"?null:e.data;default:return null}}var N5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!N5[t.type]:e==="textarea"}function MP(t,e,n,r){dP(r),e=Yf(e,"onChange"),0<e.length&&(n=new Qw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Du=null;function k5(t){HP(t,0)}function dm(t){var e=Ga(t);if(sP(e))return t}function D5(t,e){if(t==="change")return e}var jP=!1;if(Us){var ty;if(Us){var ny="oninput"in document;if(!ny){var PE=document.createElement("div");PE.setAttribute("oninput","return;"),ny=typeof PE.oninput=="function"}ty=ny}else ty=!1;jP=ty&&(!document.documentMode||9<document.documentMode)}function RE(){au&&(au.detachEvent("onpropertychange",OP),Du=au=null)}function OP(t){if(t.propertyName==="value"&&dm(Du)){var e=[];MP(e,Du,t,zw(t)),mP(k5,e)}}function M5(t,e,n){t==="focusin"?(RE(),au=e,Du=n,au.attachEvent("onpropertychange",OP)):t==="focusout"&&RE()}function j5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dm(Du)}function O5(t,e){if(t==="click")return dm(e)}function L5(t,e){if(t==="input"||t==="change")return dm(e)}function V5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:V5;function Mu(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hv.call(e,s)||!Ur(t[s],e[s]))return!1}return!0}function NE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kE(t,e){var n=NE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NE(n)}}function LP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VP(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function Jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F5(t){var e=VP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LP(n.ownerDocument.documentElement,n)){if(r!==null&&Jw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kE(n,i);var o=kE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U5=Us&&"documentMode"in document&&11>=document.documentMode,Ha=null,Nv=null,lu=null,kv=!1;function DE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||Ha==null||Ha!==zf(r)||(r=Ha,"selectionStart"in r&&Jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Mu(lu,r)||(lu=r,r=Yf(Nv,"onSelect"),0<r.length&&(e=new Qw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ha)))}function Ih(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qa={animationend:Ih("Animation","AnimationEnd"),animationiteration:Ih("Animation","AnimationIteration"),animationstart:Ih("Animation","AnimationStart"),transitionend:Ih("Transition","TransitionEnd")},ry={},FP={};Us&&(FP=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function hm(t){if(ry[t])return ry[t];if(!qa[t])return t;var e=qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FP)return ry[t]=e[n];return t}var UP=hm("animationend"),$P=hm("animationiteration"),BP=hm("animationstart"),zP=hm("transitionend"),WP=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){WP.set(t,e),ma(e,[t])}for(var sy=0;sy<ME.length;sy++){var iy=ME[sy],$5=iy.toLowerCase(),B5=iy[0].toUpperCase()+iy.slice(1);uo($5,"on"+B5)}uo(UP,"onAnimationEnd");uo($P,"onAnimationIteration");uo(BP,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(zP,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function jE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$F(r,e,void 0,t),t.currentTarget=null}function HP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jE(s,a,c),i=l}}}if(Hf)throw t=Iv,Hf=!1,Iv=null,t}function nt(t,e){var n=e[Lv];n===void 0&&(n=e[Lv]=new Set);var r=t+"__bubble";n.has(r)||(qP(e,t,2,!1),n.add(r))}function oy(t,e,n){var r=0;e&&(r|=4),qP(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function ju(t){if(!t[Ah]){t[Ah]=!0,ZA.forEach(function(n){n!=="selectionchange"&&(z5.has(n)||oy(n,!1,t),oy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,oy("selectionchange",!1,e))}}function qP(t,e,n,r){switch(PP(e)){case 1:var s=r5;break;case 4:s=s5;break;default:s=Gw}n=s.bind(null,e,n,t),s=void 0,!Cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ay(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ko(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mP(function(){var c=i,d=zw(n),f=[];e:{var p=WP.get(t);if(p!==void 0){var g=Qw,x=t;switch(t){case"keypress":if(af(n)===0)break e;case"keydown":case"keyup":g=w5;break;case"focusin":x="focus",g=ey;break;case"focusout":x="blur",g=ey;break;case"beforeblur":case"afterblur":g=ey;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=EE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=a5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=b5;break;case UP:case $P:case BP:g=u5;break;case zP:g=T5;break;case"scroll":g=i5;break;case"wheel":g=C5;break;case"copy":case"cut":case"paste":g=h5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=SE}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,E;_!==null;){E=_;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,v!==null&&(A=Pu(_,v),A!=null&&y.push(Ou(_,A,E)))),b)break;_=_.return}0<y.length&&(p=new g(p,x,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Tv&&(x=n.relatedTarget||n.fromElement)&&(ko(x)||x[$s]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?ko(x):null,x!==null&&(b=ga(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(y=EE,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=SE,A="onPointerLeave",v="onPointerEnter",_="pointer"),b=g==null?p:Ga(g),E=x==null?p:Ga(x),p=new y(A,_+"leave",g,n,d),p.target=b,p.relatedTarget=E,A=null,ko(d)===c&&(y=new y(v,_+"enter",x,n,d),y.target=E,y.relatedTarget=b,A=y),b=A,g&&x)t:{for(y=g,v=x,_=0,E=y;E;E=ka(E))_++;for(E=0,A=v;A;A=ka(A))E++;for(;0<_-E;)y=ka(y),_--;for(;0<E-_;)v=ka(v),E--;for(;_--;){if(y===v||v!==null&&y===v.alternate)break t;y=ka(y),v=ka(v)}y=null}else y=null;g!==null&&OE(f,p,g,y,!1),x!==null&&b!==null&&OE(f,b,x,y,!0)}}e:{if(p=c?Ga(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=D5;else if(AE(p))if(jP)N=L5;else{N=j5;var j=M5}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=O5);if(N&&(N=N(t,c))){MP(f,N,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&wv(p,"number",p.value)}switch(j=c?Ga(c):window,t){case"focusin":(AE(j)||j.contentEditable==="true")&&(Ha=j,Nv=c,lu=null);break;case"focusout":lu=Nv=Ha=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,DE(f,n,d);break;case"selectionchange":if(U5)break;case"keydown":case"keyup":DE(f,n,d)}var C;if(Xw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Wa?kP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(NP&&n.locale!=="ko"&&(Wa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Wa&&(C=RP()):(Ni=d,Kw="value"in Ni?Ni.value:Ni.textContent,Wa=!0)),j=Yf(c,S),0<j.length&&(S=new TE(S,t,null,n,d),f.push({event:S,listeners:j}),C?S.data=C:(C=DP(n),C!==null&&(S.data=C)))),(C=A5?P5(t,n):R5(t,n))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(d=new TE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}HP(f,e)})}function Ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pu(t,n),i!=null&&r.unshift(Ou(t,i,s)),i=Pu(t,e),i!=null&&r.push(Ou(t,i,s))),t=t.return}return r}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Pu(n,i),l!=null&&o.unshift(Ou(n,l,a))):s||(l=Pu(n,i),l!=null&&o.push(Ou(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var W5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function LE(t){return(typeof t=="string"?t:""+t).replace(W5,`
`).replace(H5,"")}function Ph(t,e,n){if(e=LE(e),LE(t)!==e&&n)throw Error(X(425))}function Xf(){}var Dv=null,Mv=null;function jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ov=typeof setTimeout=="function"?setTimeout:void 0,q5=typeof clearTimeout=="function"?clearTimeout:void 0,VE=typeof Promise=="function"?Promise:void 0,G5=typeof queueMicrotask=="function"?queueMicrotask:typeof VE<"u"?function(t){return VE.resolve(null).then(t).catch(K5)}:Ov;function K5(t){setTimeout(function(){throw t})}function ly(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ku(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ku(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),is="__reactFiber$"+Jl,Lu="__reactProps$"+Jl,$s="__reactContainer$"+Jl,Lv="__reactEvents$"+Jl,Q5="__reactListeners$"+Jl,Y5="__reactHandles$"+Jl;function ko(t){var e=t[is];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$s]||n[is]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FE(t);t!==null;){if(n=t[is])return n;t=FE(t)}return e}t=n,n=t.parentNode}return null}function Sd(t){return t=t[is]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function fm(t){return t[Lu]||null}var Vv=[],Ka=-1;function ho(t){return{current:t}}function st(t){0>Ka||(t.current=Vv[Ka],Vv[Ka]=null,Ka--)}function Ze(t,e){Ka++,Vv[Ka]=t.current,t.current=e}var Yi={},yn=ho(Yi),Vn=ho(!1),Jo=Yi;function Rl(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Fn(t){return t=t.childContextTypes,t!=null}function Jf(){st(Vn),st(yn)}function UE(t,e,n){if(yn.current!==Yi)throw Error(X(168));Ze(yn,e),Ze(Vn,n)}function GP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,MF(t)||"Unknown",s));return pt({},n,r)}function Zf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Jo=yn.current,Ze(yn,t),Ze(Vn,Vn.current),!0}function $E(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=GP(t,e,Jo),r.__reactInternalMemoizedMergedChildContext=t,st(Vn),st(yn),Ze(yn,t)):st(Vn),Ze(Vn,n)}var Ns=null,pm=!1,cy=!1;function KP(t){Ns===null?Ns=[t]:Ns.push(t)}function X5(t){pm=!0,KP(t)}function fo(){if(!cy&&Ns!==null){cy=!0;var t=0,e=Qe;try{var n=Ns;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ns=null,pm=!1}catch(s){throw Ns!==null&&(Ns=Ns.slice(t+1)),wP(Ww,fo),s}finally{Qe=e,cy=!1}}return null}var Qa=[],Ya=0,ep=null,tp=0,dr=[],hr=0,Zo=null,Ds=1,Ms="";function So(t,e){Qa[Ya++]=tp,Qa[Ya++]=ep,ep=t,tp=e}function QP(t,e,n){dr[hr++]=Ds,dr[hr++]=Ms,dr[hr++]=Zo,Zo=t;var r=Ds;t=Ms;var s=32-Or(r)-1;r&=~(1<<s),n+=1;var i=32-Or(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ds=1<<32-Or(e)+s|n<<s|r,Ms=i+t}else Ds=1<<i|n<<s|r,Ms=t}function Zw(t){t.return!==null&&(So(t,1),QP(t,1,0))}function ex(t){for(;t===ep;)ep=Qa[--Ya],Qa[Ya]=null,tp=Qa[--Ya],Qa[Ya]=null;for(;t===Zo;)Zo=dr[--hr],dr[hr]=null,Ms=dr[--hr],dr[hr]=null,Ds=dr[--hr],dr[hr]=null}var Zn=null,Xn=null,it=!1,Mr=null;function YP(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zo!==null?{id:Ds,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Xn=null,!0):!1;default:return!1}}function Fv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uv(t){if(it){var e=Xn;if(e){var n=e;if(!BE(t,e)){if(Fv(t))throw Error(X(418));e=Fi(n.nextSibling);var r=Zn;e&&BE(t,e)?YP(r,n):(t.flags=t.flags&-4097|2,it=!1,Zn=t)}}else{if(Fv(t))throw Error(X(418));t.flags=t.flags&-4097|2,it=!1,Zn=t}}}function zE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Rh(t){if(t!==Zn)return!1;if(!it)return zE(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jv(t.type,t.memoizedProps)),e&&(e=Xn)){if(Fv(t))throw XP(),Error(X(418));for(;e;)YP(t,e),e=Fi(e.nextSibling)}if(zE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Zn?Fi(t.stateNode.nextSibling):null;return!0}function XP(){for(var t=Xn;t;)t=Fi(t.nextSibling)}function Nl(){Xn=Zn=null,it=!1}function tx(t){Mr===null?Mr=[t]:Mr.push(t)}var J5=Zs.ReactCurrentBatchConfig;function Dc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function WE(t){var e=t._init;return e(t._payload)}function JP(t){function e(v,_){if(t){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=zi(v,_),v.index=0,v.sibling=null,v}function i(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,E,A){return _===null||_.tag!==6?(_=gy(E,v.mode,A),_.return=v,_):(_=s(_,E),_.return=v,_)}function l(v,_,E,A){var N=E.type;return N===za?d(v,_,E.props.children,A,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&WE(N)===_.type)?(A=s(_,E.props),A.ref=Dc(v,_,E),A.return=v,A):(A=pf(E.type,E.key,E.props,null,v.mode,A),A.ref=Dc(v,_,E),A.return=v,A)}function c(v,_,E,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=yy(E,v.mode,A),_.return=v,_):(_=s(_,E.children||[]),_.return=v,_)}function d(v,_,E,A,N){return _===null||_.tag!==7?(_=Go(E,v.mode,A,N),_.return=v,_):(_=s(_,E),_.return=v,_)}function f(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=gy(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xh:return E=pf(_.type,_.key,_.props,null,v.mode,E),E.ref=Dc(v,null,_),E.return=v,E;case Ba:return _=yy(_,v.mode,E),_.return=v,_;case gi:var A=_._init;return f(v,A(_._payload),E)}if(Uc(_)||Ac(_))return _=Go(_,v.mode,E,null),_.return=v,_;Nh(v,_)}return null}function p(v,_,E,A){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(v,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xh:return E.key===N?l(v,_,E,A):null;case Ba:return E.key===N?c(v,_,E,A):null;case gi:return N=E._init,p(v,_,N(E._payload),A)}if(Uc(E)||Ac(E))return N!==null?null:d(v,_,E,A,null);Nh(v,E)}return null}function g(v,_,E,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(E)||null,a(_,v,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xh:return v=v.get(A.key===null?E:A.key)||null,l(_,v,A,N);case Ba:return v=v.get(A.key===null?E:A.key)||null,c(_,v,A,N);case gi:var j=A._init;return g(v,_,E,j(A._payload),N)}if(Uc(A)||Ac(A))return v=v.get(E)||null,d(_,v,A,N,null);Nh(_,A)}return null}function x(v,_,E,A){for(var N=null,j=null,C=_,S=_=0,I=null;C!==null&&S<E.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var P=p(v,C,E[S],A);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(v,C),_=i(P,_,S),j===null?N=P:j.sibling=P,j=P,C=I}if(S===E.length)return n(v,C),it&&So(v,S),N;if(C===null){for(;S<E.length;S++)C=f(v,E[S],A),C!==null&&(_=i(C,_,S),j===null?N=C:j.sibling=C,j=C);return it&&So(v,S),N}for(C=r(v,C);S<E.length;S++)I=g(C,v,S,E[S],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),_=i(I,_,S),j===null?N=I:j.sibling=I,j=I);return t&&C.forEach(function(D){return e(v,D)}),it&&So(v,S),N}function y(v,_,E,A){var N=Ac(E);if(typeof N!="function")throw Error(X(150));if(E=N.call(E),E==null)throw Error(X(151));for(var j=N=null,C=_,S=_=0,I=null,P=E.next();C!==null&&!P.done;S++,P=E.next()){C.index>S?(I=C,C=null):I=C.sibling;var D=p(v,C,P.value,A);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(v,C),_=i(D,_,S),j===null?N=D:j.sibling=D,j=D,C=I}if(P.done)return n(v,C),it&&So(v,S),N;if(C===null){for(;!P.done;S++,P=E.next())P=f(v,P.value,A),P!==null&&(_=i(P,_,S),j===null?N=P:j.sibling=P,j=P);return it&&So(v,S),N}for(C=r(v,C);!P.done;S++,P=E.next())P=g(C,v,S,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),_=i(P,_,S),j===null?N=P:j.sibling=P,j=P);return t&&C.forEach(function(M){return e(v,M)}),it&&So(v,S),N}function b(v,_,E,A){if(typeof E=="object"&&E!==null&&E.type===za&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case xh:e:{for(var N=E.key,j=_;j!==null;){if(j.key===N){if(N=E.type,N===za){if(j.tag===7){n(v,j.sibling),_=s(j,E.props.children),_.return=v,v=_;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gi&&WE(N)===j.type){n(v,j.sibling),_=s(j,E.props),_.ref=Dc(v,j,E),_.return=v,v=_;break e}n(v,j);break}else e(v,j);j=j.sibling}E.type===za?(_=Go(E.props.children,v.mode,A,E.key),_.return=v,v=_):(A=pf(E.type,E.key,E.props,null,v.mode,A),A.ref=Dc(v,_,E),A.return=v,v=A)}return o(v);case Ba:e:{for(j=E.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(v,_.sibling),_=s(_,E.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=yy(E,v.mode,A),_.return=v,v=_}return o(v);case gi:return j=E._init,b(v,_,j(E._payload),A)}if(Uc(E))return x(v,_,E,A);if(Ac(E))return y(v,_,E,A);Nh(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,E),_.return=v,v=_):(n(v,_),_=gy(E,v.mode,A),_.return=v,v=_),o(v)):n(v,_)}return b}var kl=JP(!0),ZP=JP(!1),np=ho(null),rp=null,Xa=null,nx=null;function rx(){nx=Xa=rp=null}function sx(t){var e=np.current;st(np),t._currentValue=e}function $v(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cl(t,e){rp=t,nx=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(nx!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(rp===null)throw Error(X(308));Xa=t,rp.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Do=null;function ix(t){Do===null?Do=[t]:Do.push(t)}function eR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ix(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bs(t,r)}function Bs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yi=!1;function ox(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bs(t,n)}return s=r.interleaved,s===null?(e.next=e,ix(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bs(t,n)}function lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hw(t,n)}}function HE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sp(t,e,n,r){var s=t.updateQueue;yi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(p=e,g=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(g,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,p=typeof x=="function"?x.call(g,f,p):x,p==null)break e;f=pt({},f,p);break e;case 2:yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ta|=o,t.lanes=o,t.memoizedState=f}}function qE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Cd={},ds=ho(Cd),Vu=ho(Cd),Fu=ho(Cd);function Mo(t){if(t===Cd)throw Error(X(174));return t}function ax(t,e){switch(Ze(Fu,e),Ze(Vu,t),Ze(ds,Cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_v(e,t)}st(ds),Ze(ds,e)}function Dl(){st(ds),st(Vu),st(Fu)}function nR(t){Mo(Fu.current);var e=Mo(ds.current),n=_v(e,t.type);e!==n&&(Ze(Vu,t),Ze(ds,n))}function lx(t){Vu.current===t&&(st(ds),st(Vu))}var lt=ho(0);function ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uy=[];function cx(){for(var t=0;t<uy.length;t++)uy[t]._workInProgressVersionPrimary=null;uy.length=0}var cf=Zs.ReactCurrentDispatcher,dy=Zs.ReactCurrentBatchConfig,ea=0,ht=null,jt=null,Ft=null,op=!1,cu=!1,Uu=0,Z5=0;function sn(){throw Error(X(321))}function ux(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function dx(t,e,n,r,s,i){if(ea=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cf.current=t===null||t.memoizedState===null?r3:s3,t=n(r,s),cu){i=0;do{if(cu=!1,Uu=0,25<=i)throw Error(X(301));i+=1,Ft=jt=null,e.updateQueue=null,cf.current=i3,t=n(r,s)}while(cu)}if(cf.current=ap,e=jt!==null&&jt.next!==null,ea=0,Ft=jt=ht=null,op=!1,e)throw Error(X(300));return t}function hx(){var t=Uu!==0;return Uu=0,t}function Zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function _r(){if(jt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Ft===null?ht.memoizedState:Ft.next;if(e!==null)Ft=e,jt=t;else{if(t===null)throw Error(X(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ft===null?ht.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function $u(t,e){return typeof e=="function"?e(t):e}function hy(t){var e=_r(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ea&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ht.lanes|=d,ta|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ur(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,ta|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fy(t){var e=_r(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ur(i,e.memoizedState)||(On=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rR(){}function sR(t,e){var n=ht,r=_r(),s=e(),i=!Ur(r.memoizedState,s);if(i&&(r.memoizedState=s,On=!0),r=r.queue,fx(aR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Bu(9,oR.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(X(349));ea&30||iR(n,e,s)}return s}function iR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oR(t,e,n,r){e.value=n,e.getSnapshot=r,lR(e)&&cR(t)}function aR(t,e,n){return n(function(){lR(e)&&cR(t)})}function lR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function cR(t){var e=Bs(t,1);e!==null&&Lr(e,t,1,-1)}function GE(t){var e=Zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},e.queue=t,t=t.dispatch=n3.bind(null,ht,t),[e.memoizedState,t]}function Bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uR(){return _r().memoizedState}function uf(t,e,n,r){var s=Zr();ht.flags|=t,s.memoizedState=Bu(1|e,n,void 0,r===void 0?null:r)}function mm(t,e,n,r){var s=_r();r=r===void 0?null:r;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,r!==null&&ux(r,o.deps)){s.memoizedState=Bu(e,n,i,r);return}}ht.flags|=t,s.memoizedState=Bu(1|e,n,i,r)}function KE(t,e){return uf(8390656,8,t,e)}function fx(t,e){return mm(2048,8,t,e)}function dR(t,e){return mm(4,2,t,e)}function hR(t,e){return mm(4,4,t,e)}function fR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pR(t,e,n){return n=n!=null?n.concat([t]):null,mm(4,4,fR.bind(null,e,t),n)}function px(){}function mR(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ux(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gR(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ux(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yR(t,e,n){return ea&21?(Ur(n,e)||(n=bP(),ht.lanes|=n,ta|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function e3(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=dy.transition;dy.transition={};try{t(!1),e()}finally{Qe=n,dy.transition=r}}function vR(){return _r().memoizedState}function t3(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wR(t))xR(e,n);else if(n=eR(t,e,n,r),n!==null){var s=An();Lr(n,t,r,s),_R(n,e,r)}}function n3(t,e,n){var r=Bi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wR(t))xR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ur(a,o)){var l=e.interleaved;l===null?(s.next=s,ix(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eR(t,e,s,r),n!==null&&(s=An(),Lr(n,t,r,s),_R(n,e,r))}}function wR(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function xR(t,e){cu=op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _R(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hw(t,n)}}var ap={readContext:xr,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},r3={readContext:xr,useCallback:function(t,e){return Zr().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:KE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uf(4194308,4,fR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var n=Zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t3.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Zr();return t={current:t},e.memoizedState=t},useState:GE,useDebugValue:px,useDeferredValue:function(t){return Zr().memoizedState=t},useTransition:function(){var t=GE(!1),e=t[0];return t=e3.bind(null,t[1]),Zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=Zr();if(it){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),$t===null)throw Error(X(349));ea&30||iR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KE(aR.bind(null,r,i,t),[t]),r.flags|=2048,Bu(9,oR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Zr(),e=$t.identifierPrefix;if(it){var n=Ms,r=Ds;n=(r&~(1<<32-Or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s3={readContext:xr,useCallback:mR,useContext:xr,useEffect:fx,useImperativeHandle:pR,useInsertionEffect:dR,useLayoutEffect:hR,useMemo:gR,useReducer:hy,useRef:uR,useState:function(){return hy($u)},useDebugValue:px,useDeferredValue:function(t){var e=_r();return yR(e,jt.memoizedState,t)},useTransition:function(){var t=hy($u)[0],e=_r().memoizedState;return[t,e]},useMutableSource:rR,useSyncExternalStore:sR,useId:vR,unstable_isNewReconciler:!1},i3={readContext:xr,useCallback:mR,useContext:xr,useEffect:fx,useImperativeHandle:pR,useInsertionEffect:dR,useLayoutEffect:hR,useMemo:gR,useReducer:fy,useRef:uR,useState:function(){return fy($u)},useDebugValue:px,useDeferredValue:function(t){var e=_r();return jt===null?e.memoizedState=t:yR(e,jt.memoizedState,t)},useTransition:function(){var t=fy($u)[0],e=_r().memoizedState;return[t,e]},useMutableSource:rR,useSyncExternalStore:sR,useId:vR,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gm={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),s=Bi(t),i=Ls(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ui(t,i,s),e!==null&&(Lr(e,t,s,r),lf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),s=Bi(t),i=Ls(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ui(t,i,s),e!==null&&(Lr(e,t,s,r),lf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=Bi(t),s=Ls(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ui(t,s,r),e!==null&&(Lr(e,t,r,n),lf(e,t,r))}};function QE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(s,i):!0}function bR(t,e,n){var r=!1,s=Yi,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=Fn(e)?Jo:yn.current,r=e.contextTypes,i=(r=r!=null)?Rl(t,s):Yi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function YE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gm.enqueueReplaceState(e,e.state,null)}function zv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ox(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=Fn(e)?Jo:yn.current,s.context=Rl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gm.enqueueReplaceState(s,s.state,null),sp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var n="",r=e;do n+=DF(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function py(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o3=typeof WeakMap=="function"?WeakMap:Map;function ER(t,e,n){n=Ls(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cp||(cp=!0,e0=r),Wv(t,e)},n}function TR(t,e,n){n=Ls(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wv(t,e),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=x3.bind(null,t,e,n),e.then(t,t))}function JE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ls(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var a3=Zs.ReactCurrentOwner,On=!1;function Tn(t,e,n,r){e.child=t===null?ZP(e,null,n,r):kl(e,t.child,n,r)}function eT(t,e,n,r,s){n=n.render;var i=e.ref;return cl(e,s),r=dx(t,e,n,r,i,s),n=hx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(it&&n&&Zw(e),e.flags|=1,Tn(t,e,r,s),e.child)}function tT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SR(t,e,i,r,s)):(t=pf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(o,r)&&t.ref===e.ref)return zs(t,e,s)}return e.flags|=1,t=zi(i,r),t.ref=e.ref,t.return=e,e.child=t}function SR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mu(i,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,zs(t,e,s)}return Hv(t,e,n,r,s)}function CR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Za,Gn),Gn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Za,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(Za,Gn),Gn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(Za,Gn),Gn|=r;return Tn(t,e,s,n),e.child}function IR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hv(t,e,n,r,s){var i=Fn(n)?Jo:yn.current;return i=Rl(e,i),cl(e,s),n=dx(t,e,n,r,i,s),r=hx(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,zs(t,e,s)):(it&&r&&Zw(e),e.flags|=1,Tn(t,e,n,s),e.child)}function nT(t,e,n,r,s){if(Fn(n)){var i=!0;Zf(e)}else i=!1;if(cl(e,s),e.stateNode===null)df(t,e),bR(e,n,r),zv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=Fn(n)?Jo:yn.current,c=Rl(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&YE(e,o,r,c),yi=!1;var p=e.memoizedState;o.state=p,sp(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Vn.current||yi?(typeof d=="function"&&(Bv(e,n,d,r),l=e.memoizedState),(a=yi||QE(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Rr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xr(l):(l=Fn(n)?Jo:yn.current,l=Rl(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&YE(e,o,r,l),yi=!1,p=e.memoizedState,o.state=p,sp(e,r,o,s);var x=e.memoizedState;a!==f||p!==x||Vn.current||yi?(typeof g=="function"&&(Bv(e,n,g,r),x=e.memoizedState),(c=yi||QE(e,n,c,r,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,i,s)}function qv(t,e,n,r,s,i){IR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$E(e,n,!1),zs(t,e,i);r=e.stateNode,a3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,i),e.child=kl(e,null,a,i)):Tn(t,e,a,i),e.memoizedState=r.state,s&&$E(e,n,!0),e.child}function AR(t){var e=t.stateNode;e.pendingContext?UE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UE(t,e.context,!1),ax(t,e.containerInfo)}function rT(t,e,n,r,s){return Nl(),tx(s),e.flags|=256,Tn(t,e,n,r),e.child}var Gv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function PR(t,e,n){var r=e.pendingProps,s=lt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(lt,s&1),t===null)return Uv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=wm(o,r,0,null),t=Go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kv(n),e.memoizedState=Gv,t):mx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return l3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zi(a,i):(i=Go(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gv,r}return i=t.child,t=i.sibling,r=zi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mx(t,e){return e=wm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kh(t,e,n,r){return r!==null&&tx(r),kl(e,t.child,null,n),t=mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=py(Error(X(422))),kh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=wm({mode:"visible",children:r.children},s,0,null),i=Go(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=Kv(o),e.memoizedState=Gv,i);if(!(e.mode&1))return kh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=py(i,r,void 0),kh(t,e,o,r)}if(a=(o&t.childLanes)!==0,On||a){if(r=$t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bs(t,s),Lr(r,t,s,-1))}return _x(),r=py(Error(X(421))),kh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xn=Fi(s.nextSibling),Zn=e,it=!0,Mr=null,t!==null&&(dr[hr++]=Ds,dr[hr++]=Ms,dr[hr++]=Zo,Ds=t.id,Ms=t.overflow,Zo=e),e=mx(e,r.children),e.flags|=4096,e)}function sT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$v(t.return,e,n)}function my(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sT(t,n,e);else if(t.tag===19)sT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ip(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),my(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ip(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}my(e,!0,n,null,i);break;case"together":my(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function c3(t,e,n){switch(e.tag){case 3:AR(e),Nl();break;case 5:nR(e);break;case 1:Fn(e.type)&&Zf(e);break;case 4:ax(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(np,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(lt,lt.current&1),e.flags|=128,null):n&e.child.childLanes?PR(t,e,n):(Ze(lt,lt.current&1),t=zs(t,e,n),t!==null?t.sibling:null);Ze(lt,lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(lt,lt.current),r)break;return null;case 22:case 23:return e.lanes=0,CR(t,e,n)}return zs(t,e,n)}var NR,Qv,kR,DR;NR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qv=function(){};kR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mo(ds.current);var i=null;switch(n){case"input":s=yv(t,s),r=yv(t,r),i=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),i=[];break;case"textarea":s=xv(t,s),r=xv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xf)}bv(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Iu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Iu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};DR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u3(t,e,n){var r=e.pendingProps;switch(ex(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Fn(e.type)&&Jf(),on(e),null;case 3:return r=e.stateNode,Dl(),st(Vn),st(yn),cx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mr!==null&&(r0(Mr),Mr=null))),Qv(t,e),on(e),null;case 5:lx(e);var s=Mo(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)kR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return on(e),null}if(t=Mo(ds.current),Rh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[is]=e,r[Lu]=i,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(s=0;s<Bc.length;s++)nt(Bc[s],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":fE(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":mE(r,i),nt("invalid",r)}bv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ph(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ph(r.textContent,a,t),s=["children",""+a]):Iu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":_h(r),pE(r,i,!0);break;case"textarea":_h(r),gE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[is]=e,t[Lu]=r,NR(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ev(n,r),n){case"dialog":nt("cancel",t),nt("close",t),s=r;break;case"iframe":case"object":case"embed":nt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bc.length;s++)nt(Bc[s],t);s=r;break;case"source":nt("error",t),s=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),s=r;break;case"details":nt("toggle",t),s=r;break;case"input":fE(t,r),s=yv(t,r),nt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":mE(t,r),s=xv(t,r),nt("invalid",t);break;default:s=r}bv(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Au(t,l):typeof l=="number"&&Au(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Iu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nt("scroll",t):l!=null&&Fw(t,i,l,o))}switch(n){case"input":_h(t),pE(t,r,!1);break;case"textarea":_h(t),gE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?il(t,!!r.multiple,i,!1):r.defaultValue!=null&&il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)DR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Mo(Fu.current),Mo(ds.current),Rh(e)){if(r=e.stateNode,n=e.memoizedProps,r[is]=e,(i=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:Ph(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ph(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[is]=e,e.stateNode=r}return on(e),null;case 13:if(st(lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Xn!==null&&e.mode&1&&!(e.flags&128))XP(),Nl(),e.flags|=98560,i=!1;else if(i=Rh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[is]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),i=!1}else Mr!==null&&(r0(Mr),Mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?Ot===0&&(Ot=3):_x())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return Dl(),Qv(t,e),t===null&&ju(e.stateNode.containerInfo),on(e),null;case 10:return sx(e.type._context),on(e),null;case 17:return Fn(e.type)&&Jf(),on(e),null;case 19:if(st(lt),i=e.memoizedState,i===null)return on(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ip(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(lt,lt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ct()>jl&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=ip(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return on(e),null}else 2*Ct()-i.renderingStartTime>jl&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ct(),e.sibling=null,n=lt.current,Ze(lt,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return xx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function d3(t,e){switch(ex(e),e.tag){case 1:return Fn(e.type)&&Jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),st(Vn),st(yn),cx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lx(e),null;case 13:if(st(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(lt),null;case 4:return Dl(),null;case 10:return sx(e.type._context),null;case 22:case 23:return xx(),null;case 24:return null;default:return null}}var Dh=!1,hn=!1,h3=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ja(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function Yv(t,e,n){try{n()}catch(r){xt(t,e,r)}}var iT=!1;function f3(t,e){if(Dv=Kf,t=VP(),Jw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mv={focusedElem:t,selectionRange:n},Kf=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rr(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){xt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return x=iT,iT=!1,x}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yv(e,n,i)}s=s.next}while(s!==r)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MR(t){var e=t.alternate;e!==null&&(t.alternate=null,MR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[is],delete e[Lu],delete e[Lv],delete e[Q5],delete e[Y5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jR(t){return t.tag===5||t.tag===3||t.tag===4}function oT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xf));else if(r!==4&&(t=t.child,t!==null))for(Jv(t,e,n),t=t.sibling;t!==null;)Jv(t,e,n),t=t.sibling}function Zv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zv(t,e,n),t=t.sibling;t!==null;)Zv(t,e,n),t=t.sibling}var Ht=null,Dr=!1;function li(t,e,n){for(n=n.child;n!==null;)OR(t,e,n),n=n.sibling}function OR(t,e,n){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(cm,n)}catch{}switch(n.tag){case 5:hn||Ja(n,e);case 6:var r=Ht,s=Dr;Ht=null,li(t,e,n),Ht=r,Dr=s,Ht!==null&&(Dr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Dr?(t=Ht,n=n.stateNode,t.nodeType===8?ly(t.parentNode,n):t.nodeType===1&&ly(t,n),ku(t)):ly(Ht,n.stateNode));break;case 4:r=Ht,s=Dr,Ht=n.stateNode.containerInfo,Dr=!0,li(t,e,n),Ht=r,Dr=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yv(n,e,o),s=s.next}while(s!==r)}li(t,e,n);break;case 1:if(!hn&&(Ja(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xt(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,li(t,e,n),hn=r):li(t,e,n);break;default:li(t,e,n)}}function aT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new h3),e.forEach(function(r){var s=b3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,Dr=!1;break e;case 3:Ht=a.stateNode.containerInfo,Dr=!0;break e;case 4:Ht=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(Ht===null)throw Error(X(160));OR(i,o,s),Ht=null,Dr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){xt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LR(e,t),e=e.sibling}function LR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),Jr(t),r&4){try{uu(3,t,t.return),ym(3,t)}catch(y){xt(t,t.return,y)}try{uu(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Ir(e,t),Jr(t),r&512&&n!==null&&Ja(n,n.return);break;case 5:if(Ir(e,t),Jr(t),r&512&&n!==null&&Ja(n,n.return),t.flags&32){var s=t.stateNode;try{Au(s,"")}catch(y){xt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iP(s,i),Ev(a,o);var c=Ev(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?uP(s,f):d==="dangerouslySetInnerHTML"?lP(s,f):d==="children"?Au(s,f):Fw(s,d,f,c)}switch(a){case"input":vv(s,i);break;case"textarea":oP(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?il(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?il(s,!!i.multiple,i.defaultValue,!0):il(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lu]=i}catch(y){xt(t,t.return,y)}}break;case 6:if(Ir(e,t),Jr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){xt(t,t.return,y)}}break;case 3:if(Ir(e,t),Jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ku(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Ir(e,t),Jr(t);break;case 13:Ir(e,t),Jr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vx=Ct())),r&4&&aT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(c=hn)||d,Ir(e,t),hn=c):Ir(e,t),Jr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(p=he,g=p.child,p.tag){case 0:case 11:case 14:case 15:uu(4,p,p.return);break;case 1:Ja(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){xt(r,n,y)}}break;case 5:Ja(p,p.return);break;case 22:if(p.memoizedState!==null){cT(f);continue}}g!==null?(g.return=p,he=g):cT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cP("display",o))}catch(y){xt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){xt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),Jr(t),r&4&&aT(t);break;case 21:break;default:Ir(e,t),Jr(t)}}function Jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jR(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Au(s,""),r.flags&=-33);var i=oT(t);Zv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oT(t);Jv(t,a,o);break;default:throw Error(X(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p3(t,e,n){he=t,VR(t)}function VR(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var s=he,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Dh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Dh;var c=hn;if(Dh=o,(hn=l)&&!c)for(he=s;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?uT(s):l!==null?(l.return=o,he=l):uT(s);for(;i!==null;)he=i,VR(i),i=i.sibling;he=s,Dh=a,hn=c}lT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,he=i):lT(t)}}function lT(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ku(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}hn||e.flags&512&&Xv(e)}catch(p){xt(e,e.return,p)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function cT(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function uT(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ym(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){xt(e,s,l)}}var i=e.return;try{Xv(e)}catch(l){xt(e,i,l)}break;case 5:var o=e.return;try{Xv(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var m3=Math.ceil,lp=Zs.ReactCurrentDispatcher,gx=Zs.ReactCurrentOwner,mr=Zs.ReactCurrentBatchConfig,Ue=0,$t=null,Nt=null,Yt=0,Gn=0,Za=ho(0),Ot=0,zu=null,ta=0,vm=0,yx=0,du=null,Mn=null,vx=0,jl=1/0,Rs=null,cp=!1,e0=null,$i=null,Mh=!1,ki=null,up=0,hu=0,t0=null,hf=-1,ff=0;function An(){return Ue&6?Ct():hf!==-1?hf:hf=Ct()}function Bi(t){return t.mode&1?Ue&2&&Yt!==0?Yt&-Yt:J5.transition!==null?(ff===0&&(ff=bP()),ff):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:PP(t.type)),t):1}function Lr(t,e,n,r){if(50<hu)throw hu=0,t0=null,Error(X(185));Ed(t,n,r),(!(Ue&2)||t!==$t)&&(t===$t&&(!(Ue&2)&&(vm|=n),Ot===4&&xi(t,Yt)),Un(t,r),n===1&&Ue===0&&!(e.mode&1)&&(jl=Ct()+500,pm&&fo()))}function Un(t,e){var n=t.callbackNode;JF(t,e);var r=Gf(t,t===$t?Yt:0);if(r===0)n!==null&&wE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wE(n),e===1)t.tag===0?X5(dT.bind(null,t)):KP(dT.bind(null,t)),G5(function(){!(Ue&6)&&fo()}),n=null;else{switch(EP(r)){case 1:n=Ww;break;case 4:n=xP;break;case 16:n=qf;break;case 536870912:n=_P;break;default:n=qf}n=qR(n,FR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FR(t,e){if(hf=-1,ff=0,Ue&6)throw Error(X(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var r=Gf(t,t===$t?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dp(t,r);else{e=r;var s=Ue;Ue|=2;var i=$R();($t!==t||Yt!==e)&&(Rs=null,jl=Ct()+500,qo(t,e));do try{v3();break}catch(a){UR(t,a)}while(!0);rx(),lp.current=i,Ue=s,Nt!==null?e=0:($t=null,Yt=0,e=Ot)}if(e!==0){if(e===2&&(s=Av(t),s!==0&&(r=s,e=n0(t,s))),e===1)throw n=zu,qo(t,0),xi(t,r),Un(t,Ct()),n;if(e===6)xi(t,r);else{if(s=t.current.alternate,!(r&30)&&!g3(s)&&(e=dp(t,r),e===2&&(i=Av(t),i!==0&&(r=i,e=n0(t,i))),e===1))throw n=zu,qo(t,0),xi(t,r),Un(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Co(t,Mn,Rs);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=vx+500-Ct(),10<e)){if(Gf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){An(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ov(Co.bind(null,t,Mn,Rs),e);break}Co(t,Mn,Rs);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Or(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m3(r/1960))-r,10<r){t.timeoutHandle=Ov(Co.bind(null,t,Mn,Rs),r);break}Co(t,Mn,Rs);break;case 5:Co(t,Mn,Rs);break;default:throw Error(X(329))}}}return Un(t,Ct()),t.callbackNode===n?FR.bind(null,t):null}function n0(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=dp(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&r0(e)),t}function r0(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function g3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ur(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~yx,e&=~vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Or(e),r=1<<n;t[n]=-1,e&=~r}}function dT(t){if(Ue&6)throw Error(X(327));ul();var e=Gf(t,0);if(!(e&1))return Un(t,Ct()),null;var n=dp(t,e);if(t.tag!==0&&n===2){var r=Av(t);r!==0&&(e=r,n=n0(t,r))}if(n===1)throw n=zu,qo(t,0),xi(t,e),Un(t,Ct()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,Mn,Rs),Un(t,Ct()),null}function wx(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(jl=Ct()+500,pm&&fo())}}function na(t){ki!==null&&ki.tag===0&&!(Ue&6)&&ul();var e=Ue;Ue|=1;var n=mr.transition,r=Qe;try{if(mr.transition=null,Qe=1,t)return t()}finally{Qe=r,mr.transition=n,Ue=e,!(Ue&6)&&fo()}}function xx(){Gn=Za.current,st(Za)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,q5(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jf();break;case 3:Dl(),st(Vn),st(yn),cx();break;case 5:lx(r);break;case 4:Dl();break;case 13:st(lt);break;case 19:st(lt);break;case 10:sx(r.type._context);break;case 22:case 23:xx()}n=n.return}if($t=t,Nt=t=zi(t.current,null),Yt=Gn=e,Ot=0,zu=null,yx=vm=ta=0,Mn=du=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Do=null}return t}function UR(t,e){do{var n=Nt;try{if(rx(),cf.current=ap,op){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}op=!1}if(ea=0,Ft=jt=ht=null,cu=!1,Uu=0,gx.current=null,n===null||n.return===null){Ot=1,zu=e,Nt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=JE(o);if(g!==null){g.flags&=-257,ZE(g,o,a,i,e),g.mode&1&&XE(i,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){XE(i,c,e),_x();break e}l=Error(X(426))}}else if(it&&a.mode&1){var b=JE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ZE(b,o,a,i,e),tx(Ml(l,a));break e}}i=l=Ml(l,a),Ot!==4&&(Ot=2),du===null?du=[i]:du.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=ER(i,l,e);HE(i,v);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&($i===null||!$i.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=TR(i,a,e);HE(i,A);break e}}i=i.return}while(i!==null)}zR(n)}catch(N){e=N,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function $R(){var t=lp.current;return lp.current=ap,t===null?ap:t}function _x(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(ta&268435455)&&!(vm&268435455)||xi($t,Yt)}function dp(t,e){var n=Ue;Ue|=2;var r=$R();($t!==t||Yt!==e)&&(Rs=null,qo(t,e));do try{y3();break}catch(s){UR(t,s)}while(!0);if(rx(),Ue=n,lp.current=r,Nt!==null)throw Error(X(261));return $t=null,Yt=0,Ot}function y3(){for(;Nt!==null;)BR(Nt)}function v3(){for(;Nt!==null&&!zF();)BR(Nt)}function BR(t){var e=HR(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?zR(t):Nt=e,gx.current=null}function zR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=d3(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Nt=null;return}}else if(n=u3(n,e,Gn),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ot===0&&(Ot=5)}function Co(t,e,n){var r=Qe,s=mr.transition;try{mr.transition=null,Qe=1,w3(t,e,n,r)}finally{mr.transition=s,Qe=r}return null}function w3(t,e,n,r){do ul();while(ki!==null);if(Ue&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZF(t,i),t===$t&&(Nt=$t=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mh||(Mh=!0,qR(qf,function(){return ul(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mr.transition,mr.transition=null;var o=Qe;Qe=1;var a=Ue;Ue|=4,gx.current=null,f3(t,n),LR(n,t),F5(Mv),Kf=!!Dv,Mv=Dv=null,t.current=n,p3(n),WF(),Ue=a,Qe=o,mr.transition=i}else t.current=n;if(Mh&&(Mh=!1,ki=t,up=s),i=t.pendingLanes,i===0&&($i=null),GF(n.stateNode),Un(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cp)throw cp=!1,t=e0,e0=null,t;return up&1&&t.tag!==0&&ul(),i=t.pendingLanes,i&1?t===t0?hu++:(hu=0,t0=t):hu=0,fo(),null}function ul(){if(ki!==null){var t=EP(up),e=mr.transition,n=Qe;try{if(mr.transition=null,Qe=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,up=0,Ue&6)throw Error(X(331));var s=Ue;for(Ue|=4,he=t.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:uu(8,d,i)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var p=d.sibling,g=d.return;if(MR(d),d===c){he=null;break}if(p!==null){p.return=g,he=p;break}he=g}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,he=v;break e}he=i.return}}var _=t.current;for(he=_;he!==null;){o=he;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,he=E;else e:for(o=_;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ym(9,a)}}catch(N){xt(a,a.return,N)}if(a===o){he=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,he=A;break e}he=a.return}}if(Ue=s,fo(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(cm,t)}catch{}r=!0}return r}finally{Qe=n,mr.transition=e}}return!1}function hT(t,e,n){e=Ml(n,e),e=ER(t,e,1),t=Ui(t,e,1),e=An(),t!==null&&(Ed(t,1,e),Un(t,e))}function xt(t,e,n){if(t.tag===3)hT(t,t,n);else for(;e!==null;){if(e.tag===3){hT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($i===null||!$i.has(r))){t=Ml(n,t),t=TR(e,t,1),e=Ui(e,t,1),t=An(),e!==null&&(Ed(e,1,t),Un(e,t));break}}e=e.return}}function x3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=An(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Yt&n)===n&&(Ot===4||Ot===3&&(Yt&130023424)===Yt&&500>Ct()-vx?qo(t,0):yx|=n),Un(t,e)}function WR(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var n=An();t=Bs(t,e),t!==null&&(Ed(t,e,n),Un(t,n))}function _3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WR(t,n)}function b3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),WR(t,n)}var HR;HR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,c3(t,e,n);On=!!(t.flags&131072)}else On=!1,it&&e.flags&1048576&&QP(e,tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var s=Rl(e,yn.current);cl(e,n),s=dx(null,e,r,t,s,n);var i=hx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(r)?(i=!0,Zf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ox(e),s.updater=gm,e.stateNode=s,s._reactInternals=e,zv(e,r,t,n),e=qv(null,e,r,!0,i,n)):(e.tag=0,it&&i&&Zw(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=T3(r),t=Rr(r,t),s){case 0:e=Hv(null,e,r,t,n);break e;case 1:e=nT(null,e,r,t,n);break e;case 11:e=eT(null,e,r,t,n);break e;case 14:e=tT(null,e,r,Rr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),Hv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),nT(t,e,r,s,n);case 3:e:{if(AR(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tR(t,e),sp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ml(Error(X(423)),e),e=rT(t,e,r,n,s);break e}else if(r!==s){s=Ml(Error(X(424)),e),e=rT(t,e,r,n,s);break e}else for(Xn=Fi(e.stateNode.containerInfo.firstChild),Zn=e,it=!0,Mr=null,n=ZP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===s){e=zs(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return nR(e),t===null&&Uv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jv(r,s)?o=null:i!==null&&jv(r,i)&&(e.flags|=32),IR(t,e),Tn(t,e,o,n),e.child;case 6:return t===null&&Uv(e),null;case 13:return PR(t,e,n);case 4:return ax(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),eT(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(np,r._currentValue),r._currentValue=o,i!==null)if(Ur(i.value,o)){if(i.children===s.children&&!Vn.current){e=zs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ls(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$v(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$v(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cl(e,n),s=xr(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=Rr(r,e.pendingProps),s=Rr(r.type,s),tT(t,e,r,s,n);case 15:return SR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),df(t,e),e.tag=1,Fn(r)?(t=!0,Zf(e)):t=!1,cl(e,n),bR(e,r,s),zv(e,r,s,n),qv(null,e,r,!0,t,n);case 19:return RR(t,e,n);case 22:return CR(t,e,n)}throw Error(X(156,e.tag))};function qR(t,e){return wP(t,e)}function E3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new E3(t,e,n,r)}function bx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T3(t){if(typeof t=="function")return bx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$w)return 11;if(t===Bw)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case za:return Go(n.children,s,i,e);case Uw:o=8,s|=8;break;case fv:return t=pr(12,n,e,s|2),t.elementType=fv,t.lanes=i,t;case pv:return t=pr(13,n,e,s),t.elementType=pv,t.lanes=i,t;case mv:return t=pr(19,n,e,s),t.elementType=mv,t.lanes=i,t;case nP:return wm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eP:o=10;break e;case tP:o=9;break e;case $w:o=11;break e;case Bw:o=14;break e;case gi:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Go(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function wm(t,e,n,r){return t=pr(22,t,r,e),t.elementType=nP,t.lanes=n,t.stateNode={isHidden:!1},t}function gy(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function yy(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xg(0),this.expirationTimes=Xg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ex(t,e,n,r,s,i,o,a,l){return t=new S3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ox(i),t}function C3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GR(t){if(!t)return Yi;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Fn(n))return GP(t,n,e)}return e}function KR(t,e,n,r,s,i,o,a,l){return t=Ex(n,r,!0,t,s,i,o,a,l),t.context=GR(null),n=t.current,r=An(),s=Bi(n),i=Ls(r,s),i.callback=e??null,Ui(n,i,s),t.current.lanes=s,Ed(t,s,r),Un(t,r),t}function xm(t,e,n,r){var s=e.current,i=An(),o=Bi(s);return n=GR(n),e.context===null?e.context=n:e.pendingContext=n,e=Ls(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(s,e,o),t!==null&&(Lr(t,s,o,i),lf(t,s,o)),o}function hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tx(t,e){fT(t,e),(t=t.alternate)&&fT(t,e)}function I3(){return null}var QR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sx(t){this._internalRoot=t}_m.prototype.render=Sx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));xm(t,e,null,null)};_m.prototype.unmount=Sx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;na(function(){xm(null,t,null,null)}),e[$s]=null}};function _m(t){this._internalRoot=t}_m.prototype.unstable_scheduleHydration=function(t){if(t){var e=CP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&AP(t)}};function Cx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function A3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=hp(o);i.call(c)}}var o=KR(e,r,t,0,null,!1,!1,"",pT);return t._reactRootContainer=o,t[$s]=o.current,ju(t.nodeType===8?t.parentNode:t),na(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=hp(l);a.call(c)}}var l=Ex(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=l,t[$s]=l.current,ju(t.nodeType===8?t.parentNode:t),na(function(){xm(e,l,n,r)}),l}function Em(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hp(o);a.call(l)}}xm(e,o,t,s)}else o=A3(n,e,t,s,r);return hp(o)}TP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$c(e.pendingLanes);n!==0&&(Hw(e,n|1),Un(e,Ct()),!(Ue&6)&&(jl=Ct()+500,fo()))}break;case 13:na(function(){var r=Bs(t,1);if(r!==null){var s=An();Lr(r,t,1,s)}}),Tx(t,1)}};qw=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var n=An();Lr(e,t,134217728,n)}Tx(t,134217728)}};SP=function(t){if(t.tag===13){var e=Bi(t),n=Bs(t,e);if(n!==null){var r=An();Lr(n,t,e,r)}Tx(t,e)}};CP=function(){return Qe};IP=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Sv=function(t,e,n){switch(e){case"input":if(vv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fm(r);if(!s)throw Error(X(90));sP(r),vv(r,s)}}}break;case"textarea":oP(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};fP=wx;pP=na;var P3={usingClientEntryPoint:!1,Events:[Sd,Ga,fm,dP,hP,wx]},jc={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R3={bundleType:jc.bundleType,version:jc.version,rendererPackageName:jc.rendererPackageName,rendererConfig:jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yP(t),t===null?null:t.stateNode},findFiberByHostInstance:jc.findFiberByHostInstance||I3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{cm=jh.inject(R3),us=jh}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P3;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cx(e))throw Error(X(200));return C3(t,e,null,n)};rr.createRoot=function(t,e){if(!Cx(t))throw Error(X(299));var n=!1,r="",s=QR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ex(t,1,!1,null,null,n,!1,r,s),t[$s]=e.current,ju(t.nodeType===8?t.parentNode:t),new Sx(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=yP(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return na(t)};rr.hydrate=function(t,e,n){if(!bm(e))throw Error(X(200));return Em(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Cx(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=QR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KR(e,null,t,1,n??null,s,!1,i,o),t[$s]=e.current,ju(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new _m(e)};rr.render=function(t,e,n){if(!bm(e))throw Error(X(200));return Em(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!bm(t))throw Error(X(40));return t._reactRootContainer?(na(function(){Em(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};rr.unstable_batchedUpdates=wx;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bm(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Em(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function YR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YR)}catch(t){console.error(t)}}YR(),YA.exports=rr;var ya=YA.exports;const XR=LA(ya);var JR,mT=ya;JR=mT.createRoot,mT.hydrateRoot;const N3=1,k3=1e6;let vy=0;function D3(){return vy=(vy+1)%Number.MAX_SAFE_INTEGER,vy.toString()}const wy=new Map,gT=t=>{if(wy.has(t))return;const e=setTimeout(()=>{wy.delete(t),fu({type:"REMOVE_TOAST",toastId:t})},k3);wy.set(t,e)},M3=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,N3)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gT(n):t.toasts.forEach(r=>{gT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mf=[];let gf={toasts:[]};function fu(t){gf=M3(gf,t),mf.forEach(e=>{e(gf)})}function No({...t}){const e=D3(),n=s=>fu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fu({type:"DISMISS_TOAST",toastId:e});return fu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ZR(){const[t,e]=m.useState(gf);return m.useEffect(()=>(mf.push(e),()=>{const n=mf.indexOf(e);n>-1&&mf.splice(n,1)}),[t]),{...t,toast:No,dismiss:n=>fu({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function j3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Tm(...t){return e=>t.forEach(n=>j3(n,e))}function $e(...t){return m.useCallback(Tm(...t),t)}function O3(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...x}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,L3(s,...e)]}function L3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xi=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(V3);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return u.jsx(s0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return u.jsx(s0,{...r,ref:e,children:n})});Xi.displayName="Slot";var s0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=U3(n);return m.cloneElement(n,{...F3(r,n.props),ref:e?Tm(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});s0.displayName="SlotClone";var Ix=({children:t})=>u.jsx(u.Fragment,{children:t});function V3(t){return m.isValidElement(t)&&t.type===Ix}function F3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function U3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sm(t){const e=t+"CollectionProvider",[n,r]=O3(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:y}=g,b=re.useRef(null),v=re.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:v,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=re.forwardRef((g,x)=>{const{scope:y,children:b}=g,v=i(a,y),_=$e(x,v.collectionRef);return u.jsx(Xi,{ref:_,children:b})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=re.forwardRef((g,x)=>{const{scope:y,children:b,...v}=g,_=re.useRef(null),E=$e(x,_),A=i(c,y);return re.useEffect(()=>(A.itemMap.set(_,{ref:_,...v}),()=>void A.itemMap.delete(_))),u.jsx(Xi,{[d]:"",ref:E,children:b})});f.displayName=c;function p(g){const x=i(t+"CollectionConsumer",g);return re.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((A,N)=>v.indexOf(A.ref.current)-v.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function $3(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ei(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var v;const{scope:p,children:g,...x}=f,y=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,b=m.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})};c.displayName=i+"Provider";function d(f,p){var y;const g=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,B3(s,...e)]}function B3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var z3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Te=z3.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Xi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ax(t,e){t&&ya.flushSync(()=>t.dispatchEvent(e))}function Jt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W3(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var H3="DismissableLayer",i0="dismissableLayer.update",q3="dismissableLayer.pointerDownOutside",G3="dismissableLayer.focusOutside",yT,eN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(eN),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),x=$e(e,C=>f(C)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),_=d?y.indexOf(d):-1,E=c.layersWithOutsidePointerEventsDisabled.size>0,A=_>=v,N=Q3(C=>{const S=C.target,I=[...c.branches].some(P=>P.contains(S));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),j=Y3(C=>{const S=C.target;[...c.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return W3(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),vT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yT)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),vT())},[d,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(i0,C),()=>document.removeEventListener(i0,C)},[]),u.jsx(Te.div,{...l,ref:x,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});Zl.displayName=H3;var K3="DismissableLayerBranch",tN=m.forwardRef((t,e)=>{const n=m.useContext(eN),r=m.useRef(null),s=$e(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Te.div,{...t,ref:s})});tN.displayName=K3;function Q3(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){nN(q3,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y3(t,e=globalThis==null?void 0:globalThis.document){const n=Jt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&nN(G3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vT(){const t=new CustomEvent(i0);document.dispatchEvent(t)}function nN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ax(s,i):s.dispatchEvent(i)}var X3=Zl,J3=tN,Bt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Z3="Portal",Id=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Bt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XR.createPortal(u.jsx(Te.div,{...r,ref:e}),o):null});Id.displayName=Z3;function e6(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Hr=t=>{const{present:e,children:n}=t,r=t6(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=$e(r.ref,n6(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Hr.displayName="Presence";function t6(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=e6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Oh(r.current);i.current=a==="mounted"?c:"none"},[a]),Bt(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=Oh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Bt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=Oh(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(i.current=Oh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Oh(t){return(t==null?void 0:t.animationName)||"none"}function n6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ra({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=r6({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Jt(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function r6({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Jt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var s6="VisuallyHidden",Ad=m.forwardRef((t,e)=>u.jsx(Te.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ad.displayName=s6;var i6=Ad,Px="ToastProvider",[Rx,o6,a6]=Sm("Toast"),[rN,Voe]=ei("Toast",[a6]),[l6,Cm]=rN(Px),sN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Px}\`. Expected non-empty \`string\`.`),u.jsx(Rx.Provider,{scope:e,children:u.jsx(l6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};sN.displayName=Px;var iN="ToastViewport",c6=["F8"],o0="toast.viewportPause",a0="toast.viewportResume",oN=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=c6,label:s="Notifications ({hotkey})",...i}=t,o=Cm(iN,n),a=o6(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=$e(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const b=v=>{var E;r.length!==0&&r.every(A=>v[A]||v.code===A)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=l.current,v=f.current;if(x&&b&&v){const _=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(o0);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(a0);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},A=j=>{!b.contains(j.relatedTarget)&&E()},N=()=>{b.contains(document.activeElement)||E()};return b.addEventListener("focusin",_),b.addEventListener("focusout",A),b.addEventListener("pointermove",_),b.addEventListener("pointerleave",N),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{b.removeEventListener("focusin",_),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",_),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[x,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const _=a().map(E=>{const A=E.ref.current,N=[A,...b6(A)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?_.reverse():_).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const v=_=>{var N,j,C;const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const S=document.activeElement,I=_.shiftKey;if(_.target===b&&I){(N=c.current)==null||N.focus();return}const M=y({tabbingDirection:I?"backwards":"forwards"}),k=M.findIndex(z=>z===S);xy(M.slice(k+1))?_.preventDefault():I?(j=c.current)==null||j.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,y]),u.jsxs(J3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(l0,{ref:c,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});xy(b)}}),u.jsx(Rx.Slot,{scope:n,children:u.jsx(Te.ol,{tabIndex:-1,...i,ref:p})}),x&&u.jsx(l0,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});xy(b)}})]})});oN.displayName=iN;var aN="ToastFocusProxy",l0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Cm(aN,n);return u.jsx(Ad,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});l0.displayName=aN;var Im="Toast",u6="toast.swipeStart",d6="toast.swipeMove",h6="toast.swipeCancel",f6="toast.swipeEnd",lN=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ra({prop:r,defaultProp:s,onChange:i});return u.jsx(Hr,{present:n||a,children:u.jsx(g6,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Jt(t.onPause),onResume:Jt(t.onResume),onSwipeStart:ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});lN.displayName=Im;var[p6,m6]=rN(Im,{onClose(){}}),g6=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...x}=t,y=Cm(Im,n),[b,v]=m.useState(null),_=$e(e,z=>v(z)),E=m.useRef(null),A=m.useRef(null),N=s||y.duration,j=m.useRef(0),C=m.useRef(N),S=m.useRef(0),{onToastAdd:I,onToastRemove:P}=y,D=Jt(()=>{var oe;(b==null?void 0:b.contains(document.activeElement))&&((oe=y.viewport)==null||oe.focus()),o()}),M=m.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(D,z))},[D]);m.useEffect(()=>{const z=y.viewport;if(z){const oe=()=>{M(C.current),c==null||c()},J=()=>{const Z=new Date().getTime()-j.current;C.current=C.current-Z,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(o0,J),z.addEventListener(a0,oe),()=>{z.removeEventListener(o0,J),z.removeEventListener(a0,oe)}}},[y.viewport,N,l,c,M]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(N)},[i,N,y.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>P()),[I,P]);const k=m.useMemo(()=>b?mN(b):null,[b]);return y.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(y6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(p6,{scope:n,onClose:D,children:ya.createPortal(u.jsx(Rx.ItemSlot,{scope:n,children:u.jsx(X3,{asChild:!0,onEscapeKeyDown:ie(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ie(t.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:ie(t.onPointerMove,z=>{if(!E.current)return;const oe=z.clientX-E.current.x,J=z.clientY-E.current.y,Z=!!A.current,O=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=O?F(0,oe):0,Q=O?0:F(0,J),ee=z.pointerType==="touch"?10:2,se={x:Y,y:Q},ve={originalEvent:z,delta:se};Z?(A.current=se,Lh(d6,f,ve,{discrete:!1})):wT(se,y.swipeDirection,ee)?(A.current=se,Lh(u6,d,ve,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(oe)>ee||Math.abs(J)>ee)&&(E.current=null)}),onPointerUp:ie(t.onPointerUp,z=>{const oe=A.current,J=z.target;if(J.hasPointerCapture(z.pointerId)&&J.releasePointerCapture(z.pointerId),A.current=null,E.current=null,oe){const Z=z.currentTarget,O={originalEvent:z,delta:oe};wT(oe,y.swipeDirection,y.swipeThreshold)?Lh(f6,g,O,{discrete:!0}):Lh(h6,p,O,{discrete:!0}),Z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),y6=t=>{const{__scopeToast:e,children:n,...r}=t,s=Cm(Im,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return x6(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Id,{asChild:!0,children:u.jsx(Ad,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},v6="ToastTitle",cN=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Te.div,{...r,ref:e})});cN.displayName=v6;var w6="ToastDescription",uN=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Te.div,{...r,ref:e})});uN.displayName=w6;var dN="ToastAction",hN=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(pN,{altText:n,asChild:!0,children:u.jsx(Nx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${dN}\`. Expected non-empty \`string\`.`),null)});hN.displayName=dN;var fN="ToastClose",Nx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=m6(fN,n);return u.jsx(pN,{asChild:!0,children:u.jsx(Te.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});Nx.displayName=fN;var pN=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function mN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_6(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...mN(r))}}),e}function Lh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Ax(s,i):s.dispatchEvent(i)}var wT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function x6(t=()=>{}){const e=Jt(t);Bt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _6(t){return t.nodeType===t.ELEMENT_NODE}function b6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var E6=sN,gN=oN,yN=lN,vN=cN,wN=uN,xN=hN,_N=Nx;function bN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=bN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function EN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=bN(t))&&(r&&(r+=" "),r+=e);return r}const xT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_T=EN,Pd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return _T(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=xT(d)||xT(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...c,f,p]:c},[]);return _T(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...S6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TN("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(C6,{ref:i,iconNode:e,className:TN(`lucide-${T6(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=we("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=we("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=we("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=we("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=we("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=we("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=we("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=we("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dx="-",Q6=t=>{const e=X6(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Dx);return a[0]===""&&a.length!==1&&a.shift(),kN(a,e)||Y6(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},kN=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?kN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Dx);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ST=/^\[(.+)\]$/,Y6=t=>{if(ST.test(t)){const e=ST.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},X6=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Z6(Object.entries(t.classGroups),n).forEach(([i,o])=>{h0(o,r,i,e)}),r},h0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(J6(s)){h0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{h0(o,CT(e,i),n,r)})})},CT=(t,e)=>{let n=t;return e.split(Dx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},J6=t=>t.isThemeGetter,Z6=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,eU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DN="!",tU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let b=0;b<a.length;b++){let v=a[b];if(c===0){if(v===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(d,b)),d=b+i;continue}if(v==="/"){f=b;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(DN),x=g?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},nU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rU=t=>({cache:eU(t.cacheSize),parseClassName:tU(t),...Q6(t)}),sU=/\s+/,iU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(sU);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let x=!!g,y=r(x?p.substring(0,g):p);if(!y){if(!x){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}x=!1}const b=nU(d).join(":"),v=f?b+DN:b,_=v+y;if(i.includes(_))continue;i.push(_);const E=s(y,x);for(let A=0;A<E.length;++A){const N=E[A];i.push(v+N)}a=c+(a.length>0?" "+a:a)}return a};function oU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MN(e))&&(r&&(r+=" "),r+=n);return r}const MN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MN(t[r]))&&(n&&(n+=" "),n+=e);return n};function aU(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=rU(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=iU(l,n);return s(l,d),d}return function(){return i(oU.apply(null,arguments))}}const tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jN=/^\[(?:([a-z-]+):)?(.+)\]$/i,lU=/^\d+\/\d+$/,cU=new Set(["px","full","screen"]),uU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>dl(t)||cU.has(t)||lU.test(t),ci=t=>ec(t,"length",bU),dl=t=>!!t&&!Number.isNaN(Number(t)),Ty=t=>ec(t,"number",dl),Oc=t=>!!t&&Number.isInteger(Number(t)),mU=t=>t.endsWith("%")&&dl(t.slice(0,-1)),Pe=t=>jN.test(t),ui=t=>uU.test(t),gU=new Set(["length","size","percentage"]),yU=t=>ec(t,gU,ON),vU=t=>ec(t,"position",ON),wU=new Set(["image","url"]),xU=t=>ec(t,wU,TU),_U=t=>ec(t,"",EU),Lc=()=>!0,ec=(t,e,n)=>{const r=jN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bU=t=>dU.test(t)&&!hU.test(t),ON=()=>!1,EU=t=>fU.test(t),TU=t=>pU.test(t),SU=()=>{const t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),s=tt("borderColor"),i=tt("borderRadius"),o=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),c=tt("grayscale"),d=tt("hueRotate"),f=tt("invert"),p=tt("gap"),g=tt("gradientColorStops"),x=tt("gradientColorStopPositions"),y=tt("inset"),b=tt("margin"),v=tt("opacity"),_=tt("padding"),E=tt("saturate"),A=tt("scale"),N=tt("sepia"),j=tt("skew"),C=tt("space"),S=tt("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Pe,e],M=()=>[Pe,e],k=()=>["",As,ci],z=()=>["auto",dl,Pe],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Pe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[dl,Pe];return{cacheSize:500,separator:":",theme:{colors:[Lc],spacing:[As,ci],blur:["none","",ui,Pe],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ui,Pe],borderSpacing:M(),borderWidth:k(),contrast:Q(),grayscale:F(),hueRotate:Q(),invert:F(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[mU,ci],inset:D(),margin:D(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:F(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ui]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),Pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,Pe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Oc,Pe]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:["full",Oc,Pe]},Pe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Oc,Pe]},Pe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[ui]},ui]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ui,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ty]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",dl,Ty]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,ci]}],"underline-offset":[{"underline-offset":["auto",As,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),vU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[As,Pe]}],"outline-w":[{outline:[As,ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[As,ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ui,_U]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ui,Pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Oc,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[As,ci,Ty]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},CU=aU(SU);function ae(...t){return CU(EN(t))}const IU=E6,LN=m.forwardRef(({className:t,...e},n)=>u.jsx(gN,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));LN.displayName=gN.displayName;const AU=Pd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VN=m.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(yN,{ref:r,className:ae(AU({variant:e}),t),...n}));VN.displayName=yN.displayName;const PU=m.forwardRef(({className:t,...e},n)=>u.jsx(xN,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));PU.displayName=xN.displayName;const FN=m.forwardRef(({className:t,...e},n)=>u.jsx(_N,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(ks,{className:"h-4 w-4"})}));FN.displayName=_N.displayName;const UN=m.forwardRef(({className:t,...e},n)=>u.jsx(vN,{ref:n,className:ae("text-sm font-semibold",t),...e}));UN.displayName=vN.displayName;const $N=m.forwardRef(({className:t,...e},n)=>u.jsx(wN,{ref:n,className:ae("text-sm opacity-90",t),...e}));$N.displayName=wN.displayName;function RU(){const{toasts:t}=ZR();return u.jsxs(IU,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(VN,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(UN,{children:n}),r&&u.jsx($N,{children:r})]}),s,u.jsx(FN,{})]},e)}),u.jsx(LN,{})]})}var IT=["light","dark"],NU="(prefers-color-scheme: dark)",kU=m.createContext(void 0),DU={setTheme:t=>{},themes:[]},MU=()=>{var t;return(t=m.useContext(kU))!=null?t:DU};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?IT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,y=!1,b=!0)=>{let v=o?o[x]:x,_=y?x+"|| ''":`'${v}'`,E="";return s&&b&&!y&&IT.includes(x)&&(E+=`d.style.colorScheme = '${x}';`),n==="class"?y||v?E+=`c.add(${_})`:E+="null":v&&(E+=`d[s](n,${_})`),E},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${NU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var jU=t=>{switch(t){case"success":return VU;case"info":return UU;case"warning":return FU;case"error":return $U;default:return null}},OU=Array(12).fill(0),LU=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},OU.map((e,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),FU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UU=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$U=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BU=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},f0=1,zU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:f0++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(HU(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||f0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},qn=new zU,WU=(t,e)=>{let n=(e==null?void 0:e.id)||f0++;return qn.addToast({title:t,...e,id:n}),n},HU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",qU=WU,GU=()=>qn.toasts;Object.assign(qU,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:GU});function KU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}KU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(t){return t.label!==void 0}var QU=3,YU="32px",XU=4e3,JU=356,ZU=14,e$=20,t$=200;function n$(...t){return t.filter(Boolean).join(" ")}var r$=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:p,unstyled:g,interacting:x,setHeights:y,visibleToasts:b,heights:v,index:_,toasts:E,expanded:A,removeToast:N,defaultRichColors:j,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:P,className:D="",descriptionClassName:M="",duration:k,position:z,gap:oe,loadingIcon:J,expandByDefault:Z,classNames:O,icons:F,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:Q,cn:ee}=t,[se,ve]=re.useState(!1),[Re,me]=re.useState(!1),[te,pe]=re.useState(!1),[$,K]=re.useState(!1),[G,B]=re.useState(0),[de,ge]=re.useState(0),De=re.useRef(null),L=re.useRef(null),le=_===0,Ae=_+1<=b,fe=p.type,We=p.dismissible!==!1,Le=p.className||"",Er=p.descriptionClassName||"",Dt=re.useMemo(()=>v.findIndex(be=>be.toastId===p.id)||0,[v,p.id]),Qr=re.useMemo(()=>{var be;return(be=p.closeButton)!=null?be:C},[p.closeButton,C]),Yr=re.useMemo(()=>p.duration||k||XU,[p.duration,k]),at=re.useRef(0),Xe=re.useRef(0),Tr=re.useRef(0),kn=re.useRef(null),[en,Ss]=z.split("-"),zn=re.useMemo(()=>v.reduce((be,He,Be)=>Be>=Dt?be:be+He.height,0),[v,Dt]),ir=BU(),gt=p.invert||f,Sr=fe==="loading";Xe.current=re.useMemo(()=>Dt*oe+zn,[Dt,zn]),re.useEffect(()=>{ve(!0)},[]),re.useLayoutEffect(()=>{if(!se)return;let be=L.current,He=be.style.height;be.style.height="auto";let Be=be.getBoundingClientRect().height;be.style.height=He,ge(Be),y(Mt=>Mt.find(zt=>zt.toastId===p.id)?Mt.map(zt=>zt.toastId===p.id?{...zt,height:Be}:zt):[{toastId:p.id,height:Be,position:p.position},...Mt])},[se,p.title,p.description,y,p.id]);let or=re.useCallback(()=>{me(!0),B(Xe.current),y(be=>be.filter(He=>He.toastId!==p.id)),setTimeout(()=>{N(p)},t$)},[p,N,y,Xe]);re.useEffect(()=>{if(p.promise&&fe==="loading"||p.duration===1/0||p.type==="loading")return;let be,He=Yr;return A||x||Q&&ir?(()=>{if(Tr.current<at.current){let Be=new Date().getTime()-at.current;He=He-Be}Tr.current=new Date().getTime()})():He!==1/0&&(at.current=new Date().getTime(),be=setTimeout(()=>{var Be;(Be=p.onAutoClose)==null||Be.call(p,p),or()},He)),()=>clearTimeout(be)},[A,x,Z,p,Yr,or,p.promise,fe,Q,ir]),re.useEffect(()=>{let be=L.current;if(be){let He=be.getBoundingClientRect().height;return ge(He),y(Be=>[{toastId:p.id,height:He,position:p.position},...Be]),()=>y(Be=>Be.filter(Mt=>Mt.toastId!==p.id))}},[y,p.id]),re.useEffect(()=>{p.delete&&or()},[or,p.delete]);function gc(){return F!=null&&F.loading?re.createElement("div",{className:"sonner-loader","data-visible":fe==="loading"},F.loading):J?re.createElement("div",{className:"sonner-loader","data-visible":fe==="loading"},J):re.createElement(LU,{visible:fe==="loading"})}return re.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:L,className:ee(D,Le,O==null?void 0:O.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[fe],(n=p==null?void 0:p.classNames)==null?void 0:n[fe]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:j,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":se,"data-promise":!!p.promise,"data-removed":Re,"data-visible":Ae,"data-y-position":en,"data-x-position":Ss,"data-index":_,"data-front":le,"data-swiping":te,"data-dismissible":We,"data-type":fe,"data-invert":gt,"data-swipe-out":$,"data-expanded":!!(A||Z&&se),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${Re?G:Xe.current}px`,"--initial-height":Z?"auto":`${de}px`,...S,...p.style},onPointerDown:be=>{Sr||!We||(De.current=new Date,B(Xe.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(pe(!0),kn.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,He,Be,Mt;if($||!We)return;kn.current=null;let zt=Number(((be=L.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Xr=new Date().getTime()-((He=De.current)==null?void 0:He.getTime()),ar=Math.abs(zt)/Xr;if(Math.abs(zt)>=e$||ar>.11){B(Xe.current),(Be=p.onDismiss)==null||Be.call(p,p),or(),K(!0);return}(Mt=L.current)==null||Mt.style.setProperty("--swipe-amount","0px"),pe(!1)},onPointerMove:be=>{var He;if(!kn.current||!We)return;let Be=be.clientY-kn.current.y,Mt=be.clientX-kn.current.x,zt=(en==="top"?Math.min:Math.max)(0,Be),Xr=be.pointerType==="touch"?10:2;Math.abs(zt)>Xr?(He=L.current)==null||He.style.setProperty("--swipe-amount",`${Be}px`):Math.abs(Mt)>Xr&&(kn.current=null)}},Qr&&!p.jsx?re.createElement("button",{"aria-label":Y,"data-disabled":Sr,"data-close-button":!0,onClick:Sr||!We?()=>{}:()=>{var be;or(),(be=p.onDismiss)==null||be.call(p,p)},className:ee(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||re.isValidElement(p.title)?p.jsx||p.title:re.createElement(re.Fragment,null,fe||p.icon||p.promise?re.createElement("div",{"data-icon":"",className:ee(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||gc():null,p.type!=="loading"?p.icon||(F==null?void 0:F[fe])||jU(fe):null):null,re.createElement("div",{"data-content":"",className:ee(O==null?void 0:O.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:ee(O==null?void 0:O.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?re.createElement("div",{"data-description":"",className:ee(M,Er,O==null?void 0:O.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),re.isValidElement(p.cancel)?p.cancel:p.cancel&&Vh(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:be=>{var He,Be;Vh(p.cancel)&&We&&((Be=(He=p.cancel).onClick)==null||Be.call(He,be),or())},className:ee(O==null?void 0:O.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,re.isValidElement(p.action)?p.action:p.action&&Vh(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:be=>{var He,Be;Vh(p.action)&&(be.defaultPrevented||((Be=(He=p.action).onClick)==null||Be.call(He,be),or()))},className:ee(O==null?void 0:O.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function AT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var s$=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:p=QU,toastOptions:g,dir:x=AT(),gap:y=ZU,loadingIcon:b,icons:v,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:E,cn:A=n$}=t,[N,j]=re.useState([]),C=re.useMemo(()=>Array.from(new Set([n].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,n]),[S,I]=re.useState([]),[P,D]=re.useState(!1),[M,k]=re.useState(!1),[z,oe]=re.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=re.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=re.useRef(null),F=re.useRef(!1),Y=re.useCallback(Q=>{var ee;(ee=N.find(se=>se.id===Q.id))!=null&&ee.delete||qn.dismiss(Q.id),j(se=>se.filter(({id:ve})=>ve!==Q.id))},[N]);return re.useEffect(()=>qn.subscribe(Q=>{if(Q.dismiss){j(ee=>ee.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{XR.flushSync(()=>{j(ee=>{let se=ee.findIndex(ve=>ve.id===Q.id);return se!==-1?[...ee.slice(0,se),{...ee[se],...Q},...ee.slice(se+1)]:[Q,...ee]})})})}),[]),re.useEffect(()=>{if(l!=="system"){oe(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{oe(Q?"dark":"light")})},[l]),re.useEffect(()=>{N.length<=1&&D(!1)},[N]),re.useEffect(()=>{let Q=ee=>{var se,ve;r.every(Re=>ee[Re]||ee.code===Re)&&(D(!0),(se=J.current)==null||se.focus()),ee.code==="Escape"&&(document.activeElement===J.current||(ve=J.current)!=null&&ve.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),re.useEffect(()=>{if(J.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,F.current=!1)}},[J.current]),N.length?re.createElement("section",{"aria-label":`${_} ${Z}`,tabIndex:-1},C.map((Q,ee)=>{var se;let[ve,Re]=Q.split("-");return re.createElement("ol",{key:Q,dir:x==="auto"?AT():x,tabIndex:-1,ref:J,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":ve,"data-x-position":Re,style:{"--front-toast-height":`${((se=S[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||YU,"--width":`${JU}px`,"--gap":`${y}px`,...f},onBlur:me=>{F.current&&!me.currentTarget.contains(me.relatedTarget)&&(F.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||F.current||(F.current=!0,O.current=me.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},N.filter(me=>!me.position&&ee===0||me.position===Q).map((me,te)=>{var pe,$;return re.createElement(r$,{key:me.id,icons:v,index:te,toast:me,defaultRichColors:c,duration:(pe=g==null?void 0:g.duration)!=null?pe:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:($=g==null?void 0:g.closeButton)!=null?$:i,interacting:M,position:Q,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Y,toasts:N.filter(K=>K.position==me.position),heights:S.filter(K=>K.position==me.position),setHeights:I,expandByDefault:s,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:E,cn:A})}))})):null};const i$=({...t})=>{const{theme:e="system"}=MU();return u.jsx(s$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var o$=KA.useId||(()=>{}),a$=0;function hs(t){const[e,n]=m.useState(o$());return Bt(()=>{t||n(r=>r??String(a$++))},[t]),t||(e?`radix-${e}`:"")}const l$=["top","right","bottom","left"],Ji=Math.min,Kn=Math.max,fp=Math.round,Fh=Math.floor,Zi=t=>({x:t,y:t}),c$={left:"right",right:"left",bottom:"top",top:"bottom"},u$={start:"end",end:"start"};function p0(t,e,n){return Kn(t,Ji(e,n))}function Ws(t,e){return typeof t=="function"?t(e):t}function Hs(t){return t.split("-")[0]}function tc(t){return t.split("-")[1]}function Mx(t){return t==="x"?"y":"x"}function jx(t){return t==="y"?"height":"width"}function eo(t){return["top","bottom"].includes(Hs(t))?"y":"x"}function Ox(t){return Mx(eo(t))}function d$(t,e,n){n===void 0&&(n=!1);const r=tc(t),s=Ox(t),i=jx(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=pp(o)),[o,pp(o)]}function h$(t){const e=pp(t);return[m0(t),e,m0(e)]}function m0(t){return t.replace(/start|end/g,e=>u$[e])}function f$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function p$(t,e,n,r){const s=tc(t);let i=f$(Hs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(m0)))),i}function pp(t){return t.replace(/left|right|bottom|top/g,e=>c$[e])}function m$(t){return{top:0,right:0,bottom:0,left:0,...t}}function BN(t){return typeof t!="number"?m$(t):{top:t,right:t,bottom:t,left:t}}function mp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function PT(t,e,n){let{reference:r,floating:s}=t;const i=eo(e),o=Ox(e),a=jx(o),l=Hs(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(tc(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const g$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=PT(c,r,l),p=r,g={},x=0;for(let y=0;y<a.length;y++){const{name:b,fn:v}=a[y],{x:_,y:E,data:A,reset:N}=await v({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,f=E??f,g={...g,[b]:{...g[b],...A}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:f}=PT(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function Hu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ws(e,t),x=BN(g),b=a[p?f==="floating"?"reference":"floating":f],v=mp(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},N=mp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:E,strategy:l}):_);return{top:(v.top-N.top+x.top)/A.y,bottom:(N.bottom-v.bottom+x.bottom)/A.y,left:(v.left-N.left+x.left)/A.x,right:(N.right-v.right+x.right)/A.x}}const y$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ws(t,e)||{};if(c==null)return{};const f=BN(d),p={x:n,y:r},g=Ox(s),x=jx(g),y=await o.getDimensions(c),b=g==="y",v=b?"top":"left",_=b?"bottom":"right",E=b?"clientHeight":"clientWidth",A=i.reference[x]+i.reference[g]-p[g]-i.floating[x],N=p[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=j?j[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[E]||i.floating[x]);const S=A/2-N/2,I=C/2-y[x]/2-1,P=Ji(f[v],I),D=Ji(f[_],I),M=P,k=C-y[x]-D,z=C/2-y[x]/2+S,oe=p0(M,z,k),J=!l.arrow&&tc(s)!=null&&z!==oe&&i.reference[x]/2-(z<M?P:D)-y[x]/2<0,Z=J?z<M?z-M:z-k:0;return{[g]:p[g]+Z,data:{[g]:oe,centerOffset:z-oe-Z,...J&&{alignmentOffset:Z}},reset:J}}}),v$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=Ws(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Hs(s),_=eo(a),E=Hs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(E||!y?[pp(a)]:h$(a)),j=x!=="none";!p&&j&&N.push(...p$(a,y,x,A));const C=[a,...N],S=await Hu(e,b),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[v]),f){const z=d$(s,o,A);I.push(S[z[0]],S[z[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(z=>z<=0)){var D,M;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,oe=C[z];if(oe)return{data:{index:z,overflows:P},reset:{placement:oe}};let J=(M=P.filter(Z=>Z.overflows[0]<=0).sort((Z,O)=>Z.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!J)switch(g){case"bestFit":{var k;const Z=(k=P.filter(O=>{if(j){const F=eo(O.placement);return F===_||F==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((O,F)=>O[1]-F[1])[0])==null?void 0:k[0];Z&&(J=Z);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function RT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NT(t){return l$.some(e=>t[e]>=0)}const w$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ws(t,e);switch(r){case"referenceHidden":{const i=await Hu(e,{...s,elementContext:"reference"}),o=RT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NT(o)}}}case"escaped":{const i=await Hu(e,{...s,altBoundary:!0}),o=RT(i,n.floating);return{data:{escapedOffsets:o,escaped:NT(o)}}}default:return{}}}}};async function x$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Hs(n),a=tc(n),l=eo(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Ws(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const _$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await x$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},b$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:_}=b;return{x:v,y:_}}},...l}=Ws(t,e),c={x:n,y:r},d=await Hu(e,l),f=eo(Hs(s)),p=Mx(f);let g=c[p],x=c[f];if(i){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=g+d[b],E=g-d[v];g=p0(_,g,E)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=x+d[b],E=x-d[v];x=p0(_,x,E)}const y=a.fn({...e,[p]:g,[f]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},E$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ws(t,e),d={x:n,y:r},f=eo(s),p=Mx(f);let g=d[p],x=d[f];const y=Ws(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const E=p==="y"?"height":"width",A=i.reference[p]-i.floating[E]+b.mainAxis,N=i.reference[p]+i.reference[E]-b.mainAxis;g<A?g=A:g>N&&(g=N)}if(c){var v,_;const E=p==="y"?"width":"height",A=["top","left"].includes(Hs(s)),N=i.reference[f]-i.floating[E]+(A&&((v=o.offset)==null?void 0:v[f])||0)+(A?0:b.crossAxis),j=i.reference[f]+i.reference[E]+(A?0:((_=o.offset)==null?void 0:_[f])||0)-(A?b.crossAxis:0);x<N?x=N:x>j&&(x=j)}return{[p]:g,[f]:x}}}},T$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ws(t,e),d=await Hu(e,c),f=Hs(s),p=tc(s),g=eo(s)==="y",{width:x,height:y}=i.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,b=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,E=x-d.left-d.right,A=Ji(y-d[b],_),N=Ji(x-d[v],E),j=!e.middlewareData.shift;let C=A,S=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),j&&!p){const P=Kn(d.left,0),D=Kn(d.right,0),M=Kn(d.top,0),k=Kn(d.bottom,0);g?S=x-2*(P!==0||D!==0?P+D:Kn(d.left,d.right)):C=y-2*(M!==0||k!==0?M+k:Kn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return x!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Am(){return typeof window<"u"}function nc(t){return zN(t)?(t.nodeName||"").toLowerCase():"#document"}function er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Es(t){var e;return(e=(zN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zN(t){return Am()?t instanceof Node||t instanceof er(t).Node:!1}function $r(t){return Am()?t instanceof Element||t instanceof er(t).Element:!1}function ws(t){return Am()?t instanceof HTMLElement||t instanceof er(t).HTMLElement:!1}function kT(t){return!Am()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof er(t).ShadowRoot}function Rd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Br(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function S$(t){return["table","td","th"].includes(nc(t))}function Pm(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Lx(t){const e=Vx(),n=$r(t)?Br(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C$(t){let e=to(t);for(;ws(e)&&!Ol(e);){if(Lx(e))return e;if(Pm(e))return null;e=to(e)}return null}function Vx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ol(t){return["html","body","#document"].includes(nc(t))}function Br(t){return er(t).getComputedStyle(t)}function Rm(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function to(t){if(nc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||Es(t);return kT(e)?e.host:e}function WN(t){const e=to(t);return Ol(e)?t.ownerDocument?t.ownerDocument.body:t.body:ws(e)&&Rd(e)?e:WN(e)}function qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=WN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=er(s);if(i){const a=g0(o);return e.concat(o,o.visualViewport||[],Rd(s)?s:[],a&&n?qu(a):[])}return e.concat(s,qu(s,[],n))}function g0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HN(t){const e=Br(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ws(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=fp(n)!==i||fp(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Fx(t){return $r(t)?t:t.contextElement}function hl(t){const e=Fx(t);if(!ws(e))return Zi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=HN(e);let o=(i?fp(n.width):n.width)/r,a=(i?fp(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const I$=Zi(0);function qN(t){const e=er(t);return!Vx()||!e.visualViewport?I$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function A$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==er(t)?!1:e}function sa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Fx(t);let o=Zi(1);e&&(r?$r(r)&&(o=hl(r)):o=hl(t));const a=A$(i,n,r)?qN(i):Zi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=er(i),g=r&&$r(r)?er(r):r;let x=p,y=g0(x);for(;y&&r&&g!==x;){const b=hl(y),v=y.getBoundingClientRect(),_=Br(y),E=v.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,A=v.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,f*=b.y,l+=E,c+=A,x=er(y),y=g0(x)}}return mp({width:d,height:f,x:l,y:c})}function P$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Es(r),a=e?Pm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Zi(1);const d=Zi(0),f=ws(r);if((f||!f&&!i)&&((nc(r)!=="body"||Rd(o))&&(l=Rm(r)),ws(r))){const p=sa(r);c=hl(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function R$(t){return Array.from(t.getClientRects())}function y0(t,e){const n=Rm(t).scrollLeft;return e?e.left+n:sa(Es(t)).left+n}function N$(t){const e=Es(t),n=Rm(t),r=t.ownerDocument.body,s=Kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+y0(t);const a=-n.scrollTop;return Br(r).direction==="rtl"&&(o+=Kn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function k$(t,e){const n=er(t),r=Es(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Vx();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function D$(t,e){const n=sa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ws(t)?hl(t):Zi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function DT(t,e,n){let r;if(e==="viewport")r=k$(t,n);else if(e==="document")r=N$(Es(t));else if($r(e))r=D$(e,n);else{const s=qN(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return mp(r)}function GN(t,e){const n=to(t);return n===e||!$r(n)||Ol(n)?!1:Br(n).position==="fixed"||GN(n,e)}function M$(t,e){const n=e.get(t);if(n)return n;let r=qu(t,[],!1).filter(a=>$r(a)&&nc(a)!=="body"),s=null;const i=Br(t).position==="fixed";let o=i?to(t):t;for(;$r(o)&&!Ol(o);){const a=Br(o),l=Lx(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Rd(o)&&!l&&GN(t,o))?r=r.filter(d=>d!==o):s=a,o=to(o)}return e.set(t,r),r}function j$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Pm(e)?[]:M$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=DT(e,d,s);return c.top=Kn(f.top,c.top),c.right=Ji(f.right,c.right),c.bottom=Ji(f.bottom,c.bottom),c.left=Kn(f.left,c.left),c},DT(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function O$(t){const{width:e,height:n}=HN(t);return{width:e,height:n}}function L$(t,e,n){const r=ws(e),s=Es(e),i=n==="fixed",o=sa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Zi(0);if(r||!r&&!i)if((nc(e)!=="body"||Rd(s))&&(a=Rm(e)),r){const g=sa(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=y0(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-y0(s,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function Sy(t){return Br(t).position==="static"}function MT(t,e){if(!ws(t)||Br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Es(t)===n&&(n=n.ownerDocument.body),n}function KN(t,e){const n=er(t);if(Pm(t))return n;if(!ws(t)){let s=to(t);for(;s&&!Ol(s);){if($r(s)&&!Sy(s))return s;s=to(s)}return n}let r=MT(t,e);for(;r&&S$(r)&&Sy(r);)r=MT(r,e);return r&&Ol(r)&&Sy(r)&&!Lx(r)?n:r||C$(t)||n}const V$=async function(t){const e=this.getOffsetParent||KN,n=this.getDimensions,r=await n(t.floating);return{reference:L$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function F$(t){return Br(t).direction==="rtl"}const U$={convertOffsetParentRelativeRectToViewportRelativeRect:P$,getDocumentElement:Es,getClippingRect:j$,getOffsetParent:KN,getElementRects:V$,getClientRects:R$,getDimensions:O$,getScale:hl,isElement:$r,isRTL:F$};function $$(t,e){let n=null,r;const s=Es(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=Fh(d),x=Fh(s.clientWidth-(c+f)),y=Fh(s.clientHeight-(d+p)),b=Fh(c),_={rootMargin:-g+"px "+-x+"px "+-y+"px "+-b+"px",threshold:Kn(0,Ji(1,l))||1};let E=!0;function A(N){const j=N[0].intersectionRatio;if(j!==l){if(!E)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(A,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,_)}n.observe(t)}return o(!0),i}function B$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Fx(t),d=s||i?[...c?qu(c):[],...qu(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&a?$$(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?sa(t):null;l&&b();function b(){const v=sa(t);y&&(v.x!==y.x||v.y!==y.y||v.width!==y.width||v.height!==y.height)&&n(),y=v,x=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const z$=_$,W$=b$,H$=v$,q$=T$,G$=w$,jT=y$,K$=E$,Q$=(t,e,n)=>{const r=new Map,s={platform:U$,...n},i={...s.platform,_c:r};return g$(t,e,{...s,platform:i})};var xf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function gp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!gp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function QN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function OT(t,e){const n=QN(t);return Math.round(e*n)/n}function Cy(t){const e=m.useRef(t);return xf(()=>{e.current=t}),e}function Y$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);gp(p,r)||g(r);const[x,y]=m.useState(null),[b,v]=m.useState(null),_=m.useCallback(O=>{O!==j.current&&(j.current=O,y(O))},[]),E=m.useCallback(O=>{O!==C.current&&(C.current=O,v(O))},[]),A=i||x,N=o||b,j=m.useRef(null),C=m.useRef(null),S=m.useRef(d),I=l!=null,P=Cy(l),D=Cy(s),M=Cy(c),k=m.useCallback(()=>{if(!j.current||!C.current)return;const O={placement:e,strategy:n,middleware:p};D.current&&(O.platform=D.current),Q$(j.current,C.current,O).then(F=>{const Y={...F,isPositioned:M.current!==!1};z.current&&!gp(S.current,Y)&&(S.current=Y,ya.flushSync(()=>{f(Y)}))})},[p,e,n,D,M]);xf(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);const z=m.useRef(!1);xf(()=>(z.current=!0,()=>{z.current=!1}),[]),xf(()=>{if(A&&(j.current=A),N&&(C.current=N),A&&N){if(P.current)return P.current(A,N,k);k()}},[A,N,k,P,I]);const oe=m.useMemo(()=>({reference:j,floating:C,setReference:_,setFloating:E}),[_,E]),J=m.useMemo(()=>({reference:A,floating:N}),[A,N]),Z=m.useMemo(()=>{const O={position:n,left:0,top:0};if(!J.floating)return O;const F=OT(J.floating,d.x),Y=OT(J.floating,d.y);return a?{...O,transform:"translate("+F+"px, "+Y+"px)",...QN(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Y}},[n,a,J.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:k,refs:oe,elements:J,floatingStyles:Z}),[d,k,oe,J,Z])}const X$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jT({element:r.current,padding:s}).fn(n):{}:r?jT({element:r,padding:s}).fn(n):{}}}},J$=(t,e)=>({...z$(t),options:[t,e]}),Z$=(t,e)=>({...W$(t),options:[t,e]}),e9=(t,e)=>({...K$(t),options:[t,e]}),t9=(t,e)=>({...H$(t),options:[t,e]}),n9=(t,e)=>({...q$(t),options:[t,e]}),r9=(t,e)=>({...G$(t),options:[t,e]}),s9=(t,e)=>({...X$(t),options:[t,e]});var i9="Arrow",YN=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(Te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});YN.displayName=i9;var o9=YN;function a9(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...x}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,l9(s,...e)]}function l9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function c9(t){const[e,n]=m.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ux="Popper",[XN,rc]=a9(Ux),[u9,JN]=XN(Ux),ZN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return u.jsx(u9,{scope:e,anchor:r,onAnchorChange:s,children:n})};ZN.displayName=Ux;var ek="PopperAnchor",tk=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=JN(ek,n),o=m.useRef(null),a=$e(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Te.div,{...s,ref:a})});tk.displayName=ek;var $x="PopperContent",[d9,h9]=XN($x),nk=m.forwardRef((t,e)=>{var te,pe,$,K,G,B;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,b=JN($x,n),[v,_]=m.useState(null),E=$e(e,de=>_(de)),[A,N]=m.useState(null),j=c9(A),C=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,I=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,k={padding:P,boundary:D.filter(p9),altBoundary:M},{refs:z,floatingStyles:oe,placement:J,isPositioned:Z,middlewareData:O}=Y$({strategy:"fixed",placement:I,whileElementsMounted:(...de)=>B$(...de,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[J$({mainAxis:s+S,alignmentAxis:o}),l&&Z$({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?e9():void 0,...k}),l&&t9({...k}),n9({...k,apply:({elements:de,rects:ge,availableWidth:De,availableHeight:L})=>{const{width:le,height:Ae}=ge.reference,fe=de.floating.style;fe.setProperty("--radix-popper-available-width",`${De}px`),fe.setProperty("--radix-popper-available-height",`${L}px`),fe.setProperty("--radix-popper-anchor-width",`${le}px`),fe.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),A&&s9({element:A,padding:a}),m9({arrowWidth:C,arrowHeight:S}),p&&r9({strategy:"referenceHidden",...k})]}),[F,Y]=ik(J),Q=Jt(x);Bt(()=>{Z&&(Q==null||Q())},[Z,Q]);const ee=(te=O.arrow)==null?void 0:te.x,se=(pe=O.arrow)==null?void 0:pe.y,ve=(($=O.arrow)==null?void 0:$.centerOffset)!==0,[Re,me]=m.useState();return Bt(()=>{v&&me(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:Z?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(K=O.transformOrigin)==null?void 0:K.x,(G=O.transformOrigin)==null?void 0:G.y].join(" "),...((B=O.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(d9,{scope:n,placedSide:F,onArrowChange:N,arrowX:ee,arrowY:se,shouldHideArrow:ve,children:u.jsx(Te.div,{"data-side":F,"data-align":Y,...y,ref:E,style:{...y.style,animation:Z?void 0:"none"}})})})});nk.displayName=$x;var rk="PopperArrow",f9={top:"bottom",right:"left",bottom:"top",left:"right"},sk=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=h9(rk,r),o=f9[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(o9,{...s,ref:n,style:{...s.style,display:"block"}})})});sk.displayName=rk;function p9(t){return t!==null}var m9=t=>({name:"transformOrigin",options:t,fn(e){var b,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=ik(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let x="",y="";return c==="bottom"?(x=o?f:`${p}px`,y=`${-l}px`):c==="top"?(x=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x,y}}}});function ik(t){const[e,n="center"]=t.split("-");return[e,n]}var ok=ZN,Bx=tk,zx=nk,Wx=sk,[Nm,Uoe]=ei("Tooltip",[rc]),Hx=rc(),ak="TooltipProvider",g9=700,LT="tooltip.open",[y9,lk]=Nm(ak),ck=t=>{const{__scopeTooltip:e,delayDuration:n=g9,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(y9,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};ck.displayName=ak;var uk="Tooltip",[$oe,km]=Nm(uk),v0="TooltipTrigger",v9=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=km(v0,n),i=lk(v0,n),o=Hx(n),a=m.useRef(null),l=$e(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Bx,{asChild:!0,...o,children:u.jsx(Te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ie(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});v9.displayName=v0;var w9="TooltipPortal",[Boe,x9]=Nm(w9,{forceMount:void 0}),Ll="TooltipContent",dk=m.forwardRef((t,e)=>{const n=x9(Ll,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=km(Ll,t.__scopeTooltip);return u.jsx(Hr,{present:r||o.open,children:o.disableHoverableContent?u.jsx(hk,{side:s,...i,ref:e}):u.jsx(_9,{side:s,...i,ref:e})})}),_9=m.forwardRef((t,e)=>{const n=km(Ll,t.__scopeTooltip),r=lk(Ll,t.__scopeTooltip),s=m.useRef(null),i=$e(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((x,y)=>{const b=x.currentTarget,v={x:x.clientX,y:x.clientY},_=S9(v,b.getBoundingClientRect()),E=C9(v,_),A=I9(y.getBoundingClientRect()),N=P9([...E,...A]);a(N),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const x=b=>g(b,d),y=b=>g(b,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[l,d,g,p]),m.useEffect(()=>{if(o){const x=y=>{const b=y.target,v={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),E=!A9(v,o);_?p():E&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,o,c,p]),u.jsx(hk,{...t,ref:i})}),[b9,E9]=Nm(uk,{isInside:!1}),hk=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=km(Ll,n),c=Hx(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(LT,d),()=>document.removeEventListener(LT,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Zl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(zx,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Ix,{children:r}),u.jsx(b9,{scope:n,isInside:!0,children:u.jsx(i6,{id:l.contentId,role:"tooltip",children:s||r})})]})})});dk.displayName=Ll;var fk="TooltipArrow",T9=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hx(n);return E9(fk,n).isInside?null:u.jsx(Wx,{...s,...r,ref:e})});T9.displayName=fk;function S9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function C9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function I9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function A9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function P9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),R9(e)}function R9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var N9=ck,pk=dk;const k9=N9,D9=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(pk,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));D9.displayName=pk.displayName;var Dm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mm=typeof window>"u"||"Deno"in globalThis;function Nr(){}function M9(t,e){return typeof t=="function"?t(e):t}function j9(t){return typeof t=="number"&&t>=0&&t!==1/0}function O9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function VT(t,e){return typeof t=="function"?t(e):t}function L9(t,e){return typeof t=="function"?t(e):t}function FT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==qx(o,e.options))return!1}else if(!Ku(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function UT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gu(e.options.mutationKey)!==Gu(i))return!1}else if(!Ku(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function qx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gu)(t)}function Gu(t){return JSON.stringify(t,(e,n)=>w0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ku(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ku(t[n],e[n])):!1}function mk(t,e){if(t===e)return t;const n=$T(t)&&$T(e);if(n||w0(t)&&w0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=mk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function $T(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function w0(t){if(!BT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!BT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function BT(t){return Object.prototype.toString.call(t)==="[object Object]"}function V9(t){return new Promise(e=>{setTimeout(e,t)})}function F9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mk(t,e):e}function U9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Gx=Symbol();function gk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Gx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Bo,Ci,xl,PA,B9=(PA=class extends Dm{constructor(){super();qe(this,Bo);qe(this,Ci);qe(this,xl);Ne(this,xl,e=>{if(!Mm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Ci)||this.setEventListener(q(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ci))==null||e.call(this),Ne(this,Ci,void 0))}setEventListener(e){var n;Ne(this,xl,e),(n=q(this,Ci))==null||n.call(this),Ne(this,Ci,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,Bo)!==e&&(Ne(this,Bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,Bo)=="boolean"?q(this,Bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bo=new WeakMap,Ci=new WeakMap,xl=new WeakMap,PA),yk=new B9,_l,Ii,bl,RA,z9=(RA=class extends Dm{constructor(){super();qe(this,_l,!0);qe(this,Ii);qe(this,bl);Ne(this,bl,e=>{if(!Mm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Ii)||this.setEventListener(q(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ii))==null||e.call(this),Ne(this,Ii,void 0))}setEventListener(e){var n;Ne(this,bl,e),(n=q(this,Ii))==null||n.call(this),Ne(this,Ii,e(this.setOnline.bind(this)))}setOnline(e){q(this,_l)!==e&&(Ne(this,_l,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,_l)}},_l=new WeakMap,Ii=new WeakMap,bl=new WeakMap,RA),yp=new z9;function W9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function H9(t){return Math.min(1e3*2**t,3e4)}function vk(t){return(t??"online")==="online"?yp.isOnline():!0}var wk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Iy(t){return t instanceof wk}function xk(t){let e=!1,n=0,r=!1,s;const i=W9(),o=y=>{var b;r||(p(new wk(y)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>yk.isFocused()&&(t.networkMode==="always"||yp.isOnline())&&t.canRun(),d=()=>vk(t.networkMode)&&t.canRun(),f=y=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var b;s=v=>{(r||c())&&y(v)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var j;if(r)return;const _=t.retry??(Mm?0:3),E=t.retryDelay??H9,A=typeof E=="function"?E(n,v):E,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!N){p(v);return}n++,(j=t.onFail)==null||j.call(t,n,v),V9(A).then(()=>c()?void 0:g()).then(()=>{e?p(v):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?x():g().then(x),i)}}function q9(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Sn=q9(),zo,NA,_k=(NA=class{constructor(){qe(this,zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j9(this.gcTime)&&Ne(this,zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mm?1/0:5*60*1e3))}clearGcTimeout(){q(this,zo)&&(clearTimeout(q(this,zo)),Ne(this,zo,void 0))}},zo=new WeakMap,NA),El,Tl,ur,ln,xd,Wo,kr,Ps,kA,G9=(kA=class extends _k{constructor(n){super();qe(this,kr);qe(this,El);qe(this,Tl);qe(this,ur);qe(this,ln);qe(this,xd);qe(this,Wo);Ne(this,Wo,!1),Ne(this,xd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ne(this,ur,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ne(this,El,Q9(this.options)),this.state=n.state??q(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=q(this,ln))==null?void 0:n.promise}setOptions(n){this.options={...q(this,xd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,ur).remove(this)}setData(n,r){const s=F9(this.state.data,n,this.options);return rn(this,kr,Ps).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){rn(this,kr,Ps).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=q(this,ln))==null?void 0:s.promise;return(i=q(this,ln))==null||i.cancel(n),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,El))}isActive(){return this.observers.some(n=>L9(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!O9(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,ln))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=q(this,ln))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),q(this,ur).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(q(this,ln)&&(q(this,Wo)?q(this,ln).cancel({revert:!0}):q(this,ln).cancelRetry()),this.scheduleGc()),q(this,ur).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rn(this,kr,Ps).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,ln))return q(this,ln).continueRetry(),q(this,ln).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ne(this,Wo,!0),s.signal)})},o=()=>{const p=gk(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Ne(this,Wo,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ne(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&rn(this,kr,Ps).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,x,y,b;Iy(p)&&p.silent||rn(this,kr,Ps).call(this,{type:"error",error:p}),Iy(p)||((x=(g=q(this,ur).config).onError)==null||x.call(g,p,this),(b=(y=q(this,ur).config).onSettled)==null||b.call(y,this.state.data,p,this)),this.scheduleGc()};return Ne(this,ln,xk({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,x,y,b;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){l(v);return}(x=(g=q(this,ur).config).onSuccess)==null||x.call(g,p,this),(b=(y=q(this,ur).config).onSettled)==null||b.call(y,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{rn(this,kr,Ps).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{rn(this,kr,Ps).call(this,{type:"pause"})},onContinue:()=>{rn(this,kr,Ps).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),q(this,ln).start()}},El=new WeakMap,Tl=new WeakMap,ur=new WeakMap,ln=new WeakMap,xd=new WeakMap,Wo=new WeakMap,kr=new WeakSet,Ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...K9(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Iy(i)&&i.revert&&q(this,Tl)?{...q(this,Tl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Sn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),q(this,ur).notify({query:this,type:"updated",action:n})})},kA);function K9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ts,DA,Y9=(DA=class extends Dm{constructor(e={}){super();qe(this,ts);this.config=e,Ne(this,ts,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??qx(s,n);let o=this.get(i);return o||(o=new G9({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){q(this,ts).has(e.queryHash)||(q(this,ts).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,ts).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,ts).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,ts).get(e)}getAll(){return[...q(this,ts).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>FT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>FT(e,r)):n}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ts=new WeakMap,DA),ns,En,Ho,rs,fi,MA,X9=(MA=class extends _k{constructor(n){super();qe(this,rs);qe(this,ns);qe(this,En);qe(this,Ho);this.mutationId=n.mutationId,Ne(this,En,n.mutationCache),Ne(this,ns,[]),this.state=n.state||J9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){q(this,ns).includes(n)||(q(this,ns).push(n),this.clearGcTimeout(),q(this,En).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ne(this,ns,q(this,ns).filter(r=>r!==n)),this.scheduleGc(),q(this,En).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){q(this,ns).length||(this.state.status==="pending"?this.scheduleGc():q(this,En).remove(this))}continue(){var n;return((n=q(this,Ho))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,x,y,b,v,_,E,A,N,j,C,S;Ne(this,Ho,xk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{rn(this,rs,fi).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{rn(this,rs,fi).call(this,{type:"pause"})},onContinue:()=>{rn(this,rs,fi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,En).canRun(this)}));const r=this.state.status==="pending",s=!q(this,Ho).canStart();try{if(!r){rn(this,rs,fi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=q(this,En).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));P!==this.state.context&&rn(this,rs,fi).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const I=await q(this,Ho).start();return await((d=(c=q(this,En).config).onSuccess)==null?void 0:d.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((x=(g=q(this,En).config).onSettled)==null?void 0:x.call(g,I,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,I,null,n,this.state.context)),rn(this,rs,fi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((_=(v=q(this,En).config).onError)==null?void 0:_.call(v,I,n,this.state.context,this)),await((A=(E=this.options).onError)==null?void 0:A.call(E,I,n,this.state.context)),await((j=(N=q(this,En).config).onSettled)==null?void 0:j.call(N,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{rn(this,rs,fi).call(this,{type:"error",error:I})}}finally{q(this,En).runNext(this)}}},ns=new WeakMap,En=new WeakMap,Ho=new WeakMap,rs=new WeakSet,fi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Sn.batch(()=>{q(this,ns).forEach(s=>{s.onMutationUpdate(n)}),q(this,En).notify({mutation:this,type:"updated",action:n})})},MA);function J9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,_d,jA,Z9=(jA=class extends Dm{constructor(e={}){super();qe(this,Hn);qe(this,_d);this.config=e,Ne(this,Hn,new Map),Ne(this,_d,Date.now())}build(e,n,r){const s=new X9({mutationCache:this,mutationId:++vh(this,_d)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Uh(e),r=q(this,Hn).get(n)??[];r.push(e),q(this,Hn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Uh(e);if(q(this,Hn).has(n)){const s=(r=q(this,Hn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?q(this,Hn).delete(n):q(this,Hn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=q(this,Hn).get(Uh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=q(this,Hn).get(Uh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...q(this,Hn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>UT(n,r))}findAll(e={}){return this.getAll().filter(n=>UT(e,n))}notify(e){Sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Sn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Nr))))}},Hn=new WeakMap,_d=new WeakMap,jA);function Uh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function zT(t){return{onFetch:(e,n)=>{var d,f,p,g,x;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=gk(e.options,e.fetchOptions),_=async(E,A,N)=>{if(y)return Promise.reject();if(A==null&&E.pages.length)return Promise.resolve(E);const j={queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};b(j);const C=await v(j),{maxPages:S}=e.options,I=N?$9:U9;return{pages:I(E.pages,C,S),pageParams:I(E.pageParams,A,S)}};if(s&&i.length){const E=s==="backward",A=E?eB:WT,N={pages:i,pageParams:o},j=A(r,N);a=await _(N,j,E)}else{const E=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:WT(r,a);if(l>0&&A==null)break;a=await _(a,A),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function WT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eB(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vt,Ai,Pi,Sl,Cl,Ri,Il,Al,OA,tB=(OA=class{constructor(t={}){qe(this,vt);qe(this,Ai);qe(this,Pi);qe(this,Sl);qe(this,Cl);qe(this,Ri);qe(this,Il);qe(this,Al);Ne(this,vt,t.queryCache||new Y9),Ne(this,Ai,t.mutationCache||new Z9),Ne(this,Pi,t.defaultOptions||{}),Ne(this,Sl,new Map),Ne(this,Cl,new Map),Ne(this,Ri,0)}mount(){vh(this,Ri)._++,q(this,Ri)===1&&(Ne(this,Il,yk.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,vt).onFocus())})),Ne(this,Al,yp.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,vt).onOnline())})))}unmount(){var t,e;vh(this,Ri)._--,q(this,Ri)===0&&((t=q(this,Il))==null||t.call(this),Ne(this,Il,void 0),(e=q(this,Al))==null||e.call(this),Ne(this,Al,void 0))}isFetching(t){return q(this,vt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,vt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=q(this,vt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(VT(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return q(this,vt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,vt).get(r.queryHash),i=s==null?void 0:s.state.data,o=M9(e,i);if(o!==void 0)return q(this,vt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Sn.batch(()=>q(this,vt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,vt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,vt);Sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,vt),r={type:"active",...t};return Sn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Sn.batch(()=>q(this,vt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Nr).catch(Nr)}invalidateQueries(t={},e={}){return Sn.batch(()=>{if(q(this,vt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Sn.batch(()=>q(this,vt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Nr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,vt).build(this,e);return n.isStaleByTime(VT(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=zT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=zT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yp.isOnline()?q(this,Ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,vt)}getMutationCache(){return q(this,Ai)}getDefaultOptions(){return q(this,Pi)}setDefaultOptions(t){Ne(this,Pi,t)}setQueryDefaults(t,e){q(this,Sl).set(Gu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Sl).values()];let n={};return e.forEach(r=>{Ku(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){q(this,Cl).set(Gu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Cl).values()];let n={};return e.forEach(r=>{Ku(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Gx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,vt).clear(),q(this,Ai).clear()}},vt=new WeakMap,Ai=new WeakMap,Pi=new WeakMap,Sl=new WeakMap,Cl=new WeakMap,Ri=new WeakMap,Il=new WeakMap,Al=new WeakMap,OA),nB=m.createContext(void 0),rB=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(nB.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const HT="popstate";function sB(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=va(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),x0("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:vp(i))}function r(s,i){Kx(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return oB(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iB(){return Math.random().toString(36).substr(2,8)}function qT(t,e){return{usr:t.state,key:t.key,idx:e}}function x0(t,e,n,r){return n===void 0&&(n=null),Qu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?va(e):e,{state:n,key:e&&e.key||r||iB()})}function vp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oB(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Mi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Mi.Pop;let b=d(),v=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:v})}function p(b,v){a=Mi.Push;let _=x0(y.location,b,v);n&&n(_,b),c=d()+1;let E=qT(_,c),A=y.createHref(_);try{o.pushState(E,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(A)}i&&l&&l({action:a,location:y.location,delta:1})}function g(b,v){a=Mi.Replace;let _=x0(y.location,b,v);n&&n(_,b),c=d();let E=qT(_,c),A=y.createHref(_);o.replaceState(E,"",A),i&&l&&l({action:a,location:y.location,delta:0})}function x(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof b=="string"?b:vp(b);return _=_.replace(/ $/,"%20"),At(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(HT,f),l=b,()=>{s.removeEventListener(HT,f),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let v=x(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(b){return o.go(b)}};return y}var GT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GT||(GT={}));function aB(t,e,n){return n===void 0&&(n="/"),lB(t,e,n,!1)}function lB(t,e,n,r){let s=typeof e=="string"?va(e):e,i=Qx(s.pathname||"/",n);if(i==null)return null;let o=bk(t);cB(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=xB(i);a=vB(o[l],c,r)}return a}function bk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(At(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bk(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:gB(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ek(i.path))s(i,o,l)}),e}function Ek(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ek(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uB=/^:[\w-]+$/,dB=3,hB=2,fB=1,pB=10,mB=-2,KT=t=>t==="*";function gB(t,e){let n=t.split("/"),r=n.length;return n.some(KT)&&(r+=mB),e&&(r+=hB),n.filter(s=>!KT(s)).reduce((s,i)=>s+(uB.test(i)?dB:i===""?fB:pB),r)}function yB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vB(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=QT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=QT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Wi([i,f.pathname]),pathnameBase:TB(Wi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Wi([i,f.pathnameBase]))}return o}function QT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wB(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[f];return g&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _B(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?va(t):t;return{pathname:n?n.startsWith("/")?n:bB(n,e):e,search:SB(r),hash:CB(s)}}function bB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ay(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yx(t,e){let n=EB(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=va(t):(s=Qu({},t),At(!s.pathname||!s.pathname.includes("?"),Ay("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),Ay("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),Ay("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=_B(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Wi=t=>t.join("/").replace(/\/\/+/g,"/"),TB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tk=["post","put","patch","delete"];new Set(Tk);const AB=["get",...Tk];new Set(AB);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yu.apply(this,arguments)}const Jx=m.createContext(null),PB=m.createContext(null),po=m.createContext(null),jm=m.createContext(null),Ts=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Sk=m.createContext(null);function RB(t,e){let{relative:n}=e===void 0?{}:e;sc()||At(!1);let{basename:r,navigator:s}=m.useContext(po),{hash:i,pathname:o,search:a}=Ik(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function sc(){return m.useContext(jm)!=null}function wa(){return sc()||At(!1),m.useContext(jm).location}function Ck(t){m.useContext(po).static||m.useLayoutEffect(t)}function Nd(){let{isDataRoute:t}=m.useContext(Ts);return t?HB():NB()}function NB(){sc()||At(!1);let t=m.useContext(Jx),{basename:e,future:n,navigator:r}=m.useContext(po),{matches:s}=m.useContext(Ts),{pathname:i}=wa(),o=JSON.stringify(Yx(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return Ck(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Xx(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const kB=m.createContext(null);function DB(t){let e=m.useContext(Ts).outlet;return e&&m.createElement(kB.Provider,{value:t},e)}function Zx(){let{matches:t}=m.useContext(Ts),e=t[t.length-1];return e?e.params:{}}function Ik(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(po),{matches:s}=m.useContext(Ts),{pathname:i}=wa(),o=JSON.stringify(Yx(s,r.v7_relativeSplatPath));return m.useMemo(()=>Xx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function MB(t,e){return jB(t,e)}function jB(t,e,n,r){sc()||At(!1);let{navigator:s}=m.useContext(po),{matches:i}=m.useContext(Ts),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wa(),d;if(e){var f;let b=typeof e=="string"?va(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||At(!1),d=b}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=aB(t,{pathname:g}),y=UB(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Wi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Wi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?m.createElement(jm.Provider,{value:{location:Yu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mi.Pop}},y):y}function OB(){let t=WB(),e=IB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const LB=m.createElement(OB,null);class VB extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Ts.Provider,{value:this.props.routeContext},m.createElement(Sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FB(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Jx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ts.Provider,{value:e},r)}function UB(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||At(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,x=!1,y=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||LB,l&&(c<0&&p===0?(x=!0,b=null):c===p&&(x=!0,b=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),_=()=>{let E;return g?E=y:x?E=b:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,m.createElement(FB,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(VB,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var Ak=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ak||{}),wp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wp||{});function $B(t){let e=m.useContext(Jx);return e||At(!1),e}function BB(t){let e=m.useContext(PB);return e||At(!1),e}function zB(t){let e=m.useContext(Ts);return e||At(!1),e}function Pk(t){let e=zB(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function WB(){var t;let e=m.useContext(Sk),n=BB(wp.UseRouteError),r=Pk(wp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HB(){let{router:t}=$B(Ak.UseNavigateStable),e=Pk(wp.UseNavigateStable),n=m.useRef(!1);return Ck(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yu({fromRouteId:e},i)))},[t,e])}function _0(t){let{to:e,replace:n,state:r,relative:s}=t;sc()||At(!1);let{future:i,static:o}=m.useContext(po),{matches:a}=m.useContext(Ts),{pathname:l}=wa(),c=Nd(),d=Xx(e,Yx(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function qB(t){return DB(t.context)}function xn(t){At(!1)}function GB(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Mi.Pop,navigator:i,static:o=!1,future:a}=t;sc()&&At(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Yu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=va(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:x="default"}=r,y=m.useMemo(()=>{let b=Qx(d,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:x},navigationType:s}},[l,d,f,p,g,x,s]);return y==null?null:m.createElement(po.Provider,{value:c},m.createElement(jm.Provider,{children:n,value:y}))}function KB(t){let{children:e,location:n}=t;return MB(b0(e),n)}new Promise(()=>{});function b0(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,b0(r.props.children,i));return}r.type!==xn&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b0(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}function QB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function YB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XB(t,e){return t.button===0&&(!e||e==="_self")&&!YB(t)}const JB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZB="6";try{window.__reactRouterVersion=ZB}catch{}const ez="startTransition",YT=KA[ez];function tz(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=sB({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&YT?YT(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(GB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const nz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=QB(e,JB),{basename:g}=m.useContext(po),x,y=!1;if(typeof c=="string"&&rz.test(c)&&(x=c,nz))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=Qx(A.pathname,g);A.origin===E.origin&&N!=null?c=N+A.search+A.hash:y=!0}catch{}let b=RB(c,{relative:s}),v=sz(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function _(E){r&&r(E),E.defaultPrevented||v(E)}return m.createElement("a",E0({},p,{href:x||b,onClick:y||i?r:_,ref:n,target:l}))});var XT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XT||(XT={}));var JT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JT||(JT={}));function sz(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Nd(),c=wa(),d=Ik(t,{relative:o});return m.useCallback(f=>{if(XB(f,n)){f.preventDefault();let p=r!==void 0?r:vp(c)===vp(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const e_=Pd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Xi:"button";return u.jsx(o,{className:ae(e_({variant:e,size:n,className:t})),ref:i,...s})});Ie.displayName="Button";const ct=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow duration-300",t),...e}));ct.displayName="Card";const It=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));It.displayName="CardHeader";const _t=m.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));_t.displayName="CardTitle";const Kt=m.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));Kt.displayName="CardDescription";const bt=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));bt.displayName="CardContent";const iz=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));iz.displayName="CardFooter";const oz=()=>u.jsx(u.Fragment,{children:u.jsxs("section",{className:"container mx-auto px-4 py-20",children:[u.jsx("div",{className:"flex justify-center mb-8"}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-foreground mb-6 leading-tight",children:["مرحباً بك في ",u.jsx("span",{className:"text-primary",children:"ALPHA TEAM"})]}),u.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"منصة شاملة لمساعدة الطلاب في الوصول إلى المحاضرات والمواد الدراسية بسهولة ويسر. نهدف إلى توفير تجربة تعليمية متميزة ومنظمة لجميع المراحل الدراسية."}),u.jsx("div",{className:"mt-10",children:u.jsx(Ye,{to:"/lectures",children:u.jsxs(Ie,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8 md:px-10 py-3 md:py-4 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:["ابدأ التصفح",u.jsx(kx,{className:"mr-2 h-5 w-5"})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:[u.jsxs(ct,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[u.jsxs(It,{children:[u.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:u.jsx(Qn,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),u.jsx(_t,{className:"text-lg md:text-xl font-semibold text-foreground",children:"محاضرات منظمة"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-sm md:text-base text-muted-foreground",children:"جميع المحاضرات مرتبة حسب المراحل والمواد لسهولة الوصول والمتابعة"})})]}),u.jsxs(ct,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[u.jsxs(It,{children:[u.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:u.jsx(Di,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),u.jsx(_t,{className:"text-lg md:text-xl font-semibold text-foreground",children:"فريق متخصص"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-sm md:text-base text-muted-foreground",children:"فريق Alpha Team يعمل بجد لتوفير أفضل المواد التعليمية والدعم للطلاب"})})]}),u.jsxs(ct,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[u.jsxs(It,{children:[u.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:u.jsx(W6,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),u.jsx(_t,{className:"text-lg md:text-xl font-semibold text-foreground",children:"جودة عالية"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-sm md:text-base text-muted-foreground",children:"محتوى عالي الجودة ومحدث باستمرار لضمان أفضل تجربة تعليمية"})})]})]}),u.jsxs(ct,{className:"bg-card shadow-md",children:[u.jsx(It,{className:"text-center",children:u.jsx(_t,{className:"text-3xl font-bold text-foreground",children:"من نحن؟"})}),u.jsx(bt,{className:"text-center",children:u.jsx("p",{className:"text-lg text-muted-foreground max-w-4xl mx-auto leading-relaxed",children:"فريق Alpha Team هو مجموعة من الطلاب والمختصين الذين يهدفون إلى تسهيل العملية التعليمية وتوفير الموارد اللازمة لنجاح الطلاب في مسيرتهم الأكاديمية. نحن نؤمن بأن التعليم يجب أن يكون متاحاً ومنظماً وسهل الوصول إليه، لذلك أنشأنا هذه المنصة لتكون بيتاً رقمياً لجميع المحاضرات والمواد الدراسية المطلوبة في المراحل المختلفة."})})]})]})}),az=()=>{};var T0={},ZT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Nk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new cz;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uz=function(t){const e=Rk(t);return Nk.encodeByteArray(e,!0)},xp=function(t){return uz(t).replace(/\./g,"")},kk=function(t){try{return Nk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof T0<"u")return T0;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=()=>dz().__FIREBASE_DEFAULTS__,fz=()=>{if(typeof process>"u"||typeof ZT>"u")return;const t=ZT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kk(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return az()||hz()||fz()||pz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mz=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mk=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config},jk=t=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return t.endsWith(".cloudworkstations.dev")}async function Ok(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xp(JSON.stringify(n)),xp(JSON.stringify(o)),""].join(".")}const pu={};function vz(){const t={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?t.emulator.push(e):t.prod.push(e);return t}function wz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let eS=!1;function Lk(t,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||pu[t]===e||pu[t]||eS)return;pu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=vz().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{eS=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=wz(r),g=n("text"),x=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),d(b,y);const A=c();l(_,v),E.append(_,x,b,A),document.body.appendChild(E)}i?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function _z(){var t;const e=(t=Om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(T0.process)==="[object process]"}catch{return!1}}function bz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Vk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ez(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tz(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Sz(){return!_z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fk(){try{return typeof indexedDB=="object"}catch{return!1}}function Uk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Cz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Iz,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Az(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qr(s,a,r)}}function Az(t,e){return t.replace(Pz,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Pz=/\{\$([^}]+)}/g;function Rz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(tS(i)&&tS(o)){if(!xs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function tS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Nz(t,e){const n=new kz(t,e);return n.subscribe.bind(n)}class kz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dz(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Py),s.error===void 0&&(s.error=Py),s.complete===void 0&&(s.complete=Py);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Py(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=1e3,jz=2,Oz=4*60*60*1e3,Lz=.5;function nS(t,e=Mz,n=jz){const r=e*Math.pow(n,t),s=Math.round(Lz*r*(Math.random()-.5)*2);return Math.min(Oz,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Uz(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fz(t){return t===Io?void 0:t}function Uz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const Bz={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},zz=je.INFO,Wz={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Hz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Wz[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=zz,this._logHandler=Hz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const qz=(t,e)=>e.some(n=>t instanceof n);let rS,sS;function Gz(){return rS||(rS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kz(){return sS||(sS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $k=new WeakMap,S0=new WeakMap,Bk=new WeakMap,Ry=new WeakMap,t_=new WeakMap;function Qz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$k.set(n,t)}).catch(()=>{}),t_.set(e,t),e}function Yz(t){if(S0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});S0.set(t,e)}let C0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return S0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xz(t){C0=t(C0)}function Jz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ny(this),e,...n);return Bk.set(r,e.sort?e.sort():[e]),Hi(r)}:Kz().includes(t)?function(...e){return t.apply(Ny(this),e),Hi($k.get(this))}:function(...e){return Hi(t.apply(Ny(this),e))}}function Zz(t){return typeof t=="function"?Jz(t):(t instanceof IDBTransaction&&Yz(t),qz(t,Gz())?new Proxy(t,C0):t)}function Hi(t){if(t instanceof IDBRequest)return Qz(t);if(Ry.has(t))return Ry.get(t);const e=Zz(t);return e!==t&&(Ry.set(t,e),t_.set(e,t)),e}const Ny=t=>t_.get(t);function zk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e8=["get","getKey","getAll","getAllKeys","count"],t8=["put","add","delete","clear"],ky=new Map;function iS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ky.get(e))return ky.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=t8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||e8.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ky.set(e,i),i}Xz(t=>({...t,get:(e,n,r)=>iS(e,n)||t.get(e,n,r),has:(e,n)=>!!iS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I0="@firebase/app",oS="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Lm("@firebase/app"),s8="@firebase/app-compat",i8="@firebase/analytics-compat",o8="@firebase/analytics",a8="@firebase/app-check-compat",l8="@firebase/app-check",c8="@firebase/auth",u8="@firebase/auth-compat",d8="@firebase/database",h8="@firebase/data-connect",f8="@firebase/database-compat",p8="@firebase/functions",m8="@firebase/functions-compat",g8="@firebase/installations",y8="@firebase/installations-compat",v8="@firebase/messaging",w8="@firebase/messaging-compat",x8="@firebase/performance",_8="@firebase/performance-compat",b8="@firebase/remote-config",E8="@firebase/remote-config-compat",T8="@firebase/storage",S8="@firebase/storage-compat",C8="@firebase/firestore",I8="@firebase/ai",A8="@firebase/firestore-compat",P8="firebase",R8="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="[DEFAULT]",N8={[I0]:"fire-core",[s8]:"fire-core-compat",[o8]:"fire-analytics",[i8]:"fire-analytics-compat",[l8]:"fire-app-check",[a8]:"fire-app-check-compat",[c8]:"fire-auth",[u8]:"fire-auth-compat",[d8]:"fire-rtdb",[h8]:"fire-data-connect",[f8]:"fire-rtdb-compat",[p8]:"fire-fn",[m8]:"fire-fn-compat",[g8]:"fire-iid",[y8]:"fire-iid-compat",[v8]:"fire-fcm",[w8]:"fire-fcm-compat",[x8]:"fire-perf",[_8]:"fire-perf-compat",[b8]:"fire-rc",[E8]:"fire-rc-compat",[T8]:"fire-gcs",[S8]:"fire-gcs-compat",[C8]:"fire-fst",[A8]:"fire-fst-compat",[I8]:"fire-vertex","fire-js":"fire-js",[P8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Map,k8=new Map,P0=new Map;function aS(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(P0.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,t);for(const n of _p.values())aS(n,t);for(const n of k8.values())aS(n,t);return!0}function _a(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new xa("app","Firebase",D8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=R8;function Wk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:A0,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(n||(n=Mk()),!n)throw qi.create("no-options");const i=_p.get(s);if(i){if(xs(n,i.options)&&xs(r,i.config))return i;throw qi.create("duplicate-app",{appName:s})}const o=new $z(s);for(const l of P0.values())o.addComponent(l);const a=new M8(n,r,o);return _p.set(s,a),a}function n_(t=A0){const e=_p.get(t);if(!e&&t===A0&&Mk())return Wk();if(!e)throw qi.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let s=(r=N8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}_s(new zr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="firebase-heartbeat-database",O8=1,Xu="firebase-heartbeat-store";let Dy=null;function Hk(){return Dy||(Dy=zk(j8,O8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),Dy}async function L8(t){try{const n=(await Hk()).transaction(Xu),r=await n.objectStore(Xu).get(qk(t));return await n.done,r}catch(e){if(e instanceof qr)qs.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function lS(t,e){try{const r=(await Hk()).transaction(Xu,"readwrite");await r.objectStore(Xu).put(e,qk(t)),await r.done}catch(n){if(n instanceof qr)qs.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function qk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=1024,F8=30;class U8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>F8){const o=z8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cS(),{heartbeatsToSend:r,unsentEntries:s}=$8(this._heartbeatsCache.heartbeats),i=xp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qs.warn(n),""}}}function cS(){return new Date().toISOString().substring(0,10)}function $8(t,e=V8){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),uS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),uS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fk()?Uk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return lS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function uS(t){return xp(JSON.stringify({version:2,heartbeats:t})).length}function z8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){_s(new zr("platform-logger",e=>new n8(e),"PRIVATE")),_s(new zr("heartbeat",e=>new U8(e),"PRIVATE")),gr(I0,oS,t),gr(I0,oS,"esm2017"),gr("fire-js","")}W8("");var H8="firebase",q8="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(H8,q8,"app");const Gk="@firebase/installations",r_="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=1e4,Qk=`w:${r_}`,Yk="FIS_v2",G8="https://firebaseinstallations.googleapis.com/v1",K8=60*60*1e3,Q8="installations",Y8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new xa(Q8,Y8,X8);function Xk(t){return t instanceof qr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk({projectId:t}){return`${G8}/projects/${t}/installations`}function Zk(t){return{token:t.token,requestStatus:2,expiresIn:Z8(t.expiresIn),creationTime:Date.now()}}async function e2(t,e){const r=(await e.json()).error;return ia.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function t2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J8(t,{refreshToken:e}){const n=t2(t);return n.append("Authorization",e7(e)),n}async function n2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Z8(t){return Number(t.replace("s","000"))}function e7(t){return`${Yk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Jk(t),s=t2(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Yk,appId:t.appId,sdkVersion:Qk},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await n2(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Zk(c.authToken)}}else throw await e2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^[cdef][\w-]{21}$/,R0="";function s7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=i7(t);return r7.test(n)?n:R0}catch{return R0}}function i7(t){return n7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Map;function i2(t,e){const n=Vm(t);o2(n,e),o7(n,e)}function o2(t,e){const n=s2.get(t);if(n)for(const r of n)r(e)}function o7(t,e){const n=a7();n&&n.postMessage({key:t,fid:e}),l7()}let Oo=null;function a7(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=t=>{o2(t.data.key,t.data.fid)}),Oo}function l7(){s2.size===0&&Oo&&(Oo.close(),Oo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="firebase-installations-database",u7=1,oa="firebase-installations-store";let My=null;function s_(){return My||(My=zk(c7,u7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}})),My}async function bp(t,e){const n=Vm(t),s=(await s_()).transaction(oa,"readwrite"),i=s.objectStore(oa),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&i2(t,e.fid),e}async function a2(t){const e=Vm(t),r=(await s_()).transaction(oa,"readwrite");await r.objectStore(oa).delete(e),await r.done}async function Fm(t,e){const n=Vm(t),s=(await s_()).transaction(oa,"readwrite"),i=s.objectStore(oa),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&i2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(t){let e;const n=await Fm(t.appConfig,r=>{const s=d7(r),i=h7(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===R0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function d7(t){const e=t||{fid:s7(),registrationStatus:0};return l2(e)}function h7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=f7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p7(t)}:{installationEntry:e}}async function f7(t,e){try{const n=await t7(t,e);return bp(t.appConfig,n)}catch(n){throw Xk(n)&&n.customData.serverCode===409?await a2(t.appConfig):await bp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p7(t){let e=await dS(t.appConfig);for(;e.registrationStatus===1;)await r2(100),e=await dS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await i_(t);return r||n}return e}function dS(t){return Fm(t,e=>{if(!e)throw ia.create("installation-not-found");return l2(e)})}function l2(t){return m7(t)?{fid:t.fid,registrationStatus:0}:t}function m7(t){return t.registrationStatus===1&&t.registrationTime+Kk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7({appConfig:t,heartbeatServiceProvider:e},n){const r=y7(t,n),s=J8(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Qk,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await n2(()=>fetch(r,a));if(l.ok){const c=await l.json();return Zk(c)}else throw await e2("Generate Auth Token",l)}function y7(t,{fid:e}){return`${Jk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(t,e=!1){let n;const r=await Fm(t.appConfig,i=>{if(!c2(i))throw ia.create("not-registered");const o=i.authToken;if(!e&&x7(o))return i;if(o.requestStatus===1)return n=v7(t,e),i;{if(!navigator.onLine)throw ia.create("app-offline");const a=b7(i);return n=w7(t,a),a}});return n?await n:r.authToken}async function v7(t,e){let n=await hS(t.appConfig);for(;n.authToken.requestStatus===1;)await r2(100),n=await hS(t.appConfig);const r=n.authToken;return r.requestStatus===0?o_(t,e):r}function hS(t){return Fm(t,e=>{if(!c2(e))throw ia.create("not-registered");const n=e.authToken;return E7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function w7(t,e){try{const n=await g7(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bp(t.appConfig,r),n}catch(n){if(Xk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await a2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bp(t.appConfig,r)}throw n}}function c2(t){return t!==void 0&&t.registrationStatus===2}function x7(t){return t.requestStatus===2&&!_7(t)}function _7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+K8}function b7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E7(t){return t.requestStatus===1&&t.requestTime+Kk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t){const e=t,{installationEntry:n,registrationPromise:r}=await i_(e);return r?r.catch(console.error):o_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e=!1){const n=t;return await C7(n),(await o_(n,e)).token}async function C7(t){const{registrationPromise:e}=await i_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){if(!t||!t.options)throw jy("App Configuration");if(!t.name)throw jy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jy(t){return ia.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="installations",A7="installations-internal",P7=t=>{const e=t.getProvider("app").getImmediate(),n=I7(e),r=_a(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},R7=t=>{const e=t.getProvider("app").getImmediate(),n=_a(e,u2).getImmediate();return{getId:()=>T7(n),getToken:s=>S7(n,s)}};function N7(){_s(new zr(u2,P7,"PUBLIC")),_s(new zr(A7,R7,"PRIVATE"))}N7();gr(Gk,r_);gr(Gk,r_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="analytics",k7="firebase_id",D7="origin",M7=60*1e3,j7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Lm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tr=new xa("analytics","Analytics",O7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t){if(!t.startsWith(a_)){const e=tr.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function d2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function V7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function F7(t,e){const n=V7("firebase-js-sdk-policy",{createScriptURL:L7}),r=document.createElement("script"),s=`${a_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function U7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $7(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await d2(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){$n.error(a)}t("config",s,i)}async function B7(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await d2(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){$n.error(i)}}function z7(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await B7(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await $7(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){$n.error(a)}}return s}function W7(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=z7(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function H7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(a_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=30,G7=1e3;class K7{constructor(e={},n=G7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const h2=new K7;function Q7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Y7(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:Q7(r)},i=j7.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw tr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function X7(t,e=h2,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw tr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw tr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new eW;return setTimeout(async()=>{a.abort()},M7),f2({appId:r,apiKey:s,measurementId:i},o,a,e)}async function f2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=h2){var i;const{appId:o,measurementId:a}=t;try{await J7(r,e)}catch(l){if(a)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Y7(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Z7(c)){if(s.deleteThrottleMetadata(o),a)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?nS(n,s.intervalMillis,q7):nS(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),$n.debug(`Calling attemptFetch again in ${d} millis`),f2(t,f,r,s)}}function J7(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(tr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Z7(t){if(!(t instanceof qr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class eW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tW(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nW(){if(Fk())try{await Uk()}catch(t){return $n.warn(tr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $n.warn(tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rW(t,e,n,r,s,i,o){var a;const l=X7(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>$n.error(g)),e.push(l);const c=nW().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);H7(i)||F7(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[D7]="firebase",p.update=!0,f!=null&&(p[k7]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e){this.app=e}_delete(){return delete mu[this.app.options.appId],Promise.resolve()}}let mu={},fS=[];const pS={};let Oy="dataLayer",iW="gtag",mS,p2,gS=!1;function oW(){const t=[];if(Vk()&&t.push("This is a browser extension environment."),Cz()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=tr.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function aW(t,e,n){oW();const r=t.options.appId;if(!r)throw tr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tr.create("no-api-key");if(mu[r]!=null)throw tr.create("already-exists",{id:r});if(!gS){U7(Oy);const{wrappedGtag:i,gtagCore:o}=W7(mu,fS,pS,Oy,iW);p2=i,mS=o,gS=!0}return mu[r]=rW(t,fS,pS,e,mS,Oy,n),new sW(t)}function lW(t=n_()){t=Et(t);const e=_a(t,Ep);return e.isInitialized()?e.getImmediate():cW(t)}function cW(t,e={}){const n=_a(t,Ep);if(n.isInitialized()){const s=n.getImmediate();if(xs(e,n.getOptions()))return s;throw tr.create("already-initialized")}return n.initialize({options:e})}function uW(t,e,n,r){t=Et(t),tW(p2,mu[t.app.options.appId],e,n,r).catch(s=>$n.error(s))}const yS="@firebase/analytics",vS="0.10.16";function dW(){_s(new zr(Ep,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aW(r,s,n)},"PUBLIC")),_s(new zr("analytics-internal",t,"PRIVATE")),gr(yS,vS),gr(yS,vS,"esm2017");function t(e){try{const n=e.getProvider(Ep).getImmediate();return{logEvent:(r,s,i)=>uW(n,r,s,i)}}catch(n){throw tr.create("interop-component-reg-failed",{reason:n})}}}dW();var os=function(){return os=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},os.apply(this,arguments)};function Md(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function hW(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function m2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fW=m2,g2=new xa("auth","Firebase",m2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Lm("@firebase/auth");function pW(t,...e){Tp.logLevel<=je.WARN&&Tp.warn(`Auth (${ic}): ${t}`,...e)}function _f(t,...e){Tp.logLevel<=je.ERROR&&Tp.error(`Auth (${ic}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw c_(t,...e)}function Vr(t,...e){return c_(t,...e)}function l_(t,e,n){const r=Object.assign(Object.assign({},fW()),{[e]:n});return new xa("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return l_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&br(t,"argument-error"),l_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g2.create(t,...e)}function xe(t,e,...n){if(!t)throw c_(e,...n)}function js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _f(e),new Error(e)}function Gs(t,e){t||js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gW(){return wS()==="http:"||wS()==="https:"}function wS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gW()||Vk()||"connection"in navigator)?navigator.onLine:!0}function vW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=xz()||Ez()}get(){return yW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_W=new jd(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,s={}){return v2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Dd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return bz()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&kd(t.emulatorConfig.host)&&(c.credentials="include"),y2.fetch()(await w2(t,t.config.apiHost,n,a),c)})}async function v2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wW),e);try{const s=new EW(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $h(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $h(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw l_(t,d,c);br(t,d)}}catch(s){if(s instanceof qr)throw s;br(t,"network-request-failed",{message:String(s)})}}async function Od(t,e,n,r,s={}){const i=await ni(t,e,n,r,s);return"mfaPendingCredential"in i&&br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function w2(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?u_(t.config,s):`${t.config.apiScheme}://${s}`;return xW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function bW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),_W.get())})}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vr(t,e,r);return s.customData._tokenResponse=n,s}function xS(t){return t!==void 0&&t.enterprise!==void 0}class TW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SW(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CW(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function Sp(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IW(t,e=!1){const n=Et(t),r=await n.getIdToken(e),s=d_(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:gu(Ly(s.auth_time)),issuedAtTime:gu(Ly(s.iat)),expirationTime:gu(Ly(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const s=kk(n);return s?JSON.parse(s):(_f("Failed to decode base64 JWT payload"),null)}catch(s){return _f("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _S(t){const e=d_(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&AW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ju(t,Sp(n,{idToken:r}));xe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?x2(i.providerUserInfo):[],a=NW(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new k0(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function RW(t){const e=Et(t);await Cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NW(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x2(t){return t.map(e=>{var{providerId:n}=e,r=Md(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e){const n=await v2(t,{},async()=>{const r=Dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await w2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DW(t,e){return ni(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_S(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=_S(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await kW(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fl;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(xe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Md(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new k0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IW(this,e)}reload(){return RW(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await Ju(this,CW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:A,isAnonymous:N,providerData:j,stsTokenManager:C}=n;xe(E&&C,e,"internal-error");const S=fl.fromJSON(this.name,C);xe(typeof E=="string",e,"internal-error"),di(f,e.name),di(p,e.name),xe(typeof A=="boolean",e,"internal-error"),xe(typeof N=="boolean",e,"internal-error"),di(g,e.name),di(x,e.name),di(y,e.name),di(b,e.name),di(v,e.name),di(_,e.name);const I=new jr({uid:E,auth:e,email:p,emailVerified:A,displayName:f,isAnonymous:N,photoURL:x,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:v,lastLoginAt:_});return j&&Array.isArray(j)&&(I.providerData=j.map(P=>Object.assign({},P))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new fl;s.updateFromServerResponse(n);const i=new jr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?x2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new fl;a.updateFromIdToken(r);const l=new jr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new k0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;function Os(t){Gs(t instanceof Function,"Expected a class definition");let e=bS.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_2.type="NONE";const ES=_2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=bf(this.userKey,s.apiKey,i),this.fullPersistenceKey=bf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sp(this.auth,{idToken:e}).catch(()=>{});return n?jr._fromGetAccountInfoResponse(this.auth,n,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Os(ES),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Os(ES);const o=bf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Sp(e,{idToken:d}).catch(()=>{});if(!p)break;f=await jr._fromGetAccountInfoResponse(e,p,d)}else f=jr._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new pl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new pl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I2(e))return"Blackberry";if(A2(e))return"Webos";if(E2(e))return"Safari";if((e.includes("chrome/")||T2(e))&&!e.includes("edge/"))return"Chrome";if(C2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b2(t=vn()){return/firefox\//i.test(t)}function E2(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T2(t=vn()){return/crios\//i.test(t)}function S2(t=vn()){return/iemobile/i.test(t)}function C2(t=vn()){return/android/i.test(t)}function I2(t=vn()){return/blackberry/i.test(t)}function A2(t=vn()){return/webos/i.test(t)}function h_(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MW(t=vn()){var e;return h_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jW(){return Tz()&&document.documentMode===10}function P2(t=vn()){return h_(t)||C2(t)||A2(t)||I2(t)||/windows phone/i.test(t)||S2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e=[]){let n;switch(t){case"Browser":n=TS(vn());break;case"Worker":n=`${TS(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=6;class FW{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SS(this),this.idTokenSubscription=new SS(this),this.beforeStateQueue=new OW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sp(this,{idToken:e}),r=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Vs(this));const n=e?Et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LW(this),n=new FW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(t){return Et(t)}class SS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nz(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $W(t){Um=t}function N2(t){return Um.loadJS(t)}function BW(){return Um.recaptchaEnterpriseScript}function zW(){return Um.gapiScript}function WW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HW{constructor(){this.enterprise=new qW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GW="recaptcha-enterprise",k2="NO_RECAPTCHA";class KW{constructor(e){this.type=GW,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{SW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TW(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;xS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(k2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HW().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&xS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BW();l.length!==0&&(l+=a),N2(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function CS(t,e,n,r=!1,s=!1){const i=new KW(t);let o;if(s)o=k2;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function D0(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await CS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t,e){const n=_a(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(xs(i,e??{}))return s;br(s,"already-initialized")}return n.initialize({options:e})}function YW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XW(t,e,n){const r=mo(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=D2(e),{host:o,port:a}=JW(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(xs(c,r.config.emulator)&&xs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,kd(o)?(Ok(`${i}//${o}${l}`),Lk("Auth",!0)):ZW()}function D2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JW(t){const e=D2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:IS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:IS(o)}}}function IS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(e){return js("not implemented")}_linkToIdToken(e,n){return js("not implemented")}_getReauthenticationResolver(e){return js("not implemented")}}async function eH(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e){return Od(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}async function nH(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))}async function rH(t,e){return nH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e){return Od(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function iH(t,e){return Od(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends f_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,n,"signInWithPassword",tH);case"emailLink":return sH(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,r,"signUpPassword",eH);case"emailLink":return iH(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return Od(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="http://localhost";class aa extends f_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Md(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new aa(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:oH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lH(t){const e=Wc(Hc(t)).link,n=e?Wc(Hc(e)).deep_link_id:null,r=Wc(Hc(t)).deep_link_id;return(r?Wc(Hc(r)).link:null)||r||n||e||t}class p_{constructor(e){var n,r,s,i,o,a;const l=Wc(Hc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=aH((s=l.mode)!==null&&s!==void 0?s:null);xe(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lH(e);try{return new p_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return Zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p_.parseLink(n);return xe(r,"argument-error"),Zu._fromEmailAndCode(e,r.code,r.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends m_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ld{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ld{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Ld{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cH(t,e){return Od(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await jr._fromIdTokenResponse(e,r,s),o=AS(r);return new la({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=AS(r);return new la({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function AS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends qr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ip(e,n,r,s)}}function M2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,i,e,r):i})}async function uH(t,e,n=!1){const r=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await Ju(t,M2(r,s,e,t),n);xe(i.idToken,r,"internal-error");const o=d_(i.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),la._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e,n=!1){if(Yn(t.app))return Promise.reject(Vs(t));const r="signIn",s=await M2(t,r,e),i=await la._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hH(t,e){return j2(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fH(t,e,n){if(Yn(t.app))return Promise.reject(Vs(t));const r=mo(t),o=await D0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&O2(t),l}),a=await la._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pH(t,e,n){return Yn(t.app)?Promise.reject(Vs(t)):hH(Et(t),oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&O2(t),r})}async function mH(t,e){const n=Et(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await rH(n.auth,s);i!==t.email&&await t.reload()}function gH(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function yH(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function g_(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function vH(t){return Et(t).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=1e3,xH=10;class V2 extends L2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jW()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V2.type="LOCAL";const _H=V2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends L2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F2.type="SESSION";const U2=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await bH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=y_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function TH(t){fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function SH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IH(){return $2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebaseLocalStorageDb",AH=1,Pp="firebaseLocalStorage",z2="fbase_key";class Vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([Pp],e?"readwrite":"readonly").objectStore(Pp)}function PH(){const t=indexedDB.deleteDatabase(B2);return new Vd(t).toPromise()}function M0(){const t=indexedDB.open(B2,AH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pp,{keyPath:z2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pp)?e(r):(r.close(),await PH(),e(await M0()))})})}async function PS(t,e,n){const r=Bm(t,!0).put({[z2]:e,value:n});return new Vd(r).toPromise()}async function RH(t,e){const n=Bm(t,!1).get(e),r=await new Vd(n).toPromise();return r===void 0?null:r.value}function RS(t,e){const n=Bm(t,!0).delete(e);return new Vd(n).toPromise()}const NH=800,kH=3;class W2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(IH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await SH(),!this.activeServiceWorker)return;this.sender=new EH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await PS(e,Ap,"1"),await RS(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Bm(s,!1).getAll();return new Vd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W2.type="LOCAL";const DH=W2;new jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){return e?Os(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends f_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MH(t){return j2(t.auth,new v_(t),t.bypassAuthState)}function jH(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),dH(n,new v_(t),t.bypassAuthState)}async function OH(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),uH(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MH;case"linkViaPopup":case"linkViaRedirect":return OH;case"reauthViaPopup":case"reauthViaRedirect":return jH;default:br(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new jd(2e3,1e4);async function G2(t,e,n){if(Yn(t.app))return Promise.reject(Vr(t,"operation-not-supported-in-this-environment"));const r=mo(t);mW(t,e,m_);const s=H2(r,n);return new Lo(r,"signInViaPopup",e,s).executeNotNull()}class Lo extends q2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LH.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="pendingRedirect",Ef=new Map;class FH extends q2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await UH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UH(t,e){const n=zH(e),r=BH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $H(t,e){Ef.set(t._key(),e)}function BH(t){return Os(t._redirectPersistence)}function zH(t){return bf(VH,t.config.apiKey,t.name)}async function WH(t,e,n=!1){if(Yn(t.app))return Promise.reject(Vs(t));const r=mo(t),s=H2(r,e),o=await new FH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=10*60*1e3;class qH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HH&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YH=/^https?/;async function XH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KH(t);for(const n of e)try{if(JH(n))return}catch{}br(t,"unauthorized-domain")}function JH(t){const e=N0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YH.test(n))return!1;if(QH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=new jd(3e4,6e4);function kS(){const t=fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eq(t){return new Promise((e,n)=>{var r,s,i;function o(){kS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kS(),n(Vr(t,"network-request-failed"))},timeout:ZH.get()})}if(!((s=(r=fs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=fs().gapi)===null||i===void 0)&&i.load)o();else{const a=WW("iframefcb");return fs()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},N2(`${zW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function tq(t){return Tf=Tf||eq(t),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=new jd(5e3,15e3),rq="__/auth/iframe",sq="emulator/auth/iframe",iq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aq(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u_(e,sq):`https://${t.config.authDomain}/${rq}`,r={apiKey:e.apiKey,appName:t.name,v:ic},s=oq.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dd(r).slice(1)}`}async function lq(t){const e=await tq(t),n=fs().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:aq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iq,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),a=fs().setTimeout(()=>{i(o)},nq.get());function l(){fs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uq=500,dq=600,hq="_blank",fq="http://localhost";class DS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pq(t,e,n,r=uq,s=dq){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cq),{width:r.toString(),height:s.toString(),top:i,left:o}),c=vn().toLowerCase();n&&(a=T2(c)?hq:n),b2(c)&&(e=e||fq,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(MW(c)&&a!=="_self")return mq(e||"",a),new DS(null);const f=window.open(e||"",a,d);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new DS(f)}function mq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq="__/auth/handler",yq="emulator/auth/handler",vq=encodeURIComponent("fac");async function MS(t,e,n,r,s,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ic,eventId:s};if(e instanceof m_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ld){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${vq}=${encodeURIComponent(l)}`:"";return`${wq(t)}?${Dd(a).slice(1)}${c}`}function wq({config:t}){return t.emulator?u_(t,yq):`https://${t.authDomain}/${gq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class xq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U2,this._completeRedirectFn=WH,this._overrideRedirectResult=$H}async _openPopup(e,n,r,s){var i;Gs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await MS(e,n,r,N0(),s);return pq(e,o,y_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await MS(e,n,r,N0(),s);return TH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Gs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lq(e),r=new qH(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Vy];o!==void 0&&n(!!o),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P2()||E2()||h_()}}const _q=xq;var jS="@firebase/auth",OS="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tq(t){_s(new zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R2(t)},c=new UW(r,s,i,l);return YW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new zr("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new bq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(jS,OS,Eq(t)),gr(jS,OS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq=5*60,Cq=jk("authIdTokenMaxAge")||Sq;let LS=null;const Iq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Cq)return;const s=n==null?void 0:n.token;LS!==s&&(LS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Aq(t=n_()){const e=_a(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QW(t,{popupRedirectResolver:_q,persistence:[DH,_H,U2]}),r=jk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Iq(i.toString());yH(n,o,()=>o(n.currentUser)),gH(n,a=>o(a))}}const s=Dk("auth");return s&&XW(n,`http://${s}`),n}function Pq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$W({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Pq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tq("Browser");var VS={},FS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof VS<"u"?VS:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Q2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,D,M){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return S.prototype[D].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)P[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];var M=C.g[3],k=S+(M^I&(D^M))+P[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+P[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+P[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+P[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+P[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+P[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+P[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+P[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+P[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+P[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+P[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+P[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+P[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+P[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+P[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+P[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(D^M&(I^D))+P[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+P[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+P[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+P[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+P[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+P[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+P[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+P[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+P[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+P[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+P[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+P[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+P[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+P[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+P[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+P[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(I^D^M)+P[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+P[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+P[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+P[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+P[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+P[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+P[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+P[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+P[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+P[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+P[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+P[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+P[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+P[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+P[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+P[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(D^(I|~M))+P[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+P[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+P[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+P[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+P[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+P[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+P[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+P[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+P[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+P[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+P[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+P[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+P[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+P[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+P[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,P=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=I;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(P[D++]=C.charCodeAt(M++),D==this.blockSize){s(this,P),D=0;break}}else for(;M<S;)if(P[D++]=C[M++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var P=0;32>P;P+=8)C[I++]=this.g[S]>>>P&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],P=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;P&&M==S||(I[D]=M,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return b(c(-C));for(var S=[],I=1,P=0;C>=I;P++)S[P]=C/I|0,I*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return b(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),P=f,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+M),S);8>M?(M=c(Math.pow(S,M)),P=P.j(M).add(c(k))):(P=P.j(I),P=P.add(c(k)))}return P}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(y(this))return"-"+b(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,P="";;){var D=A(I,S).g;I=v(I,D.j(S));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,x(I))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=v(this,C),y(C)?-1:x(C)?0:1};function b(C){for(var S=C.g.length,I=[],P=0;P<S;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0,D=0;D<=S;D++){var M=P+(this.i(D)&65535)+(C.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=k>>>16,M&=65535,k&=65535,I[D]=k<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function v(C,S){return C.add(b(S))}t.j=function(C){if(x(this)||x(C))return f;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],P=0;P<2*S;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<C.g.length;D++){var M=this.i(P)>>>16,k=this.i(P)&65535,z=C.i(D)>>>16,oe=C.i(D)&65535;I[2*P+2*D]+=k*oe,_(I,2*P+2*D),I[2*P+2*D+1]+=M*oe,_(I,2*P+2*D+1),I[2*P+2*D+1]+=k*z,_(I,2*P+2*D+1),I[2*P+2*D+2]+=M*z,_(I,2*P+2*D+2)}for(P=0;P<S;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=S;P<2*S;P++)I[P]=0;return new o(I,0)};function _(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function A(C,S){if(x(S))throw Error("division by zero");if(x(C))return new E(f,f);if(y(C))return S=A(b(C),S),new E(b(S.g),b(S.h));if(y(S))return S=A(C,b(S)),new E(b(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=S;0>=P.l(C);)I=N(I),P=N(P);var D=j(I,1),M=j(P,1);for(P=j(P,2),I=j(I,2);!x(P);){var k=M.add(P);0>=k.l(C)&&(D=D.add(I),M=k),P=j(P,1),I=j(I,1)}return S=v(C,D.j(S)),new E(D,S)}for(D=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(I),k=M.j(S);y(k)||0<k.l(C);)I-=P,M=c(I),k=M.j(S);x(M)&&(M=p),D=D.add(M),C=v(C,k)}return new E(D,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function N(C){for(var S=C.g.length+1,I=[],P=0;P<S;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function j(C,S){var I=S>>5;S%=32;for(var P=C.g.length-I,D=[],M=0;M<P;M++)D[M]=0<S?C.i(M+I)>>>S|C.i(M+I+1)<<32-S:C.i(M+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q2=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Gi=o}).apply(typeof FS<"u"?FS:typeof self<"u"?self:typeof window<"u"?window:{});var US={},Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof US<"u"?US:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y2,qc,X2,Sf,j0,J2,Z2,eD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,T){return h==Array.prototype||h==Object.prototype||(h[w]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var T=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var V=h[R];if(!(V in T))break e;T=T[V]}h=h[h.length-1],R=T[h],w=w(R),w!=R&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}function i(h,w){h instanceof String&&(h+="");var T=0,R=!1,V={next:function(){if(!R&&T<h.length){var U=T++;return{value:w(U,h[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(h){return h||function(){return i(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function c(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,T){return h.call.apply(h.bind,arguments)}function f(h,w,T){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),h.apply(w,V)}}return function(){return h.apply(w,arguments)}}function p(h,w,T){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function x(h,w){function T(){}T.prototype=w.prototype,h.aa=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(R,V,U){for(var ne=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ne[Je-2]=arguments[Je];return w.prototype[V].apply(R,ne)}}function y(h){const w=h.length;if(0<w){const T=Array(w);for(let R=0;R<w;R++)T[R]=h[R];return T}return[]}function b(h,w){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const V=h.length||0,U=R.length||0;h.length=V+U;for(let ne=0;ne<U;ne++)h[V+ne]=R[ne]}else h.push(R)}}class v{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(h,w,T){for(const R in h)w.call(T,h[R],R,h)}function C(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function S(h){const w={};for(const T in h)w[T]=h[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,w){let T,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(T in R)h[T]=R[T];for(let U=0;U<I.length;U++)T=I[U],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function D(h){var w=1;h=h.split(":");const T=[];for(;0<w&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function M(h){a.setTimeout(()=>{throw h},0)}function k(){var h=F;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,T){const R=oe.get();R.set(w,T),this.h?this.h.next=R:this.g=R,this.h=R}}var oe=new v(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,O=!1,F=new z,Y=()=>{const h=a.Promise.resolve(void 0);Z=()=>{h.then(Q)}};var Q=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(T){M(T)}var w=oe;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}O=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return h}();function Re(h,w){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(N){e:{try{A(w.nodeName);var V=!0;break e}catch{}V=!1}V||(w=null)}}else T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:me[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Re.aa.h.call(this)}}x(Re,se);var me={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),pe=0;function $(h,w,T,R,V){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!R,this.ha=V,this.key=++pe,this.da=this.fa=!1}function K(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function G(h){this.src=h,this.g={},this.h=0}G.prototype.add=function(h,w,T,R,V){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var ne=de(h,w,R,V);return-1<ne?(w=h[ne],T||(w.fa=!1)):(w=new $(w,this.src,U,!!R,V),w.fa=T,h.push(w)),w};function B(h,w){var T=w.type;if(T in h.g){var R=h.g[T],V=Array.prototype.indexOf.call(R,w,void 0),U;(U=0<=V)&&Array.prototype.splice.call(R,V,1),U&&(K(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function de(h,w,T,R){for(var V=0;V<h.length;++V){var U=h[V];if(!U.da&&U.listener==w&&U.capture==!!T&&U.ha==R)return V}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),De={};function L(h,w,T,R,V){if(Array.isArray(w)){for(var U=0;U<w.length;U++)L(h,w[U],T,R,V);return null}return T=Yr(T),h&&h[te]?h.K(w,T,c(R)?!!R.capture:!!R,V):le(h,w,T,!1,R,V)}function le(h,w,T,R,V,U){if(!w)throw Error("Invalid event type");var ne=c(V)?!!V.capture:!!V,Je=Dt(h);if(Je||(h[ge]=Je=new G(h)),T=Je.add(w,T,R,ne,U),T.proxy)return T;if(R=Ae(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)ve||(V=ne),V===void 0&&(V=!1),h.addEventListener(w.toString(),R,V);else if(h.attachEvent)h.attachEvent(Le(w.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ae(){function h(T){return w.call(h.src,h.listener,T)}const w=Er;return h}function fe(h,w,T,R,V){if(Array.isArray(w))for(var U=0;U<w.length;U++)fe(h,w[U],T,R,V);else R=c(R)?!!R.capture:!!R,T=Yr(T),h&&h[te]?(h=h.i,w=String(w).toString(),w in h.g&&(U=h.g[w],T=de(U,T,R,V),-1<T&&(K(U[T]),Array.prototype.splice.call(U,T,1),U.length==0&&(delete h.g[w],h.h--)))):h&&(h=Dt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=de(w,T,R,V)),(T=-1<h?w[h]:null)&&We(T))}function We(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[te])B(w.i,h);else{var T=h.type,R=h.proxy;w.removeEventListener?w.removeEventListener(T,R,h.capture):w.detachEvent?w.detachEvent(Le(T),R):w.addListener&&w.removeListener&&w.removeListener(R),(T=Dt(w))?(B(T,h),T.h==0&&(T.src=null,w[ge]=null)):K(h)}}}function Le(h){return h in De?De[h]:De[h]="on"+h}function Er(h,w){if(h.da)h=!0;else{w=new Re(w,this);var T=h.listener,R=h.ha||h.src;h.fa&&We(h),h=T.call(R,w)}return h}function Dt(h){return h=h[ge],h instanceof G?h:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(h){return typeof h=="function"?h:(h[Qr]||(h[Qr]=function(w){return h.handleEvent(w)}),h[Qr])}function at(){ee.call(this),this.i=new G(this),this.M=this,this.F=null}x(at,ee),at.prototype[te]=!0,at.prototype.removeEventListener=function(h,w,T,R){fe(this,h,w,T,R)};function Xe(h,w){var T,R=h.F;if(R)for(T=[];R;R=R.F)T.push(R);if(h=h.M,R=w.type||w,typeof w=="string")w=new se(w,h);else if(w instanceof se)w.target=w.target||h;else{var V=w;w=new se(R,h),P(w,V)}if(V=!0,T)for(var U=T.length-1;0<=U;U--){var ne=w.g=T[U];V=Tr(ne,R,!0,w)&&V}if(ne=w.g=h,V=Tr(ne,R,!0,w)&&V,V=Tr(ne,R,!1,w)&&V,T)for(U=0;U<T.length;U++)ne=w.g=T[U],V=Tr(ne,R,!1,w)&&V}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var T=h.g[w],R=0;R<T.length;R++)K(T[R]);delete h.g[w],h.h--}}this.F=null},at.prototype.K=function(h,w,T,R){return this.i.add(String(h),w,!1,T,R)},at.prototype.L=function(h,w,T,R){return this.i.add(String(h),w,!0,T,R)};function Tr(h,w,T,R){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var V=!0,U=0;U<w.length;++U){var ne=w[U];if(ne&&!ne.da&&ne.capture==T){var Je=ne.listener,Wt=ne.ha||ne.src;ne.fa&&B(h.i,ne),V=Je.call(Wt,R)!==!1&&V}}return V&&!R.defaultPrevented}function kn(h,w,T){if(typeof h=="function")T&&(h=p(h,T));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(h,w||0)}function en(h){h.g=kn(()=>{h.g=null,h.i&&(h.i=!1,en(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ss extends ee{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:en(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(h){ee.call(this),this.h=h,this.g={}}x(zn,ee);var ir=[];function gt(h){j(h.g,function(w,T){this.g.hasOwnProperty(T)&&We(w)},h),h.g={}}zn.prototype.N=function(){zn.aa.N.call(this),gt(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=a.JSON.stringify,or=a.JSON.parse,gc=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function be(){}be.prototype.h=null;function He(h){return h.h||(h.h=h.i())}function Be(){}var Mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zt(){se.call(this,"d")}x(zt,se);function Xr(){se.call(this,"c")}x(Xr,se);var ar={},nh=null;function rh(){return nh=nh||new at}ar.La="serverreachability";function vb(h){se.call(this,ar.La,h)}x(vb,se);function yc(h){const w=rh();Xe(w,new vb(w))}ar.STAT_EVENT="statevent";function wb(h,w){se.call(this,ar.STAT_EVENT,h),this.stat=w}x(wb,se);function wn(h){const w=rh();Xe(w,new wb(w,h))}ar.Ma="timingevent";function xb(h,w){se.call(this,ar.Ma,h),this.size=w}x(xb,se);function vc(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function wc(){this.g=!0}wc.prototype.xa=function(){this.g=!1};function O4(h,w,T,R,V,U){h.info(function(){if(h.g)if(U)for(var ne="",Je=U.split("&"),Wt=0;Wt<Je.length;Wt++){var ze=Je[Wt].split("=");if(1<ze.length){var tn=ze[0];ze=ze[1];var nn=tn.split("_");ne=2<=nn.length&&nn[1]=="type"?ne+(tn+"="+ze+"&"):ne+(tn+"=redacted&")}}else ne=null;else ne=U;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+w+`
`+T+`
`+ne})}function L4(h,w,T,R,V,U,ne){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+w+`
`+T+`
`+U+" "+ne})}function Aa(h,w,T,R){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+F4(h,T)+(R?" "+R:"")})}function V4(h,w){h.info(function(){return"TIMEOUT: "+w})}wc.prototype.info=function(){};function F4(h,w){if(!h.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var R=T[h];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ne=1;ne<V.length;ne++)V[ne]=""}}}}return Sr(T)}catch{return w}}var sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_b={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dg;function ih(){}x(ih,be),ih.prototype.g=function(){return new XMLHttpRequest},ih.prototype.i=function(){return{}},Dg=new ih;function ii(h,w,T,R){this.j=h,this.i=w,this.l=T,this.R=R||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}var Eb={},Mg={};function jg(h,w,T){h.L=1,h.v=ch(Cs(w)),h.m=T,h.P=!0,Tb(h,null)}function Tb(h,w){h.F=Date.now(),oh(h),h.A=Cs(h.v);var T=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Vb(T.i,"t",R),h.C=0,T=h.j.J,h.h=new bb,h.g=nE(h.j,T?w:null,!h.m),0<h.O&&(h.M=new Ss(p(h.Y,h,h.g),h.O)),w=h.U,T=h.g,R=h.ca;var V="readystatechange";Array.isArray(V)||(V&&(ir[0]=V.toString()),V=ir);for(var U=0;U<V.length;U++){var ne=L(T,V[U],R||w.handleEvent,!1,w.h||w);if(!ne)break;w.g[ne.key]=ne}w=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),yc(),O4(h.i,h.u,h.A,h.l,h.R,h.m)}ii.prototype.ca=function(h){h=h.target;const w=this.M;w&&Is(h)==3?w.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)e:{const nn=Is(this.g);var w=this.g.Ba();const Na=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Hb(this.g)))){this.J||nn!=4||w==7||(w==8||0>=Na?yc(3):yc(2)),Og(this);var T=this.g.Z();this.X=T;t:if(Sb(this)){var R=Hb(this.g);h="";var V=R.length,U=Is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),xc(this);var ne="";break t}this.h.i=new a.TextDecoder}for(w=0;w<V;w++)this.h.h=!0,h+=this.h.i.decode(R[w],{stream:!(U&&w==V-1)});R.length=0,this.h.g+=h,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=T==200,L4(this.i,this.u,this.A,this.l,this.R,nn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Wt=this.g;if((Je=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Je)){var ze=Je;break t}}ze=null}if(T=ze)Aa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lg(this,T);else{this.o=!1,this.s=3,wn(12),_o(this),xc(this);break e}}if(this.P){T=!0;let Cr;for(;!this.J&&this.C<ne.length;)if(Cr=U4(this,ne),Cr==Mg){nn==4&&(this.s=4,wn(14),T=!1),Aa(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Eb){this.s=4,wn(15),Aa(this.i,this.l,ne,"[Invalid Chunk]"),T=!1;break}else Aa(this.i,this.l,Cr,null),Lg(this,Cr);if(Sb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ne.length!=0||this.h.h||(this.s=1,wn(16),T=!1),this.o=this.o&&T,!T)Aa(this.i,this.l,ne,"[Invalid Chunked Response]"),_o(this),xc(this);else if(0<ne.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),zg(tn),tn.M=!0,wn(11))}}else Aa(this.i,this.l,ne,null),Lg(this,ne);nn==4&&_o(this),this.o&&!this.J&&(nn==4?Jb(this.j,this):(this.o=!1,oh(this)))}else rF(this.g),T==400&&0<ne.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),_o(this),xc(this)}}}catch{}finally{}};function Sb(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function U4(h,w){var T=h.C,R=w.indexOf(`
`,T);return R==-1?Mg:(T=Number(w.substring(T,R)),isNaN(T)?Eb:(R+=1,R+T>w.length?Mg:(w=w.slice(R,R+T),h.C=R+T,w)))}ii.prototype.cancel=function(){this.J=!0,_o(this)};function oh(h){h.S=Date.now()+h.I,Cb(h,h.I)}function Cb(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vc(p(h.ba,h),w)}function Og(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ii.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(V4(this.i,this.A),this.L!=2&&(yc(),wn(17)),_o(this),this.s=2,xc(this)):Cb(this,this.S-h)};function xc(h){h.j.G==0||h.J||Jb(h.j,h)}function _o(h){Og(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,gt(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Lg(h,w){try{var T=h.j;if(T.G!=0&&(T.g==h||Vg(T.h,h))){if(!h.K&&Vg(T.h,h)&&T.G==3){try{var R=T.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)mh(T),fh(T);else break e;Bg(T),wn(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=vc(p(T.Za,T),6e3));if(1>=Pb(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Eo(T,11)}else if((h.K||T.g==h)&&mh(T),!_(w))for(V=T.Da.g.parse(w),w=0;w<V.length;w++){let ze=V[w];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const tn=ze[3];tn!=null&&(T.la=tn,T.j.info("VER="+T.la));const nn=ze[4];nn!=null&&(T.Aa=nn,T.j.info("SVER="+T.Aa));const Na=ze[5];Na!=null&&typeof Na=="number"&&0<Na&&(R=1.5*Na,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Cr=h.g;if(Cr){const yh=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yh){var U=R.h;U.g||yh.indexOf("spdy")==-1&&yh.indexOf("quic")==-1&&yh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Fg(U,U.h),U.h=null))}if(R.D){const Wg=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wg&&(R.ya=Wg,et(R.I,R.D,Wg))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var ne=h;if(R.qa=tE(R,R.J?R.ia:null,R.W),ne.K){Rb(R.h,ne);var Je=ne,Wt=R.L;Wt&&(Je.I=Wt),Je.B&&(Og(Je),oh(Je)),R.g=ne}else Yb(R);0<T.i.length&&ph(T)}else ze[0]!="stop"&&ze[0]!="close"||Eo(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Eo(T,7):$g(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}yc(4)}catch{}}var $4=class{constructor(h,w){this.g=h,this.map=w}};function Ib(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ab(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pb(h){return h.h?1:h.g?h.g.size:0}function Vg(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Fg(h,w){h.g?h.g.add(w):h.h=w}function Rb(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Ib.prototype.cancel=function(){if(this.i=Nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nb(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.D);return w}return y(h.i)}function B4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],T=h.length,R=0;R<T;R++)w.push(h[R]);return w}w=[],T=0;for(R in h)w[T++]=h[R];return w}function z4(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var T=0;T<h;T++)w.push(T);return w}w=[],T=0;for(const R in h)w[T++]=R;return w}}}function kb(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var T=z4(h),R=B4(h),V=R.length,U=0;U<V;U++)w.call(void 0,R[U],T&&T[U],h)}var Db=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W4(h,w){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var R=h[T].indexOf("="),V=null;if(0<=R){var U=h[T].substring(0,R);V=h[T].substring(R+1)}else U=h[T];w(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function bo(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bo){this.h=h.h,ah(this,h.j),this.o=h.o,this.g=h.g,lh(this,h.s),this.l=h.l;var w=h.i,T=new Ec;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Mb(this,T),this.m=h.m}else h&&(w=String(h).match(Db))?(this.h=!1,ah(this,w[1]||"",!0),this.o=_c(w[2]||""),this.g=_c(w[3]||"",!0),lh(this,w[4]),this.l=_c(w[5]||"",!0),Mb(this,w[6]||"",!0),this.m=_c(w[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}bo.prototype.toString=function(){var h=[],w=this.j;w&&h.push(bc(w,jb,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(bc(w,jb,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(bc(T,T.charAt(0)=="/"?G4:q4,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",bc(T,Q4)),h.join("")};function Cs(h){return new bo(h)}function ah(h,w,T){h.j=T?_c(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function lh(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Mb(h,w,T){w instanceof Ec?(h.i=w,Y4(h.i,h.h)):(T||(w=bc(w,K4)),h.i=new Ec(w,h.h))}function et(h,w,T){h.i.set(w,T)}function ch(h){return et(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function _c(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bc(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,H4),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function H4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jb=/[#\/\?@]/g,q4=/[#\?:]/g,G4=/[#\?]/g,K4=/[#\?@]/g,Q4=/#/g;function Ec(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function oi(h){h.g||(h.g=new Map,h.h=0,h.i&&W4(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Ec.prototype,t.add=function(h,w){oi(this),this.i=null,h=Pa(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function Ob(h,w){oi(h),w=Pa(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Lb(h,w){return oi(h),w=Pa(h,w),h.g.has(w)}t.forEach=function(h,w){oi(this),this.g.forEach(function(T,R){T.forEach(function(V){h.call(w,V,R,this)},this)},this)},t.na=function(){oi(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let R=0;R<w.length;R++){const V=h[R];for(let U=0;U<V.length;U++)T.push(w[R])}return T},t.V=function(h){oi(this);let w=[];if(typeof h=="string")Lb(this,h)&&(w=w.concat(this.g.get(Pa(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)w=w.concat(h[T])}return w},t.set=function(h,w){return oi(this),this.i=null,h=Pa(this,h),Lb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Vb(h,w,T){Ob(h,w),0<T.length&&(h.i=null,h.g.set(Pa(h,w),y(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var R=w[T];const U=encodeURIComponent(String(R)),ne=this.V(R);for(R=0;R<ne.length;R++){var V=U;ne[R]!==""&&(V+="="+encodeURIComponent(String(ne[R]))),h.push(V)}}return this.i=h.join("&")};function Pa(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function Y4(h,w){w&&!h.j&&(oi(h),h.i=null,h.g.forEach(function(T,R){var V=R.toLowerCase();R!=V&&(Ob(this,R),Vb(this,V,T))},h)),h.j=w}function X4(h,w){const T=new wc;if(a.Image){const R=new Image;R.onload=g(ai,T,"TestLoadImage: loaded",!0,w,R),R.onerror=g(ai,T,"TestLoadImage: error",!1,w,R),R.onabort=g(ai,T,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(ai,T,"TestLoadImage: timeout",!1,w,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else w(!1)}function J4(h,w){const T=new wc,R=new AbortController,V=setTimeout(()=>{R.abort(),ai(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:R.signal}).then(U=>{clearTimeout(V),U.ok?ai(T,"TestPingServer: ok",!0,w):ai(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),ai(T,"TestPingServer: error",!1,w)})}function ai(h,w,T,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(T)}catch{}}function Z4(){this.g=new gc}function eF(h,w,T){const R=T||"";try{kb(h,function(V,U){let ne=V;c(V)&&(ne=Sr(V)),w.push(R+U+"="+encodeURIComponent(ne))})}catch(V){throw w.push(R+"type="+encodeURIComponent("_badmap")),V}}function uh(h){this.l=h.Ub||null,this.j=h.eb||!1}x(uh,be),uh.prototype.g=function(){return new dh(this.l,this.j)},uh.prototype.i=function(h){return function(){return h}}({});function dh(h,w){at.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(dh,at),t=dh.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Sc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fb(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fb(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Tc(this):Sc(this),this.readyState==3&&Fb(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Tc(this))},t.Qa=function(h){this.g&&(this.response=h,Tc(this))},t.ga=function(){this.g&&Tc(this)};function Tc(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Sc(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function Sc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ub(h){let w="";return j(h,function(T,R){w+=R,w+=":",w+=T,w+=`\r
`}),w}function Ug(h,w,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Ub(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):et(h,w,T))}function yt(h){at.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(yt,at);var tF=/^https?$/i,nF=["POST","PUT"];t=yt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dg.g(),this.v=this.o?He(this.o):He(Dg),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(U){$b(this,U);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)T.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())T.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nF,w,void 0))||R||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ne]of T)this.g.setRequestHeader(U,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wb(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){$b(this,U)}};function $b(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Bb(h),hh(h)}function Bb(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Xe(this,"complete"),Xe(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zb(this):this.bb())},t.bb=function(){zb(this)};function zb(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Is(h)!=4||h.Z()!=2)){if(h.u&&Is(h)==4)kn(h.Ea,0,h);else if(Xe(h,"readystatechange"),Is(h)==4){h.h=!1;try{const ne=h.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var R;if(R=ne===0){var V=String(h.D).match(Db)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!tF.test(V?V.toLowerCase():"")}T=R}if(T)Xe(h,"complete"),Xe(h,"success");else{h.m=6;try{var U=2<Is(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",Bb(h)}}finally{hh(h)}}}}function hh(h,w){if(h.g){Wb(h);const T=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||Xe(h,"ready");try{T.onreadystatechange=R}catch{}}}function Wb(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Is(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),or(w)}};function Hb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rF(h){const w={};h=(h.g&&2<=Is(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(_(h[R]))continue;var T=D(h[R]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const U=w[V]||[];w[V]=U,U.push(T)}C(w,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cc(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function qb(h){this.Aa=0,this.i=[],this.j=new wc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cc("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cc("baseRetryDelayMs",5e3,h),this.cb=Cc("retryDelaySeedMs",1e4,h),this.Wa=Cc("forwardChannelMaxRetries",2,h),this.wa=Cc("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ib(h&&h.concurrentRequestLimit),this.Da=new Z4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qb.prototype,t.la=8,t.G=1,t.connect=function(h,w,T,R){wn(0),this.W=h,this.H=w||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=tE(this,null,this.W),ph(this)};function $g(h){if(Gb(h),h.G==3){var w=h.U++,T=Cs(h.I);if(et(T,"SID",h.K),et(T,"RID",w),et(T,"TYPE","terminate"),Ic(h,T),w=new ii(h,h.j,w),w.L=2,w.v=ch(Cs(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=nE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),oh(w)}eE(h)}function fh(h){h.g&&(zg(h),h.g.cancel(),h.g=null)}function Gb(h){fh(h),h.u&&(a.clearTimeout(h.u),h.u=null),mh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function ph(h){if(!Ab(h.h)&&!h.s){h.s=!0;var w=h.Ga;Z||Y(),O||(Z(),O=!0),F.add(w,h),h.B=0}}function sF(h,w){return Pb(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vc(p(h.Ga,h,w),Zb(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const V=new ii(this,this.j,h);let U=this.o;if(this.S&&(U?(U=S(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Qb(this,V,w),T=Cs(this.I),et(T,"RID",h),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Ic(this,T),U&&(this.O?w="headers="+encodeURIComponent(String(Ub(U)))+"&"+w:this.m&&Ug(T,this.m,U)),Fg(this.h,V),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",w),et(T,"SID","null"),V.T=!0,jg(V,T,null)):jg(V,T,w),this.G=2}}else this.G==3&&(h?Kb(this,h):this.i.length==0||Ab(this.h)||Kb(this))};function Kb(h,w){var T;w?T=w.l:T=h.U++;const R=Cs(h.I);et(R,"SID",h.K),et(R,"RID",T),et(R,"AID",h.T),Ic(h,R),h.m&&h.o&&Ug(R,h.m,h.o),T=new ii(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Qb(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Fg(h.h,T),jg(T,R,w)}function Ic(h,w){h.H&&j(h.H,function(T,R){et(w,R,T)}),h.l&&kb({},function(T,R){et(w,R,T)})}function Qb(h,w,T){T=Math.min(h.i.length,T);var R=h.l?p(h.l.Na,h.l,h):null;e:{var V=h.i;let U=-1;for(;;){const ne=["count="+T];U==-1?0<T?(U=V[0].g,ne.push("ofs="+U)):U=0:ne.push("ofs="+U);let Je=!0;for(let Wt=0;Wt<T;Wt++){let ze=V[Wt].g;const tn=V[Wt].map;if(ze-=U,0>ze)U=Math.max(0,V[Wt].g-100),Je=!1;else try{eF(tn,ne,"req"+ze+"_")}catch{R&&R(tn)}}if(Je){R=ne.join("&");break e}}}return h=h.i.splice(0,T),w.D=h,R}function Yb(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;Z||Y(),O||(Z(),O=!0),F.add(w,h),h.v=0}}function Bg(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vc(p(h.Fa,h),Zb(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Xb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vc(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),fh(this),Xb(this))};function zg(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Xb(h){h.g=new ii(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Cs(h.qa);et(w,"RID","rpc"),et(w,"SID",h.K),et(w,"AID",h.T),et(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&et(w,"TO",h.ja),et(w,"TYPE","xmlhttp"),Ic(h,w),h.m&&h.o&&Ug(w,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ch(Cs(w)),T.m=null,T.P=!0,Tb(T,h)}t.Za=function(){this.C!=null&&(this.C=null,fh(this),Bg(this),wn(19))};function mh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Jb(h,w){var T=null;if(h.g==w){mh(h),zg(h),h.g=null;var R=2}else if(Vg(h.h,w))T=w.D,Rb(h.h,w),R=1;else return;if(h.G!=0){if(w.o)if(R==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var V=h.B;R=rh(),Xe(R,new xb(R,T)),ph(h)}else Yb(h);else if(V=w.s,V==3||V==0&&0<w.X||!(R==1&&sF(h,w)||R==2&&Bg(h)))switch(T&&0<T.length&&(w=h.h,w.i=w.i.concat(T)),V){case 1:Eo(h,5);break;case 4:Eo(h,10);break;case 3:Eo(h,6);break;default:Eo(h,2)}}}function Zb(h,w){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*w}function Eo(h,w){if(h.j.info("Error code "+w),w==2){var T=p(h.fb,h),R=h.Xa;const V=!R;R=new bo(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ah(R,"https"),ch(R),V?X4(R.toString(),T):J4(R.toString(),T)}else wn(2);h.G=0,h.l&&h.l.sa(w),eE(h),Gb(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function eE(h){if(h.G=0,h.ka=[],h.l){const w=Nb(h.h);(w.length!=0||h.i.length!=0)&&(b(h.ka,w),b(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function tE(h,w,T){var R=T instanceof bo?Cs(T):new bo(T);if(R.g!="")w&&(R.g=w+"."+R.g),lh(R,R.s);else{var V=a.location;R=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;var U=new bo(null);R&&ah(U,R),w&&(U.g=w),V&&lh(U,V),T&&(U.l=T),R=U}return T=h.D,w=h.ya,T&&w&&et(R,T,w),et(R,"VER",h.la),Ic(h,R),R}function nE(h,w,T){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new yt(new uh({eb:T})):new yt(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rE(){}t=rE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gh(){}gh.prototype.g=function(h,w){return new Wn(h,w)};function Wn(h,w){at.call(this),this.g=new qb(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!_(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Ra(this)}x(Wn,at),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){$g(this.g)},Wn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Sr(h),h=T);w.i.push(new $4(w.Ya++,h)),w.G==3&&ph(w)},Wn.prototype.N=function(){this.g.l=null,delete this.j,$g(this.g),delete this.g,Wn.aa.N.call(this)};function sE(h){zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}x(sE,zt);function iE(){Xr.call(this),this.status=1}x(iE,Xr);function Ra(h){this.g=h}x(Ra,rE),Ra.prototype.ua=function(){Xe(this.g,"a")},Ra.prototype.ta=function(h){Xe(this.g,new sE(h))},Ra.prototype.sa=function(h){Xe(this.g,new iE)},Ra.prototype.ra=function(){Xe(this.g,"b")},gh.prototype.createWebChannel=gh.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,eD=function(){return new gh},Z2=function(){return rh()},J2=ar,j0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,Sf=sh,_b.COMPLETE="complete",X2=_b,Be.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",at.prototype.listen=at.prototype.K,qc=Be,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,Y2=yt}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const $S="@firebase/firestore",BS="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Lm("@firebase/firestore");function Va(){return ca.logLevel}function ce(t,...e){if(ca.logLevel<=je.DEBUG){const n=e.map(w_);ca.debug(`Firestore (${ac}): ${t}`,...n)}}function Ks(t,...e){if(ca.logLevel<=je.ERROR){const n=e.map(w_);ca.error(`Firestore (${ac}): ${t}`,...n)}}function Vl(t,...e){if(ca.logLevel<=je.WARN){const n=e.map(w_);ca.warn(`Firestore (${ac}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tD(t,r,n)}function tD(t,e,n){let r=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ks(r),new Error(r)}function Ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||tD(e,s,r)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Nq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kq{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new nD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class Dq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Dq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Oq(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function O0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ke(r,s);{const i=rD(),o=Lq(i.encode(WS(t,n)),i.encode(WS(e,n)));return o!==0?o:ke(r,s)}}n+=r>65535?2:1}return ke(t.length,e.length)}function WS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Lq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=-62135596800,qS=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qS);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HS)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qS}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__name__";class es{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=es.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ke(e.length,n.length)}static compareSegments(e,n){const r=es.isNumericId(e),s=es.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?es.extractNumericId(e).compare(es.extractNumericId(n)):O0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class rt extends es{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const Vq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends es{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Vq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GS}static keyField(){return new Qt([GS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=-1;function Fq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new no(s,ye.empty(),e)}function Uq(t){return new no(t.readTime,t.key,ed)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Se.min(),ye.empty(),ed)}static max(){return new no(Se.max(),ye.empty(),ed)}}function $q(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==Bq)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Wq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-1;function Wm(t){return t==null}function Rp(t){return t===0&&1/t==-1/0}function Hq(t){return typeof t=="number"&&Number.isInteger(t)&&!Rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="";function qq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KS(e)),e=Gq(t.get(n),e);return KS(e)}function Gq(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iD:n+="";break;default:n+=i}}return n}function KS(t){return t+iD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=i??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YS(this.data.getIterator())}getIteratorFrom(e){return new YS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class YS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Lt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aD("Invalid base64 string: "+i):i}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Kq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=Kq.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="server_timestamp",cD="__type__",uD="__previous_value__",dD="__local_write_time__";function __(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cD])===null||n===void 0?void 0:n.stringValue)===lD}function Hm(t){const e=t.mapValue.fields[uD];return __(e)?Hm(e):e}function td(t){const e=ro(t.mapValue.fields[dD].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Np="(default)";class nd{constructor(e,n){this.projectId=e,this.database=n||Np}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database===Np}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__type__",fD="__max__",Wh={mapValue:{fields:{__type__:{stringValue:fD}}}},pD="__vector__",kp="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:Xq(t)?9007199254740991:Yq(t)?10:11:_e(28295,{value:t})}function bs(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return td(t).isEqual(td(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ro(s.timestampValue),a=ro(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return so(s.bytesValue).isEqual(so(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return St(s.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return St(s.integerValue)===St(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=St(s.doubleValue),a=St(i.doubleValue);return o===a?Rp(o)===Rp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(QS(o)!==QS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bs(o[l],a[l])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function rd(t,e){return(t.values||[]).find(n=>bs(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=St(i.integerValue||i.doubleValue),l=St(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return XS(t.timestampValue,e.timestampValue);case 4:return XS(td(t),td(e));case 5:return O0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=so(i),l=so(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ke(a[c],l[c]);if(d!==0)return d}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ke(St(i.latitude),St(o.latitude));return a!==0?a:ke(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[kp])===null||a===void 0?void 0:a.arrayValue,x=(l=p[kp])===null||l===void 0?void 0:l.arrayValue,y=ke(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:JS(g,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wh.mapValue&&o===Wh.mapValue)return 0;if(i===Wh.mapValue)return 1;if(o===Wh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=O0(l[f],d[f]);if(p!==0)return p;const g=Ul(a[l[f]],c[d[f]]);if(g!==0)return g}return ke(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function XS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=ro(t),r=ro(e),s=ke(n.seconds,r.seconds);return s!==0?s:ke(n.nanos,r.nanos)}function JS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ul(n[s],r[s]);if(i)return i}return ke(n.length,r.length)}function $l(t){return L0(t)}function L0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=L0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${L0(n.fields[o])}`;return s+"}"}(t.mapValue):_e(61005,{value:t})}function Cf(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+Cf(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Cf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return go(r.fields,(i,o)=>{s+=i.length+Cf(o)}),s}(t.mapValue);default:throw _e(13486,{value:t})}}function ZS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function V0(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function eC(t){return!!t&&"nullValue"in t}function tC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function Yq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hD])===null||n===void 0?void 0:n.stringValue)===pD}function yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=Qt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=yu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];If(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){go(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(yu(this.value))}}function mD(t){const e=[];return go(t.fields,(n,r)=>{const s=new Qt([n]);if(If(r)){const i=mD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,Se.min(),Se.min(),Se.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new fn(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new fn(e,2,n,Se.min(),Se.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Se.min(),Se.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.position=e,this.inclusive=n}}function nC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Ul(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function rC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{}class kt extends gD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eG(e,n,r):n==="array-contains"?new rG(e,r):n==="in"?new sG(e,r):n==="not-in"?new iG(e,r):n==="array-contains-any"?new oG(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tG(e,r):new nG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends gD{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Wr(e,n)}matches(e){return yD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yD(t){return t.op==="and"}function vD(t){return Zq(t)&&yD(t)}function Zq(t){for(const e of t.filters)if(e instanceof Wr)return!1;return!0}function F0(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(vD(t))return t.filters.map(e=>F0(e)).join(",");{const e=t.filters.map(n=>F0(n)).join(",");return`${t.op}(${e})`}}function wD(t,e){return t instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&bs(r.value,s.value)}(t,e):t instanceof Wr?function(r,s){return s instanceof Wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&wD(o,s.filters[a]),!0):!1}(t,e):void _e(19439)}function xD(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`}(t):t instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(xD).join(" ,")+"}"}(t):"Filter"}class eG extends kt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class tG extends kt{constructor(e,n){super(e,"in",n),this.keys=_D("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nG extends kt{constructor(e,n){super(e,"not-in",n),this.keys=_D("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _D(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class rG extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&rd(n.arrayValue,this.value)}}class sG extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class iG extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rd(this.value.arrayValue,n)}}class oG extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function sC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new aG(t,e,n,r,s,i,o)}function E_(t){const e=Ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>F0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$l(r)).join(",")),e.Ie=n}return e.Ie}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rC(t.startAt,e.startAt)&&rC(t.endAt,e.endAt)}function U0(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lG(t,e,n,r,s,i,o,a){return new uc(t,e,n,r,s,i,o,a)}function qm(t){return new uc(t)}function iC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return t.collectionGroup!==null}function vu(t){const e=Ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new sd(i,r))}),n.has(Qt.keyField().canonicalString())||e.Ee.push(new sd(Qt.keyField(),r))}return e.Ee}function ps(t){const e=Ce(t);return e.de||(e.de=cG(e,vu(t))),e.de}function cG(t,e){if(t.limitType==="F")return sC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new sd(s.field,i)});const n=t.endAt?new Dp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dp(t.startAt.position,t.startAt.inclusive):null;return sC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $0(t,e){const n=t.filters.concat([e]);return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mp(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gm(t,e){return T_(ps(t),ps(e))&&t.limitType===e.limitType}function ED(t){return`${E_(ps(t))}|lt:${t.limitType}`}function Fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xD(s)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$l(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$l(s)).join(",")),`Target(${r})`}(ps(t))}; limitType=${t.limitType})`}function Km(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of vu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=nC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,vu(r),s)||r.endAt&&!function(o,a,l){const c=nC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,vu(r),s))}(t,e)}function uG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TD(t){return(e,n)=>{let r=!1;for(const s of vu(t)){const i=dG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function dG(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ul(l,c):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=new mt(ye.comparator);function Qs(){return hG}const SD=new mt(ye.comparator);function Gc(...t){let e=SD;for(const n of t)e=e.insert(n.key,n);return e}function CD(t){let e=SD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vo(){return wu()}function ID(){return wu()}function wu(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const fG=new mt(ye.comparator),pG=new Lt(ye.comparator);function Oe(...t){let e=pG;for(const n of t)e=e.add(n);return e}const mG=new Lt(ke);function gG(){return mG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rp(e)?"-0":e}}function AD(t){return{integerValue:""+t}}function PD(t,e){return Hq(e)?AD(e):S_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function yG(t,e,n){return t instanceof id?function(s,i){const o={fields:{[cD]:{stringValue:lD},[dD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&__(i)&&(i=Hm(i)),i&&(o.fields[uD]=i),{mapValue:o}}(n,e):t instanceof Bl?ND(t,e):t instanceof zl?kD(t,e):function(s,i){const o=RD(s,i),a=oC(o)+oC(s.Re);return V0(o)&&V0(s.Re)?AD(a):S_(s.serializer,a)}(t,e)}function vG(t,e,n){return t instanceof Bl?ND(t,e):t instanceof zl?kD(t,e):n}function RD(t,e){return t instanceof od?function(r){return V0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class id extends Qm{}class Bl extends Qm{constructor(e){super(),this.elements=e}}function ND(t,e){const n=DD(e);for(const r of t.elements)n.some(s=>bs(s,r))||n.push(r);return{arrayValue:{values:n}}}class zl extends Qm{constructor(e){super(),this.elements=e}}function kD(t,e){let n=DD(e);for(const r of t.elements)n=n.filter(s=>!bs(s,r));return{arrayValue:{values:n}}}class od extends Qm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function oC(t){return St(t.integerValue||t.doubleValue)}function DD(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.field=e,this.transform=n}}function wG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Bl&&s instanceof Bl||r instanceof zl&&s instanceof zl?Fl(r.elements,s.elements,bs):r instanceof od&&s instanceof od?bs(r.Re,s.Re):r instanceof id&&s instanceof id}(t.transform,e.transform)}class xG{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function MD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C_(t.key,yr.none()):new Fd(t.key,t.data,yr.none());{const n=t.data,r=jn.empty();let s=new Lt(Qt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new yo(t.key,r,new Jn(s.toArray()),yr.none())}}function _G(t,e,n){t instanceof Fd?function(s,i,o){const a=s.value.clone(),l=lC(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(s,i,o){if(!Af(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=lC(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jD(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xu(t,e,n,r){return t instanceof Fd?function(i,o,a,l){if(!Af(i.precondition,o))return a;const c=i.value.clone(),d=cC(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(i,o,a,l){if(!Af(i.precondition,o))return a;const c=cC(i.fieldTransforms,l,o),d=o.data;return d.setAll(jD(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Af(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function bG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=RD(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function aC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Fl(r,s,(i,o)=>wG(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fd extends Xm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yo extends Xm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lC(t,e,n){const r=new Map;Ge(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,vG(o,a,n[s]))}return r}function cC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,yG(i,o,e))}return r}class C_ extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EG extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_G(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ID();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=MD(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>aC(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>aC(n,r))}}class I_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return fG}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new I_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ve;function IG(t){switch(t){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function OD(t){if(t===void 0)return Ks("GRPC error has no .code"),W.UNKNOWN;switch(t){case Pt.OK:return W.OK;case Pt.CANCELLED:return W.CANCELLED;case Pt.UNKNOWN:return W.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return W.INTERNAL;case Pt.UNAVAILABLE:return W.UNAVAILABLE;case Pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Pt.NOT_FOUND:return W.NOT_FOUND;case Pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Pt.ABORTED:return W.ABORTED;case Pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Pt.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:t})}}(Ve=Pt||(Pt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=new Gi([4294967295,4294967295],0);function uC(t){const e=rD().encode(t),n=new Q2;return n.update(e),new Uint8Array(n.digest())}function dC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([s,i],0)]}class A_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kc(`Invalid padding: ${n}`);if(r<0)throw new Kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Gi.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Gi.fromNumber(r)));return s.compare(AG)===1&&(s=new Gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=uC(e),[r,s]=dC(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new A_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=uC(e),[r,s]=dC(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jm(Se.min(),s,new mt(ke),Qs(),Oe())}}class Ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ud(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class LD{constructor(e,n){this.targetId=e,this.Ce=n}}class VD{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class hC{constructor(){this.Fe=0,this.Me=fC(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Oe(),n=Oe(),r=Oe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e(38017,{changeType:i})}}),new Ud(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=fC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PG{constructor(e){this.ze=e,this.je=new Map,this.He=Qs(),this.Je=Hh(),this.Ye=Hh(),this.Ze=new mt(ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(U0(i))if(r===0){const o=new ye(i.path);this.tt(n,o,fn.newNoDocument(o,Se.min()))}else Ge(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=so(r).toUint8Array()}catch(l){if(l instanceof aD)return Vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new A_(o,s,i)}catch(l){return Vl(l instanceof Kc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&U0(a.target)){const l=new ye(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,fn.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Oe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Jm(e,n,this.Ze,this.He,r);return this.He=Qs(),this.Je=Hh(),this.Ye=Hh(),this.Ze=new mt(ke),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new hC,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Lt(ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hC),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hh(){return new mt(ye.comparator)}function fC(){return new mt(ye.comparator)}const RG={asc:"ASCENDING",desc:"DESCENDING"},NG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kG={and:"AND",or:"OR"};class DG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B0(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MG(t,e){return jp(t,e.toTimestamp())}function ms(t){return Ge(!!t,49232),Se.fromTimestamp(function(n){const r=ro(n);return new ot(r.seconds,r.nanos)}(t))}function P_(t,e){return z0(t,e).canonicalString()}function z0(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UD(t){const e=rt.fromString(t);return Ge(HD(e),10190,{key:e.toString()}),e}function W0(t,e){return P_(t.databaseId,e.path)}function Fy(t,e){const n=UD(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(BD(n))}function $D(t,e){return P_(t.databaseId,e)}function jG(t){const e=UD(t);return e.length===4?rt.emptyPath():BD(e)}function H0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BD(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pC(t,e,n){return{name:W0(t,e),fields:n.value.mapValue.fields}}function OG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ge(d===void 0||typeof d=="string",58123),Zt.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?W.UNKNOWN:OD(c.code);return new ue(d,c.message||"")}(o);n=new VD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fy(t,r.document.name),i=ms(r.document.updateTime),o=r.document.createTime?ms(r.document.createTime):Se.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=fn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Pf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fy(t,r.document),i=r.readTime?ms(r.readTime):Se.min(),o=fn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Pf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fy(t,r.document),i=r.removedTargetIds||[];n=new Pf([],i,s,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new CG(s,i),a=r.targetId;n=new LD(a,o)}}return n}function LG(t,e){let n;if(e instanceof Fd)n={update:pC(t,e.key,e.value)};else if(e instanceof C_)n={delete:W0(t,e.key)};else if(e instanceof yo)n={update:pC(t,e.key,e.data),updateMask:qG(e.fieldMask)};else{if(!(e instanceof EG))return _e(16599,{ft:e.type});n={verify:W0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof od)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:MG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e(27497)}(t,e.precondition)),n}function VG(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ms(s.updateTime):ms(i);return o.isEqual(Se.min())&&(o=ms(i)),new xG(o,s.transformResults||[])}(n,e))):[]}function FG(t,e){return{documents:[$D(t,e.path)]}}function UG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$D(t,s);const i=function(c){if(c.length!==0)return WD(Wr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ua(p.field),direction:zG(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=B0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function $G(t){let e=jG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=zD(f);return p instanceof Wr&&vD(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new sd($a(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Wm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Dp(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Dp(g,p)}(n.endAt)),lG(e,s,o,i,a,"F",l,c)}function BG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$a(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$a(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$a(n.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$a(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return kt.create($a(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wr.create(n.compositeFilter.filters.map(r=>zD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function zG(t){return RG[t]}function WG(t){return NG[t]}function HG(t){return kG[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function $a(t){return Qt.fromServerFormat(t.fieldPath)}function WD(t){return t instanceof kt?function(n){if(n.op==="=="){if(tC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(eC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(eC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:WG(n.op),value:n.value}}}(t):t instanceof Wr?function(n){const r=n.getFilters().map(s=>WD(s));return r.length===1?r[0]:{compositeFilter:{op:HG(n.op),filters:r}}}(t):_e(54877,{filter:t})}function qG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,r,s,i=Se.min(),o=Se.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.wt=e}}function KG(t){const e=$G({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(){this.Cn=new YG}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(no.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class YG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qD=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(qD,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Wl(0)}static lr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="LruGarbageCollector",XG=1048576;function yC([t,e],[n,r]){const s=ke(t,n);return s===0?ke(e,r):s}class JG{constructor(e){this.Er=e,this.buffer=new Lt(yC),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(gC,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cc(n)?ce(gC,"Ignoring IndexedDB error during garbage collection: ",n):await lc(n)}await this.mr(3e5)})}}class eK{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(zm.le);const r=new JG(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(mC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mC):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Va()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function tK(t,e){return new eK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xu(r.mutation,s,Jn.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const s=Vo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Gc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Qs();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof yo)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),xu(d.mutation,c,d.mutation.getFieldMask(),ot.now())):o.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new rK(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wu();let s=new mt((o,a)=>o-a),i=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Jn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Oe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=ID();d.forEach(p=>{if(!i.has(p)){const g=MD(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Vo());let a=ed,l=i;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Oe())).next(d=>({batchId:a,changes:CD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Gc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Gc();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(f,p){return new uc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,fn.newInvalidDocument(d)))});let a=Gc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&xu(d.mutation,c,Jn.empty(),ot.now()),Km(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return H.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ms(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:KG(s.bundledQuery),readTime:ms(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.overlays=new mt(ye.comparator),this.Qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Vo(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Vo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Vo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SG(n,r));let i=this.Qr.get(n);i===void 0&&(i=Oe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.$r=new Lt(Vt.Ur),this.Kr=new Lt(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Vt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ye(new rt([])),r=new Vt(n,e),s=new Vt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new rt([])),r=new Vt(n,e),s=new Vt(n,e+1);let i=Oe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Vt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||ke(e.Zr,n.Zr)}static Wr(e,n){return ke(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Lt(Vt.Ur)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new Vt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?x_:this.nr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(ke);return n.forEach(s=>{const i=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),H.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Vt(new ye(i),0);let a=new Lt(ke);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),H.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return H.forEach(n.mutations,s=>{const i=new Vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Xr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.ii=e,this.docs=function(){return new mt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=Qs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():fn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Qs();const o=n.path,a=new ye(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$q(Uq(d),r)<=0||(s.has(d.key)||Km(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e(9500)}si(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uK(this)}getSize(e){return H.resolve(this.size)}}class uK extends nK{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.persistence=e,this.oi=new ba(n=>E_(n),T_),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new R_,this.targetCount=0,this.ui=Wl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),H.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Tr(n),H.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.ci={},this.overlays={},this.li=new zm(0),this.hi=!1,this.hi=!0,this.Pi=new aK,this.referenceDelegate=e(this),this.Ti=new dK(this),this.indexManager=new QG,this.remoteDocumentCache=function(s){return new cK(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new GG(n),this.Ei=new iK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new lK(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new hK(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return H.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class hK extends zq{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Vi=new R_,this.mi=null}static fi(e){return new N_(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.gi,r=>{const s=ye.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return H.or([()=>H.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Op{constructor(e,n){this.persistence=e,this.yi=new ba(r=>qq(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=tK(this,n)}static fi(e,n){return new Op(e,n)}di(){}Ai(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return H.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),H.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cf(e.data.value)),n}Dr(e,n,r){return H.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Oe(),s=Oe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new k_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Sz()?8:Wq(vn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fK;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Va()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),H.resolve()):(Va()<=je.DEBUG&&ce("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Va()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(n))):H.resolve())}ws(e,n){if(iC(n))return H.resolve(null);let r=ps(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mp(n,null,"F"),r=ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Oe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Mp(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return iC(n)||s.isEqual(Se.min())?H.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(Va()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fa(n)),this.Fs(e,o,n,Fq(s,ed)).next(a=>a))})}vs(e,n){let r=new Lt(TD(e));return n.forEach((s,i)=>{Km(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return Va()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ys.getDocumentsMatchingQuery(e,n,no.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LocalStore",mK=3e8;class gK{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new mt(ke),this.Os=new ba(i=>E_(i),T_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sK(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function yK(t,e,n,r){return new gK(t,e,n,r)}async function KD(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Oe();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function vK(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=H.resolve();return p.forEach(x=>{g=g.next(()=>d.getEntry(l,x)).next(y=>{const b=c.docVersions.get(x);Ge(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QD(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function wK(t,e){const n=Ce(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=mK?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,g,d)&&a.push(n.Ti.updateTargetData(i,g))});let l=Qs(),c=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(xK(i,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(Se.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function xK(t,e,n){let r=Oe(),s=Oe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Qs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ce(D_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function _K(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=x_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bK(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new ji(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function q0(t,e,n){const r=Ce(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!cc(o))throw o;ce(D_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function vC(t,e,n){const r=Ce(t);let s=Se.min(),i=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ce(l),p=f.Os.get(d);return p!==void 0?H.resolve(f.xs.get(p)):f.Ti.getTargetData(c,d)}(r,o,ps(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:Oe())).next(a=>(EK(r,uG(e),a),{documents:a,$s:i})))}function EK(t,e,n){let r=t.Ns.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class wC{constructor(){this.activeTargetIds=gG()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TK{constructor(){this.xo=new wC,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="ConnectivityMonitor";class _C{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(xC,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(xC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function G0(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="RestConnection",CK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IK{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Np?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=G0(),a=this.jo(e,n.toUriEncodedString());ce(Uy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),d=kd(c);return this.Jo(e,a,l,r,d).then(f=>(ce(Uy,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Vl(Uy,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=CK[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class PK extends IK{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=G0();return new Promise((a,l)=>{const c=new Y2;c.setWithCredentials(!0),c.listenOnce(X2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sf.NO_ERROR:const f=c.getResponseJson();ce(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Sf.TIMEOUT:ce(an,`RPC '${e}' ${o} timed out`),l(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const p=c.getStatus();if(ce(an,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const y=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_)>=0?_:W.UNKNOWN}(x.status);l(new ue(y,x.message))}else l(new ue(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ue(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ce(an,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);ce(an,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=G0(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eD(),a=Z2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ce(an,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const x=new AK({Zo:b=>{g?ce(an,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(ce(an,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),ce(an,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},Xo:()=>f.close()}),y=(b,v,_)=>{b.listen(v,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return y(f,qc.EventType.OPEN,()=>{g||(ce(an,`RPC '${e}' stream ${s} transport opened.`),x.__())}),y(f,qc.EventType.CLOSE,()=>{g||(g=!0,ce(an,`RPC '${e}' stream ${s} transport closed`),x.u_())}),y(f,qc.EventType.ERROR,b=>{g||(g=!0,Vl(an,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),x.u_(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),y(f,qc.EventType.MESSAGE,b=>{var v;if(!g){const _=b.data[0];Ge(!!_,16349);const E=_,A=(E==null?void 0:E.error)||((v=E[0])===null||v===void 0?void 0:v.error);if(A){ce(an,`RPC '${e}' stream ${s} received error:`,A);const N=A.status;let j=function(I){const P=Pt[I];if(P!==void 0)return OD(P)}(N),C=A.message;j===void 0&&(j=W.INTERNAL,C="Unknown error status: "+N+" with message "+A.message),g=!0,x.u_(new ue(j,C)),f.close()}else ce(an,`RPC '${e}' stream ${s} received:`,_),x.c_(_)}}),y(a,J2.STAT_EVENT,b=>{b.stat===j0.PROXY?ce(an,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===j0.NOPROXY&&ce(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}}function $y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new DG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="PersistentStream";class XD{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new YD(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Ks(n.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ue(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(bC,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ce(bC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RK extends XD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=OG(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?ms(o.readTime):Se.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=H0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=U0(l)?{documents:FG(i,l)}:{query:UG(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FD(i,o.resumeToken);const c=B0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=jp(i,o.snapshotVersion.toTimestamp());const c=B0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=BG(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=H0(this.serializer),n.removeTarget=e,this.L_(n)}}class NK extends XD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=VG(e.writeResults,e.commitTime),r=ms(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=H0(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LG(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{}class DK extends kK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,z0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(W.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,z0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(W.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class MK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ks(n),this.oa=!1):ce("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class jK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{Ea(this)&&(ce(ua,"Restarting streams for network reachability change."),await async function(l){const c=Ce(l);c.Ta.add(4),await $d(c),c.da.set("Unknown"),c.Ta.delete(4),await eg(c)}(this))})}),this.da=new MK(r,s)}}async function eg(t){if(Ea(t))for(const e of t.Ia)await e(!0)}async function $d(t){for(const e of t.Ia)await e(!1)}function JD(t,e){const n=Ce(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),L_(n)?O_(n):dc(n).M_()&&j_(n,e))}function M_(t,e){const n=Ce(t),r=dc(n);n.Pa.delete(e),r.M_()&&ZD(n,e),n.Pa.size===0&&(r.M_()?r.N_():Ea(n)&&n.da.set("Unknown"))}function j_(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).H_(e)}function ZD(t,e){t.Aa.Ke(e),dc(t).J_(e)}function O_(t){t.Aa=new PG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.da._a()}function L_(t){return Ea(t)&&!dc(t).F_()&&t.Pa.size>0}function Ea(t){return Ce(t).Ta.size===0}function eM(t){t.Aa=void 0}async function OK(t){t.da.set("Online")}async function LK(t){t.Pa.forEach((e,n)=>{j_(t,e)})}async function VK(t,e){eM(t),L_(t)?(t.da.ca(e),O_(t)):t.da.set("Unknown")}async function FK(t,e,n){if(t.da.set("Online"),e instanceof VD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){ce(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lp(t,r)}else if(e instanceof Pf?t.Aa.Xe(e):e instanceof LD?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Se.min()))try{const r=await QD(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),ZD(i,l);const f=new ji(d.target,l,c,d.sequenceNumber);j_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce(ua,"Failed to raise snapshot:",r),await Lp(t,r)}}async function Lp(t,e,n){if(!cc(e))throw e;t.Ta.add(1),await $d(t),t.da.set("Offline"),n||(n=()=>QD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(ua,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await eg(t)})}function tM(t,e){return e().catch(n=>Lp(t,n,e))}async function tg(t){const e=Ce(t),n=oo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:x_;for(;UK(e);)try{const s=await _K(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,$K(e,s)}catch(s){await Lp(e,s)}nM(e)&&rM(e)}function UK(t){return Ea(t)&&t.ha.length<10}function $K(t,e){t.ha.push(e);const n=oo(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function nM(t){return Ea(t)&&!oo(t).F_()&&t.ha.length>0}function rM(t){oo(t).start()}async function BK(t){oo(t).ta()}async function zK(t){const e=oo(t);for(const n of t.ha)e.Z_(n.mutations)}async function WK(t,e,n){const r=t.ha.shift(),s=I_.from(r,e,n);await tM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await tg(t)}async function HK(t,e){e&&oo(t).Y_&&await async function(r,s){if(function(o){return IG(o)&&o!==W.ABORTED}(s.code)){const i=r.ha.shift();oo(r).O_(),await tM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await tg(r)}}(t,e),nM(t)&&rM(t)}async function EC(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ce(ua,"RemoteStore received new credentials");const r=Ea(n);n.Ta.add(3),await $d(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await eg(n)}async function qK(t,e){const n=Ce(t);e?(n.Ta.delete(2),await eg(n)):e||(n.Ta.add(2),await $d(n),n.da.set("Unknown"))}function dc(t){return t.Ra||(t.Ra=function(n,r,s){const i=Ce(n);return i.ra(),new RK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:OK.bind(null,t),n_:LK.bind(null,t),i_:VK.bind(null,t),j_:FK.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),L_(t)?O_(t):t.da.set("Unknown")):(await t.Ra.stop(),eM(t))})),t.Ra}function oo(t){return t.Va||(t.Va=function(n,r,s){const i=Ce(n);return i.ra(),new NK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:BK.bind(null,t),i_:HK.bind(null,t),X_:zK.bind(null,t),ea:WK.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await tg(t)):(await t.Va.stop(),t.ha.length>0&&(ce(ua,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new V_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),cc(t))return new ue(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Gc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.ma=new mt(ye.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Hl(e,n,gl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class KK{constructor(){this.queries=SC(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=Ce(n),i=s.queries;s.queries=SC(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function SC(){return new ba(t=>ED(t),Gm)}async function U_(t,e){const n=Ce(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new GK,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=F_(o,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&B_(n)}async function $_(t,e){const n=Ce(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QK(t,e){const n=Ce(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&B_(n)}function YK(t,e,n){const r=Ce(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function B_(t){t.ba.forEach(e=>{e.next()})}var K0,CC;(CC=K0||(K0={})).Ca="default",CC.Cache="cache";class z_{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.key=e}}class iM{constructor(e){this.key=e}}class XK{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Oe(),this.mutatedKeys=Oe(),this.Ha=TD(e),this.Ja=new gl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new TC,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Km(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?x!==y&&(r.track({type:3,doc:g}),b=!0):this.eu(p,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),b=!0):p&&!g&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(a=!0)),b&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(g,x){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:b})}};return y(g)-y(x)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new Hl(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new TC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Oe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new iM(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new sM(r))}),n}su(e){this.Ga=e.$s,this.ja=Oe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Hl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const W_="SyncEngine";class JK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZK{constructor(e){this.key=e,this._u=!1}}class eQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new ba(a=>ED(a),Gm),this.cu=new Map,this.lu=new Set,this.hu=new mt(ye.comparator),this.Pu=new Map,this.Tu=new R_,this.Iu={},this.Eu=new Map,this.du=Wl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function tQ(t,e,n=!0){const r=dM(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await oM(r,e,n,!0),s}async function nQ(t,e){const n=dM(t);await oM(n,e,!0,!1)}async function oM(t,e,n,r){const s=await bK(t.localStore,ps(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rQ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JD(t.remoteStore,s),a}async function rQ(t,e,n,r,s){t.Ru=(f,p,g)=>async function(y,b,v,_){let E=b.view.Za(v);E.Cs&&(E=await vC(y.localStore,b.query,!1).then(({documents:C})=>b.view.Za(C,E)));const A=_&&_.targetChanges.get(b.targetId),N=_&&_.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(E,y.isPrimaryClient,A,N);return AC(y,b.targetId,j.ru),j.snapshot}(t,f,p,g);const i=await vC(t.localStore,e,!0),o=new XK(e,i.$s),a=o.Za(i.documents),l=Ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);AC(t,n,c.ru);const d=new JK(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function sQ(t,e,n){const r=Ce(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!Gm(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await q0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&M_(r.remoteStore,s.targetId),Q0(r,s.targetId)}).catch(lc)):(Q0(r,s.targetId),await q0(r.localStore,s.targetId,!0))}async function iQ(t,e){const n=Ce(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function oQ(t,e,n){const r=fQ(t);try{const s=await function(o,a){const l=Ce(o),c=ot.now(),d=a.reduce((g,x)=>g.add(x.key),Oe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Qs(),y=Oe();return l.Bs.getEntries(g,d).next(b=>{x=b,x.forEach((v,_)=>{_.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(b=>{f=b;const v=[];for(const _ of a){const E=bG(_,f.get(_.key).overlayedDocument);E!=null&&v.push(new yo(_.key,E,mD(E.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,v,a)}).next(b=>{p=b;const v=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,b.batchId,v)})}).then(()=>({batchId:p.batchId,changes:CD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new mt(ke)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Bd(r,s.changes),await tg(r.remoteStore)}catch(s){const i=F_(s,"Failed to persist write");n.reject(i)}}async function aM(t,e){const n=Ce(t);try{const r=await wK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Ge(o._u,14607):s.removedDocuments.size>0&&(Ge(o._u,42227),o._u=!1))}),await Bd(n,r,e)}catch(r){await lc(r)}}function IC(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&B_(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aQ(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new mt(ye.comparator);o=o.insert(i,fn.newNoDocument(i,Se.min()));const a=Oe().add(i),l=new Jm(Se.min(),new Map,new mt(ke),o,a);await aM(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),H_(r)}else await q0(r.localStore,e,!1).then(()=>Q0(r,e,n)).catch(lc)}async function lQ(t,e){const n=Ce(t),r=e.batch.batchId;try{const s=await vK(n.localStore,e);cM(n,r,null),lM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bd(n,s)}catch(s){await lc(s)}}async function cQ(t,e,n){const r=Ce(t);try{const s=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ge(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cM(r,e,n),lM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bd(r,s)}catch(s){await lc(s)}}function lM(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function cM(t,e,n){const r=Ce(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Q0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||uM(t,r)})}function uM(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(M_(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),H_(t))}function AC(t,e,n){for(const r of n)r instanceof sM?(t.Tu.addReference(r.key,e),uQ(t,r)):r instanceof iM?(ce(W_,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||uM(t,r.key)):_e(19791,{mu:r})}function uQ(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(ce(W_,"New document in limbo: "+n),t.lu.add(r),H_(t))}function H_(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ye(rt.fromString(e)),r=t.du.next();t.Pu.set(r,new ZK(n)),t.hu=t.hu.insert(n,r),JD(t.remoteStore,new ji(ps(qm(n.path)),r,"TargetPurposeLimboResolution",zm.le))}}async function Bd(t,e,n){const r=Ce(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=k_.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const d=Ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,p=>H.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>H.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!cc(f))throw f;ce(D_,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),x=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(p,y)}}}(r.localStore,i))}async function dQ(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ce(W_,"User change. New user:",e.toKey());const r=await KD(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ue(W.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bd(n,r.ks)}}function hQ(t,e){const n=Ce(t),r=n.Pu.get(e);if(r&&r._u)return Oe().add(r.key);{let s=Oe();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function dM(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aQ.bind(null,e),e.au.j_=QK.bind(null,e.eventManager),e.au.Vu=YK.bind(null,e.eventManager),e}function fQ(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cQ.bind(null,e),e}class Vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return yK(this.persistence,new pK,e.initialUser,this.serializer)}yu(e){return new GD(N_.fi,this.serializer)}pu(e){return new TK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vp.provider={build:()=>new Vp};class pQ extends Vp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Ge(this.persistence.referenceDelegate instanceof Op,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZG(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new GD(r=>Op.fi(r,n),this.serializer)}}class Y0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dQ.bind(null,this.syncEngine),await qK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KK}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(i){return new PK(i)}(e.databaseInfo);return function(i,o,a,l){return new DK(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new jK(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>IC(this.syncEngine,n,0),function(){return _C.C()?new _C:new SK}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new eQ(s,i,o,a,l,c);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ce(s);ce(ua,"RemoteStore shutting down."),i.Ta.add(5),await $d(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Y0.provider={build:()=>new Y0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class mQ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=un.UNAUTHENTICATED,this.clientId=sD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ce(ao,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ce(ao,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function By(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gQ(t);ce(ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>EC(e.remoteStore,s)),t._onlineComponents=e}async function gQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ao,"Using user provided OfflineComponentProvider");try{await By(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await By(t,new Vp)}}else ce(ao,"Using default OfflineComponentProvider"),await By(t,new pQ(void 0));return t._offlineComponents}async function hM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ao,"Using user provided OnlineComponentProvider"),await PC(t,t._uninitializedComponentsProvider._online)):(ce(ao,"Using default OnlineComponentProvider"),await PC(t,new Y0))),t._onlineComponents}function yQ(t){return hM(t).then(e=>e.syncEngine)}async function Fp(t){const e=await hM(t),n=e.eventManager;return n.onListen=tQ.bind(null,e.syncEngine),n.onUnlisten=sQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iQ.bind(null,e.syncEngine),n}function vQ(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new q_({next:p=>{d.Cu(),o.enqueueAndForget(()=>$_(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new z_(qm(a.path),d,{includeMetadataChanges:!0,La:!0});return U_(i,f)}(await Fp(t),t.asyncQueue,e,n,r)),r.promise}function wQ(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new q_({next:p=>{d.Cu(),o.enqueueAndForget(()=>$_(i,f)),p.fromCache&&l.source==="server"?c.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new z_(a,d,{includeMetadataChanges:!0,La:!0});return U_(i,f)}(await Fp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xQ(t,e,n,r){if(e===!0&&r===!0)throw new ue(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NC(t){if(!ye.isDocumentKey(t))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kC(t){if(ye.isDocumentKey(t))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(t);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firestore.googleapis.com",DC=!0;class MC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mM,this.ssl=DC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XG)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rq;switch(r.type){case"firstParty":return new Mq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RC.get(n);r&&(ce("ComponentProvider","Removing Datastore"),RC.delete(n),r.terminate())}(this),Promise.resolve()}}function _Q(t,e,n,r={}){var s;t=Bn(t,rg);const i=kd(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(Ok(`https://${l}`),Lk("Firestore",!0)),o.host!==mM&&o.host!==l&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!xs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=un.MOCK_USER;else{d=yz(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new un(p)}t._authCredentials=new Nq(new nD(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Ki extends ri{constructor(e,n,r){super(e,n,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ye(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function dn(t,e,...n){if(t=Et(t),pM("collection","path",e),t instanceof rg){const r=rt.fromString(e,...n);return kC(r),new Ki(t,null,r)}{if(!(t instanceof gn||t instanceof Ki))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return kC(r),new Ki(t.firestore,null,r)}}function Ut(t,e,...n){if(t=Et(t),arguments.length===1&&(e=sD.newId()),pM("doc","path",e),t instanceof rg){const r=rt.fromString(e,...n);return NC(r),new gn(t,null,new ye(r))}{if(!(t instanceof gn||t instanceof Ki))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return NC(r),new gn(t.firestore,t instanceof Ki?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="AsyncQueue";class OC{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new YD(this,"async_queue_retry"),this.ec=()=>{const r=$y();r&&ce(jC,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=$y();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=$y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Fs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!cc(e))throw e;ce(jC,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ks("INTERNAL UNHANDLED ERROR: ",LC(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=V_.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&_e(47125,{_c:LC(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function LC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ys extends rg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new OC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OC(e),this._firestoreClient=void 0,await e}}}function bQ(t,e){const n=typeof t=="object"?t:n_(),r=typeof t=="string"?t:Np,s=_a(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=mz("firestore");i&&_Q(s,...i)}return s}function sg(t){if(t._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EQ(t),t._firestoreClient}function EQ(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new Qq(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new mQ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(Zt.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=/^__.*__$/;class SQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fd(e,this.data,n,this.fieldTransforms)}}class gM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{hc:t})}}class og{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Up(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(yM(this.hc)&&TQ.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class CQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}gc(e,n,r,s=!1){return new og({hc:e,methodName:n,fc:r,path:Qt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new CQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vM(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Z_("Data must be an object, but it was:",o,r);const a=xM(r,o);let l,c;if(i.merge)l=new Jn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=X0(e,f,n);if(!o.contains(p))throw new ue(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);bM(d,p)||d.push(p)}l=new Jn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new SQ(new jn(a),l,c)}class lg extends Ta{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}function wM(t,e,n){return new og({hc:3,fc:e.settings.fc,methodName:t._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Q_ extends Ta{_toFieldTransform(e){return new Ym(e.path,new id)}isEqual(e){return e instanceof Q_}}class Y_ extends Ta{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=wM(this,e,!0),r=this.yc.map(i=>Sa(i,n)),s=new Bl(r);return new Ym(e.path,s)}isEqual(e){return e instanceof Y_&&xs(this.yc,e.yc)}}class X_ extends Ta{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=wM(this,e,!0),r=this.yc.map(i=>Sa(i,n)),s=new zl(r);return new Ym(e.path,s)}isEqual(e){return e instanceof X_&&xs(this.yc,e.yc)}}class J_ extends Ta{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new od(e.serializer,PD(e.serializer,this.wc));return new Ym(e.path,n)}isEqual(e){return e instanceof J_&&this.wc===e.wc}}function IQ(t,e,n,r){const s=t.gc(1,e,n);Z_("Data must be an object, but it was:",s,r);const i=[],o=jn.empty();go(r,(l,c)=>{const d=e1(e,l,n);c=Et(c);const f=s.Ac(d);if(c instanceof lg)i.push(d);else{const p=Sa(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Jn(i);return new gM(o,a,s.fieldTransforms)}function AQ(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[X0(e,r,n)],l=[s];if(i.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(X0(e,i[p])),l.push(i[p+1]);const c=[],d=jn.empty();for(let p=a.length-1;p>=0;--p)if(!bM(c,a[p])){const g=a[p];let x=l[p];x=Et(x);const y=o.Ac(g);if(x instanceof lg)c.push(g);else{const b=Sa(x,y);b!=null&&(c.push(g),d.set(g,b))}}const f=new Jn(c);return new gM(d,f,o.fieldTransforms)}function PQ(t,e,n,r=!1){return Sa(n,t.gc(r?4:3,e))}function Sa(t,e){if(_M(t=Et(t)))return Z_("Unsupported field value:",e,t),xM(t,e);if(t instanceof Ta)return function(r,s){if(!yM(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Sa(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ot.fromDate(r);return{timestampValue:jp(s.serializer,i)}}if(r instanceof ot){const i=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jp(s.serializer,i)}}if(r instanceof G_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:FD(s.serializer,r._byteString)};if(r instanceof gn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:P_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof K_)return function(o,a){return{mapValue:{fields:{[hD]:{stringValue:pD},[kp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return S_(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${ng(r)}`)}(t,e)}function xM(t,e){const n={};return oD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,s)=>{const i=Sa(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function _M(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof G_||t instanceof ql||t instanceof gn||t instanceof Ta||t instanceof K_)}function Z_(t,e,n){if(!_M(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ng(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function X0(t,e,n){if((e=Et(e))instanceof ig)return e._internalPath;if(typeof e=="string")return e1(t,e);throw Up("Field path arguments must be of type string or ",t,!1,void 0,n)}const RQ=new RegExp("[~\\*/\\[\\]]");function e1(t,e,n){if(e.search(RQ)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Up(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(W.INVALID_ARGUMENT,a+t+l)}function bM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NQ extends EM{data(){return super.data()}}function cg(t,e){return typeof e=="string"?e1(t,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t1{}class n1 extends t1{}function Ti(t,e,...n){let r=[];e instanceof t1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof r1).length,a=i.filter(l=>l instanceof ug).length;if(o>1||o>0&&a>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ug extends n1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=this._parse(e);return SM(e._query,n),new ri(e.firestore,e.converter,$0(e._query,n))}_parse(e){const n=ag(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){UC(f,d);const x=[];for(const y of f)x.push(FC(l,i,y));p={arrayValue:{values:x}}}else p=FC(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||UC(f,d),p=PQ(a,o,f,d==="in"||d==="not-in");return kt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qc(t,e,n){const r=e,s=cg("where",t);return ug._create(s,r,n)}class r1 extends t1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)SM(o,l),o=$0(o,l)}(e._query,n),new ri(e.firestore,e.converter,$0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s1 extends n1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s1(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(i,o)}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new uc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function i1(t,e="asc"){const n=e,r=cg("orderBy",t);return s1._create(r,n)}class o1 extends n1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o1(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,Mp(e._query,this._limit,this._limitType))}}function kQ(t){return o1._create("limit",t,"F")}function FC(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bD(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZS(t,new ye(r))}if(n instanceof gn)return ZS(t,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function UC(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SM(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DQ{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[kp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>St(o.doubleValue));return new K_(i)}convertGeoPoint(e){return new G_(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(td(e));default:return null}}convertTimestamp(e){const n=ro(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ge(HD(r),9688,{name:e});const s=new nd(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||Ks(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IM extends EM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rf extends IM{data(e={}){return super.data(e)}}class AM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Yc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rf(this._firestore,this._userDataWriter,r.key,r,new Yc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Rf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Rf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Yc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:MQ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){t=Bn(t,gn);const e=Bn(t.firestore,Ys);return vQ(sg(e),t._key).then(n=>RM(e,t,n))}class a1 extends DQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function ss(t){t=Bn(t,ri);const e=Bn(t.firestore,Ys),n=sg(e),r=new a1(e);return TM(t._query),wQ(n,t._query).then(s=>new AM(e,r,t,s))}function $p(t,e,n){t=Bn(t,gn);const r=Bn(t.firestore,Ys),s=CM(t.converter,e,n);return hg(r,[vM(ag(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yr.none())])}function Qo(t,e,n,...r){t=Bn(t,gn);const s=Bn(t.firestore,Ys),i=ag(s);let o;return o=typeof(e=Et(e))=="string"||e instanceof ig?AQ(i,"updateDoc",t._key,e,n,r):IQ(i,"updateDoc",t._key,e),hg(s,[o.toMutation(t._key,yr.exists(!0))])}function Si(t){return hg(Bn(t.firestore,Ys),[new C_(t._key,yr.none())])}function dg(t,e){const n=Bn(t.firestore,Ys),r=Ut(t),s=CM(t.converter,e);return hg(n,[vM(ag(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function PM(t,...e){var n,r,s;t=Et(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||VC(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(VC(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof gn)c=Bn(t.firestore,Ys),d=qm(t._key.path),l={next:f=>{e[o]&&e[o](RM(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Bn(t,ri);c=Bn(f.firestore,Ys),d=f._query;const p=new a1(c);l={next:g=>{e[o]&&e[o](new AM(c,p,f,g))},error:e[o+1],complete:e[o+2]},TM(t._query)}return function(p,g,x,y){const b=new q_(y),v=new z_(g,b,x);return p.asyncQueue.enqueueAndForget(async()=>U_(await Fp(p),v)),()=>{b.Cu(),p.asyncQueue.enqueueAndForget(async()=>$_(await Fp(p),v))}}(sg(c),d,a,l)}function hg(t,e){return function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget(async()=>oQ(await yQ(r),s,i)),i.promise}(sg(t),e)}function RM(t,e,n){const r=n.docs.get(e._key),s=new a1(t);return new IM(t,s,e._key,r,new Yc(n.hasPendingWrites,n.fromCache),e.converter)}function jQ(){return new Q_("serverTimestamp")}function OQ(...t){return new Y_("arrayUnion",t)}function LQ(...t){return new X_("arrayRemove",t)}function $C(t){return new J_("increment",t)}(function(e,n=!0){(function(s){ac=s})(ic),_s(new zr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ys(new kq(r.getProvider("auth-internal")),new jq(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),gr($S,BS,e),gr($S,BS,"esm2017")})();const NM=async t=>{try{const e=new FormData;e.append("file",t);const n=await fetch("https://store4.gofile.io/uploadFile",{method:"POST",body:e});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const r=await n.json();if(console.log("GoFile API Response:",r),r.status!=="ok"||!r.data)throw new Error("Upload failed: "+JSON.stringify(r));return{fileId:r.data.fileId||r.data.id,fileName:r.data.fileName||r.data.name,fileUrl:r.data.downloadPage||r.data.url}}catch(e){throw console.error("Error in uploadFileToGofile:",e),new Error(`Failed to upload file: ${e.message}`)}},VQ=async t=>{const e="https://api.gofile.io/deleteContent",n=new FormData;n.append("contentsId",t),n.append("token","ADcGHPd8aWmNV0h2Sxr5rEeEDFYLyTFW");try{const s=await(await fetch(e,{method:"POST",body:n})).json();if(s.status==="ok")console.log(`File ${t} deleted from GoFile.`);else throw new Error(`Failed to delete file from GoFile: ${s.status}`)}catch(r){throw console.error("Error deleting file from GoFile:",r),r}},FQ={apiKey:"AIzaSyBEQ4RINpi53JYlQfDwtuE8RZ9m9l87BvM",authDomain:"alpha-project-713de.firebaseapp.com",projectId:"alpha-project-713de",storageBucket:"alpha-project-713de.appspot.com",messagingSenderId:"551038009112",appId:"1:551038009112:web:9a3f5ddd6c0d2a0164286d",measurementId:"G-T1LYWSN7PS"},l1=Wk(FQ);lW(l1);const Rt=Aq(l1),Fe=bQ(l1),UQ=async(t,e,n)=>{try{return(await dg(dn(Fe,"subjects"),{name:t,stageId:e,course:n,createdAt:ot.now()})).id}catch(r){throw console.error("Error adding subject: ",r),r}},fg=async()=>{try{const t=dn(Fe,"subjects");return(await ss(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",stageId:r.stageId||"",course:r.course||"2",createdAt:r.createdAt||null}})}catch(t){throw console.error("Error getting subjects: ",t),t}},$Q=async(t,e,n,r)=>{try{const s=Ut(Fe,"subjects",t),i={name:e,stageId:n};r&&(i.course=r),await Qo(s,i)}catch(s){throw s}},BQ=async t=>{try{await Si(Ut(Fe,"subjects",t))}catch(e){throw console.error("Error deleting subject: ",e),e}},pg=async()=>{try{const t=dn(Fe,"stages");return(await ss(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||""}})}catch(t){throw console.error("Error getting stages: ",t),t}},zQ=async(t,e,n,r)=>{try{const s=await NM(r);if(!s||!s.fileId||!s.fileName||!s.fileUrl)throw new Error("Failed to upload file to Gofile, missing file information.");return(await dg(dn(Fe,"lectures"),{subjectId:t,title:e,description:n,fileId:s.fileId,fileName:s.fileName,fileUrl:s.fileUrl,createdAt:ot.now()})).id}catch(s){throw console.error("Error adding lecture: ",s),s}},c1=async t=>{try{const e=dn(Fe,"lectures"),n=t?Ti(e,Qc("subjectId","==",t)):e;return(await ss(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting lectures: ",e),e}},WQ=async(t,e,n,r,s)=>{try{const i=Ut(Fe,"lectures",t);await Qo(i,{title:e,description:n,fileId:s,fileName:"",fileUrl:""})}catch(i){throw console.error("Error updating lecture: ",i),i}},HQ=async(t,e)=>{try{if(e)try{await VQ(e)}catch(n){console.warn("Could not delete Gofile file, it might not exist or permissions are insufficient:",n)}await Si(Ut(Fe,"lectures",t))}catch(n){throw console.error("Error deleting lecture: ",n),n}},qQ=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState("");return m.useEffect(()=>{(async()=>{try{r(!0),i("");const a=await pg(),l=["المرحلة الأولى","المرحلة الثانية","المرحلة الثالثة","المرحلة الرابعة"],c=a.sort((d,f)=>{const p=l.indexOf(d.name),g=l.indexOf(f.name);return p-g});e(c)}catch(a){console.error("Error fetching stages:",a),i("فشل في جلب المراحل الدراسية.")}finally{r(!1)}})()},[]),n?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل المراحل الدراسية..."})}):s?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:s})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"container mx-auto px-4 py-12",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx(yf,{className:"h-12 w-12 text-primary mr-3"}),u.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"المحاضرات"})]}),u.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"اختر المرحلة الدراسية للوصول إلى المواد والمحاضرات المطلوبة"})]}),t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(yf,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مراحل دراسية حاليًا."}),u.jsx("p",{className:"text-muted-foreground",children:"يبدو أنه لم يتم إضافة أي مراحل دراسية حتى الآن."})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(o=>{var a,l;return u.jsx(Ye,{to:`/lectures/${o.id}`,children:u.jsxs(ct,{className:"shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer",children:[u.jsxs(It,{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 ${o.color||"bg-gray-500"} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner`,children:u.jsx(yf,{className:"h-8 w-8 text-primary-foreground"})}),u.jsx(_t,{className:"text-xl font-semibold text-foreground",children:o.name})]}),u.jsx(bt,{className:"text-center",children:u.jsxs("div",{className:`flex items-center justify-center font-medium text-${((a=o.color)==null?void 0:a.split("-")[1])||"gray"}-600`,children:[u.jsx("span",{children:"عرض المواد"}),u.jsx(kx,{className:`mr-2 h-4 w-4 text-${((l=o.color)==null?void 0:l.split("-")[1])||"gray"}-600`})]})})]})},o.id)})})]})})},GQ=()=>{const{stageId:t}=Zx(),[e,n]=m.useState(null),[r,s]=m.useState([]),[i,o]=m.useState(!0),[a,l]=m.useState(""),[c,d]=m.useState("2");return m.useEffect(()=>{(async()=>{try{o(!0),l("");const g=(await pg()).find(x=>x.id===t);if(n(g||null),g){let y=(await fg()).filter(b=>b.stageId===g.id);g.name==="المرحلة الثانية"&&(y=y.filter(b=>(b.course||"2")===c)),s(y)}}catch(p){console.error("Error fetching data for stage page:",p),l("فشل في جلب بيانات المرحلة والمواد.")}finally{o(!1)}})()},[t,c]),i?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل بيانات المرحلة..."})}):a?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:a}),u.jsxs(Ye,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]})]}):e?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(Ye,{to:"/lectures",className:"text-primary hover:underline flex items-center w-fit mb-4",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]}),u.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[u.jsx(yf,{className:"h-8 w-8 ml-3 text-primary"}),"مرحلة ",e.name]}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"المواد المتاحة لهذه المرحلة."})]}),e.name==="المرحلة الثانية"&&u.jsxs("div",{className:"flex gap-4 mb-8 justify-center",children:[u.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="1"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("1"),children:"الكورس الأول"}),u.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="2"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("2"),children:"الكورس الثاني"})]}),e.name==="المرحلة الثانية"?c==="1"&&r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Qn,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد في الكورس الأول."}),u.jsx("p",{className:"text-muted-foreground",children:"سيتم إضافة مواد الكورس الأول لاحقًا."})]}):c==="2"&&r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Qn,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد حاليًا."}),u.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المرحلة لا تحتوي على أي مواد حتى الآن."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(It,{children:[u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Qn,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),u.jsx(Kt,{className:"text-muted-foreground mt-2",children:"استكشف المحاضرات المتاحة لهذه المادة."})]}),u.jsx(bt,{className:"flex justify-end",children:u.jsx(Ie,{asChild:!0,children:u.jsxs(Ye,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:["عرض المحاضرات",u.jsx(fr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))}):r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Qn,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد حاليًا."}),u.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المرحلة لا تحتوي على أي مواد حتى الآن."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(It,{children:[u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Qn,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),u.jsx(Kt,{className:"text-muted-foreground mt-2",children:"استكشف المحاضرات المتاحة لهذه المادة."})]}),u.jsx(bt,{className:"flex justify-end",children:u.jsx(Ie,{asChild:!0,children:u.jsxs(Ye,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:["عرض المحاضرات",u.jsx(fr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المرحلة غير موجودة."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن المرحلة التي تبحث عنها غير موجودة أو تم حذفها."}),u.jsxs(Ye,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]})]})},KQ=()=>{const{stageId:t,subjectId:e}=Zx(),[n,r]=m.useState(null),[s,i]=m.useState([]),[o,a]=m.useState(""),[l,c]=m.useState(!0),[d,f]=m.useState("");return m.useEffect(()=>{(async()=>{try{c(!0),f("");const x=(await pg()).find(v=>v.id===t);x&&a(x.name);const b=(await fg()).find(v=>v.id===e&&v.stageId===t);if(r(b||null),b){const _=(await c1(b.id)).sort((E,A)=>{const N=E.createdAt?new Date(E.createdAt.toMillis()):new Date(0),j=A.createdAt?new Date(A.createdAt.toMillis()):new Date(0);return N.getTime()-j.getTime()});i(_)}}catch(g){console.error("Error fetching data for subject page:",g),f("فشل في جلب بيانات المادة والمحاضرات.")}finally{c(!1)}})()},[t,e]),l?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل بيانات المادة..."})}):d?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:d}),u.jsxs(Ye,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المرحلة"]})]}):n?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(Ye,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center w-fit mb-4",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى ",o||"المرحلة"]}),u.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[u.jsx(Qn,{className:"h-8 w-8 ml-3 text-primary"}),n.name]}),u.jsx("p",{className:"text-xl text-muted-foreground",children:"المحاضرات المتاحة لهذه المادة."})]}),s.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(jo,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),u.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد محاضرات حاليًا."}),u.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المادة لا تحتوي على أي محاضرات حتى الآن."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(p=>u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[u.jsxs(It,{children:[u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(jo,{className:"h-5 w-5 ml-2 text-primary"}),p.title]}),u.jsx(Kt,{className:"text-muted-foreground mt-2",children:p.description})]}),u.jsx(bt,{className:"flex justify-end",children:p.fileUrl&&u.jsx(Ie,{asChild:!0,children:u.jsxs("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:["عرض المحاضرة",u.jsx(k6,{className:"mr-2 h-4 w-4"})]})})})]},p.id))})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المادة غير موجودة."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن المادة التي تبحث عنها غير موجودة أو تم حذفها."}),u.jsxs(Ye,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المرحلة"]})]})},QQ=()=>{const{stageId:t,subjectId:e,lectureId:n}=Zx(),[r,s]=m.useState(null),[i,o]=m.useState(null),[a,l]=m.useState(null),[c,d]=m.useState(!0),[f,p]=m.useState("");m.useEffect(()=>{(async()=>{d(!0),p("");try{const b=(await c1(e)).find(v=>v.id===n);if(b){s(b);const _=(await fg()).find(E=>E.id===b.subjectId);if(o(_||null),_){const A=(await pg()).find(N=>N.id===_.stageId);l(A||null)}}else p("المحاضرة غير موجودة.")}catch(y){console.error("Error fetching lecture data:",y),p("فشل في جلب بيانات المحاضرة.")}finally{d(!1)}})()},[t,e,n]);const g=async()=>{try{if(!(r!=null&&r.fileUrl))throw new Error("رابط الملف غير متوفر.");window.open(r.fileUrl,"_blank")}catch(x){console.error("Error downloading lecture:",x),p("حدث خطأ أثناء تحميل المحاضرة. يرجى المحاولة مرة أخرى.")}};return c?u.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل المحاضرة..."})}):f?u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsxs("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:["خطأ: ",f]}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"حدث خطأ أثناء جلب المحاضرة."}),u.jsxs(Ye,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المادة"]})]}):r?u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsx("div",{className:"flex items-center mb-6",children:u.jsxs(Ye,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center",children:[u.jsx(fr,{className:"ml-2 h-5 w-5"}),"العودة إلى ",(i==null?void 0:i.name)||"المادة"]})}),u.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:r.title}),u.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:r.description}),r.fileUrl?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(Ie,{onClick:g,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 mb-4",children:"تنزيل المحاضرة"}),u.jsx("div",{className:"w-full h-[80vh] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:u.jsx("iframe",{src:r.fileUrl,className:"w-full h-full border-none",title:r.fileName||"Lecture PDF",allowFullScreen:!0})})]}):u.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card text-muted-foreground",children:[u.jsx("p",{className:"text-xl",children:"لا يوجد ملف محاضرة متاح للعرض."}),u.jsx("p",{className:"mt-2",children:"الرجاء التأكد من تحميل الملف بشكل صحيح."})]})]}):u.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المحاضرة غير موجودة حاليًا."}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن هذه المحاضرة غير متاحة أو لا توجد محاضرات في هذه المادة."}),u.jsxs(Ye,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[u.jsx(fr,{className:"ml-2 h-4 w-4"}),"العودة إلى المادة"]})]})},Cn=m.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Cn.displayName="Input";var YQ="Label",kM=m.forwardRef((t,e)=>u.jsx(Te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kM.displayName=YQ;var DM=kM;const XQ=Pd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fo=m.forwardRef(({className:t,...e},n)=>u.jsx(DM,{ref:n,className:ae(XQ(),t),...e}));Fo.displayName=DM.displayName;const u1=m.createContext({});function d1(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const h1=typeof window<"u",MM=h1?m.useLayoutEffect:m.useEffect,mg=m.createContext(null);function f1(t,e){t.indexOf(e)===-1&&t.push(e)}function p1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xs=(t,e,n)=>n>e?e:n<t?t:n;let Bp=()=>{};const Js={},jM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OM(t){return typeof t=="object"&&t!==null}const LM=t=>/^0[^.\s]+$/u.test(t);function m1(t){let e;return()=>(e===void 0&&(e=t()),e)}const vr=t=>t,JQ=(t,e)=>n=>e(t(n)),zd=(...t)=>t.reduce(JQ),ad=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class g1{constructor(){this.subscriptions=[]}add(e){return f1(this.subscriptions,e),()=>p1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=t=>t*1e3,ys=t=>t/1e3;function VM(t,e){return e?t*(1e3/e):0}const FM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZQ=1e-7,eY=12;function tY(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=FM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>ZQ&&++a<eY);return o}function Wd(t,e,n,r){if(t===e&&n===r)return vr;const s=i=>tY(i,0,1,t,n);return i=>i===0||i===1?i:FM(s(i),e,r)}const UM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$M=t=>e=>1-t(1-e),BM=Wd(.33,1.53,.69,.99),y1=$M(BM),zM=UM(y1),WM=t=>(t*=2)<1?.5*y1(t):.5*(2-Math.pow(2,-10*(t-1))),v1=t=>1-Math.sin(Math.acos(t)),HM=$M(v1),qM=UM(v1),nY=Wd(.42,0,1,1),rY=Wd(0,0,.58,1),GM=Wd(.42,0,.58,1),sY=t=>Array.isArray(t)&&typeof t[0]!="number",KM=t=>Array.isArray(t)&&typeof t[0]=="number",BC={linear:vr,easeIn:nY,easeInOut:GM,easeOut:rY,circIn:v1,circInOut:qM,circOut:HM,backIn:y1,backInOut:zM,backOut:BM,anticipate:WM},iY=t=>typeof t=="string",zC=t=>{if(KM(t)){Bp(t.length===4);const[e,n,r,s]=t;return Wd(e,n,r,s)}else if(iY(t))return Bp(BC[t]!==void 0),BC[t];return t},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],WC={value:null,addProjectionMetrics:null};function oY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,g=!1)=>{const y=g&&s?n:r;return p&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&WC.value&&WC.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const aY=40;function QM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gh.reduce((E,A)=>(E[A]=oY(i,e?A:void 0),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:x}=o,y=()=>{const E=Js.useManualTiming?s.timestamp:performance.now();n=!1,Js.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,aY),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Gh.reduce((E,A)=>{const N=o[A];return E[A]=(j,C=!1,S=!1)=>(n||b(),N.schedule(j,C,S)),E},{}),cancel:E=>{for(let A=0;A<Gh.length;A++)o[Gh[A]].cancel(E)},state:s,steps:o}}const{schedule:ft,cancel:lo,state:qt,steps:zy}=QM(typeof requestAnimationFrame<"u"?requestAnimationFrame:vr,!0);let Nf;function lY(){Nf=void 0}const Ln={now:()=>(Nf===void 0&&Ln.set(qt.isProcessing||Js.useManualTiming?qt.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(lY)}},YM=t=>e=>typeof e=="string"&&e.startsWith(t),w1=YM("--"),cY=YM("var(--"),x1=t=>cY(t)?uY.test(t.split("/*")[0].trim()):!1,uY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ld={...hc,transform:t=>Xs(0,1,t)},Kh={...hc,default:1},_u=t=>Math.round(t*1e5)/1e5,_1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dY(t){return t==null}const hY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,b1=(t,e)=>n=>!!(typeof n=="string"&&hY.test(n)&&n.startsWith(t)||e&&!dY(n)&&Object.prototype.hasOwnProperty.call(n,e)),XM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(_1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},fY=t=>Xs(0,255,t),Wy={...hc,transform:t=>Math.round(fY(t))},Uo={test:b1("rgb","red"),parse:XM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wy.transform(t)+", "+Wy.transform(e)+", "+Wy.transform(n)+", "+_u(ld.transform(r))+")"};function pY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const J0={test:b1("#"),parse:pY,transform:Uo.transform},Hd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=Hd("deg"),vs=Hd("%"),Ee=Hd("px"),mY=Hd("vh"),gY=Hd("vw"),HC={...vs,parse:t=>vs.parse(t)/100,transform:t=>vs.transform(t*100)},el={test:b1("hsl","hue"),parse:XM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vs.transform(_u(e))+", "+vs.transform(_u(n))+", "+_u(ld.transform(r))+")"},cn={test:t=>Uo.test(t)||J0.test(t)||el.test(t),parse:t=>Uo.test(t)?Uo.parse(t):el.test(t)?el.parse(t):J0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Uo.transform(t):el.transform(t)},yY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_1))==null?void 0:e.length)||0)+(((n=t.match(yY))==null?void 0:n.length)||0)>0}const JM="number",ZM="color",wY="var",xY="var(",qC="${}",_Y=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(_Y,l=>(cn.test(l)?(r.color.push(i),s.push(ZM),n.push(cn.parse(l))):l.startsWith(xY)?(r.var.push(i),s.push(wY),n.push(l)):(r.number.push(i),s.push(JM),n.push(parseFloat(l))),++i,qC)).split(qC);return{values:n,split:a,indexes:r,types:s}}function ej(t){return cd(t).values}function tj(t){const{split:e,types:n}=cd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===JM?i+=_u(s[o]):a===ZM?i+=cn.transform(s[o]):i+=s[o]}return i}}const bY=t=>typeof t=="number"?0:t;function EY(t){const e=ej(t);return tj(t)(e.map(bY))}const co={test:vY,parse:ej,createTransformer:tj,getAnimatableNone:EY};function Hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Hy(l,a,t+1/3),i=Hy(l,a,t),o=Hy(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function zp(t,e){return n=>n>0?e:t}const ut=(t,e,n)=>t+(e-t)*n,qy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},SY=[J0,Uo,el],CY=t=>SY.find(e=>e.test(t));function GC(t){const e=CY(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=TY(n)),n}const KC=(t,e)=>{const n=GC(t),r=GC(e);if(!n||!r)return zp(t,e);const s={...n};return i=>(s.red=qy(n.red,r.red,i),s.green=qy(n.green,r.green,i),s.blue=qy(n.blue,r.blue,i),s.alpha=ut(n.alpha,r.alpha,i),Uo.transform(s))},Z0=new Set(["none","hidden"]);function IY(t,e){return Z0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AY(t,e){return n=>ut(t,e,n)}function E1(t){return typeof t=="number"?AY:typeof t=="string"?x1(t)?zp:cn.test(t)?KC:NY:Array.isArray(t)?nj:typeof t=="object"?cn.test(t)?KC:PY:zp}function nj(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>E1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function PY(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=E1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function RY(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const NY=(t,e)=>{const n=co.createTransformer(e),r=cd(t),s=cd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Z0.has(t)&&!s.values.length||Z0.has(e)&&!r.values.length?IY(t,e):zd(nj(RY(r,s),s.values),n):zp(t,e)};function rj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):E1(t)(t,e)}const kY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>lo(e),now:()=>qt.isProcessing?qt.timestamp:Ln.now()}},sj=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Wp=2e4;function T1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wp;)e+=n,r=t.next(e);return e>=Wp?1/0:e}function DY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(T1(r),Wp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:ys(s)}}const MY=5;function ij(t,e,n){const r=Math.max(e-MY,0);return VM(n-t(r),e-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gy=.001;function jY({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let s,i,o=1-e;o=Xs(wt.minDamping,wt.maxDamping,o),t=Xs(wt.minDuration,wt.maxDuration,ys(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,g=ew(c,o),x=Math.exp(-f);return Gy-p/g*x},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-f),y=ew(Math.pow(c,2),o);return(-s(c)+Gy>0?-1:1)*((p-g)*x)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Gy+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=LY(s,i,a);if(t=gs(t),isNaN(l))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const OY=12;function LY(t,e,n){let r=n;for(let s=1;s<OY;s++)r=r-t(r)/e(r);return r}function ew(t,e){return t*Math.sqrt(1-e*e)}const VY=["duration","bounce"],FY=["stiffness","damping","mass"];function QC(t,e){return e.some(n=>t[n]!==void 0)}function UY(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!QC(t,FY)&&QC(t,VY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Xs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:wt.mass,stiffness:s,damping:i}}else{const n=jY(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function Hp(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=UY({...n,velocity:-ys(n.velocity||0)}),x=p||0,y=c/(2*Math.sqrt(l*d)),b=o-i,v=ys(Math.sqrt(l/d)),_=Math.abs(b)<5;r||(r=_?wt.restSpeed.granular:wt.restSpeed.default),s||(s=_?wt.restDelta.granular:wt.restDelta.default);let E;if(y<1){const N=ew(v,y);E=j=>{const C=Math.exp(-y*v*j);return o-C*((x+y*v*b)/N*Math.sin(N*j)+b*Math.cos(N*j))}}else if(y===1)E=N=>o-Math.exp(-v*N)*(b+(x+v*b)*N);else{const N=v*Math.sqrt(y*y-1);E=j=>{const C=Math.exp(-y*v*j),S=Math.min(N*j,300);return o-C*((x+y*v*b)*Math.sinh(S)+N*b*Math.cosh(S))/N}}const A={calculatedDuration:g&&f||null,next:N=>{const j=E(N);if(g)a.done=N>=f;else{let C=N===0?x:0;y<1&&(C=N===0?gs(x):ij(E,N,j));const S=Math.abs(C)<=r,I=Math.abs(o-j)<=s;a.done=S&&I}return a.value=a.done?o:j,a},toString:()=>{const N=Math.min(T1(A),Wp),j=sj(C=>A.next(N*C).value,N,30);return N+"ms "+j},toTransition:()=>{}};return A}Hp.applyToOptions=t=>{const e=DY(t,100,Hp);return t.ease=e.ease,t.duration=gs(e.duration),t.type="keyframes",t};function tw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,x=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const b=f+y,v=o===void 0?b:o(b);v!==b&&(y=v-f);const _=S=>-y*Math.exp(-S/r),E=S=>v+_(S),A=S=>{const I=_(S),P=E(S);p.done=Math.abs(I)<=c,p.value=p.done?v:P};let N,j;const C=S=>{g(p.value)&&(N=S,j=Hp({keyframes:[p.value,x(p.value)],velocity:ij(E,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!j&&N===void 0&&(I=!0,A(S),C(S)),N!==void 0&&S>=N?j.next(S-N):(!I&&A(S),p)}}}function $Y(t,e,n){const r=[],s=n||Js.mix||rj,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vr:e;a=zd(l,a)}r.push(a)}return r}function BY(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Bp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=$Y(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=ad(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Xs(t[0],t[i-1],d)):c}function zY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ad(0,e,r);t.push(ut(n,1,s))}}function WY(t){const e=[0];return zY(e,t.length-1),e}function HY(t,e){return t.map(n=>n*e)}function qY(t,e){return t.map(()=>e||GM).splice(0,t.length-1)}function bu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=sY(r)?r.map(zC):zC(r),i={done:!1,value:e[0]},o=HY(n&&n.length===e.length?n:WY(e),t),a=BY(o,e,{ease:Array.isArray(s)?s:qY(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const GY=t=>t!==null;function S1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(GY),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const KY={decay:tw,inertia:tw,tween:bu,keyframes:bu,spring:Hp};function oj(t){typeof t.type=="string"&&(t.type=KY[t.type])}class C1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const QY=t=>t/100;class I1 extends C1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oj(e);const{type:n=bu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||bu;l!==bu&&typeof a[0]!="number"&&(this.mixKeyframes=zd(QY,rj(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=T1(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,A=r;if(f){const S=Math.min(this.currentTime,s)/a;let I=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(P=1-P,g&&(P-=g/a)):p==="mirror"&&(A=o)),E=Xs(0,1,P)*a}const N=_?{done:!1,value:d[0]}:A.next(E);i&&(N.value=i(N.value));let{done:j}=N;!_&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&x!==tw&&(N.value=S1(d,this.options,b,this.speed)),y&&y(N.value),C&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return ys(this.calculatedDuration)}get time(){return ys(this.currentTime)}set time(e){var n;e=gs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ys(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=kY,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function YY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $o=t=>t*180/Math.PI,nw=t=>{const e=$o(Math.atan2(t[1],t[0]));return rw(e)},XY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nw,rotateZ:nw,skewX:t=>$o(Math.atan(t[1])),skewY:t=>$o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rw=t=>(t=t%360,t<0&&(t+=360),t),YC=nw,XC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),JC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),JY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XC,scaleY:JC,scale:t=>(XC(t)+JC(t))/2,rotateX:t=>rw($o(Math.atan2(t[6],t[5]))),rotateY:t=>rw($o(Math.atan2(-t[2],t[0]))),rotateZ:YC,rotate:YC,skewX:t=>$o(Math.atan(t[4])),skewY:t=>$o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sw(t){return t.includes("scale")?1:0}function iw(t,e){if(!t||t==="none")return sw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=JY,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XY,s=a}if(!s)return sw(e);const i=r[e],o=s[1].split(",").map(eX);return typeof i=="function"?i(o):o[i]}const ZY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return iw(n,e)};function eX(t){return parseFloat(t.trim())}const fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(fc),ZC=t=>t===hc||t===Ee,tX=new Set(["x","y","z"]),nX=fc.filter(t=>!tX.has(t));function rX(t){const e=[];return nX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>iw(e,"x"),y:(t,{transform:e})=>iw(e,"y")};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const Xo=new Set;let ow=!1,aw=!1,lw=!1;function aj(){if(aw){const t=Array.from(Xo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=rX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aw=!1,ow=!1,Xo.forEach(t=>t.complete(lw)),Xo.clear()}function lj(){Xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aw=!0)})}function sX(){lw=!0,lj(),aj(),lw=!1}class A1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xo.add(this),ow||(ow=!0,ft.read(lj),ft.resolveKeyframes(aj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}YY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xo.delete(this)}cancel(){this.state==="scheduled"&&(Xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iX=t=>t.startsWith("--");function oX(t,e,n){iX(e)?t.style.setProperty(e,n):t.style[e]=n}const aX=m1(()=>window.ScrollTimeline!==void 0),lX={};function cX(t,e){const n=m1(t);return()=>lX[e]??n()}const cj=cX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xc([0,.65,.55,1]),circOut:Xc([.55,0,1,.45]),backIn:Xc([.31,.01,.66,-.59]),backOut:Xc([.33,1.53,.69,.99])};function uj(t,e){if(t)return typeof t=="function"?cj()?sj(t,e):"ease-out":KM(t)?Xc(t):Array.isArray(t)?t.map(n=>uj(n,e)||eI.easeOut):eI[t]}function uX(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=uj(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function dj(t){return typeof t=="function"&&"applyToOptions"in t}function dX({type:t,...e}){return dj(t)&&cj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hX extends C1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Bp(typeof e.type!="string");const c=dX(e);this.animation=uX(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=S1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):oX(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ys(Number(e))}get time(){return ys(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&aX()?(this.animation.timeline=e,vr):n(this)}}const hj={anticipate:WM,backInOut:zM,circInOut:qM};function fX(t){return t in hj}function pX(t){typeof t.ease=="string"&&fX(t.ease)&&(t.ease=hj[t.ease])}const tI=10;class mX extends hX{constructor(e){pX(e),oj(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new I1({...o,autoplay:!1}),l=gs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-tI).value,a.sample(l).value,tI),a.stop()}}const nI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(co.test(t)||t==="0")&&!t.startsWith("url("));function gX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=nI(s,e),a=nI(i,e);return!o||!a?!1:gX(t)||(n==="spring"||dj(n))&&r}function P1(t){return OM(t)&&"offsetHeight"in t}const vX=new Set(["opacity","clipPath","filter","transform"]),wX=m1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xX(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!P1((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return wX()&&n&&vX.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const _X=40;class bX extends C1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var x;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ln.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||A1;this.keyframeResolver=new g(a,(y,b,v)=>this.onKeyframesResolved(y,b,p,!v),l,c,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ln.now(),yX(e,i,o,a)||((Js.instantAnimations||!l)&&(d==null||d(S1(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_X?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&xX(p)?new mX({...p,element:p.motionValue.owner.current}):new I1(p);g.finished.then(()=>this.notifyFinished()).catch(vr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),sX()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const EX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TX(t){const e=EX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function fj(t,e,n=1){const[r,s]=TX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return jM(o)?parseFloat(o):o}return x1(s)?fj(s,e,n+1):s}function R1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pj=new Set(["width","height","top","left","right","bottom",...fc]),SX={test:t=>t==="auto",parse:t=>t},mj=t=>e=>e.test(t),gj=[hc,Ee,vs,pi,gY,mY,SX],rI=t=>gj.find(mj(t));function CX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LM(t):!0}const IX=new Set(["brightness","contrast","saturate","opacity"]);function AX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_1)||[];if(!r)return t;const s=n.replace(r,"");let i=IX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const PX=/\b([a-z-]*)\(.*?\)/gu,cw={...co,getAnimatableNone:t=>{const e=t.match(PX);return e?e.map(AX).join(" "):t}},sI={...hc,transform:Math.round},RX={rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:Kh,scaleX:Kh,scaleY:Kh,scaleZ:Kh,skew:pi,skewX:pi,skewY:pi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ld,originX:HC,originY:HC,originZ:Ee},N1={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...RX,zIndex:sI,fillOpacity:ld,strokeOpacity:ld,numOctaves:sI},NX={...N1,color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:cw,WebkitFilter:cw},yj=t=>NX[t];function vj(t,e){let n=yj(t);return n!==cw&&(n=co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kX=new Set(["auto","none","0"]);function DX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kX.has(i)&&cd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=vj(n,s)}class MX extends A1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),x1(c))){const d=fj(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!pj.has(r)||e.length!==2)return;const[s,i]=e,o=rI(s),a=rI(i);if(o!==a)if(ZC(o)&&ZC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||CX(e[s]))&&r.push(s);r.length&&DX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Yo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function jX(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const wj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,iI=30,OX=t=>!isNaN(parseFloat(t));class LX{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Ln.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new g1);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iI);return VM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new LX(t,e)}const{schedule:k1,cancel:Goe}=QM(queueMicrotask,!1),Ar={x:!1,y:!1};function xj(){return Ar.x||Ar.y}function VX(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function _j(t,e){const n=jX(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function oI(t){return!(t.pointerType==="touch"||xj())}function FX(t,e,n={}){const[r,s,i]=_j(t,n),o=a=>{if(!oI(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{oI(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const bj=(t,e)=>e?t===e?!0:bj(t,e.parentElement):!1,D1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $X(t){return UX.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function aI(t){return e=>{e.key==="Enter"&&t(e)}}function Ky(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=aI(()=>{if(kf.has(n))return;Ky(n,"down");const s=aI(()=>{Ky(n,"up")}),i=()=>Ky(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lI(t){return D1(t)&&!xj()}function zX(t,e,n={}){const[r,s,i]=_j(t,n),o=a=>{const l=a.currentTarget;if(!lI(a))return;kf.add(l);const c=e(l,a),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),kf.has(l)&&kf.delete(l),lI(g)&&typeof c=="function"&&c(g,{success:x})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||bj(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),P1(a)&&(a.addEventListener("focus",c=>BX(c,s)),!$X(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ej(t){return OM(t)&&"ownerSVGElement"in t}function WX(t){return Ej(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),HX=[...gj,cn,co],qX=t=>HX.find(mj(t)),M1=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class GX extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=P1(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KX({children:t,isPresent:e,anchorX:n}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(M1);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),u.jsx(GX,{isPresent:e,childRef:s,sizeRef:i,children:m.cloneElement(t,{ref:s})})}const QX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=d1(YX),c=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(f={...f}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(KX,{isPresent:n,anchorX:a,children:t})),u.jsx(mg.Provider,{value:f,children:t})};function YX(){return new Map}function Tj(t=!0){const e=m.useContext(mg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{if(t)return s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Qh=t=>t.key||"";function cI(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const uw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=Tj(o),d=m.useMemo(()=>cI(t),[t]),f=o&&!l?[]:d.map(Qh),p=m.useRef(!0),g=m.useRef(d),x=d1(()=>new Map),[y,b]=m.useState(d),[v,_]=m.useState(d);MM(()=>{p.current=!1,g.current=d;for(let N=0;N<v.length;N++){const j=Qh(v[N]);f.includes(j)?x.delete(j):x.get(j)!==!0&&x.set(j,!1)}},[v,f.length,f.join("-")]);const E=[];if(d!==y){let N=[...d];for(let j=0;j<v.length;j++){const C=v[j],S=Qh(C);f.includes(S)||(N.splice(j,0,C),E.push(C))}return i==="wait"&&E.length&&(N=E),_(cI(N)),b(d),null}const{forceRender:A}=m.useContext(u1);return u.jsx(u.Fragment,{children:v.map(N=>{const j=Qh(N),C=o&&!l?!1:d===v||f.includes(j),S=()=>{if(x.has(j))x.set(j,!0);else return;let I=!0;x.forEach(P=>{P||(I=!1)}),I&&(A==null||A(),_(g.current),o&&(c==null||c()),r&&r())};return u.jsx(QX,{isPresent:C,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:S,anchorX:a,children:N},j)})})},Sj=m.createContext({strict:!1}),uI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ql={};for(const t in uI)Ql[t]={isEnabled:e=>uI[t].some(n=>!!e[n])};function XX(t){for(const e in t)Ql[e]={...Ql[e],...t[e]}}const JX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JX.has(t)}let Cj=t=>!qp(t);function ZX(t){t&&(Cj=e=>e.startsWith("on")?!qp(e):t(e))}try{ZX(require("@emotion/is-prop-valid").default)}catch{}function eJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Cj(s)||n===!0&&qp(s)||!e&&!qp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function tJ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const gg=m.createContext({});function yg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ud(t){return typeof t=="string"||Array.isArray(t)}const j1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O1=["initial",...j1];function vg(t){return yg(t.animate)||O1.some(e=>ud(t[e]))}function Ij(t){return!!(vg(t)||t.variants)}function nJ(t,e){if(vg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ud(n)?n:void 0,animate:ud(r)?r:void 0}}return t.inherit!==!1?e:{}}function rJ(t){const{initial:e,animate:n}=nJ(t,m.useContext(gg));return m.useMemo(()=>({initial:e,animate:n}),[dI(e),dI(n)])}function dI(t){return Array.isArray(t)?t.join(" "):t}const sJ=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iJ(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const L1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oJ="framerAppearId",Aj="data-"+L1(oJ),Pj=m.createContext({});function aJ(t,e,n,r,s){var y,b;const{visualElement:i}=m.useContext(gg),o=m.useContext(Sj),a=m.useContext(mg),l=m.useContext(M1).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=m.useContext(Pj);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&lJ(c.current,n,s,f);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[Aj],x=m.useRef(!!g&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return MM(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),k1.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),x.current=!1))}),d}function lJ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Rj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&tl(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function Rj(t){if(t)return t.options.allowProjection!==!1?t.projection:Rj(t.parent)}function cJ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&XX(t);function i(a,l){let c;const d={...m.useContext(M1),...a,layoutId:uJ(a)},{isStatic:f}=d,p=rJ(a),g=r(a,f);if(!f&&h1){dJ();const x=hJ(d);c=x.MeasureLayout,p.visualElement=aJ(s,g,d,e,x.ProjectionNode)}return u.jsxs(gg.Provider,{value:p,children:[c&&p.visualElement?u.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,iJ(g,p.visualElement,l),g,f,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=m.forwardRef(i);return o[sJ]=s,o}function uJ({layoutId:t}){const e=m.useContext(u1).id;return e&&t!==void 0?e+"-"+t:t}function dJ(t,e){m.useContext(Sj).strict}function hJ(t){const{drag:e,layout:n}=Ql;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dd={};function fJ(t){for(const e in t)dd[e]=t[e],w1(e)&&(dd[e].isCSSVariable=!0)}function Nj(t,{layout:e,layoutId:n}){return pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dd[t]||t==="opacity")}const pJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mJ=fc.length;function gJ(t,e,n){let r="",s=!0;for(let i=0;i<mJ;i++){const o=fc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=wj(a,N1[o]);if(!l){s=!1;const d=pJ[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function V1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(pc.has(l)){o=!0;continue}else if(w1(l)){s[l]=c;continue}else{const d=wj(c,N1[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=gJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const F1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kj(t,e,n){for(const r in e)!pn(e[r])&&!Nj(r,n)&&(t[r]=e[r])}function yJ({transformTemplate:t},e){return m.useMemo(()=>{const n=F1();return V1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vJ(t,e){const n=t.style||{},r={};return kj(r,n,t),Object.assign(r,yJ(t,e)),r}function wJ(t,e){const n={},r=vJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const xJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},_J={offset:"strokeDashoffset",array:"strokeDasharray"};function bJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?xJ:_J;t[i.offset]=Ee.transform(-r);const o=Ee.transform(e),a=Ee.transform(n);t[i.array]=`${o} ${a}`}function Dj(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(V1(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&bJ(f,s,i,o,!1)}const Mj=()=>({...F1(),attrs:{}}),jj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EJ(t,e,n,r){const s=m.useMemo(()=>{const i=Mj();return Dj(i,e,jj(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};kj(i,t.style,t),s.style={...i,...s.style}}return s}const TJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U1(t){return typeof t!="string"||t.includes("-")?!1:!!(TJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function SJ(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(U1(n)?EJ:wJ)(r,i,o,n),c=eJ(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:f}=r,p=m.useMemo(()=>pn(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function hI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $1(t,e,n,r){if(typeof e=="function"){const[s,i]=hI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=hI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Df(t){return pn(t)?t.get():t}function CJ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:IJ(n,r,s,t),renderState:e()}}const Oj=t=>(e,n)=>{const r=m.useContext(gg),s=m.useContext(mg),i=()=>CJ(t,e,r,s);return n?i():d1(i)};function IJ(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Df(i[p]);let{initial:o,animate:a}=t;const l=vg(t),c=Ij(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!yg(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=$1(t,p[g]);if(x){const{transitionEnd:y,transition:b,...v}=x;for(const _ in v){let E=v[_];if(Array.isArray(E)){const A=d?E.length-1:0;E=E[A]}E!==null&&(s[_]=E)}for(const _ in y)s[_]=y[_]}}}return s}function B1(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(pn(r[o])||e.style&&pn(e.style[o])||Nj(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const AJ={useVisualState:Oj({scrapeMotionValuesFromProps:B1,createRenderState:F1})};function Lj(t,e,n){const r=B1(t,e,n);for(const s in t)if(pn(t[s])||pn(e[s])){const i=fc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const PJ={useVisualState:Oj({scrapeMotionValuesFromProps:Lj,createRenderState:Mj})};function RJ(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...U1(r)?PJ:AJ,preloadedFeatures:t,useRender:SJ(s),createVisualElement:e,Component:r};return cJ(o)}}function hd(t,e,n){const r=t.getProps();return $1(r,e,n!==void 0?n:r.custom,t)}const dw=t=>Array.isArray(t);function NJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function kJ(t){return dw(t)?t[t.length-1]||0:t}function DJ(t,e){const n=hd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=kJ(i[o]);NJ(t,o,a)}}function MJ(t){return!!(pn(t)&&t.add)}function hw(t,e){const n=t.getValue("willChange");if(MJ(n))return n.add(e);if(!n&&Js.WillChange){const r=new Js.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Vj(t){return t.props[Aj]}const jJ=t=>t!==null;function OJ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(jJ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const LJ={type:"spring",stiffness:500,damping:25,restSpeed:10},VJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FJ={type:"keyframes",duration:.8},UJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$J=(t,{keyframes:e})=>e.length>2?FJ:pc.has(t)?t.startsWith("scale")?VJ(e[1]):LJ:UJ;function BJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const z1=(t,e,n,r={},s,i)=>o=>{const a=R1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-gs(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};BJ(a)||Object.assign(d,$J(t,d)),d.duration&&(d.duration=gs(d.duration)),d.repeatDelay&&(d.repeatDelay=gs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Js.instantAnimations||Js.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=OJ(d.keyframes,a);if(p!==void 0){ft.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new I1(d):new bX(d)};function zJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Fj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&zJ(c,d))continue;const g={delay:n,...R1(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const v=Vj(t);if(v){const _=window.MotionHandoffAnimation(v,d,ft);_!==null&&(g.startTime=_,y=!0)}}hw(t,d),f.start(z1(d,f,p,t.shouldReduceMotion&&pj.has(d)?{type:!1}:g,t,y));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{ft.update(()=>{o&&DJ(t,o)})}),l}function fw(t,e,n={}){var l;const r=hd(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Fj(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return WJ(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function WJ(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(HJ).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(fw(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function HJ(t,e){return t.sortNodePosition(e)}function qJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>fw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=fw(t,e,n);else{const s=typeof e=="function"?hd(t,e,n.custom):e;r=Promise.all(Fj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Uj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const GJ=O1.length;function $j(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$j(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GJ;n++){const r=O1[n],s=t.props[r];(ud(s)||s===!1)&&(e[r]=s)}return e}const KJ=[...j1].reverse(),QJ=j1.length;function YJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>qJ(t,n,r)))}function XJ(t){let e=YJ(t),n=fI(),r=!0;const s=l=>(c,d)=>{var p;const f=hd(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:x,...y}=f;c={...c,...y,...x}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=$j(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let b=0;b<QJ;b++){const v=KJ[b],_=n[v],E=c[v]!==void 0?c[v]:d[v],A=ud(E),N=v===l?_.isActive:null;N===!1&&(x=b);let j=E===d[v]&&E!==c[v]&&A;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...g},!_.isActive&&N===null||!E&&!_.prevProp||yg(E)||typeof E=="boolean")continue;const C=JJ(_.prevProp,E);let S=C||v===l&&_.isActive&&!j&&A||b>x&&A,I=!1;const P=Array.isArray(E)?E:[E];let D=P.reduce(s(v),{});N===!1&&(D={});const{prevResolvedValues:M={}}=_,k={...M,...D},z=Z=>{S=!0,p.has(Z)&&(I=!0,p.delete(Z)),_.needsAnimating[Z]=!0;const O=t.getValue(Z);O&&(O.liveStyle=!1)};for(const Z in k){const O=D[Z],F=M[Z];if(g.hasOwnProperty(Z))continue;let Y=!1;dw(O)&&dw(F)?Y=!Uj(O,F):Y=O!==F,Y?O!=null?z(Z):p.add(Z):O!==void 0&&p.has(Z)?z(Z):_.protectedKeys[Z]=!0}_.prevProp=E,_.prevResolvedValues=D,_.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(j&&C)||I)&&f.push(...P.map(Z=>({animation:Z,options:{type:v}})))}if(p.size){const b={};if(typeof c.initial!="boolean"){const v=hd(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(b.transition=v.transition)}p.forEach(v=>{const _=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),b[v]=_??null}),f.push({animation:b})}let y=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=fI(),r=!0}}}function JJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Uj(e,t):!1}function To(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fI(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZJ extends vo{constructor(e){super(e),e.animationState||(e.animationState=XJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let eZ=0;class tZ extends vo{constructor(){super(...arguments),this.id=eZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nZ={animation:{Feature:ZJ},exit:{Feature:tZ}};function fd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qd(t){return{point:{x:t.pageX,y:t.pageY}}}const rZ=t=>e=>D1(e)&&t(e,qd(e));function Eu(t,e,n,r){return fd(t,e,rZ(n),r)}function Bj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const zj=1e-4,oZ=1-zj,aZ=1+zj,Wj=.01,lZ=0-Wj,cZ=0+Wj;function In(t){return t.max-t.min}function uZ(t,e,n){return Math.abs(t-e)<=n}function pI(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=In(n)/In(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oZ&&t.scale<=aZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=lZ&&t.translate<=cZ||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,r){pI(t.x,e.x,n.x,r?r.originX:void 0),pI(t.y,e.y,n.y,r?r.originY:void 0)}function mI(t,e,n){t.min=n.min+e.min,t.max=t.min+In(e)}function dZ(t,e,n){mI(t.x,e.x,n.x),mI(t.y,e.y,n.y)}function gI(t,e,n){t.min=e.min-n.min,t.max=t.min+In(e)}function Su(t,e,n){gI(t.x,e.x,n.x),gI(t.y,e.y,n.y)}const yI=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:yI(),y:yI()}),vI=()=>({min:0,max:0}),Tt=()=>({x:vI(),y:vI()});function cr(t){return[t("x"),t("y")]}function Qy(t){return t===void 0||t===1}function pw({scale:t,scaleX:e,scaleY:n}){return!Qy(t)||!Qy(e)||!Qy(n)}function Ao(t){return pw(t)||Hj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Hj(t){return wI(t.x)||wI(t.y)}function wI(t){return t&&t!=="0%"}function Gp(t,e,n){const r=t-n,s=e*r;return n+s}function xI(t,e,n,r,s){return s!==void 0&&(t=Gp(t,s,r)),Gp(t,n,r)+e}function mw(t,e=0,n=1,r,s){t.min=xI(t.min,e,n,r,s),t.max=xI(t.max,e,n,r,s)}function qj(t,{x:e,y:n}){mw(t.x,e.translate,e.scale,e.originPoint),mw(t.y,n.translate,n.scale,n.originPoint)}const _I=.999999999999,bI=1.0000000000001;function hZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qj(t,o)),r&&Ao(i.latestValues)&&sl(t,i.latestValues))}e.x<bI&&e.x>_I&&(e.x=1),e.y<bI&&e.y>_I&&(e.y=1)}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function EI(t,e,n,r,s=.5){const i=ut(t.min,t.max,s);mw(t,e,n,i,r)}function sl(t,e){EI(t.x,e.x,e.scaleX,e.scale,e.originX),EI(t.y,e.y,e.scaleY,e.scale,e.originY)}function Gj(t,e){return Bj(iZ(t.getBoundingClientRect(),e))}function fZ(t,e,n){const r=Gj(t,n),{scroll:s}=e;return s&&(rl(r.x,s.offset.x),rl(r.y,s.offset.y)),r}const Kj=({current:t})=>t?t.ownerDocument.defaultView:null,TI=(t,e)=>Math.abs(t-e);function pZ(t,e){const n=TI(t.x,e.x),r=TI(t.y,e.y);return Math.sqrt(n**2+r**2)}class Qj{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=pZ(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:x}=f,{timestamp:y}=qt;this.history.push({...x,timestamp:y});const{onStart:b,onMove:v}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Yy(p,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xy(f.type==="pointercancel"?this.lastMoveEventInfo:Yy(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,b),x&&x(f,b)},!D1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=qd(e),a=Yy(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=qt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Xy(a,this.history)),this.removeListeners=zd(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lo(this.updatePoint)}}function Yy(t,e){return e?{point:e(t.point)}:t}function SI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xy({point:t},e){return{point:t,delta:SI(t,Yj(e)),offset:SI(t,mZ(e)),velocity:gZ(e,.1)}}function mZ(t){return t[0]}function Yj(t){return t[t.length-1]}function gZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Yj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>gs(e)));)n--;if(!r)return{x:0,y:0};const i=ys(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function CI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vZ(t,{top:e,left:n,bottom:r,right:s}){return{x:CI(t.x,n,s),y:CI(t.y,e,r)}}function II(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wZ(t,e){return{x:II(t.x,e.x),y:II(t.y,e.y)}}function xZ(t,e){let n=.5;const r=In(t),s=In(e);return s>r?n=ad(e.min,e.max-r,t.min):r>s&&(n=ad(t.min,t.max-s,e.min)),Xs(0,1,n)}function _Z(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gw=.35;function bZ(t=gw){return t===!1?t=0:t===!0&&(t=gw),{x:AI(t,"left","right"),y:AI(t,"top","bottom")}}function AI(t,e,n){return{min:PI(t,e),max:PI(t,n)}}function PI(t,e){return typeof t=="number"?t:t[e]||0}const EZ=new WeakMap;class TZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qd(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VX(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cr(b=>{let v=this.getAxisMotionValue(b).get()||0;if(vs.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[b];E&&(v=In(E)*(parseFloat(v)/100))}}this.originPoint[b]=v}),x&&ft.postRender(()=>x(d,f)),hw(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=f;if(g&&this.currentDirection===null){this.currentDirection=SZ(b),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>cr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Qj(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Kj(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ft.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=yZ(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=vZ(r.layoutBox,e):this.constraints=!1,this.elastic=bZ(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_Z(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=fZ(r,s.root,this.visualElement.getTransformPagePoint());let o=wZ(s.layout.layoutBox,i);if(n){const a=n(sZ(o));this.hasMutatedConstraints=!!a,a&&(o=Bj(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=cr(d=>{if(!Yh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hw(this.visualElement,e),r.start(z1(e,r,0,n,this.visualElement,!1))}stopAnimation(){cr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cr(n=>{const{drag:r}=this.getProps();if(!Yh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ut(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=xZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cr(o=>{if(!Yh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ut(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;EZ.set(this.visualElement,this);const e=this.visualElement.current,n=Eu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();tl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ft.read(r);const o=fd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(cr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=gw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Yh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function SZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CZ extends vo{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new TZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const RI=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class IZ extends vo{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new Qj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Kj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:RI(e),onStart:RI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ft.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=NI(t,e.target.x),r=NI(t,e.target.y);return`${n}% ${r}%`}},AZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=co.parse(t);if(s.length>5)return r;const i=co.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=ut(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class PZ extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;fJ(RZ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ft.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),k1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xj(t){const[e,n]=Tj(),r=m.useContext(u1);return u.jsx(PZ,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(Pj),isPresent:e,safeToRemove:n})}const RZ={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:AZ};function NZ(t,e,n){const r=pn(t)?t:Kl(t);return r.start(z1("",r,e,n)),r.animation}const kZ=(t,e)=>t.depth-e.depth;class DZ{constructor(){this.children=[],this.isDirty=!1}add(e){f1(this.children,e),this.isDirty=!0}remove(e){p1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kZ),this.isDirty=!1,this.children.forEach(e)}}function MZ(t,e){const n=Ln.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(lo(r),t(i-e))};return ft.setup(r,!0),()=>lo(r)}const Jj=["TopLeft","TopRight","BottomLeft","BottomRight"],jZ=Jj.length,kI=t=>typeof t=="string"?parseFloat(t):t,DI=t=>typeof t=="number"||Ee.test(t);function OZ(t,e,n,r,s,i){s?(t.opacity=ut(0,n.opacity??1,LZ(r)),t.opacityExit=ut(e.opacity??1,0,VZ(r))):i&&(t.opacity=ut(e.opacity??1,n.opacity??1,r));for(let o=0;o<jZ;o++){const a=`border${Jj[o]}Radius`;let l=MI(e,a),c=MI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||DI(l)===DI(c)?(t[a]=Math.max(ut(kI(l),kI(c),r),0),(vs.test(c)||vs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function MI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LZ=Zj(0,.5,HM),VZ=Zj(.5,.95,vr);function Zj(t,e,n){return r=>r<t?0:r>e?1:n(ad(t,e,r))}function jI(t,e){t.min=e.min,t.max=e.max}function lr(t,e){jI(t.x,e.x),jI(t.y,e.y)}function OI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function LI(t,e,n,r,s){return t-=e,t=Gp(t,1/n,r),s!==void 0&&(t=Gp(t,1/s,r)),t}function FZ(t,e=0,n=1,r=.5,s,i=t,o=t){if(vs.test(e)&&(e=parseFloat(e),e=ut(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ut(i.min,i.max,r);t===i&&(a-=e),t.min=LI(t.min,e,n,a,s),t.max=LI(t.max,e,n,a,s)}function VI(t,e,[n,r,s],i,o){FZ(t,e[n],e[r],e[s],e.scale,i,o)}const UZ=["x","scaleX","originX"],$Z=["y","scaleY","originY"];function FI(t,e,n,r){VI(t.x,e,UZ,n?n.x:void 0,r?r.x:void 0),VI(t.y,e,$Z,n?n.y:void 0,r?r.y:void 0)}function UI(t){return t.translate===0&&t.scale===1}function eO(t){return UI(t.x)&&UI(t.y)}function $I(t,e){return t.min===e.min&&t.max===e.max}function BZ(t,e){return $I(t.x,e.x)&&$I(t.y,e.y)}function BI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tO(t,e){return BI(t.x,e.x)&&BI(t.y,e.y)}function zI(t){return In(t.x)/In(t.y)}function WI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zZ{constructor(){this.members=[]}add(e){f1(this.members,e),e.scheduleRender()}remove(e){if(p1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WZ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Jy=["","X","Y","Z"],HZ={visibility:"hidden"},qZ=1e3;let GZ=0;function Zy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Vj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nO(r)}function rO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=GZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YZ),this.nodes.forEach(tee),this.nodes.forEach(nee),this.nodes.forEach(XZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new DZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new g1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ej(o)&&!WX(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=MZ(f,250),Mf.hasAnimatedSinceResize&&(Mf.hasAnimatedSinceResize=!1,this.nodes.forEach(qI))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||aee,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),v=!this.targetLayout||!tO(this.targetLayout,g),_=!f&&p;if(this.options.layoutRoot||this.resumeFrom||_||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...R1(x,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,_)}else f||qI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ree),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HI);return}this.isUpdating||this.nodes.forEach(ZZ),this.isUpdating=!1,this.nodes.forEach(eee),this.nodes.forEach(KZ),this.nodes.forEach(QZ),this.clearAllSnapshots();const a=Ln.now();qt.delta=Xs(0,1e3/60,a-qt.timestamp),qt.timestamp=a,qt.isProcessing=!0,zy.update.process(qt),zy.preRender.process(qt),zy.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JZ),this.sharedNodes.forEach(see)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!eO(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ao(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),lee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Tt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(cee))){const{scroll:d}=this.root;d&&(rl(a.x,d.offset.x),rl(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Tt();if(lr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&lr(a,o),rl(a.x,f.offset.x),rl(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Tt();lr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&sl(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ao(d.latestValues)&&sl(l,d.latestValues)}return Ao(this.latestValues)&&sl(l,this.latestValues),l}removeTransform(o){const a=Tt();lr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ao(c.latestValues))continue;pw(c.latestValues)&&c.updateSnapshot();const d=Tt(),f=c.measurePageBox();lr(d,f),FI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ao(this.latestValues)&&FI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Su(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),qj(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Su(this.relativeTargetOrigin,this.target,g.target),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pw(this.parent.latestValues)||Hj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;lr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;hZ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OI(this.prevProjectionDelta.x,this.projectionDelta.x),OI(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!WI(this.projectionDelta.x,this.prevProjectionDelta.x)||!WI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Tt(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,b=this.getStack(),v=!b||b.members.length<=1,_=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(oee));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const N=A/1e3;GI(f.x,o.x,N),GI(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Su(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iee(this.relativeTarget,this.relativeTargetOrigin,p,N),E&&BZ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Tt()),lr(E,this.relativeTarget)),y&&(this.animationValues=d,OZ(d,c,this.latestValues,N,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(lo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kl(0)),this.currentAnimation=NZ(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Tt();const f=In(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=In(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}lr(a,l),sl(a,d),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zZ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zy("z",o,c,this.animationValues);for(let d=0;d<Jy.length;d++)Zy(`rotate${Jy[d]}`,o,c,this.animationValues),Zy(`skew${Jy[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return HZ;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Df(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Df(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=WZ(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in dd){if(d[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:b}=dd[g],v=a.transform==="none"?d[g]:x(d[g],c);if(y){const _=y.length;for(let E=0;E<_;E++)a[y[E]]=v}else b?this.options.visualElement.renderState.vars[g]=v:a[g]=v}return this.options.layoutId&&(a.pointerEvents=c===this?Df(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(HI),this.root.sharedNodes.clear()}}}function KZ(t){t.updateLayout()}function QZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?cr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=In(p);p.min=r[f].min,p.max=p.min+g}):sO(i,e.layoutBox,r)&&cr(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=In(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=nl();Tu(a,r,e.layoutBox);const l=nl();o?Tu(l,t.applyTransform(s,!0),e.measuredBox):Tu(l,r,e.layoutBox);const c=!eO(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const x=Tt();Su(x,e.layoutBox,p.layoutBox);const y=Tt();Su(y,r,g.layoutBox),tO(x,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function YZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JZ(t){t.clearSnapshot()}function HI(t){t.clearMeasurements()}function ZZ(t){t.isLayoutDirty=!1}function eee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tee(t){t.resolveTargetDelta()}function nee(t){t.calcProjection()}function ree(t){t.resetSkewAndRotation()}function see(t){t.removeLeadSnapshot()}function GI(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KI(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function iee(t,e,n,r){KI(t.x,e.x,n.x,r),KI(t.y,e.y,n.y,r)}function oee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aee={duration:.45,ease:[.4,0,.1,1]},QI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YI=QI("applewebkit/")&&!QI("chrome/")?Math.round:vr;function XI(t){t.min=YI(t.min),t.max=YI(t.max)}function lee(t){XI(t.x),XI(t.y)}function sO(t,e,n){return t==="position"||t==="preserve-aspect"&&!uZ(zI(e),zI(n),.2)}function cee(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const uee=rO({attachResizeListener:(t,e)=>fd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ev={current:void 0},iO=rO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ev.current){const t=new uee({});t.mount(window),t.setOptions({layoutScroll:!0}),ev.current=t}return ev.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dee={pan:{Feature:IZ},drag:{Feature:CZ,ProjectionNode:iO,MeasureLayout:Xj}};function JI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ft.postRender(()=>i(e,qd(e)))}class hee extends vo{mount(){const{current:e}=this.node;e&&(this.unmount=FX(e,(n,r)=>(JI(this.node,r,"Start"),s=>JI(this.node,s,"End"))))}unmount(){}}class fee extends vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zd(fd(this.node.current,"focus",()=>this.onFocus()),fd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ft.postRender(()=>i(e,qd(e)))}class pee extends vo{mount(){const{current:e}=this.node;e&&(this.unmount=zX(e,(n,r)=>(ZI(this.node,r,"Start"),(s,{success:i})=>ZI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yw=new WeakMap,tv=new WeakMap,mee=t=>{const e=yw.get(t.target);e&&e(t)},gee=t=>{t.forEach(mee)};function yee({root:t,...e}){const n=t||document;tv.has(n)||tv.set(n,{});const r=tv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gee,{root:t,...e})),r[s]}function vee(t,e,n){const r=yee(e);return yw.set(t,n),r.observe(t),()=>{yw.delete(t),r.unobserve(t)}}const wee={some:0,all:1};class xee extends vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:wee[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return vee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_ee(e,n))&&this.startObserver()}unmount(){}}function _ee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bee={inView:{Feature:xee},tap:{Feature:pee},focus:{Feature:fee},hover:{Feature:hee}},Eee={layout:{ProjectionNode:iO,MeasureLayout:Xj}},vw={current:null},oO={current:!1};function Tee(){if(oO.current=!0,!!h1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vw.current=t.matches;t.addListener(e),e()}else vw.current=!1}const See=new WeakMap;function Cee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pn(s))t.addValue(r,s);else if(pn(i))t.addValue(r,Kl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Kl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const eA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Iee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ln.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ft.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=vg(n),this.isVariantNode=Ij(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&pn(g)&&g.set(l[p],!1)}}mount(e){this.current=e,See.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oO.current||Tee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),lo(this.notifyUpdate),lo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ql){const n=Ql[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<eA.length;r++){const s=eA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Cee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(jM(r)||LM(r))?r=parseFloat(r):!qX(r)&&co.test(n)&&(r=vj(e,n)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=$1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new g1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aO extends Iee{constructor(){super(...arguments),this.KeyframeResolver=MX}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function Aee(t){return window.getComputedStyle(t)}class Pee extends aO{constructor(){super(...arguments),this.type="html",this.renderInstance=lO}readValueFromInstance(e,n){var r;if(pc.has(n))return(r=this.projection)!=null&&r.isProjecting?sw(n):ZY(e,n);{const s=Aee(e),i=(w1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Gj(e,n)}build(e,n,r){V1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return B1(e,n,r)}}const cO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ree(t,e,n,r){lO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(cO.has(s)?s:L1(s),e.attrs[s])}class Nee extends aO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pc.has(n)){const r=yj(n);return r&&r.default||0}return n=cO.has(n)?n:L1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Lj(e,n,r)}build(e,n,r){Dj(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Ree(e,n,r,s)}mount(e){this.isSVGTag=jj(e.tagName),super.mount(e)}}const kee=(t,e)=>U1(t)?new Nee(e):new Pee(e,{allowProjection:t!==m.Fragment}),Dee=RJ({...nZ,...bee,...dee,...Eee},kee),mn=tJ(Dee),Mee=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),o=Nd(),a=async c=>{if(c.preventDefault(),i(""),!t||!/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(t)){i("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(!n){i("الرجاء إدخال كلمة المرور.");return}try{if(!(await pH(Rt,t,n)).user.emailVerified){i("يرجى تأكيد بريدك الإلكتروني قبل تسجيل الدخول. تحقق من صندوق الوارد الخاص بك."),await Rt.signOut();return}o("/")}catch(d){console.error("Login error:",d),d.code==="auth/invalid-credential"||d.code==="auth/wrong-password"?i("البريد الإلكتروني أو كلمة المرور غير صحيحة."):d.code==="auth/invalid-email"?i("صيغة البريد الإلكتروني غير صحيحة."):d.code==="auth/user-disabled"?i("تم تعطيل هذا الحساب. يرجى التواصل مع المسؤول."):d.code==="auth/too-many-requests"?i("تم حظر هذا الحساب مؤقتاً بسبب محاولات تسجيل الدخول الفاشلة المتعددة. يرجى المحاولة لاحقاً أو إعادة تعيين كلمة المرور."):i("حدث خطأ أثناء تسجيل الدخول. يرجى المحاولة مرة أخرى.")}},l=async()=>{i("");try{const c=new as,f=(await G2(Rt,c)).user,p=Ut(Fe,"users",f.uid);(await Gl(p)).exists()?await $p(p,{email:f.email,fullName:f.displayName||"",updatedAt:new Date},{merge:!0}):await $p(p,{email:f.email,fullName:f.displayName||"",role:"user",createdAt:new Date}),o("/")}catch(c){console.error("Google login error:",c),i("فشل تسجيل الدخول باستخدام Google. يرجى المحاولة مرة أخرى.")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Ye,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(Ie,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),u.jsx(mn.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(ct,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(It,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(mn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(L6,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(_t,{className:"text-4xl font-extrabold text-primary mb-2",children:"تسجيل الدخول"}),u.jsx(Kt,{className:"text-lg text-muted-foreground",children:"ادخل بياناتك للوصول إلى حسابك"})]}),u.jsxs(bt,{className:"p-8",children:[u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(Wu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:c=>e(c.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(c0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),s&&u.jsx(mn.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:s}),u.jsx(Ie,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل الدخول"})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),u.jsxs(Ie,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:l,children:[u.jsx(AN,{className:"h-6 w-6 mr-3"}),"تسجيل الدخول باستخدام Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["ليس لديك حساب؟"," ",u.jsx(Ye,{to:"/register",className:"text-primary hover:underline font-semibold",children:"سجل الآن"})]})]})]})})]})},jee=["register","login","logout","delete_user_by_admin","ban_user_by_admin","unban_user","add_lecture","delete_lecture","add_subject","delete_subject","update_lecture","update_subject"],Kp=async t=>{if(!jee.includes(t.type)){console.warn(`Activity type '${t.type}' is not allowed for logging.`);return}try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error(`Failed to fetch IP address: ${e.statusText}`);const n=await e.json();await dg(dn(Fe,"activities"),{...t,ipAddress:n.ip,timestamp:jQ(),metadata:{browser:navigator.userAgent,platform:navigator.platform,timestamp_client:new Date().toISOString()}}),console.log("Activity logged successfully:",t.type)}catch(e){throw e.code==="permission-denied"?console.error("Error logging activity: Missing or insufficient permissions."):console.error("Error logging activity:",e),new Error("Failed to log activity. Please check Firestore rules or network connectivity.")}},Oee=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),d=Nd(),f=y=>/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(y),p=y=>/^[\u0600-\u06FF\s]+$/.test(y)&&y.trim().split(/\s+/).length>=2,g=async y=>{if(y.preventDefault(),c(""),!t||!n||!s||!o){c("الرجاء ملء جميع الحقول.");return}if(!p(t)){c("الاسم الكامل يجب أن يحتوي على أحرف عربية فقط ويتكون من كلمتين على الأقل.");return}if(!f(n)){c("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(s.length<6){c("كلمة المرور يجب أن تتكون من 6 أحرف على الأقل.");return}if(s!==o){c("كلمة المرور وتأكيد كلمة المرور غير متطابقين.");return}try{const v=(await fH(Rt,n,s)).user;await mH(v),await $p(Ut(Fe,"users",v.uid),{fullName:t,email:n,role:"user",createdAt:new Date}),await Kp({type:"register",userId:v.uid,username:n,details:`قام المستخدم ${t||n} بإنشاء حساب جديد`}),No({title:"تم إرسال رابط التحقق",description:"يرجى التحقق من بريدك الإلكتروني لتأكيد حسابك قبل تسجيل الدخول.",variant:"default",duration:5e3}),d("/login")}catch(b){console.error("Registration error:",b),b.code==="auth/email-already-in-use"?c("هذا البريد الإلكتروني مستخدم بالفعل."):b.code==="auth/invalid-email"?c("صيغة البريد الإلكتروني غير صحيحة."):b.code==="auth/weak-password"?c("كلمة المرور ضعيفة جداً. يرجى اختيار كلمة مرور أقوى."):c("حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.")}},x=async()=>{c("");try{const y=new as,v=(await G2(Rt,y)).user,_=Ut(Fe,"users",v.uid);await $p(_,{email:v.email,fullName:v.displayName||"",role:"user",createdAt:new Date},{merge:!0}),await Kp({type:"register",userId:v.uid,username:v.email||"N/A",details:`مستخدم جديد ${v.email} سجل باستخدام Google.`}),d("/")}catch(y){console.error("Google registration error:",y),y.code==="auth/popup-closed-by-user"?c("تم إغلاق نافذة تسجيل الدخول من Google. يرجى المحاولة مرة أخرى."):y.code==="auth/cancelled-popup-request"?c("تم إلغاء طلب النافذة المنبثقة. يرجى المحاولة مرة أخرى."):y.code==="auth/operation-not-allowed"?c("تم تعطيل تسجيل الدخول باستخدام Google. يرجى الاتصال بالمسؤول."):y.code==="auth/unauthorized-domain"?c("النطاق غير مصرح به لعمليات OAuth. يرجى التحقق من إعدادات Firebase."):c("فشل التسجيل باستخدام Google. يرجى المحاولة مرة أخرى. (قد تكون مشكلة في أذونات Firebase)")}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[u.jsx(Ye,{to:"/",className:"absolute top-4 right-4 z-10",children:u.jsx(Ie,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),u.jsx(mn.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:u.jsxs(ct,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[u.jsxs(It,{className:"text-center bg-secondary/20 py-8",children:[u.jsx(mn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(NN,{className:"h-10 w-10 text-primary-foreground"})}),u.jsx(_t,{className:"text-4xl font-extrabold text-primary mb-2",children:"إنشاء حساب جديد"}),u.jsx(Kt,{className:"text-lg text-muted-foreground",children:"املأ البيانات لإنشاء حسابك"})]}),u.jsxs(bt,{className:"p-8",children:[u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"fullName",className:"text-base font-medium",children:"الاسم الكامل (ثلاثي)"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"fullName",type:"text",placeholder:"ادخل اسمك الثلاثي الكامل",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:y=>e(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(Wu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:y=>r(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(c0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:s,onChange:y=>i(y.target.value),required:!0})]})]}),u.jsxs("div",{children:[u.jsx(Fo,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"تأكيد كلمة المرور"}),u.jsxs("div",{className:"relative mt-2",children:[u.jsx(c0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Cn,{id:"confirmPassword",type:"password",placeholder:"أعد إدخال كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:o,onChange:y=>a(y.target.value),required:!0})]})]}),l&&u.jsx(mn.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:l}),u.jsx(Ie,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل"})]}),u.jsxs("div",{className:"relative my-8",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t border-border"})}),u.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:u.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),u.jsxs(Ie,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:x,children:[u.jsx(AN,{className:"h-6 w-6 mr-3"}),"التسجيل باستخدام Google"]}),u.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["لديك حساب بالفعل؟"," ",u.jsx(Ye,{to:"/login",className:"text-primary hover:underline font-semibold",children:"سجل الدخول"})]})]})]})})]})},Lee=()=>{const t=wa();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Vee=()=>u.jsxs("footer",{className:"bg-card text-foreground border-t border-border py-8 md:py-12",children:[u.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[u.jsx("div",{className:"w-8 md:w-10 h-8 md:h-10 rounded-lg flex items-center justify-center shadow-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"w-full h-full object-contain rounded-lg"})}),u.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Alpha Team"})]}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"منصة شاملة لمساعدة الطلاب في الوصول إلى المحاضرات والمواد الدراسية بسهولة ويسر. نهدف إلى توفير تجربة تعليمية متميزة ومنظمة لجميع المراحل الدراسية."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsx("li",{children:u.jsx(Ye,{to:"/",className:"hover:text-primary transition-colors duration-300",children:"الرئيسية"})}),u.jsx("li",{children:u.jsx(Ye,{to:"/lectures",className:"hover:text-primary transition-colors duration-300",children:"المحاضرات"})}),u.jsx("li",{children:u.jsx(Ye,{to:"/about",className:"hover:text-primary transition-colors duration-300",children:"عنّا"})}),u.jsx("li",{children:u.jsx(Ye,{to:"/contact",className:"hover:text-primary transition-colors duration-300",children:"اتصل بنا"})})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"اتصل بنا"}),u.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx(Wu,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"info@alphateam.com"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(B6,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"+964 770 123 4567"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(V6,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("span",{children:"بغداد، العراق"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(vf,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@talpha.dev"})]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx(wf,{className:"h-4 w-4 mr-2 text-primary"}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors duration-300",children:"@xteam_alpha"})]})]})]})]}),u.jsx("div",{className:"container mx-auto px-4 mt-8 pt-8 border-t border-border text-center text-xs md:text-sm text-muted-foreground",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," Alpha Team. جميع الحقوق محفوظة."]})})]});var Fee=m.createContext(void 0);function wg(t){const e=m.useContext(Fee);return t||e||"ltr"}var nv=0;function W1(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tA()),document.body.insertAdjacentElement("beforeend",t[1]??tA()),nv++,()=>{nv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nv--}},[])}function tA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rv="focusScope.autoFocusOnMount",sv="focusScope.autoFocusOnUnmount",nA={bubbles:!1,cancelable:!0},Uee="FocusScope",xg=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Jt(s),d=Jt(i),f=m.useRef(null),p=$e(e,y=>l(y)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(E){if(g.paused||!a)return;const A=E.target;a.contains(A)?f.current=A:mi(f.current,{select:!0})},b=function(E){if(g.paused||!a)return;const A=E.relatedTarget;A!==null&&(a.contains(A)||mi(f.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&mi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),_.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){sA.add(g);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(rv,nA);a.addEventListener(rv,c),a.dispatchEvent(v),v.defaultPrevented||($ee(qee(uO(a)),{select:!0}),document.activeElement===y&&mi(a))}return()=>{a.removeEventListener(rv,c),setTimeout(()=>{const v=new CustomEvent(sv,nA);a.addEventListener(sv,d),a.dispatchEvent(v),v.defaultPrevented||mi(y??document.body,{select:!0}),a.removeEventListener(sv,d),sA.remove(g)},0)}}},[a,c,d,g]);const x=m.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const _=y.currentTarget,[E,A]=Bee(_);E&&A?!y.shiftKey&&v===A?(y.preventDefault(),n&&mi(E,{select:!0})):y.shiftKey&&v===E&&(y.preventDefault(),n&&mi(A,{select:!0})):v===_&&y.preventDefault()}},[n,r,g.paused]);return u.jsx(Te.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});xg.displayName=Uee;function $ee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mi(r,{select:e}),document.activeElement!==n)return}function Bee(t){const e=uO(t),n=rA(e,t),r=rA(e.reverse(),t);return[n,r]}function uO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rA(t,e){for(const n of t)if(!zee(n,{upTo:e}))return n}function zee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Wee(t){return t instanceof HTMLInputElement&&"select"in t}function mi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Wee(t)&&e&&t.select()}}var sA=Hee();function Hee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iA(t,e),t.unshift(e)},remove(e){var n;t=iA(t,e),(n=t[0])==null||n.resume()}}}function iA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function qee(t){return t.filter(e=>e.tagName!=="A")}function Gee(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,...x}=f,y=(p==null?void 0:p[t][l])||a,b=m.useMemo(()=>x,Object.values(x));return u.jsx(y.Provider,{value:b,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,x=m.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Kee(s,...e)]}function Kee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var iv="rovingFocusGroup.onEntryFocus",Qee={bubbles:!1,cancelable:!0},_g="RovingFocusGroup",[ww,dO,Yee]=Sm(_g),[Xee,bg]=Gee(_g,[Yee]),[Jee,Zee]=Xee(_g),hO=m.forwardRef((t,e)=>u.jsx(ww.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ww.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ete,{...t,ref:e})})}));hO.displayName=_g;var ete=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=$e(e,p),x=wg(i),[y=null,b]=ra({prop:o,defaultProp:a,onChange:l}),[v,_]=m.useState(!1),E=Jt(c),A=dO(n),N=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(iv,E),()=>S.removeEventListener(iv,E)},[E]),u.jsx(Jee,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(S=>b(S),[b]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:u.jsx(Te.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{N.current=!0}),onFocus:ie(t.onFocus,S=>{const I=!N.current;if(S.target===S.currentTarget&&I&&!v){const P=new CustomEvent(iv,Qee);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=A().filter(J=>J.focusable),M=D.find(J=>J.active),k=D.find(J=>J.id===y),oe=[M,k,...D].filter(Boolean).map(J=>J.ref.current);mO(oe,d)}}N.current=!1}),onBlur:ie(t.onBlur,()=>_(!1))})})}),fO="RovingFocusGroupItem",pO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=hs(),l=i||a,c=Zee(fO,n),d=c.currentTabStopId===l,f=dO(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),u.jsx(ww.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:u.jsx(Te.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,x=>{r?c.onItemFocus(l):x.preventDefault()}),onFocus:ie(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){c.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=rte(x,c.orientation,c.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const _=v.indexOf(x.currentTarget);v=c.loop?ste(v,_+1):v.slice(_+1)}setTimeout(()=>mO(v))}})})})});pO.displayName=fO;var tte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rte(t,e,n){const r=nte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tte[r]}function mO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ste(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gO=hO,yO=pO,ite=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Da=new WeakMap,Xh=new WeakMap,Jh={},ov=0,vO=function(t){return t&&(t.host||vO(t.parentNode))},ote=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ate=function(t,e,n,r){var s=ote(e,Array.isArray(t)?t:[t]);Jh[n]||(Jh[n]=new WeakMap);var i=Jh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),x=g!==null&&g!=="false",y=(Da.get(p)||0)+1,b=(i.get(p)||0)+1;Da.set(p,y),i.set(p,b),o.push(p),y===1&&x&&Xh.set(p,!0),b===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),ov++,function(){o.forEach(function(f){var p=Da.get(f)-1,g=i.get(f)-1;Da.set(f,p),i.set(f,g),p||(Xh.has(f)||f.removeAttribute(r),Xh.delete(f)),g||f.removeAttribute(n)}),ov--,ov||(Da=new WeakMap,Da=new WeakMap,Xh=new WeakMap,Jh={})}},H1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=ite(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ate(r,s,n,"aria-hidden")):function(){return null}},jf="right-scroll-bar-position",Of="width-before-scroll-bar",lte="with-scroll-bars-hidden",cte="--removed-body-scroll-bar-size";function av(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ute(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var dte=typeof window<"u"?m.useLayoutEffect:m.useEffect,oA=new WeakMap;function hte(t,e){var n=ute(null,function(r){return t.forEach(function(s){return av(s,r)})});return dte(function(){var r=oA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||av(a,null)}),i.forEach(function(a){s.has(a)||av(a,o)})}oA.set(n,t)},[t]),n}function fte(t){return t}function pte(t,e){e===void 0&&(e=fte);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function mte(t){t===void 0&&(t={});var e=pte(null);return e.options=os({async:!0,ssr:!1},t),e}var wO=function(t){var e=t.sideCar,n=Md(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,os({},n))};wO.isSideCarExport=!0;function gte(t,e){return t.useMedium(e),wO}var xO=mte(),lv=function(){},Eg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:lv,onWheelCapture:lv,onTouchMoveCapture:lv}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,x=t.inert,y=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,_=t.gapMode,E=Md(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,N=hte([n,e]),j=os(os({},E),s);return m.createElement(m.Fragment,null,d&&m.createElement(A,{sideCar:xO,removeScrollBar:c,shards:f,noIsolation:g,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?m.cloneElement(m.Children.only(a),os(os({},j),{ref:N})):m.createElement(v,os({},j,{className:l,ref:N}),a))});Eg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eg.classNames={fullWidth:Of,zeroRight:jf};var yte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yte();return e&&t.setAttribute("nonce",e),t}function wte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _te=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vte())&&(wte(e,n),xte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bte=function(){var t=_te();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_O=function(){var t=bte(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Ete={left:0,top:0,right:0,gap:0},cv=function(t){return parseInt(t||"",10)||0},Tte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[cv(n),cv(r),cv(s)]},Ste=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ete;var e=Tte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Cte=_O(),yl="data-scroll-locked",Ite=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Of,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Of," .").concat(Of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(cte,": ").concat(a,`px;
  }
`)},aA=function(){var t=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(t)?t:0},Ate=function(){m.useEffect(function(){return document.body.setAttribute(yl,(aA()+1).toString()),function(){var t=aA()-1;t<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,t.toString())}},[])},Pte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Ate();var i=m.useMemo(function(){return Ste(s)},[s]);return m.createElement(Cte,{styles:Ite(i,!e,s,n?"":"!important")})},xw=!1;if(typeof window<"u")try{var Zh=Object.defineProperty({},"passive",{get:function(){return xw=!0,!0}});window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{xw=!1}var Ma=xw?{passive:!1}:!1,Rte=function(t){return t.tagName==="TEXTAREA"},bO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rte(t)&&n[e]==="visible")},Nte=function(t){return bO(t,"overflowY")},kte=function(t){return bO(t,"overflowX")},lA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EO(t,r);if(s){var i=TO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Mte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EO=function(t,e){return t==="v"?Nte(e):kte(e)},TO=function(t,e){return t==="v"?Dte(e):Mte(e)},jte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ote=function(t,e,n,r,s){var i=jte(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=TO(t,a),x=g[0],y=g[1],b=g[2],v=y-b-i*x;(x||v)&&EO(t,a)&&(f+=v,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},ef=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cA=function(t){return[t.deltaX,t.deltaY]},uA=function(t){return t&&"current"in t?t.current:t},Lte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Vte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fte=0,ja=[];function Ute(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Fte++)[0],i=m.useState(_O)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=hW([t.lockRef.current],(t.shards||[]).map(uA),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=ef(y),_=n.current,E="deltaX"in y?y.deltaX:_[0]-v[0],A="deltaY"in y?y.deltaY:_[1]-v[1],N,j=y.target,C=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var S=lA(C,j);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=lA(C,j)),!S)return!1;if(!r.current&&"changedTouches"in y&&(E||A)&&(r.current=N),!N)return!0;var I=r.current||N;return Ote(I,b,y,I==="h"?E:A,!0)},[]),l=m.useCallback(function(y){var b=y;if(!(!ja.length||ja[ja.length-1]!==i)){var v="deltaY"in b?cA(b):ef(b),_=e.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&Lte(N.delta,v)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var E=(o.current.shards||[]).map(uA).filter(Boolean).filter(function(N){return N.contains(b.target)}),A=E.length>0?a(b,E[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),c=m.useCallback(function(y,b,v,_){var E={name:y,delta:b,target:v,should:_,shadowParent:$te(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=m.useCallback(function(y){n.current=ef(y),r.current=void 0},[]),f=m.useCallback(function(y){c(y.type,cA(y),y.target,a(y,t.lockRef.current))},[]),p=m.useCallback(function(y){c(y.type,ef(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return ja.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ma),document.addEventListener("touchmove",l,Ma),document.addEventListener("touchstart",d,Ma),function(){ja=ja.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ma),document.removeEventListener("touchmove",l,Ma),document.removeEventListener("touchstart",d,Ma)}},[]);var g=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:Vte(s)}):null,g?m.createElement(Pte,{gapMode:t.gapMode}):null)}function $te(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Bte=gte(xO,Ute);var Tg=m.forwardRef(function(t,e){return m.createElement(Eg,os({},t,{ref:e,sideCar:Bte}))});Tg.classNames=Eg.classNames;var _w=["Enter"," "],zte=["ArrowDown","PageUp","Home"],SO=["ArrowUp","PageDown","End"],Wte=[...zte,...SO],Hte={ltr:[..._w,"ArrowRight"],rtl:[..._w,"ArrowLeft"]},qte={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gd="Menu",[pd,Gte,Kte]=Sm(Gd),[Ca,CO]=ei(Gd,[Kte,rc,bg]),Sg=rc(),IO=bg(),[Qte,Ia]=Ca(Gd),[Yte,Kd]=Ca(Gd),AO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Sg(e),[l,c]=m.useState(null),d=m.useRef(!1),f=Jt(i),p=wg(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),u.jsx(ok,{...a,children:u.jsx(Qte,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(Yte,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};AO.displayName=Gd;var Xte="MenuAnchor",q1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sg(n);return u.jsx(Bx,{...s,...r,ref:e})});q1.displayName=Xte;var G1="MenuPortal",[Jte,PO]=Ca(G1,{forceMount:void 0}),RO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Ia(G1,e);return u.jsx(Jte,{scope:e,forceMount:n,children:u.jsx(Hr,{present:n||i.open,children:u.jsx(Id,{asChild:!0,container:s,children:r})})})};RO.displayName=G1;var wr="MenuContent",[Zte,K1]=Ca(wr),NO=m.forwardRef((t,e)=>{const n=PO(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ia(wr,t.__scopeMenu),o=Kd(wr,t.__scopeMenu);return u.jsx(pd.Provider,{scope:t.__scopeMenu,children:u.jsx(Hr,{present:r||i.open,children:u.jsx(pd.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(ene,{...s,ref:e}):u.jsx(tne,{...s,ref:e})})})})}),ene=m.forwardRef((t,e)=>{const n=Ia(wr,t.__scopeMenu),r=m.useRef(null),s=$e(e,r);return m.useEffect(()=>{const i=r.current;if(i)return H1(i)},[]),u.jsx(Q1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tne=m.forwardRef((t,e)=>{const n=Ia(wr,t.__scopeMenu);return u.jsx(Q1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q1=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:x,...y}=t,b=Ia(wr,n),v=Kd(wr,n),_=Sg(n),E=IO(n),A=Gte(n),[N,j]=m.useState(null),C=m.useRef(null),S=$e(e,C,b.onContentChange),I=m.useRef(0),P=m.useRef(""),D=m.useRef(0),M=m.useRef(null),k=m.useRef("right"),z=m.useRef(0),oe=x?Tg:m.Fragment,J=x?{as:Xi,allowPinchZoom:!0}:void 0,Z=F=>{var te,pe;const Y=P.current+F,Q=A().filter($=>!$.disabled),ee=document.activeElement,se=(te=Q.find($=>$.ref.current===ee))==null?void 0:te.textValue,ve=Q.map($=>$.textValue),Re=fne(ve,Y,se),me=(pe=Q.find($=>$.textValue===Re))==null?void 0:pe.ref.current;(function $(K){P.current=K,window.clearTimeout(I.current),K!==""&&(I.current=window.setTimeout(()=>$(""),1e3))})(Y),me&&setTimeout(()=>me.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),W1();const O=m.useCallback(F=>{var Q,ee;return k.current===((Q=M.current)==null?void 0:Q.side)&&mne(F,(ee=M.current)==null?void 0:ee.area)},[]);return u.jsx(Zte,{scope:n,searchRef:P,onItemEnter:m.useCallback(F=>{O(F)&&F.preventDefault()},[O]),onItemLeave:m.useCallback(F=>{var Y;O(F)||((Y=C.current)==null||Y.focus(),j(null))},[O]),onTriggerLeave:m.useCallback(F=>{O(F)&&F.preventDefault()},[O]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(F=>{M.current=F},[]),children:u.jsx(oe,{...J,children:u.jsx(xg,{asChild:!0,trapped:s,onMountAutoFocus:ie(i,F=>{var Y;F.preventDefault(),(Y=C.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Zl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:u.jsx(gO,{asChild:!0,...E,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:ie(l,F=>{v.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(zx,{role:"menu","aria-orientation":"vertical","data-state":GO(b.open),"data-radix-menu-content":"",dir:v.dir,..._,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:ie(y.onKeyDown,F=>{const Q=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ee=F.ctrlKey||F.altKey||F.metaKey,se=F.key.length===1;Q&&(F.key==="Tab"&&F.preventDefault(),!ee&&se&&Z(F.key));const ve=C.current;if(F.target!==ve||!Wte.includes(F.key))return;F.preventDefault();const me=A().filter(te=>!te.disabled).map(te=>te.ref.current);SO.includes(F.key)&&me.reverse(),dne(me)}),onBlur:ie(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),P.current="")}),onPointerMove:ie(t.onPointerMove,md(F=>{const Y=F.target,Q=z.current!==F.clientX;if(F.currentTarget.contains(Y)&&Q){const ee=F.clientX>z.current?"right":"left";k.current=ee,z.current=F.clientX}}))})})})})})})});NO.displayName=wr;var nne="MenuGroup",Y1=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Te.div,{role:"group",...r,ref:e})});Y1.displayName=nne;var rne="MenuLabel",kO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Te.div,{...r,ref:e})});kO.displayName=rne;var Qp="MenuItem",dA="menu.itemSelect",Cg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Kd(Qp,t.__scopeMenu),a=K1(Qp,t.__scopeMenu),l=$e(e,i),c=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(dA,{bubbles:!0,cancelable:!0});f.addEventListener(dA,g=>r==null?void 0:r(g),{once:!0}),Ax(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(DO,{...s,ref:l,disabled:n,onClick:ie(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:ie(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ie(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||_w.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Cg.displayName=Qp;var DO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=K1(Qp,n),a=IO(n),l=m.useRef(null),c=$e(e,l),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const x=l.current;x&&g((x.textContent??"").trim())},[i.children]),u.jsx(pd.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:u.jsx(yO,{asChild:!0,...a,focusable:!r,children:u.jsx(Te.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ie(t.onPointerMove,md(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,md(x=>o.onItemLeave(x))),onFocus:ie(t.onFocus,()=>f(!0)),onBlur:ie(t.onBlur,()=>f(!1))})})})}),sne="MenuCheckboxItem",MO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(FO,{scope:t.__scopeMenu,checked:n,children:u.jsx(Cg,{role:"menuitemcheckbox","aria-checked":Yp(n)?"mixed":n,...s,ref:e,"data-state":J1(n),onSelect:ie(s.onSelect,()=>r==null?void 0:r(Yp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MO.displayName=sne;var jO="MenuRadioGroup",[ine,one]=Ca(jO,{value:void 0,onValueChange:()=>{}}),OO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Jt(r);return u.jsx(ine,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(Y1,{...s,ref:e})})});OO.displayName=jO;var LO="MenuRadioItem",VO=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=one(LO,t.__scopeMenu),i=n===s.value;return u.jsx(FO,{scope:t.__scopeMenu,checked:i,children:u.jsx(Cg,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":J1(i),onSelect:ie(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});VO.displayName=LO;var X1="MenuItemIndicator",[FO,ane]=Ca(X1,{checked:!1}),UO=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=ane(X1,n);return u.jsx(Hr,{present:r||Yp(i.checked)||i.checked===!0,children:u.jsx(Te.span,{...s,ref:e,"data-state":J1(i.checked)})})});UO.displayName=X1;var lne="MenuSeparator",$O=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});$O.displayName=lne;var cne="MenuArrow",BO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sg(n);return u.jsx(Wx,{...s,...r,ref:e})});BO.displayName=cne;var une="MenuSub",[Qoe,zO]=Ca(une),Jc="MenuSubTrigger",WO=m.forwardRef((t,e)=>{const n=Ia(Jc,t.__scopeMenu),r=Kd(Jc,t.__scopeMenu),s=zO(Jc,t.__scopeMenu),i=K1(Jc,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(q1,{asChild:!0,...c,children:u.jsx(DO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":GO(n.open),...t,ref:Tm(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,md(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(t.onPointerLeave,md(f=>{var g,x;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const y=(x=n.content)==null?void 0:x.dataset.side,b=y==="right",v=b?-5:5,_=p[b?"left":"right"],E=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:_,y:p.top},{x:E,y:p.top},{x:E,y:p.bottom},{x:_,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||Hte[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});WO.displayName=Jc;var HO="MenuSubContent",qO=m.forwardRef((t,e)=>{const n=PO(wr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Ia(wr,t.__scopeMenu),o=Kd(wr,t.__scopeMenu),a=zO(HO,t.__scopeMenu),l=m.useRef(null),c=$e(e,l);return u.jsx(pd.Provider,{scope:t.__scopeMenu,children:u.jsx(Hr,{present:r||i.open,children:u.jsx(pd.Slot,{scope:t.__scopeMenu,children:u.jsx(Q1,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ie(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=qte[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});qO.displayName=HO;function GO(t){return t?"open":"closed"}function Yp(t){return t==="indeterminate"}function J1(t){return Yp(t)?"indeterminate":t?"checked":"unchecked"}function dne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function hne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function fne(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=hne(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function pne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function mne(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pne(n,e)}function md(t){return e=>e.pointerType==="mouse"?t(e):void 0}var gne=AO,yne=q1,vne=RO,wne=NO,xne=Y1,_ne=kO,bne=Cg,Ene=MO,Tne=OO,Sne=VO,Cne=UO,Ine=$O,Ane=BO,Pne=WO,Rne=qO,Z1="DropdownMenu",[Nne,Yoe]=ei(Z1,[CO]),Nn=CO(),[kne,KO]=Nne(Z1),QO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Nn(e),c=m.useRef(null),[d=!1,f]=ra({prop:s,defaultProp:i,onChange:o});return u.jsx(kne,{scope:e,triggerId:hs(),triggerRef:c,contentId:hs(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:u.jsx(gne,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};QO.displayName=Z1;var YO="DropdownMenuTrigger",XO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=KO(YO,n),o=Nn(n);return u.jsx(yne,{asChild:!0,...o,children:u.jsx(Te.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Tm(e,i.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});XO.displayName=YO;var Dne="DropdownMenuPortal",JO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Nn(e);return u.jsx(vne,{...r,...n})};JO.displayName=Dne;var ZO="DropdownMenuContent",eL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=KO(ZO,n),i=Nn(n),o=m.useRef(!1);return u.jsx(wne,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eL.displayName=ZO;var Mne="DropdownMenuGroup",jne=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(xne,{...s,...r,ref:e})});jne.displayName=Mne;var One="DropdownMenuLabel",tL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(_ne,{...s,...r,ref:e})});tL.displayName=One;var Lne="DropdownMenuItem",nL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(bne,{...s,...r,ref:e})});nL.displayName=Lne;var Vne="DropdownMenuCheckboxItem",rL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Ene,{...s,...r,ref:e})});rL.displayName=Vne;var Fne="DropdownMenuRadioGroup",Une=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Tne,{...s,...r,ref:e})});Une.displayName=Fne;var $ne="DropdownMenuRadioItem",sL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Sne,{...s,...r,ref:e})});sL.displayName=$ne;var Bne="DropdownMenuItemIndicator",iL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Cne,{...s,...r,ref:e})});iL.displayName=Bne;var zne="DropdownMenuSeparator",oL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Ine,{...s,...r,ref:e})});oL.displayName=zne;var Wne="DropdownMenuArrow",Hne=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Ane,{...s,...r,ref:e})});Hne.displayName=Wne;var qne="DropdownMenuSubTrigger",aL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Pne,{...s,...r,ref:e})});aL.displayName=qne;var Gne="DropdownMenuSubContent",lL=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Nn(n);return u.jsx(Rne,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lL.displayName=Gne;var Kne=QO,Qne=XO,Yne=JO,cL=eL,uL=tL,dL=nL,hL=rL,fL=sL,pL=iL,mL=oL,gL=aL,yL=lL;const Xne=Kne,Jne=Qne,Zne=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(gL,{ref:s,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(A6,{className:"ml-auto h-4 w-4"})]}));Zne.displayName=gL.displayName;const ere=m.forwardRef(({className:t,...e},n)=>u.jsx(yL,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ere.displayName=yL.displayName;const vL=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Yne,{children:u.jsx(cL,{ref:r,sideOffset:e,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));vL.displayName=cL.displayName;const wL=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(dL,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));wL.displayName=dL.displayName;const tre=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(hL,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(pL,{children:u.jsx(CN,{className:"h-4 w-4"})})}),e]}));tre.displayName=hL.displayName;const nre=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(fL,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(pL,{children:u.jsx(N6,{className:"h-2 w-2 fill-current"})})}),e]}));nre.displayName=fL.displayName;const xL=m.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(uL,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xL.displayName=uL.displayName;const _L=m.forwardRef(({className:t,...e},n)=>u.jsx(mL,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));_L.displayName=mL.displayName;var eb="Avatar",[rre,Xoe]=ei(eb),[sre,bL]=rre(eb),EL=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return u.jsx(sre,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(Te.span,{...r,ref:e})})});EL.displayName=eb;var TL="AvatarImage",SL=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=bL(TL,n),a=ire(r,i.referrerPolicy),l=Jt(c=>{s(c),o.onImageLoadingStatusChange(c)});return Bt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Te.img,{...i,ref:e,src:r}):null});SL.displayName=TL;var CL="AvatarFallback",IL=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=bL(CL,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(Te.span,{...s,ref:e}):null});IL.displayName=CL;function ire(t,e){const[n,r]=m.useState("idle");return Bt(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var AL=EL,PL=SL,RL=IL;const Lf=m.forwardRef(({className:t,...e},n)=>u.jsx(AL,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Lf.displayName=AL.displayName;const ore=m.forwardRef(({className:t,...e},n)=>u.jsx(PL,{ref:n,className:ae("aspect-square h-full w-full",t),...e}));ore.displayName=PL.displayName;const bw=m.forwardRef(({className:t,...e},n)=>u.jsx(RL,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));bw.displayName=RL.displayName;const hA=[{name:"الرئيسية",path:"/"},{name:"المحاضرات",path:"/lectures"},{name:"الأخبار",path:"/news"},{name:"من نحن",path:"/about"}],vi=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=Nd(),l=wa();m.useEffect(()=>{const d=g_(Rt,async f=>{if(n(f),f){const p=Ut(Fe,"users",f.uid),g=await Gl(p);g.exists()?s(g.data()):s({fullName:f.displayName||"مستخدم",email:f.email||"لا يوجد بريد إلكتروني"})}else s(null)});return()=>d()},[]);const c=async()=>{try{await vH(Rt),a("/")}catch(d){console.error("Error logging out:",d)}};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[u.jsxs("header",{className:"bg-card/80 backdrop-blur-xl sticky top-0 z-50 w-full shadow-xl transition-all duration-300 ease-in-out",children:[u.jsxs("div",{className:"container mx-auto px-4 py-3 lg:py-4 flex justify-between items-center",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx(Ye,{to:"/",className:"flex items-center space-x-2 group focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 rounded-md",children:u.jsx("img",{src:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748569111/tgcdnvngwpqqdz8cbxhm.png",alt:"Alpha Team Logo",className:"h-12 w-12 rounded-lg transition-transform group-hover:scale-105 group-focus:scale-105 shadow-md"})})}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[hA.map(d=>u.jsx(Ye,{to:d.path,className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                  ${l.pathname===d.path?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
                `,children:d.name},d.path)),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Ye,{to:"/admin-dashboard",className:`relative text-sm font-medium transition-colors duration-300 ease-in-out after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 after:ease-in-out hover:after:w-full focus:outline-none focus-visible:text-primary
                ${l.pathname==="/admin-dashboard"?"text-primary after:w-full":"text-muted-foreground hover:text-primary"}
              `,children:"لوحة التحكم"}),e?u.jsxs(Xne,{children:[u.jsx(Jne,{asChild:!0,children:u.jsx(Ie,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all duration-300 hover:scale-110 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 p-0",children:u.jsx(Lf,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:u.jsx(bw,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:u.jsx(by,{className:"h-[70%] w-[70%] text-primary"})})})})}),u.jsxs(vL,{className:"w-64 p-3 shadow-2xl rounded-lg border border-border animate-in fade-in-0 zoom-in-95",align:"end",forceMount:!0,children:[u.jsx(xL,{className:"font-normal p-0 mb-3",children:u.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsx(Lf,{className:"h-10 w-10 border-2 border-primary/50 shadow-sm",children:u.jsx(by,{className:"h-full w-full text-primary"})}),u.jsxs("div",{className:"flex flex-col space-y-1 text-right",children:[u.jsxs("p",{className:"text-sm font-semibold leading-none text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||"مستخدم",u.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.email)||(e==null?void 0:e.email),u.jsx(Wu,{className:"h-4 w-4 text-muted-foreground"})]}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-xs leading-none text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[r.role==="owner"?"المالك":r.role==="admin"?"مسؤول":"مستخدم",u.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]})]})]})}),u.jsx(_L,{className:"my-2 bg-border"}),u.jsxs(wL,{onClick:c,className:"cursor-pointer flex items-center justify-end text-red-500 hover:bg-red-50 focus:bg-red-50 hover:text-red-600 focus:text-red-600 rounded-md p-2 transition-colors duration-200 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:["تسجيل الخروج",u.jsx(TT,{className:"h-4 w-4 mr-2"})]})]})]}):u.jsx(Ye,{to:"/login",className:"relative text-sm font-medium text-muted-foreground hover:text-primary transition-colors duration-300 after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full focus:outline-none focus-visible:text-primary",children:"تسجيل الدخول"})]}),u.jsx("button",{className:"md:hidden text-muted-foreground hover:text-primary transition-colors duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",onClick:()=>o(!i),"aria-label":i?"Close menu":"Open menu",children:i?u.jsx(ks,{className:"h-6 w-6"}):u.jsx(RN,{className:"h-6 w-6"})})]}),u.jsx(uw,{children:i&&u.jsx(mn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-card border-t border-border shadow-inner",children:u.jsxs("div",{className:"flex flex-col space-y-3 p-4",children:[hA.map(d=>u.jsx(Ye,{to:d.path,className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                      ${l.pathname===d.path?"text-primary":"text-foreground hover:text-primary"}
                    `,onClick:()=>o(!1),children:d.name},d.path)),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner")&&u.jsx(Ye,{to:"/admin-dashboard",className:`text-base font-medium transition-colors duration-300 ease-in-out focus:outline-none focus-visible:text-primary
                    ${l.pathname==="/admin-dashboard"?"text-primary":"text-foreground hover:text-primary"}
                  `,onClick:()=>o(!1),children:"لوحة التحكم"}),e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"border-t border-border pt-4 mt-4 flex items-center space-x-3 rtl:space-x-reverse",children:[u.jsx(Lf,{className:"h-12 w-12 flex-shrink-0 border-2 border-primary/50 shadow-md",children:u.jsx(bw,{className:"h-full w-full flex items-center justify-center bg-muted/50",children:u.jsx(by,{className:"h-[70%] w-[70%] text-primary"})})}),u.jsxs("div",{className:"flex flex-col text-right",children:[u.jsxs("p",{className:"text-base font-semibold text-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.fullName)||"مستخدم",u.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1",children:[(r==null?void 0:r.email)||(e==null?void 0:e.email),u.jsx(Wu,{className:"h-4 w-4 text-muted-foreground"})]}),(r==null?void 0:r.role)&&u.jsxs("p",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1 mt-1",children:[r.role==="owner"?"المالك":r.role==="admin"?"مسؤول":"مستخدم",u.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),u.jsxs("button",{onClick:()=>{c(),o(!1)},className:"text-red-500 hover:text-red-600 transition-colors duration-300 text-right font-medium mt-2 flex items-center justify-end gap-1 focus:outline-none focus-visible:ring-1 focus-visible:ring-red-500",children:["تسجيل الخروج",u.jsx(TT,{className:"h-4 w-4 mr-2"})]})]}):u.jsx(Ye,{to:"/login",className:"text-base font-medium text-foreground hover:text-primary transition-colors duration-300 pt-4 border-t border-border mt-4 focus:outline-none focus-visible:text-primary",onClick:()=>o(!1),children:"تسجيل الدخول"})]})})})]}),u.jsx("main",{className:"flex-grow",children:u.jsx(uw,{mode:"wait",children:u.jsx(mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:t},l.pathname)})}),u.jsx(Vee,{})]})},NL=m.createContext(void 0),are=({children:t})=>{const[e,n]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return u.jsx(NL.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})},lre=()=>{const t=m.useContext(NL);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},cre=()=>{const{theme:t,toggleTheme:e}=lre();return u.jsxs(Ie,{variant:"outline",size:"icon",onClick:e,className:"fixed bottom-4 right-4 rounded-full shadow-lg z-50 transition-all duration-300 hover:scale-110",children:[t==="light"?u.jsx(U6,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}):u.jsx(H6,{className:"h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Vf=m.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",t),...e})}));Vf.displayName="Table";const Ff=m.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",t),...e}));Ff.displayName="TableHeader";const Uf=m.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",t),...e}));Uf.displayName="TableBody";const ure=m.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));ure.displayName="TableFooter";const Po=m.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Po.displayName="TableRow";const _n=m.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));_n.displayName="TableHead";const bn=m.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));bn.displayName="TableCell";const dre=m.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",t),...e}));dre.displayName="TableCaption";var tb="Dialog",[kL,DL]=ei(tb),[hre,Gr]=kL(tb),ML=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=ra({prop:r,defaultProp:s,onChange:i});return u.jsx(hre,{scope:e,triggerRef:a,contentRef:l,contentId:hs(),titleId:hs(),descriptionId:hs(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};ML.displayName=tb;var jL="DialogTrigger",OL=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(jL,n),i=$e(e,s.triggerRef);return u.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sb(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});OL.displayName=jL;var nb="DialogPortal",[fre,LL]=kL(nb,{forceMount:void 0}),VL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Gr(nb,e);return u.jsx(fre,{scope:e,forceMount:n,children:m.Children.map(r,o=>u.jsx(Hr,{present:n||i.open,children:u.jsx(Id,{asChild:!0,container:s,children:o})}))})};VL.displayName=nb;var Xp="DialogOverlay",FL=m.forwardRef((t,e)=>{const n=LL(Xp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gr(Xp,t.__scopeDialog);return i.modal?u.jsx(Hr,{present:r||i.open,children:u.jsx(pre,{...s,ref:e})}):null});FL.displayName=Xp;var pre=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(Xp,n);return u.jsx(Tg,{as:Xi,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Te.div,{"data-state":sb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),da="DialogContent",UL=m.forwardRef((t,e)=>{const n=LL(da,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Gr(da,t.__scopeDialog);return u.jsx(Hr,{present:r||i.open,children:i.modal?u.jsx(mre,{...s,ref:e}):u.jsx(gre,{...s,ref:e})})});UL.displayName=da;var mre=m.forwardRef((t,e)=>{const n=Gr(da,t.__scopeDialog),r=m.useRef(null),s=$e(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return H1(i)},[]),u.jsx($L,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),gre=m.forwardRef((t,e)=>{const n=Gr(da,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return u.jsx($L,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$L=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Gr(da,n),l=m.useRef(null),c=$e(e,l);return W1(),u.jsxs(u.Fragment,{children:[u.jsx(xg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Zl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sb(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(vre,{titleId:a.titleId}),u.jsx(xre,{contentRef:l,descriptionId:a.descriptionId})]})]})}),rb="DialogTitle",BL=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(rb,n);return u.jsx(Te.h2,{id:s.titleId,...r,ref:e})});BL.displayName=rb;var zL="DialogDescription",WL=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(zL,n);return u.jsx(Te.p,{id:s.descriptionId,...r,ref:e})});WL.displayName=zL;var HL="DialogClose",qL=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Gr(HL,n);return u.jsx(Te.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});qL.displayName=HL;function sb(t){return t?"open":"closed"}var GL="DialogTitleWarning",[yre,KL]=$3(GL,{contentName:da,titleName:rb,docsSlug:"dialog"}),vre=({titleId:t})=>{const e=KL(GL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wre="DialogDescriptionWarning",xre=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KL(wre).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},ib=ML,QL=OL,ob=VL,Qd=FL,Yd=UL,Xd=BL,Jd=WL,Zd=qL,YL="AlertDialog",[_re,Joe]=ei(YL,[DL]),si=DL(),XL=t=>{const{__scopeAlertDialog:e,...n}=t,r=si(e);return u.jsx(ib,{...r,...n,modal:!0})};XL.displayName=YL;var bre="AlertDialogTrigger",JL=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=si(n);return u.jsx(QL,{...s,...r,ref:e})});JL.displayName=bre;var Ere="AlertDialogPortal",ZL=t=>{const{__scopeAlertDialog:e,...n}=t,r=si(e);return u.jsx(ob,{...r,...n})};ZL.displayName=Ere;var Tre="AlertDialogOverlay",eV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=si(n);return u.jsx(Qd,{...s,...r,ref:e})});eV.displayName=Tre;var vl="AlertDialogContent",[Sre,Cre]=_re(vl),tV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=si(n),o=m.useRef(null),a=$e(e,o),l=m.useRef(null);return u.jsx(yre,{contentName:vl,titleName:nV,docsSlug:"alert-dialog",children:u.jsx(Sre,{scope:n,cancelRef:l,children:u.jsxs(Yd,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ie(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(Ix,{children:r}),u.jsx(Are,{contentRef:o})]})})})});tV.displayName=vl;var nV="AlertDialogTitle",rV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=si(n);return u.jsx(Xd,{...s,...r,ref:e})});rV.displayName=nV;var sV="AlertDialogDescription",iV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=si(n);return u.jsx(Jd,{...s,...r,ref:e})});iV.displayName=sV;var Ire="AlertDialogAction",oV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=si(n);return u.jsx(Zd,{...s,...r,ref:e})});oV.displayName=Ire;var aV="AlertDialogCancel",lV=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Cre(aV,n),i=si(n),o=$e(e,s);return u.jsx(Zd,{...i,...r,ref:o})});lV.displayName=aV;var Are=({contentRef:t})=>{const e=`\`${vl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vl}\` by passing a \`${sV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Pre=XL,Rre=JL,Nre=ZL,cV=eV,uV=tV,dV=oV,hV=lV,fV=rV,pV=iV;const Ew=Pre,Tw=Rre,kre=Nre,mV=m.forwardRef(({className:t,...e},n)=>u.jsx(cV,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));mV.displayName=cV.displayName;const Jp=m.forwardRef(({className:t,...e},n)=>u.jsxs(kre,{children:[u.jsx(mV,{}),u.jsx(uV,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Jp.displayName=uV.displayName;const Zp=({className:t,...e})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});Zp.displayName="AlertDialogHeader";const em=({className:t,...e})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});em.displayName="AlertDialogFooter";const tm=m.forwardRef(({className:t,...e},n)=>u.jsx(fV,{ref:n,className:ae("text-lg font-semibold",t),...e}));tm.displayName=fV.displayName;const nm=m.forwardRef(({className:t,...e},n)=>u.jsx(pV,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));nm.displayName=pV.displayName;const rm=m.forwardRef(({className:t,...e},n)=>u.jsx(dV,{ref:n,className:ae(e_(),t),...e}));rm.displayName=dV.displayName;const sm=m.forwardRef(({className:t,...e},n)=>u.jsx(hV,{ref:n,className:ae(e_({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));sm.displayName=hV.displayName;function Kr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ha(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const gV=6048e5,Dre=864e5;let Mre={};function Ig(){return Mre}function gd(t,e){var a,l,c,d;const n=Ig(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Kr(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function im(t){return gd(t,{weekStartsOn:1})}function yV(t){const e=Kr(t),n=e.getFullYear(),r=ha(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=im(r),i=ha(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=im(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function fA(t){const e=Kr(t);return e.setHours(0,0,0,0),e}function pA(t){const e=Kr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function jre(t,e){const n=fA(t),r=fA(e),s=+n-pA(n),i=+r-pA(r);return Math.round((s-i)/Dre)}function Ore(t){const e=yV(t),n=ha(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),im(n)}function Lre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vre(t){if(!Lre(t)&&typeof t!="number")return!1;const e=Kr(t);return!isNaN(Number(e))}function Fre(t){const e=Kr(t),n=ha(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ure={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$re=(t,e,n)=>{let r;const s=Ure[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hre={date:wl({formats:Bre,defaultWidth:"full"}),time:wl({formats:zre,defaultWidth:"full"}),dateTime:wl({formats:Wre,defaultWidth:"full"})},qre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gre=(t,e,n,r)=>qre[t];function ls(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Kre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ese=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tse={ordinalNumber:ese,era:ls({values:Kre,defaultWidth:"wide"}),quarter:ls({values:Qre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ls({values:Yre,defaultWidth:"wide"}),day:ls({values:Xre,defaultWidth:"wide"}),dayPeriod:ls({values:Jre,defaultWidth:"wide",formattingValues:Zre,defaultFormattingWidth:"wide"})};function cs(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?rse(a,f=>f.test(o)):nse(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function nse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const sse=/^(\d+)(th|st|nd|rd)?/i,ise=/\d+/i,ose={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ase={any:[/^b/i,/^(a|c)/i]},lse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cse={any:[/1/i,/2/i,/3/i,/4/i]},use={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gse={ordinalNumber:vV({matchPattern:sse,parsePattern:ise,valueCallback:t=>parseInt(t,10)}),era:cs({matchPatterns:ose,defaultMatchWidth:"wide",parsePatterns:ase,defaultParseWidth:"any"}),quarter:cs({matchPatterns:lse,defaultMatchWidth:"wide",parsePatterns:cse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cs({matchPatterns:use,defaultMatchWidth:"wide",parsePatterns:dse,defaultParseWidth:"any"}),day:cs({matchPatterns:hse,defaultMatchWidth:"wide",parsePatterns:fse,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:pse,defaultMatchWidth:"any",parsePatterns:mse,defaultParseWidth:"any"})},yse={code:"en-US",formatDistance:$re,formatLong:Hre,formatRelative:Gre,localize:tse,match:gse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vse(t){const e=Kr(t);return jre(e,Fre(e))+1}function wse(t){const e=Kr(t),n=+im(e)-+Ore(e);return Math.round(n/gV)+1}function wV(t,e){var d,f,p,g;const n=Kr(t),r=n.getFullYear(),s=Ig(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=ha(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=gd(o,e),l=ha(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=gd(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function xse(t,e){var a,l,c,d;const n=Ig(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=wV(t,e),i=ha(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),gd(i,e)}function _se(t,e){const n=Kr(t),r=+gd(n,e)-+xse(n,e);return Math.round(r/gV)+1}function Ke(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const hi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ke(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ke(n+1,2)},d(t,e){return Ke(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ke(t.getHours()%12||12,e.length)},H(t,e){return Ke(t.getHours(),e.length)},m(t,e){return Ke(t.getMinutes(),e.length)},s(t,e){return Ke(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ke(s,e.length)}},Oa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return hi.y(t,e)},Y:function(t,e,n,r){const s=wV(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ke(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ke(i,e.length)},R:function(t,e){const n=yV(t);return Ke(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ke(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ke(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ke(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return hi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ke(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=_se(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ke(s,e.length)},I:function(t,e,n){const r=wse(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ke(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):hi.d(t,e)},D:function(t,e,n){const r=vse(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ke(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ke(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ke(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ke(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Oa.noon:r===0?s=Oa.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Oa.evening:r>=12?s=Oa.afternoon:r>=4?s=Oa.morning:s=Oa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return hi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):hi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ke(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):hi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):hi.s(t,e)},S:function(t,e){return hi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return yA(r);case"XXXX":case"XX":return Ro(r);case"XXXXX":case"XXX":default:return Ro(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return yA(r);case"xxxx":case"xx":return Ro(r);case"xxxxx":case"xxx":default:return Ro(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gA(r,":");case"OOOO":default:return"GMT"+Ro(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gA(r,":");case"zzzz":default:return"GMT"+Ro(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ke(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ke(r,e.length)}};function gA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ke(i,2)}function yA(t,e){return t%60===0?(t>0?"-":"+")+Ke(Math.abs(t)/60,2):Ro(t,e)}function Ro(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ke(Math.trunc(r/60),2),i=Ke(r%60,2);return n+s+e+i}const vA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bse=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return vA(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vA(r,e)).replace("{{time}}",xV(s,e))},Ese={p:xV,P:bse},Tse=/^D+$/,Sse=/^Y+$/,Cse=["D","DD","YY","YYYY"];function Ise(t){return Tse.test(t)}function Ase(t){return Sse.test(t)}function Pse(t,e,n){const r=Rse(t,e,n);if(console.warn(r),Cse.includes(t))throw new RangeError(r)}function Rse(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dse=/^'([^]*?)'?$/,Mse=/''/g,jse=/[a-zA-Z]/;function wA(t,e,n){var d,f,p,g,x,y,b,v;const r=Ig(),s=(n==null?void 0:n.locale)??r.locale??yse,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((v=(b=r.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,a=Kr(t);if(!Vre(a))throw new RangeError("Invalid time value");let l=e.match(kse).map(_=>{const E=_[0];if(E==="p"||E==="P"){const A=Ese[E];return A(_,s.formatLong)}return _}).join("").match(Nse).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const E=_[0];if(E==="'")return{isToken:!1,value:Ose(_)};if(mA[E])return{isToken:!0,value:_};if(E.match(jse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(_=>{if(!_.isToken)return _.value;const E=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ase(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ise(E))&&Pse(E,e,String(t));const A=mA[E[0]];return A(a,E,s.localize,c)}).join("")}function Ose(t){const e=t.match(Dse);return e?e[1].replace(Mse,"'"):t}const _V=ib,Lse=ob,bV=m.forwardRef(({className:t,...e},n)=>u.jsx(Qd,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));bV.displayName=Qd.displayName;const ab=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Lse,{children:[u.jsx(bV,{}),u.jsxs(Yd,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Zd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ks,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ab.displayName=Yd.displayName;const lb=({className:t,...e})=>u.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lb.displayName="DialogHeader";const EV=({className:t,...e})=>u.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});EV.displayName="DialogFooter";const cb=m.forwardRef(({className:t,...e},n)=>u.jsx(Xd,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));cb.displayName=Xd.displayName;const Vse=m.forwardRef(({className:t,...e},n)=>u.jsx(Jd,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));Vse.displayName=Jd.displayName;const Fse=Pd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function TV({className:t,variant:e,...n}){return u.jsx("div",{className:ae(Fse({variant:e}),t),...n})}const Use={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},$se=(t,e,n)=>{const r=Use[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+s:"منذ "+s:s},Bse={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},zse={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Wse={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hse={date:wl({formats:Bse,defaultWidth:"full"}),time:wl({formats:zse,defaultWidth:"full"}),dateTime:wl({formats:Wse,defaultWidth:"full"})},qse={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},Gse=t=>qse[t],Kse={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},Qse={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},Yse={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},Xse={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},Jse={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},Zse={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},eie=t=>String(t),tie={ordinalNumber:eie,era:ls({values:Kse,defaultWidth:"wide"}),quarter:ls({values:Qse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ls({values:Yse,defaultWidth:"wide"}),day:ls({values:Xse,defaultWidth:"wide"}),dayPeriod:ls({values:Jse,defaultWidth:"wide",formattingValues:Zse,defaultFormattingWidth:"wide"})},nie=/^(\d+)(th|st|nd|rd)?/i,rie=/\d+/i,sie={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},iie={any:[/قبل/,/بعد/]},oie={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},aie={any:[/1/i,/2/i,/3/i,/4/i]},lie={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},cie={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},uie={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},die={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},hie={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},fie={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},pie={ordinalNumber:vV({matchPattern:nie,parsePattern:rie,valueCallback:t=>parseInt(t,10)}),era:cs({matchPatterns:sie,defaultMatchWidth:"wide",parsePatterns:iie,defaultParseWidth:"any"}),quarter:cs({matchPatterns:oie,defaultMatchWidth:"wide",parsePatterns:aie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cs({matchPatterns:lie,defaultMatchWidth:"wide",parsePatterns:cie,defaultParseWidth:"any"}),day:cs({matchPatterns:uie,defaultMatchWidth:"wide",parsePatterns:die,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:hie,defaultMatchWidth:"any",parsePatterns:fie,defaultParseWidth:"any"})},xA={code:"ar",formatDistance:$se,formatLong:Hse,formatRelative:Gse,localize:tie,match:pie,options:{weekStartsOn:6,firstWeekContainsDate:1}},mie=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(null),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const f=Ti(dn(Fe,"activities"),i1("timestamp","desc")),p=PM(f,g=>{const x=[];g.forEach(y=>{x.push({id:y.id,...y.data()})}),e(x),i(!1)},g=>{console.error("Error fetching activities:",g),a("فشل في جلب سجلات الأنشطة"),i(!1)});return()=>p()},[]);const d=f=>({register:{icon:NN,color:"bg-green-500",text:"تسجيل حساب جديد"},add_lecture:{icon:jo,color:"bg-blue-500",text:"إضافة محاضرة"},delete_lecture:{icon:Ko,color:"bg-red-500",text:"حذف محاضرة"},add_subject:{icon:Qn,color:"bg-purple-500",text:"إضافة مادة"},delete_subject:{icon:Ko,color:"bg-red-500",text:"حذف مادة"},update_lecture:{icon:d0,color:"bg-yellow-500",text:"تعديل محاضرة"},update_subject:{icon:d0,color:"bg-yellow-500",text:"تعديل مادة"},delete_user_by_admin:{icon:Ko,color:"bg-red-500",text:"حذف مستخدم"},ban_user_by_admin:{icon:SN,color:"bg-red-500",text:"حظر مستخدم"},unban_user:{icon:PN,color:"bg-green-500",text:"إلغاء حظر مستخدم"}})[f]||{icon:R6,color:"bg-gray-500",text:f};return s?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):u.jsxs(ct,{className:"shadow-lg",children:[u.jsx(bt,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border",children:u.jsx(uw,{children:t.map(f=>{const p=d(f.type),g=p.icon;return u.jsx(mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 hover:bg-accent/50 transition-colors",children:u.jsx("button",{onClick:()=>{r(f),c(!0)},className:"w-full text-right",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(TV,{className:`${p.color} p-2`,children:u.jsx(g,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-foreground",children:p.text}),u.jsx("p",{className:"text-sm text-muted-foreground",children:wA(f.timestamp.toDate(),"PPpp",{locale:xA})}),f.details&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:f.details})]})]})})},f.id)})})})}),u.jsx(_V,{open:l,onOpenChange:c,children:u.jsxs(ab,{className:"sm:max-w-[500px]",children:[u.jsx(lb,{children:u.jsx(cb,{className:"text-2xl font-bold mb-4",children:"تفاصيل النشاط"})}),n&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"نوع النشاط"}),u.jsx("p",{children:d(n.type).text})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المستخدم"}),u.jsx("p",{children:n.username||"غير معروف"})]})]}),n.subjectName&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المادة"}),u.jsx("p",{children:n.subjectName})]}),n.lectureTitle&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"المحاضرة"}),u.jsx("p",{children:n.lectureTitle})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"التفاصيل"}),u.jsx("p",{children:n.details||"لا توجد تفاصيل إضافية"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"الوقت"}),u.jsx("p",{children:wA(n.timestamp.toDate(),"PPpp",{locale:xA})})]}),n.ipAddress&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"font-semibold text-primary",children:"عنوان IP"}),u.jsx("p",{className:"font-mono",children:n.ipAddress})]})]}),u.jsx(EV,{children:u.jsx(Ie,{onClick:()=>c(!1),children:"إغلاق"})})]})})]})};var ub="Tabs",[gie,Zoe]=ei(ub,[bg]),SV=bg(),[yie,db]=gie(ub),CV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=wg(a),[f,p]=ra({prop:r,onChange:s,defaultProp:i});return u.jsx(yie,{scope:n,baseId:hs(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:u.jsx(Te.div,{dir:d,"data-orientation":o,...c,ref:e})})});CV.displayName=ub;var IV="TabsList",AV=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=db(IV,n),o=SV(n);return u.jsx(gO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});AV.displayName=IV;var PV="TabsTrigger",RV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=db(PV,n),a=SV(n),l=DV(o.baseId,r),c=MV(o.baseId,r),d=r===o.value;return u.jsx(yO,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ie(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ie(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});RV.displayName=PV;var NV="TabsContent",kV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=db(NV,n),l=DV(a.baseId,r),c=MV(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(Hr,{present:s||d,children:({present:p})=>u.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});kV.displayName=NV;function DV(t,e){return`${t}-trigger-${e}`}function MV(t,e){return`${t}-content-${e}`}var vie=CV,jV=AV,OV=RV,LV=kV;const wie=vie,VV=m.forwardRef(({className:t,...e},n)=>u.jsx(jV,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));VV.displayName=jV.displayName;const Zc=m.forwardRef(({className:t,...e},n)=>u.jsx(OV,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Zc.displayName=OV.displayName;const eu=m.forwardRef(({className:t,...e},n)=>u.jsx(LV,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));eu.displayName=LV.displayName;function _A(t,[e,n]){return Math.min(n,Math.max(e,t))}function xie(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _ie=[" ","Enter","ArrowUp","ArrowDown"],bie=[" ","Enter"],eh="Select",[Ag,Pg,Eie]=Sm(eh),[mc,eae]=ei(eh,[Eie,rc]),Rg=rc(),[Tie,wo]=mc(eh),[Sie,Cie]=mc(eh),FV=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:x}=t,y=Rg(e),[b,v]=m.useState(null),[_,E]=m.useState(null),[A,N]=m.useState(!1),j=wg(c),[C=!1,S]=ra({prop:r,defaultProp:s,onChange:i}),[I,P]=ra({prop:o,defaultProp:a,onChange:l}),D=m.useRef(null),M=b?x||!!b.closest("form"):!0,[k,z]=m.useState(new Set),oe=Array.from(k).map(J=>J.props.value).join(";");return u.jsx(ok,{...y,children:u.jsxs(Tie,{required:g,scope:e,trigger:b,onTriggerChange:v,valueNode:_,onValueNodeChange:E,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:hs(),value:I,onValueChange:P,open:C,onOpenChange:S,dir:j,triggerPointerDownPosRef:D,disabled:p,children:[u.jsx(Ag.Provider,{scope:e,children:u.jsx(Sie,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{z(Z=>new Set(Z).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{z(Z=>{const O=new Set(Z);return O.delete(J),O})},[]),children:n})}),M?u.jsxs(u4,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:J=>P(J.target.value),disabled:p,form:x,children:[I===void 0?u.jsx("option",{value:""}):null,Array.from(k)]},oe):null]})})};FV.displayName=eh;var UV="SelectTrigger",$V=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Rg(n),o=wo(UV,n),a=o.disabled||r,l=$e(e,o.onTriggerChange),c=Pg(n),d=m.useRef("touch"),[f,p,g]=d4(y=>{const b=c().filter(E=>!E.disabled),v=b.find(E=>E.value===o.value),_=h4(b,y,v);_!==void 0&&o.onValueChange(_.value)}),x=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Bx,{asChild:!0,...i,children:u.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":c4(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:ie(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:ie(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&_ie.includes(y.key)&&(x(),y.preventDefault())})})})});$V.displayName=UV;var BV="SelectValue",zV=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=wo(BV,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=$e(e,l.onValueNodeChange);return Bt(()=>{c(d)},[c,d]),u.jsx(Te.span,{...a,ref:f,style:{pointerEvents:"none"},children:c4(l.value)?u.jsx(u.Fragment,{children:o}):i})});zV.displayName=BV;var Iie="SelectIcon",WV=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(Te.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});WV.displayName=Iie;var Aie="SelectPortal",HV=t=>u.jsx(Id,{asChild:!0,...t});HV.displayName=Aie;var fa="SelectContent",qV=m.forwardRef((t,e)=>{const n=wo(fa,t.__scopeSelect),[r,s]=m.useState();if(Bt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ya.createPortal(u.jsx(GV,{scope:t.__scopeSelect,children:u.jsx(Ag.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(KV,{...t,ref:e})});qV.displayName=fa;var Pr=10,[GV,xo]=mc(fa),Pie="SelectContentImpl",KV=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,...v}=t,_=wo(fa,n),[E,A]=m.useState(null),[N,j]=m.useState(null),C=$e(e,te=>A(te)),[S,I]=m.useState(null),[P,D]=m.useState(null),M=Pg(n),[k,z]=m.useState(!1),oe=m.useRef(!1);m.useEffect(()=>{if(E)return H1(E)},[E]),W1();const J=m.useCallback(te=>{const[pe,...$]=M().map(B=>B.ref.current),[K]=$.slice(-1),G=document.activeElement;for(const B of te)if(B===G||(B==null||B.scrollIntoView({block:"nearest"}),B===pe&&N&&(N.scrollTop=0),B===K&&N&&(N.scrollTop=N.scrollHeight),B==null||B.focus(),document.activeElement!==G))return},[M,N]),Z=m.useCallback(()=>J([S,E]),[J,S,E]);m.useEffect(()=>{k&&Z()},[k,Z]);const{onOpenChange:O,triggerPointerDownPosRef:F}=_;m.useEffect(()=>{if(E){let te={x:0,y:0};const pe=K=>{var G,B;te={x:Math.abs(Math.round(K.pageX)-(((G=F.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(K.pageY)-(((B=F.current)==null?void 0:B.y)??0))}},$=K=>{te.x<=10&&te.y<=10?K.preventDefault():E.contains(K.target)||O(!1),document.removeEventListener("pointermove",pe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",$,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",$,{capture:!0})}}},[E,O,F]),m.useEffect(()=>{const te=()=>O(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[O]);const[Y,Q]=d4(te=>{const pe=M().filter(G=>!G.disabled),$=pe.find(G=>G.ref.current===document.activeElement),K=h4(pe,te,$);K&&setTimeout(()=>K.ref.current.focus())}),ee=m.useCallback((te,pe,$)=>{const K=!oe.current&&!$;(_.value!==void 0&&_.value===pe||K)&&(I(te),K&&(oe.current=!0))},[_.value]),se=m.useCallback(()=>E==null?void 0:E.focus(),[E]),ve=m.useCallback((te,pe,$)=>{const K=!oe.current&&!$;(_.value!==void 0&&_.value===pe||K)&&D(te)},[_.value]),Re=r==="popper"?Sw:QV,me=Re===Sw?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return u.jsx(GV,{scope:n,content:E,viewport:N,onViewportChange:j,itemRefCallback:ee,selectedItem:S,onItemLeave:se,itemTextRefCallback:ve,focusSelectedItem:Z,selectedItemText:P,position:r,isPositioned:k,searchRef:Y,children:u.jsx(Tg,{as:Xi,allowPinchZoom:!0,children:u.jsx(xg,{asChild:!0,trapped:_.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ie(s,te=>{var pe;(pe=_.trigger)==null||pe.focus({preventScroll:!0}),te.preventDefault()}),children:u.jsx(Zl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:u.jsx(Re,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:te=>te.preventDefault(),...v,...me,onPlaced:()=>z(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ie(v.onKeyDown,te=>{const pe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!pe&&te.key.length===1&&Q(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let K=M().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(te.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const G=te.target,B=K.indexOf(G);K=K.slice(B+1)}setTimeout(()=>J(K)),te.preventDefault()}})})})})})})});KV.displayName=Pie;var Rie="SelectItemAlignedPosition",QV=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(fa,n),o=xo(fa,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=$e(e,C=>d(C)),p=Pg(n),g=m.useRef(!1),x=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:v,focusSelectedItem:_}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&b&&v){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(i.dir!=="rtl"){const G=P.left-S.left,B=I.left-G,de=C.left-B,ge=C.width+de,De=Math.max(ge,S.width),L=window.innerWidth-Pr,le=_A(B,[Pr,Math.max(Pr,L-De)]);a.style.minWidth=ge+"px",a.style.left=le+"px"}else{const G=S.right-P.right,B=window.innerWidth-I.right-G,de=window.innerWidth-C.right-B,ge=C.width+de,De=Math.max(ge,S.width),L=window.innerWidth-Pr,le=_A(B,[Pr,Math.max(Pr,L-De)]);a.style.minWidth=ge+"px",a.style.right=le+"px"}const D=p(),M=window.innerHeight-Pr*2,k=y.scrollHeight,z=window.getComputedStyle(c),oe=parseInt(z.borderTopWidth,10),J=parseInt(z.paddingTop,10),Z=parseInt(z.borderBottomWidth,10),O=parseInt(z.paddingBottom,10),F=oe+J+k+O+Z,Y=Math.min(b.offsetHeight*5,F),Q=window.getComputedStyle(y),ee=parseInt(Q.paddingTop,10),se=parseInt(Q.paddingBottom,10),ve=C.top+C.height/2-Pr,Re=M-ve,me=b.offsetHeight/2,te=b.offsetTop+me,pe=oe+J+te,$=F-pe;if(pe<=ve){const G=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const B=c.clientHeight-y.offsetTop-y.offsetHeight,de=Math.max(Re,me+(G?se:0)+B+Z),ge=pe+de;a.style.height=ge+"px"}else{const G=D.length>0&&b===D[0].ref.current;a.style.top="0px";const de=Math.max(ve,oe+y.offsetTop+(G?ee:0)+me)+$;a.style.height=de+"px",y.scrollTop=pe-ve+y.offsetTop}a.style.margin=`${Pr}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,b,v,i.dir,r]);Bt(()=>E(),[E]);const[A,N]=m.useState();Bt(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const j=m.useCallback(C=>{C&&x.current===!0&&(E(),_==null||_(),x.current=!1)},[E,_]);return u.jsx(kie,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Te.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QV.displayName=Rie;var Nie="SelectPopperPosition",Sw=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Pr,...i}=t,o=Rg(n);return u.jsx(zx,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sw.displayName=Nie;var[kie,hb]=mc(fa,{}),Cw="SelectViewport",YV=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=xo(Cw,n),o=hb(Cw,n),a=$e(e,i.onViewportChange),l=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Ag.Slot,{scope:n,children:u.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const x=window.innerHeight-Pr*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(y,b);if(v<x){const _=v+g,E=Math.min(x,_),A=_-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});YV.displayName=Cw;var XV="SelectGroup",[Die,Mie]=mc(XV),jie=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hs();return u.jsx(Die,{scope:n,id:s,children:u.jsx(Te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});jie.displayName=XV;var JV="SelectLabel",ZV=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Mie(JV,n);return u.jsx(Te.div,{id:s.id,...r,ref:e})});ZV.displayName=JV;var om="SelectItem",[Oie,e4]=mc(om),t4=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=wo(om,n),l=xo(om,n),c=a.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),x=$e(e,_=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,_,r,s)}),y=hs(),b=m.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Oie,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:m.useCallback(_=>{f(E=>E||((_==null?void 0:_.textContent)??"").trim())},[]),children:u.jsx(Ag.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(Te.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ie(o.onFocus,()=>g(!0)),onBlur:ie(o.onBlur,()=>g(!1)),onClick:ie(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ie(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ie(o.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:ie(o.onPointerMove,_=>{var E;b.current=_.pointerType,s?(E=l.onItemLeave)==null||E.call(l):b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,_=>{var E;_.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:ie(o.onKeyDown,_=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&_.key===" "||(bie.includes(_.key)&&v(),_.key===" "&&_.preventDefault())})})})})});t4.displayName=om;var tu="SelectItemText",n4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=wo(tu,n),a=xo(tu,n),l=e4(tu,n),c=Cie(tu,n),[d,f]=m.useState(null),p=$e(e,v=>f(v),l.onItemTextChange,v=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,v,l.value,l.disabled)}),g=d==null?void 0:d.textContent,x=m.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return Bt(()=>(y(x),()=>b(x)),[y,b,x]),u.jsxs(u.Fragment,{children:[u.jsx(Te.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ya.createPortal(i.children,o.valueNode):null]})});n4.displayName=tu;var r4="SelectItemIndicator",s4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return e4(r4,n).isSelected?u.jsx(Te.span,{"aria-hidden":!0,...r,ref:e}):null});s4.displayName=r4;var Iw="SelectScrollUpButton",i4=m.forwardRef((t,e)=>{const n=xo(Iw,t.__scopeSelect),r=hb(Iw,t.__scopeSelect),[s,i]=m.useState(!1),o=$e(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(a4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});i4.displayName=Iw;var Aw="SelectScrollDownButton",o4=m.forwardRef((t,e)=>{const n=xo(Aw,t.__scopeSelect),r=hb(Aw,t.__scopeSelect),[s,i]=m.useState(!1),o=$e(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(a4,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});o4.displayName=Aw;var a4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=xo("SelectScrollButton",n),o=m.useRef(null),a=Pg(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Bt(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(Te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),Lie="SelectSeparator",l4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Te.div,{"aria-hidden":!0,...r,ref:e})});l4.displayName=Lie;var Pw="SelectArrow",Vie=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Rg(n),i=wo(Pw,n),o=xo(Pw,n);return i.open&&o.position==="popper"?u.jsx(Wx,{...s,...r,ref:e}):null});Vie.displayName=Pw;function c4(t){return t===""||t===void 0}var u4=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=$e(e,s),o=xie(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),u.jsx(Ad,{asChild:!0,children:u.jsx("select",{...r,ref:i,defaultValue:n})})});u4.displayName="BubbleSelect";function d4(t){const e=Jt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function h4(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Fie(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Fie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Uie=FV,f4=$V,$ie=zV,Bie=WV,zie=HV,p4=qV,Wie=YV,m4=ZV,g4=t4,Hie=n4,qie=s4,y4=i4,v4=o4,w4=l4;const uv=Uie,dv=$ie,$f=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(f4,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Bie,{asChild:!0,children:u.jsx(IN,{className:"h-4 w-4 opacity-50"})})]}));$f.displayName=f4.displayName;const x4=m.forwardRef(({className:t,...e},n)=>u.jsx(y4,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(P6,{className:"h-4 w-4"})}));x4.displayName=y4.displayName;const _4=m.forwardRef(({className:t,...e},n)=>u.jsx(v4,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(IN,{className:"h-4 w-4"})}));_4.displayName=v4.displayName;const Bf=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(zie,{children:u.jsxs(p4,{ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(x4,{}),u.jsx(Wie,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(_4,{})]})}));Bf.displayName=p4.displayName;const Gie=m.forwardRef(({className:t,...e},n)=>u.jsx(m4,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Gie.displayName=m4.displayName;const nu=m.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(g4,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(qie,{children:u.jsx(CN,{className:"h-4 w-4"})})}),u.jsx(Hie,{children:e})]}));nu.displayName=g4.displayName;const Kie=m.forwardRef(({className:t,...e},n)=>u.jsx(w4,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));Kie.displayName=w4.displayName;const Qie=ib,Yie=QL,tf=Zd,Xie=ob,b4=m.forwardRef(({className:t,...e},n)=>u.jsx(Qd,{className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));b4.displayName=Qd.displayName;const Jie=Pd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),E4=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(Xie,{children:[u.jsx(b4,{}),u.jsxs(Yd,{ref:s,className:ae(Jie({side:t}),e),...r,children:[n,u.jsxs(Zd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(ks,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));E4.displayName=Yd.displayName;const T4=({className:t,...e})=>u.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...e});T4.displayName="SheetHeader";const S4=m.forwardRef(({className:t,...e},n)=>u.jsx(Xd,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));S4.displayName=Xd.displayName;const C4=m.forwardRef(({className:t,...e},n)=>u.jsx(Jd,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));C4.displayName=Jd.displayName;const Zie=()=>{var De;const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,c]=m.useState(!0),[d,f]=m.useState(""),[p,g]=m.useState(void 0),[x,y]=m.useState(null),b=(De=Rt.currentUser)==null?void 0:De.uid,[v,_]=m.useState(null),{toast:E}=ZR(),[A,N]=m.useState("all");m.useState("all");const[j,C]=m.useState(""),[S,I]=m.useState(""),[P,D]=m.useState("2");m.useState(null);const[M,k]=m.useState(""),[z,oe]=m.useState(""),[J,Z]=m.useState(null),[O,F]=m.useState("");m.useState(""),m.useState(null);const[Y,Q]=m.useState([]),[ee,se]=m.useState("users"),ve=async()=>{try{c(!0),f("");const L=dn(Fe,"users"),Ae=(await ss(L)).docs.map(fe=>({id:fe.id,...fe.data()}));e(Ae)}catch(L){console.error("Error fetching users:",L),f("فشل في جلب بيانات المستخدمين.")}finally{c(!1)}},Re=async()=>{try{const L=await fg();r(L)}catch(L){console.error("Error fetching subjects:",L),E({title:"خطأ",description:"فشل في جلب المواد.",variant:"destructive"})}},me=async()=>{try{const le=(await c1()).sort((Ae,fe)=>{const We=Ae.createdAt?new Date(Ae.createdAt.toMillis()):new Date(0),Le=fe.createdAt?new Date(fe.createdAt.toMillis()):new Date(0);return We.getTime()-Le.getTime()});i(le)}catch(L){console.error("Error fetching lectures:",L),E({title:"خطأ",description:"فشل في جلب المحاضرات.",variant:"destructive"})}},te=async()=>{try{const L=dn(Fe,"stages"),Ae=(await ss(L)).docs.map(fe=>({id:fe.id,name:fe.data().name}));a(Ae)}catch(L){console.error("Error fetching stages:",L),E({title:"خطأ",description:"فشل في جلب المراحل الدراسية.",variant:"destructive"})}};m.useEffect(()=>{ve(),Re(),me(),te(),(async()=>{const fe=Rt.currentUser;if(fe){const We=Ut(Fe,"users",fe.uid),Le=await Gl(We);Le.exists()&&_(Le.data().role)}})();const le=Ti(dn(Fe,"activities"),i1("timestamp","desc"),kQ(5)),Ae=PM(le,fe=>{const We=fe.docs.map(Le=>({id:Le.id,...Le.data()}));Q(We)});return()=>Ae()},[]);const pe=async L=>{var le,Ae,fe,We;try{const Le=t.find(gt=>gt.id===L);if(!Le){console.warn("User not found in the current state.");return}const Er=Ti(dn(Fe,"activities"),Qc("userId","==",L)),Qr=(await ss(Er)).docs.map(gt=>Si(gt.ref));await Promise.all(Qr);const Yr=Ti(dn(Fe,"lectures"),Qc("createdBy","==",L)),Xe=(await ss(Yr)).docs.map(gt=>Si(gt.ref));await Promise.all(Xe);const Tr=Ti(dn(Fe,"subjects"),Qc("createdBy","==",L)),en=(await ss(Tr)).docs.map(gt=>Si(gt.ref));await Promise.all(en);const Ss=Ti(dn(Fe,"news"),Qc("createdBy","==",L)),ir=(await ss(Ss)).docs.map(gt=>Si(gt.ref));await Promise.all(ir),await Si(Ut(Fe,"users",L));try{console.warn("Client-side Firebase Auth user deletion is not supported. User must be deleted from Auth via Admin SDK.")}catch(gt){console.warn("Could not delete user from Auth:",gt)}((le=Rt.currentUser)==null?void 0:le.uid)===L&&await Rt.signOut(),e(gt=>gt.filter(Sr=>Sr.id!==L)),await Kp({type:"delete_user_by_admin",userId:(Ae=Rt.currentUser)==null?void 0:Ae.uid,username:((fe=Rt.currentUser)==null?void 0:fe.email)||"N/A",details:`المالك ${(We=Rt.currentUser)==null?void 0:We.email} حذف المستخدم ${Le.fullName||Le.email} وجميع بياناته من النظام.`}),E({title:"تم حذف المستخدم",description:`تم حذف المستخدم (${Le.fullName||Le.email}) وجميع بياناته من النظام بنجاح.`,variant:"default"})}catch(Le){console.error("Error deleting user:",Le),f("فشل في حذف المستخدم."),E({title:"خطأ",description:"فشل في حذف المستخدم وجميع بياناته.",variant:"destructive"})}},$=async L=>{y(L),g(void 0)},K=async L=>{try{if(!t.find(fe=>fe.id===L))return;const Ae=Ut(Fe,"users",L);await Qo(Ae,{isBanned:!1,banUntil:null}),e(t.map(fe=>fe.id===L?{...fe,isBanned:!1,banUntil:null}:fe))}catch(le){console.error("Error unbanning user:",le),f("فشل في إلغاء حظر المستخدم.")}},G=async L=>{try{f(""),c(!0),console.log("Uploading file:",{name:L.name,size:L.size,type:L.type});const{fileId:le,fileName:Ae,fileUrl:fe}=await NM(L);console.log("File uploaded successfully:",{fileId:le,fileName:Ae,fileUrl:fe}),await zQ(O,M,z,L),E({title:"نجاح",description:"تم رفع المحاضرة بنجاح."}),k(""),oe(""),F(""),Z(null),me()}catch(le){console.error("Error uploading lecture:",le),E({title:"خطأ",description:`فشل في رفع الملف: ${le.message||"خطأ غير معروف"}`,variant:"destructive"})}finally{c(!1)}},B=async L=>{try{const le=L.course==="1"?"2":"1";await $Q(L.id,L.name,L.stageId,le),E({title:"نجاح",description:`تم نقل المادة "${L.name}" إلى ${le==="1"?"الكورس الأول":"الكورس الثاني"}.`}),Re()}catch(le){console.error("Error moving subject course:",le),E({title:"خطأ",description:"فشل في نقل المادة إلى كورس آخر.",variant:"destructive"})}},de=async(L,le)=>{var Ae,fe,We;try{const Le=t.find(Dt=>Dt.id===L);if(!Le){console.warn("User not found in the current state.");return}const Er=Ut(Fe,"users",L);await Qo(Er,{role:le,updatedAt:new Date}),e(t.map(Dt=>Dt.id===L?{...Dt,role:le}:Dt)),await Kp({type:"change_user_role",userId:(Ae=Rt.currentUser)==null?void 0:Ae.uid,username:((fe=Rt.currentUser)==null?void 0:fe.email)||"N/A",details:`المالك ${(We=Rt.currentUser)==null?void 0:We.email} قام بتغيير رتبة المستخدم ${Le.fullName||Le.email} إلى ${le==="admin"?"مسؤول":"مستخدم"}.`}),E({title:"تم تغيير الرتبة",description:`تم تغيير رتبة المستخدم (${Le.fullName||Le.email}) إلى ${le==="admin"?"مسؤول":"مستخدم"} بنجاح.`,variant:"default"})}catch(Le){console.error("Error changing user role:",Le),E({title:"خطأ",description:"فشل في تغيير رتبة المستخدم.",variant:"destructive"})}};t.length,t.filter(L=>!L.isBanned).length,t.filter(L=>L.isBanned).length,t.filter(L=>L.role==="admin").length,t.filter(L=>L.role==="user").length,s.filter(L=>A==="all"||L.subjectId===A);const ge=[{label:"عدد المستخدمين",value:t.length,icon:u.jsx(Di,{className:"h-7 w-7 text-primary"})},{label:"عدد المحاضرات",value:s.length,icon:u.jsx(jo,{className:"h-7 w-7 text-primary"})},{label:"عدد المواد",value:n.length,icon:u.jsx(Qn,{className:"h-7 w-7 text-primary"})}];return u.jsxs("div",{className:"container mx-auto py-8 animate-fade-in",children:[u.jsxs(mn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative rounded-2xl bg-gradient-to-r from-primary/80 to-primary/40 p-8 mb-8 flex items-center shadow-lg overflow-hidden",children:[u.jsx(z6,{className:"absolute right-6 top-6 text-white/30 h-16 w-16 animate-pulse"}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[u.jsx(j6,{className:"h-8 w-8 text-white/90"}),"لوحة تحكم المسؤول"]}),u.jsx("p",{className:"text-lg text-white/80",children:"مرحبًا بك في لوحة التحكم. يمكنك إدارة المستخدمين، المواد، والمحاضرات بكل سهولة واحترافية."})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:ge.map((L,le)=>u.jsxs(mn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*le,duration:.6,type:"spring"},className:"dashboard-card flex items-center gap-4 p-6 bg-background/80 hover:scale-[1.03] transition-transform",children:[u.jsx("div",{className:"flex-shrink-0",children:L.icon}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-foreground",children:L.value}),u.jsx("div",{className:"text-muted-foreground",children:L.label})]})]},L.label))}),u.jsx("div",{className:"md:hidden flex justify-end mb-4",children:u.jsxs(Qie,{children:[u.jsx(Yie,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",children:u.jsx(RN,{className:"h-6 w-6"})})}),u.jsxs(E4,{side:"left",className:"w-64",children:[u.jsxs(T4,{children:[u.jsx(S4,{children:"لوحة التحكم"}),u.jsx(C4,{children:"انتقل بين أقسام لوحة التحكم."})]}),u.jsxs("div",{className:"flex flex-col space-y-4 py-6",children:[u.jsx(tf,{asChild:!0,children:u.jsxs(Ie,{variant:"ghost",className:"justify-start",onClick:()=>se("users"),children:[u.jsx(Di,{className:"h-5 w-5 ml-2"})," إدارة المستخدمين"]})}),u.jsx(tf,{asChild:!0,children:u.jsxs(Ie,{variant:"ghost",className:"justify-start",onClick:()=>se("subjects"),children:[u.jsx(Qn,{className:"h-5 w-5 ml-2"})," إدارة المواد"]})}),u.jsx(tf,{asChild:!0,children:u.jsxs(Ie,{variant:"ghost",className:"justify-start",onClick:()=>se("lectures"),children:[u.jsx(jo,{className:"h-5 w-5 ml-2"})," إدارة المحاضرات"]})}),u.jsx(tf,{asChild:!0,children:u.jsxs(Ie,{variant:"ghost",className:"justify-start",onClick:()=>se("activities"),children:[u.jsx(_y,{className:"h-5 w-5 ml-2"})," سجل النشاطات"]})})]})]})]})}),u.jsxs(wie,{defaultValue:"users",value:ee,onValueChange:se,className:"w-full",children:[u.jsxs(VV,{className:"hidden md:grid md:grid-cols-4 gap-0 mb-8 p-1 bg-muted rounded-lg",children:[u.jsxs(Zc,{value:"users",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Di,{className:"h-5 w-5 ml-2"}),"إدارة المستخدمين"]}),u.jsxs(Zc,{value:"subjects",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(Qn,{className:"h-5 w-5 ml-2"}),"إدارة المواد"]}),u.jsxs(Zc,{value:"lectures",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(jo,{className:"h-5 w-5 ml-2"}),"إدارة المحاضرات"]}),u.jsxs(Zc,{value:"activities",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[u.jsx(_y,{className:"h-5 w-5 ml-2"}),"سجل النشاطات"]})]}),u.jsx(eu,{value:"users",className:"space-y-6",children:u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(It,{className:"p-6",children:u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Di,{className:"h-6 w-6 ml-2 text-primary"}),"قائمة المستخدمين"]})}),u.jsx(bt,{children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Vf,{className:"admin-dashboard-table",children:[u.jsx(Ff,{children:u.jsxs(Po,{children:[u.jsx(_n,{children:"الاسم"}),u.jsx(_n,{children:"البريد الإلكتروني"}),u.jsx(_n,{children:"الدور"}),u.jsx(_n,{children:"الحالة"}),u.jsx(_n,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(Uf,{children:t.map(L=>u.jsxs(Po,{children:[u.jsx(bn,{children:L.fullName||"-"}),u.jsx(bn,{children:L.email}),u.jsx(bn,{children:L.role==="owner"?"المالك":L.role==="admin"?"مسؤول":"مستخدم"}),u.jsx(bn,{children:L.isBanned?u.jsx("span",{className:"text-red-500",children:"محظور"}):u.jsx("span",{className:"text-green-600",children:"نشط"})}),u.jsxs(bn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[v==="owner"&&L.role!=="owner"&&L.id!==b&&u.jsxs(u.Fragment,{children:[u.jsxs(Ew,{children:[u.jsx(Tw,{asChild:!0,children:u.jsx(Ie,{variant:"destructive",size:"icon",children:u.jsx(Ko,{className:"h-5 w-5"})})}),u.jsxs(Jp,{children:[u.jsxs(Zp,{children:[u.jsx(tm,{children:"هل أنت متأكد من حذف هذا المستخدم؟"}),u.jsx(nm,{children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف المستخدم نهائياً من النظام."})]}),u.jsxs(em,{children:[u.jsx(sm,{children:"إلغاء"}),u.jsx(rm,{onClick:()=>pe(L.id),children:"تأكيد الحذف"})]})]})]}),u.jsxs(Ew,{children:[u.jsx(Tw,{asChild:!0,children:u.jsx(Ie,{variant:"outline",size:"icon",className:L.role==="admin"?"text-yellow-500 hover:text-yellow-600":"text-blue-500 hover:text-blue-600",children:L.role==="admin"?u.jsx(K6,{className:"h-5 w-5"}):u.jsx(G6,{className:"h-5 w-5"})})}),u.jsxs(Jp,{children:[u.jsxs(Zp,{children:[u.jsx(tm,{children:L.role==="admin"?"إلغاء صلاحيات المسؤول":"ترقية إلى مسؤول"}),u.jsx(nm,{children:L.role==="admin"?"هل أنت متأكد من إلغاء صلاحيات المسؤول عن هذا المستخدم؟":"هل أنت متأكد من ترقية هذا المستخدم إلى مسؤول؟"})]}),u.jsxs(em,{children:[u.jsx(sm,{children:"إلغاء"}),u.jsx(rm,{onClick:()=>de(L.id,L.role==="admin"?"user":"admin"),children:L.role==="admin"?"إلغاء الصلاحيات":"ترقية"})]})]})]})]}),L.isBanned?u.jsx(Ie,{variant:"outline",onClick:()=>K(L.id),size:"icon",children:u.jsx(PN,{className:"h-5 w-5 text-green-600"})}):u.jsx(Ie,{variant:"outline",onClick:()=>$(L),size:"icon",children:u.jsx(SN,{className:"h-5 w-5 text-red-500"})})]})]},L.id))})]})})})]})}),u.jsx(eu,{value:"subjects",children:u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(It,{className:"p-6",children:u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(Qn,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المواد"]})}),u.jsxs(bt,{children:[u.jsxs("form",{onSubmit:async L=>{L.preventDefault();try{const le=await UQ(j,S,P);E({title:"نجاح الإضافة",description:"تم إضافة المادة بنجاح."}),Re()}catch(le){console.error("Error adding subject: ",le),E({title:"خطأ",description:"حدث خطأ أثناء إضافة المادة.",variant:"destructive"})}},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Cn,{placeholder:"اسم المادة",value:j,onChange:L=>C(L.target.value)}),u.jsxs(uv,{value:S,onValueChange:L=>I(L),children:[u.jsx($f,{children:u.jsx(dv,{placeholder:"اختر المرحلة"})}),u.jsx(Bf,{children:o.map(L=>u.jsx(nu,{value:L.id,children:L.name},L.id))})]}),u.jsxs(uv,{value:P,onValueChange:L=>D(L),children:[u.jsx($f,{children:u.jsx(dv,{placeholder:"اختر الكورس"})}),u.jsxs(Bf,{children:[u.jsx(nu,{value:"1",children:"الكورس الأول"}),u.jsx(nu,{value:"2",children:"الكورس الثاني"})]})]})]}),u.jsx(Ie,{type:"submit",className:"w-full",children:"إضافة مادة"})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Vf,{className:"admin-dashboard-table",children:[u.jsx(Ff,{children:u.jsxs(Po,{children:[u.jsx(_n,{children:"اسم المادة"}),u.jsx(_n,{children:"المرحلة"}),u.jsx(_n,{children:"الكورس"}),u.jsx(_n,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(Uf,{children:n.map(L=>{var le;return u.jsxs(Po,{children:[u.jsx(bn,{children:L.name}),u.jsx(bn,{children:((le=o.find(Ae=>Ae.id===L.stageId))==null?void 0:le.name)||"-"}),u.jsx(bn,{children:L.course==="1"?"الكورس الأول":"الكورس الثاني"}),u.jsxs(bn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(Ie,{variant:"outline",onClick:()=>B(L),size:"icon",children:u.jsx(I6,{className:"h-5 w-5"})}),u.jsx(Ie,{variant:"destructive",onClick:async()=>{try{await BQ(L.id),E({title:"نجاح",description:"تم حذف المادة بنجاح"}),Re()}catch(Ae){console.error("Error deleting subject: ",Ae),E({title:"خطأ",description:"فشل حذف المادة",variant:"destructive"})}},size:"icon",children:u.jsx(Ko,{className:"h-5 w-5"})})]})]},L.id)})})]})})]})]})}),u.jsx(eu,{value:"lectures",children:u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsx(It,{className:"p-6",children:u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(jo,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المحاضرات"]})}),u.jsxs(bt,{children:[u.jsxs("form",{onSubmit:L=>{if(L.preventDefault(),!O){E({title:"خطأ",description:"يرجى اختيار المادة للمحاضرة",variant:"destructive"});return}J&&G(J)},className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(Cn,{placeholder:"عنوان المحاضرة",value:M,onChange:L=>k(L.target.value)}),u.jsx(Cn,{placeholder:"وصف المحاضرة",value:z,onChange:L=>oe(L.target.value)}),u.jsxs(uv,{value:O,onValueChange:L=>F(L),children:[u.jsx($f,{children:u.jsx(dv,{placeholder:"اختر المادة"})}),u.jsx(Bf,{children:n.map(L=>u.jsx(nu,{value:L.id,children:L.name},L.id))})]}),u.jsx(Cn,{type:"file",onChange:L=>{var le;return Z(((le=L.target.files)==null?void 0:le[0])||null)}})]}),u.jsx(Ie,{type:"submit",className:"w-full",children:"رفع محاضرة"})]}),u.jsx("div",{className:"overflow-x-auto mt-6",children:u.jsxs(Vf,{className:"admin-dashboard-table",children:[u.jsx(Ff,{children:u.jsxs(Po,{children:[u.jsx(_n,{children:"اسم المادة"}),u.jsx(_n,{children:"عنوان المحاضرة"}),u.jsx(_n,{children:"الوصف"}),u.jsx(_n,{children:"اسم الملف"}),u.jsx(_n,{className:"text-right",children:"الإجراءات"})]})}),u.jsx(Uf,{children:s.map(L=>{var le;return u.jsxs(Po,{children:[u.jsx(bn,{children:((le=n.find(Ae=>Ae.id===L.subjectId))==null?void 0:le.name)||"-"}),u.jsx(bn,{children:L.title}),u.jsx(bn,{children:L.description}),u.jsx(bn,{children:L.fileName}),u.jsxs(bn,{className:"text-right space-x-2 rtl:space-x-reverse",children:[u.jsx(Ie,{variant:"outline",onClick:()=>WQ(L.id,L.title,L.description),size:"icon",children:u.jsx(d0,{className:"h-5 w-5"})}),u.jsx(Ie,{variant:"destructive",onClick:async()=>{try{await HQ(L.id,L.fileId),E({title:"نجاح",description:"تم حذف المحاضرة بنجاح"}),me()}catch(Ae){console.error("Error deleting lecture: ",Ae),E({title:"خطأ",description:"فشل حذف المحاضرة",variant:"destructive"})}},size:"icon",children:u.jsx(Ko,{className:"h-5 w-5"})})]})]},L.id)})})]})})]})]})}),u.jsx(eu,{value:"activities",className:"space-y-6",children:u.jsxs(ct,{className:"shadow-lg hover:shadow-xl transition-all",children:[u.jsxs(It,{className:"p-6",children:[u.jsxs(_t,{className:"text-xl font-semibold flex items-center",children:[u.jsx(_y,{className:"h-6 w-6 ml-2 text-primary"}),"سجل النشاطات"]}),u.jsx(Kt,{children:"جميع الأنشطة والتغييرات التي تتم في النظام"})]}),u.jsx(bt,{children:u.jsx(mie,{})})]})})]}),u.jsxs(mn.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},className:"fixed bottom-8 left-8 z-50 bg-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 dashboard-button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},title:"إضافة عنصر جديد",children:[u.jsx(u0,{className:"h-6 w-6"}),"إضافة"]})]})},bA=({allowedRoles:t})=>{const[e,n]=m.useState(!0),[r,s]=m.useState(!1),[i,o]=m.useState(void 0);return m.useEffect(()=>{const a=g_(Rt,async l=>{if(l){s(!0);const c=Ut(Fe,"users",l.uid),d=await Gl(c);d.exists()?o(d.data().role):o("user")}else s(!1),o(null)});return()=>a()},[]),m.useEffect(()=>{r!==!1&&i!==void 0&&n(!1),r===!1&&i===null&&n(!1)},[r,i]),e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsx("p",{children:"جاري التحقق من الصلاحيات..."})}):!r||i===null?u.jsx(_0,{to:"/login",replace:!0}):t&&!t.includes(i)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"لا تملك الصلاحيات الكافية"}),u.jsx("p",{className:"text-muted-foreground",children:"ليس لديك إذن للوصول إلى هذه الصفحة."}),u.jsx(_0,{to:"/",replace:!0})," "]})}):u.jsx(qB,{})},Rw=m.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Rw.displayName="Textarea";function eoe(t){return Object.prototype.toString.call(t)==="[object Object]"}function EA(t){return eoe(t)||Array.isArray(t)}function toe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function fb(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return s!==i?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!EA(a)||!EA(l)?a===l:fb(a,l)})}function TA(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function noe(t,e){if(t.length!==e.length)return!1;const n=TA(t),r=TA(e);return n.every((s,i)=>{const o=r[i];return fb(s,o)})}function pb(t){return typeof t=="number"}function Nw(t){return typeof t=="string"}function Ng(t){return typeof t=="boolean"}function SA(t){return Object.prototype.toString.call(t)==="[object Object]"}function dt(t){return Math.abs(t)}function mb(t){return Math.sign(t)}function Cu(t,e){return dt(t-e)}function roe(t,e){if(t===0||e===0||dt(t)<=dt(e))return 0;const n=Cu(dt(t),dt(e));return dt(n/t)}function yd(t){return vd(t).map(Number)}function Fr(t){return t[th(t)]}function th(t){return Math.max(0,t.length-1)}function gb(t,e){return e===th(t)}function CA(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function vd(t){return Object.keys(t)}function I4(t,e){return[t,e].reduce((n,r)=>(vd(r).forEach(s=>{const i=n[s],o=r[s],a=SA(i)&&SA(o);n[s]=a?I4(i,o):o}),n),{})}function kw(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function soe(t,e){const n={start:r,center:s,end:i};function r(){return 0}function s(l){return i(l)/2}function i(l){return e-l}function o(l,c){return Nw(t)?n[t](l):t(e,l,c)}return{measure:o}}function wd(){let t=[];function e(s,i,o,a={passive:!0}){let l;if("addEventListener"in s)s.addEventListener(i,o,a),l=()=>s.removeEventListener(i,o,a);else{const c=s;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(s=>s())}const r={add:e,clear:n};return r}function ioe(t,e,n,r){const s=wd(),i=1e3/60;let o=null,a=0,l=0;function c(){s.add(t,"visibilitychange",()=>{t.hidden&&x()})}function d(){g(),s.clear()}function f(b){if(!l)return;o||(o=b);const v=b-o;for(o=b,a+=v;a>=i;)n(i),a-=i;const _=a/i;r(_),l&&e.requestAnimationFrame(f)}function p(){l||(l=e.requestAnimationFrame(f))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function x(){o=null,a=0}return{init:c,destroy:d,start:p,stop:g,update:()=>n(i),render:r}}function ooe(t,e){const n=e==="rtl",r=t==="y",s=r?"y":"x",i=r?"x":"y",o=!r&&n?-1:1,a=d(),l=f();function c(x){const{height:y,width:b}=x;return r?y:b}function d(){return r?"top":n?"right":"left"}function f(){return r?"bottom":n?"left":"right"}function p(x){return x*o}return{scroll:s,cross:i,startEdge:a,endEdge:l,measureSize:c,direction:p}}function pa(t=0,e=0){const n=dt(t-e);function r(c){return c<t}function s(c){return c>e}function i(c){return r(c)||s(c)}function o(c){return i(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:s,reachedMin:r,removeOffset:a}}function A4(t,e,n){const{constrain:r}=pa(0,t),s=t+1;let i=o(e);function o(p){return n?dt((s+p)%s):r(p)}function a(){return i}function l(p){return i=o(p),f}function c(p){return d().set(a()+p)}function d(){return A4(t,a(),n)}const f={get:a,set:l,add:c,clone:d};return f}function aoe(t,e,n,r,s,i,o,a,l,c,d,f,p,g,x,y,b,v,_){const{cross:E,direction:A}=t,N=["INPUT","SELECT","TEXTAREA"],j={passive:!1},C=wd(),S=wd(),I=pa(50,225).constrain(g.measure(20)),P={mouse:300,touch:400},D={mouse:500,touch:600},M=x?43:25;let k=!1,z=0,oe=0,J=!1,Z=!1,O=!1,F=!1;function Y(B){if(!_)return;function de(De){(Ng(_)||_(B,De))&&me(De)}const ge=e;C.add(ge,"dragstart",De=>De.preventDefault(),j).add(ge,"touchmove",()=>{},j).add(ge,"touchend",()=>{}).add(ge,"touchstart",de).add(ge,"mousedown",de).add(ge,"touchcancel",pe).add(ge,"contextmenu",pe).add(ge,"click",$,!0)}function Q(){C.clear(),S.clear()}function ee(){const B=F?n:e;S.add(B,"touchmove",te,j).add(B,"touchend",pe).add(B,"mousemove",te,j).add(B,"mouseup",pe)}function se(B){const de=B.nodeName||"";return N.includes(de)}function ve(){return(x?D:P)[F?"mouse":"touch"]}function Re(B,de){const ge=f.add(mb(B)*-1),De=d.byDistance(B,!x).distance;return x||dt(B)<I?De:b&&de?De*.5:d.byIndex(ge.get(),0).distance}function me(B){const de=kw(B,r);F=de,O=x&&de&&!B.buttons&&k,k=Cu(s.get(),o.get())>=2,!(de&&B.button!==0)&&(se(B.target)||(J=!0,i.pointerDown(B),c.useFriction(0).useDuration(0),s.set(o),ee(),z=i.readPoint(B),oe=i.readPoint(B,E),p.emit("pointerDown")))}function te(B){if(!kw(B,r)&&B.touches.length>=2)return pe(B);const ge=i.readPoint(B),De=i.readPoint(B,E),L=Cu(ge,z),le=Cu(De,oe);if(!Z&&!F&&(!B.cancelable||(Z=L>le,!Z)))return pe(B);const Ae=i.pointerMove(B);L>y&&(O=!0),c.useFriction(.3).useDuration(.75),a.start(),s.add(A(Ae)),B.preventDefault()}function pe(B){const ge=d.byDistance(0,!1).index!==f.get(),De=i.pointerUp(B)*ve(),L=Re(A(De),ge),le=roe(De,L),Ae=M-10*le,fe=v+le/50;Z=!1,J=!1,S.clear(),c.useDuration(Ae).useFriction(fe),l.distance(L,!x),F=!1,p.emit("pointerUp")}function $(B){O&&(B.stopPropagation(),B.preventDefault(),O=!1)}function K(){return J}return{init:Y,destroy:Q,pointerDown:K}}function loe(t,e){let r,s;function i(f){return f.timeStamp}function o(f,p){const x=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(kw(f,e)?f:f.touches[0])[x]}function a(f){return r=f,s=f,o(f)}function l(f){const p=o(f)-o(s),g=i(f)-i(r)>170;return s=f,g&&(r=f),p}function c(f){if(!r||!s)return 0;const p=o(s)-o(r),g=i(f)-i(r),x=i(f)-i(s)>170,y=p/g;return g&&!x&&dt(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function coe(){function t(n){const{offsetTop:r,offsetLeft:s,offsetWidth:i,offsetHeight:o}=n;return{top:r,right:s+i,bottom:r+o,left:s,width:i,height:o}}return{measure:t}}function uoe(t){function e(r){return t*(r/100)}return{measure:e}}function doe(t,e,n,r,s,i,o){const a=[t].concat(r);let l,c,d=[],f=!1;function p(b){return s.measureSize(o.measure(b))}function g(b){if(!i)return;c=p(t),d=r.map(p);function v(_){for(const E of _){if(f)return;const A=E.target===t,N=r.indexOf(E.target),j=A?c:d[N],C=p(A?t:r[N]);if(dt(C-j)>=.5){b.reInit(),e.emit("resize");break}}}l=new ResizeObserver(_=>{(Ng(i)||i(b,_))&&v(_)}),n.requestAnimationFrame(()=>{a.forEach(_=>l.observe(_))})}function x(){f=!0,l&&l.disconnect()}return{init:g,destroy:x}}function hoe(t,e,n,r,s,i){let o=0,a=0,l=s,c=i,d=t.get(),f=0;function p(j){const C=j/1e3,S=l*C,I=r.get()-t.get(),P=!l;let D=0;return P?(o=0,n.set(r),t.set(r),D=I):(n.set(t),o+=I/S,o*=c,d+=o,t.add(o*C),D=d-f),a=mb(D),f=d,N}function g(){const j=r.get()-e.get();return dt(j)<.001}function x(){return l}function y(){return a}function b(){return o}function v(){return E(s)}function _(){return A(i)}function E(j){return l=j,N}function A(j){return c=j,N}const N={direction:y,duration:x,velocity:b,seek:p,settled:g,useBaseFriction:_,useBaseDuration:v,useFriction:A,useDuration:E};return N}function foe(t,e,n,r,s){const i=s.measure(10),o=s.measure(50),a=pa(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const x=t.reachedMin(e.get())?"min":"max",y=dt(t[x]-e.get()),b=n.get()-e.get(),v=a.constrain(y/o);n.subtract(b*v),!g&&dt(b)<i&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function f(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:f}}function poe(t,e,n,r,s){const i=pa(-e+t,0),o=f(),a=d(),l=p();function c(x,y){return Cu(x,y)<1}function d(){const x=o[0],y=Fr(o),b=o.lastIndexOf(x),v=o.indexOf(y)+1;return pa(b,v)}function f(){return n.map((x,y)=>{const{min:b,max:v}=i,_=i.constrain(x),E=!y,A=gb(n,y);return E?v:A||c(b,_)?b:c(v,_)?v:_}).map(x=>parseFloat(x.toFixed(3)))}function p(){if(e<=t+s)return[i.max];if(r==="keepSnaps")return o;const{min:x,max:y}=a;return o.slice(x,y)}return{snapsContained:l,scrollContainLimit:a}}function moe(t,e,n){const r=e[0],s=n?r-t:Fr(e);return{limit:pa(s,r)}}function goe(t,e,n,r){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=pa(i,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const g=t*(p*-1);r.forEach(x=>x.add(g))}return{loop:d}}function yoe(t){const{max:e,length:n}=t;function r(i){const o=i-e;return n?o/-n:0}return{get:r}}function voe(t,e,n,r,s){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=s,l=f().map(e.measure),c=p(),d=g();function f(){return a(r).map(y=>Fr(y)[o]-y[0][i]).map(dt)}function p(){return r.map(y=>n[i]-y[i]).map(y=>-dt(y))}function g(){return a(c).map(y=>y[0]).map((y,b)=>y+l[b])}return{snaps:c,snapsAligned:d}}function woe(t,e,n,r,s,i){const{groupSlides:o}=s,{min:a,max:l}=r,c=d();function d(){const p=o(i),g=!t||e==="keepSnaps";return n.length===1?[i]:g?p:p.slice(a,l).map((x,y,b)=>{const v=!y,_=gb(b,y);if(v){const E=Fr(b[0])+1;return CA(E)}if(_){const E=th(i)-Fr(b)[0]+1;return CA(E,Fr(b)[0])}return x})}return{slideRegistry:c}}function xoe(t,e,n,r,s){const{reachedAny:i,removeOffset:o,constrain:a}=r;function l(x){return x.concat().sort((y,b)=>dt(y)-dt(b))[0]}function c(x){const y=t?o(x):a(x),b=e.map((_,E)=>({diff:d(_-y,0),index:E})).sort((_,E)=>dt(_.diff)-dt(E.diff)),{index:v}=b[0];return{index:v,distance:y}}function d(x,y){const b=[x,x+n,x-n];if(!t)return x;if(!y)return l(b);const v=b.filter(_=>mb(_)===y);return v.length?l(v):Fr(b)-n}function f(x,y){const b=e[x]-s.get(),v=d(b,y);return{index:x,distance:v}}function p(x,y){const b=s.get()+x,{index:v,distance:_}=c(b),E=!t&&i(b);if(!y||E)return{index:v,distance:x};const A=e[v]-_,N=x+d(A,0);return{index:v,distance:N}}return{byDistance:p,byIndex:f,shortcut:d}}function _oe(t,e,n,r,s,i,o){function a(f){const p=f.distance,g=f.index!==e.get();i.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(f.index),o.emit("select"))}function l(f,p){const g=s.byDistance(f,p);a(g)}function c(f,p){const g=e.clone().set(f),x=s.byIndex(g.get(),p);a(x)}return{distance:l,index:c}}function boe(t,e,n,r,s,i,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function x(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const _=n.findIndex(E=>E.includes(y));pb(_)&&(s.useDuration(0),r.index(_,0),o.emit("slideFocus"))}i.add(document,"keydown",f,!1),e.forEach((y,b)=>{i.add(y,"focus",v=>{(Ng(a)||a(g,v))&&x(b)},l)})}function f(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function ru(t){let e=t;function n(){return e}function r(l){e=o(l)}function s(l){e+=o(l)}function i(l){e-=o(l)}function o(l){return pb(l)?l:l.get()}return{get:n,set:r,add:s,subtract:i}}function P4(t,e){const n=t.scroll==="x"?i:o,r=e.style;let s=!1;function i(f){return`translate3d(${f}px,0px,0px)`}function o(f){return`translate3d(0px,${f}px,0px)`}function a(f){s||(r.transform=n(t.direction(f)))}function l(f){s=!f}function c(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function Eoe(t,e,n,r,s,i,o,a,l){const d=yd(s),f=yd(s).reverse(),p=v().concat(_());function g(C,S){return C.reduce((I,P)=>I-s[P],S)}function x(C,S){return C.reduce((I,P)=>g(I,S)>0?I.concat([P]):I,[])}function y(C){return i.map((S,I)=>({start:S-r[I]+.5+C,end:S+e-.5+C}))}function b(C,S,I){const P=y(S);return C.map(D=>{const M=I?0:-n,k=I?n:0,z=I?"end":"start",oe=P[D][z];return{index:D,loopPoint:oe,slideLocation:ru(-1),translate:P4(t,l[D]),target:()=>a.get()>oe?M:k}})}function v(){const C=o[0],S=x(f,C);return b(S,n,!1)}function _(){const C=e-o[0]-1,S=x(d,C);return b(S,-n,!0)}function E(){return p.every(({index:C})=>{const S=d.filter(I=>I!==C);return g(S,e)<=.1})}function A(){p.forEach(C=>{const{target:S,translate:I,slideLocation:P}=C,D=S();D!==P.get()&&(I.to(D),P.set(D))})}function N(){p.forEach(C=>C.translate.clear())}return{canLoop:E,clear:N,loop:A,loopPoints:p}}function Toe(t,e,n){let r,s=!1;function i(l){if(!n)return;function c(d){for(const f of d)if(f.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(Ng(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),s=!0}return{init:i,destroy:o}}function Soe(t,e,n,r){const s={};let i=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(x=>{l||(x.forEach(y=>{const b=e.indexOf(y.target);s[b]=y}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(x=>a.observe(x))}function d(){a&&a.disconnect(),l=!0}function f(x){return vd(s).reduce((y,b)=>{const v=parseInt(b),{isIntersecting:_}=s[v];return(x&&_||!x&&!_)&&y.push(v),y},[])}function p(x=!0){if(x&&i)return i;if(!x&&o)return o;const y=f(x);return x&&(i=y),x||(o=y),y}return{init:c,destroy:d,get:p}}function Coe(t,e,n,r,s,i){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&s,d=x(),f=y(),p=n.map(o),g=b();function x(){if(!c)return 0;const _=n[0];return dt(e[a]-_[a])}function y(){if(!c)return 0;const _=i.getComputedStyle(Fr(r));return parseFloat(_.getPropertyValue(`margin-${l}`))}function b(){return n.map((_,E,A)=>{const N=!E,j=gb(A,E);return N?p[E]+d:j?p[E]+f:A[E+1][a]-_[a]}).map(dt)}return{slideSizes:p,slideSizesWithGaps:g,startGap:d,endGap:f}}function Ioe(t,e,n,r,s,i,o,a,l){const{startEdge:c,endEdge:d,direction:f}=t,p=pb(n);function g(v,_){return yd(v).filter(E=>E%_===0).map(E=>v.slice(E,E+_))}function x(v){return v.length?yd(v).reduce((_,E,A)=>{const N=Fr(_)||0,j=N===0,C=E===th(v),S=s[c]-i[N][c],I=s[c]-i[E][d],P=!r&&j?f(o):0,D=!r&&C?f(a):0,M=dt(I-D-(S+P));return A&&M>e+l&&_.push(E),C&&_.push(v.length),_},[]).map((_,E,A)=>{const N=Math.max(A[E-1]||0);return v.slice(N,_)}):[]}function y(v){return p?g(v,n):x(v)}return{groupSlides:y}}function Aoe(t,e,n,r,s,i,o){const{align:a,axis:l,direction:c,startIndex:d,loop:f,duration:p,dragFree:g,dragThreshold:x,inViewThreshold:y,slidesToScroll:b,skipSnaps:v,containScroll:_,watchResize:E,watchSlides:A,watchDrag:N,watchFocus:j}=i,C=2,S=coe(),I=S.measure(e),P=n.map(S.measure),D=ooe(l,c),M=D.measureSize(I),k=uoe(M),z=soe(a,M),oe=!f&&!!_,J=f||!!_,{slideSizes:Z,slideSizesWithGaps:O,startGap:F,endGap:Y}=Coe(D,I,P,n,J,s),Q=Ioe(D,M,b,f,I,P,F,Y,C),{snaps:ee,snapsAligned:se}=voe(D,z,I,P,Q),ve=-Fr(ee)+Fr(O),{snapsContained:Re,scrollContainLimit:me}=poe(M,ve,se,_,C),te=oe?Re:se,{limit:pe}=moe(ve,te,f),$=A4(th(te),d,f),K=$.clone(),G=yd(n),B=({dragHandler:en,scrollBody:Ss,scrollBounds:zn,options:{loop:ir}},gt)=>{ir||zn.constrain(en.pointerDown()),Ss.seek(gt)},de=({scrollBody:en,translate:Ss,location:zn,offsetLocation:ir,scrollLooper:gt,slideLooper:Sr,dragHandler:or,animation:gc,eventHandler:be,scrollBounds:He,options:{loop:Be}},Mt)=>{const zt=en.settled(),Xr=!He.shouldConstrain(),ar=Be?zt:zt&&Xr;ar&&!or.pointerDown()&&(gc.stop(),be.emit("settle")),ar||be.emit("scroll");const nh=zn.get()*Mt+Ae.get()*(1-Mt);ir.set(nh),Be&&(gt.loop(en.direction()),Sr.loop()),Ss.to(ir.get())},ge=ioe(r,s,en=>B(kn,en),en=>de(kn,en)),De=.68,L=te[$.get()],le=ru(L),Ae=ru(L),fe=ru(L),We=ru(L),Le=hoe(le,fe,Ae,We,p,De),Er=xoe(f,te,ve,pe,We),Dt=_oe(ge,$,K,Le,Er,We,o),Qr=yoe(pe),Yr=wd(),at=Soe(e,n,o,y),{slideRegistry:Xe}=woe(oe,_,te,me,Q,G),Tr=boe(t,n,Xe,Dt,Le,Yr,o,j),kn={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:I,slideRects:P,animation:ge,axis:D,dragHandler:aoe(D,t,r,s,We,loe(D,s),le,ge,Dt,Le,Er,$,o,k,g,x,v,De,N),eventStore:Yr,percentOfView:k,index:$,indexPrevious:K,limit:pe,location:le,offsetLocation:fe,previousLocation:Ae,options:i,resizeHandler:doe(e,o,s,n,D,E,S),scrollBody:Le,scrollBounds:foe(pe,fe,We,Le,k),scrollLooper:goe(ve,pe,fe,[le,fe,Ae,We]),scrollProgress:Qr,scrollSnapList:te.map(Qr.get),scrollSnaps:te,scrollTarget:Er,scrollTo:Dt,slideLooper:Eoe(D,M,ve,Z,O,ee,te,fe,n),slideFocus:Tr,slidesHandler:Toe(e,o,A),slidesInView:at,slideIndexes:G,slideRegistry:Xe,slidesToScroll:Q,target:We,translate:P4(D,e)};return kn}function Poe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function s(c){return r(c).forEach(d=>d(e,c)),l}function i(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(f=>f!==d),l}function a(){t={}}const l={init:n,emit:s,off:o,on:i,clear:a};return l}const Roe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Noe(t){function e(i,o){return I4(i,o||{})}function n(i){const o=i.breakpoints||{},a=vd(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(i,a)}function r(i){return i.map(o=>vd(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function koe(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(i=>i.destroy())}return{init:n,destroy:r}}function am(t,e,n){const r=t.ownerDocument,s=r.defaultView,i=Noe(s),o=koe(i),a=wd(),l=Poe(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:f}=i,{on:p,off:g,emit:x}=l,y=D;let b=!1,v,_=c(Roe,am.globalOptions),E=c(_),A=[],N,j,C;function S(){const{container:G,slides:B}=E;j=(Nw(G)?t.querySelector(G):G)||t.children[0];const ge=Nw(B)?j.querySelectorAll(B):B;C=[].slice.call(ge||j.children)}function I(G){const B=Aoe(t,j,C,r,s,G,l);if(G.loop&&!B.slideLooper.canLoop()){const de=Object.assign({},G,{loop:!1});return I(de)}return B}function P(G,B){b||(_=c(_,G),E=d(_),A=B||A,S(),v=I(E),f([_,...A.map(({options:de})=>de)]).forEach(de=>a.add(de,"change",D)),E.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(K),v.eventHandler.init(K),v.resizeHandler.init(K),v.slidesHandler.init(K),v.options.loop&&v.slideLooper.loop(),j.offsetParent&&C.length&&v.dragHandler.init(K),N=o.init(K,A)))}function D(G,B){const de=Q();M(),P(c({startIndex:de},G),B),l.emit("reInit")}function M(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),o.destroy(),a.clear()}function k(){b||(b=!0,a.clear(),M(),l.emit("destroy"),l.clear())}function z(G,B,de){!E.active||b||(v.scrollBody.useBaseFriction().useDuration(B===!0?0:E.duration),v.scrollTo.index(G,de||0))}function oe(G){const B=v.index.add(1).get();z(B,G,-1)}function J(G){const B=v.index.add(-1).get();z(B,G,1)}function Z(){return v.index.add(1).get()!==Q()}function O(){return v.index.add(-1).get()!==Q()}function F(){return v.scrollSnapList}function Y(){return v.scrollProgress.get(v.location.get())}function Q(){return v.index.get()}function ee(){return v.indexPrevious.get()}function se(){return v.slidesInView.get()}function ve(){return v.slidesInView.get(!1)}function Re(){return N}function me(){return v}function te(){return t}function pe(){return j}function $(){return C}const K={canScrollNext:Z,canScrollPrev:O,containerNode:pe,internalEngine:me,destroy:k,off:g,on:p,emit:x,plugins:Re,previousScrollSnap:ee,reInit:y,rootNode:te,scrollNext:oe,scrollPrev:J,scrollProgress:Y,scrollSnapList:F,scrollTo:z,selectedScrollSnap:Q,slideNodes:$,slidesInView:se,slidesNotInView:ve};return P(e,n),setTimeout(()=>l.emit("init"),0),K}am.globalOptions=void 0;function yb(t={},e=[]){const n=m.useRef(t),r=m.useRef(e),[s,i]=m.useState(),[o,a]=m.useState(),l=m.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return m.useEffect(()=>{fb(n.current,t)||(n.current=t,l())},[t,l]),m.useEffect(()=>{noe(r.current,e)||(r.current=e,l())},[e,l]),m.useEffect(()=>{if(toe()&&o){am.globalOptions=yb.globalOptions;const c=am(o,n.current,r.current);return i(c),()=>c.destroy()}else i(void 0)},[o,i]),[a,s]}yb.globalOptions=void 0;const R4=m.createContext(null);function kg(){const t=m.useContext(R4);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const N4=m.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:s,children:i,...o},a)=>{const[l,c]=yb({...e,axis:t==="horizontal"?"x":"y"},r),[d,f]=m.useState(!1),[p,g]=m.useState(!1),x=m.useCallback(_=>{_&&(f(_.canScrollPrev()),g(_.canScrollNext()))},[]),y=m.useCallback(()=>{c==null||c.scrollPrev()},[c]),b=m.useCallback(()=>{c==null||c.scrollNext()},[c]),v=m.useCallback(_=>{_.key==="ArrowLeft"?(_.preventDefault(),y()):_.key==="ArrowRight"&&(_.preventDefault(),b())},[y,b]);return m.useEffect(()=>{!c||!n||n(c)},[c,n]),m.useEffect(()=>{if(c)return x(c),c.on("reInit",x),c.on("select",x),()=>{c==null||c.off("select",x)}},[c,x]),u.jsx(R4.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:d,canScrollNext:p},children:u.jsx("div",{ref:a,onKeyDownCapture:v,className:ae("relative",s),role:"region","aria-roledescription":"carousel",...o,children:i})})});N4.displayName="Carousel";const k4=m.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:s}=kg();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:ae("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});k4.displayName="CarouselContent";const D4=m.forwardRef(({className:t,...e},n)=>{const{orientation:r}=kg();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:ae("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});D4.displayName="CarouselItem";const M4=m.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollPrev:o,canScrollPrev:a}=kg();return u.jsxs(Ie,{ref:s,variant:e,size:n,className:ae("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(fr,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});M4.displayName="CarouselPrevious";const j4=m.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},s)=>{const{orientation:i,scrollNext:o,canScrollNext:a}=kg();return u.jsxs(Ie,{ref:s,variant:e,size:n,className:ae("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(kx,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});j4.displayName="CarouselNext";const IA=async t=>{var i;const e="dmao2zbvt",n="news_unsigned",r=[],s=[];for(const o of t){const a=new FormData;a.append("file",o),a.append("upload_preset",n),a.append("cloud_name",e);const l=await fetch(`https://api.cloudinary.com/v1_1/${e}/image/upload`,{method:"POST",body:a,mode:"cors"});if(!l.ok){const d=await l.json();throw new Error(`فشل رفع الصورة: ${((i=d.error)==null?void 0:i.message)||l.statusText}`)}const c=await l.json();if(!c.secure_url)throw new Error("لم يتم استلام رابط الصورة من Cloudinary");r.push(c.secure_url),s.push(o.name)}return{urls:r,names:s}},Doe=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState([]),[o,a]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(!1),[p,g]=m.useState(Rt.currentUser);m.useState(!1);const[x,y]=m.useState(""),[b,v]=m.useState(""),[_,E]=m.useState([]),[A,N]=m.useState([]),[j,C]=m.useState(null),[S,I]=m.useState(null),[P,D]=m.useState(!1),[M,k]=m.useState(""),[z,oe]=m.useState(""),[J,Z]=m.useState([]),[O,F]=m.useState([]),[Y,Q]=m.useState([]),[ee,se]=m.useState(null);m.useEffect(()=>{const $=g_(Rt,K=>{g(K)});return()=>$()},[]),m.useEffect(()=>{(async()=>{if(!p)return e(!1);const K=Ut(Fe,"users",p.uid),G=await Gl(K);e(G.exists()&&G.data().role==="owner"||G.data().role==="admin")})()},[p]),m.useEffect(()=>{(async()=>{a(!0);const K=Ti(dn(Fe,"news"),i1("createdAt","desc")),G=await ss(K);i(G.docs.map(B=>({id:B.id,...B.data()}))),a(!1)})()},[]),m.useEffect(()=>{if(!_.length){N([]);return}const $=[];let K=!1;return Promise.all(_.map((G,B)=>new Promise(de=>{const ge=new FileReader;$[B]=ge,ge.onloadend=()=>de(ge.result),ge.readAsDataURL(G)}))).then(G=>{K||N(G)}),()=>{K=!0,$.forEach(G=>G&&G.abort&&G.abort())}},[_]),m.useEffect(()=>{if(!J.length){F([]);return}const $=[];let K=!1;return Promise.all(J.map((G,B)=>new Promise(de=>{const ge=new FileReader;$[B]=ge,ge.onloadend=()=>de(ge.result),ge.readAsDataURL(G)}))).then(G=>{K||F(G)}),()=>{K=!0,$.forEach(G=>G&&G.abort&&G.abort())}},[J]);const ve=async $=>{if($.preventDefault(),C(null),!x.trim()||!b.trim()||!_.length){C("يرجى ملء جميع الحقول وإرفاق صورة واحدة على الأقل.");return}a(!0);try{const{urls:K,names:G}=await IA(_),B=await dg(dn(Fe,"news"),{title:x.trim(),description:b.trim(),imageUrls:K,imageNames:G,createdAt:ot.now(),tag:"خبر",likes:0,likedBy:[]});r(!1),y(""),v(""),E([]),N([]),i(de=>[{id:B.id,title:x.trim(),description:b.trim(),imageUrls:K,imageNames:G,createdAt:new Date,tag:"خبر",likes:0,likedBy:[]},...de])}catch{C("حدث خطأ أثناء إضافة الخبر.")}a(!1)},Re=$=>{I($),k($.title),oe($.description),Z([]),F([]),Q([]),D(!0)},me=async $=>{if($.preventDefault(),!!S){a(!0);try{const K=S.imageUrls.filter((L,le)=>!Y.includes(le)),G=S.imageNames.filter((L,le)=>!Y.includes(le));let B=[],de=[];if(J.length>0){const L=await IA(J);B=L.urls,de=L.names}const ge=[...K,...B],De=[...G,...de];await Qo(Ut(Fe,"news",S.id),{title:M.trim(),description:z.trim(),imageUrls:ge,imageNames:De}),i(L=>L.map(le=>le.id===S.id?{...le,title:M.trim(),description:z.trim(),imageUrls:ge,imageNames:De}:le)),D(!1),I(null),No({title:"تم التعديل",description:"تم تعديل الخبر بنجاح."})}catch{No({title:"خطأ",description:"حدث خطأ أثناء تعديل الخبر",variant:"destructive"})}a(!1)}},te=async $=>{if(!p){No({title:"تنبيه",description:"يجب تسجيل الدخول أولاً",variant:"destructive"});return}const K=Ut(Fe,"news",$),G=await Gl(K);G.exists()&&((G.data().likedBy||[]).includes(p.uid)?(await Qo(K,{likes:$C(-1),likedBy:LQ(p.uid)}),i(De=>De.map(L=>L.id===$?{...L,likes:(L.likes||0)-1,likedBy:L.likedBy.filter(le=>le!==p.uid)}:L))):(await Qo(K,{likes:$C(1),likedBy:OQ(p.uid)}),i(De=>De.map(L=>L.id===$?{...L,likes:(L.likes||0)+1,likedBy:[...L.likedBy||[],p.uid]}:L))))},pe=async $=>{try{await Si(Ut(Fe,"news",$)),i(K=>K.filter(G=>G.id!==$)),f(!1),No({title:"تم حذف الخبر",description:"تم حذف الخبر بنجاح"})}catch(K){console.error("Error deleting news:",K),No({title:"خطأ",description:"حدث خطأ أثناء حذف الخبر",variant:"destructive"})}};return u.jsx(vi,{children:u.jsxs("div",{className:"container mx-auto py-6 px-1 md:px-0 animate-fade-in",children:[u.jsxs(mn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"mb-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx($6,{className:"h-12 w-12 text-primary drop-shadow-lg"})}),u.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-2 tracking-tight",children:"آخر الأخبار"}),u.jsx("p",{className:"text-lg md:text-xl text-muted-foreground font-medium",children:s.length===0?"لا توجد أخبار حالياً.":"تابع أحدث المستجدات والتحديثات على منصة Alpha التعليمية"}),u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:u.jsx(vf,{className:"h-6 w-6"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:u.jsx(wf,{className:"h-6 w-6"})})]})]}),t&&u.jsx("div",{className:"flex justify-center mt-8 mb-8",children:u.jsxs(Ie,{size:"lg",className:"flex items-center gap-2 text-lg font-bold",onClick:()=>r($=>!$),variant:n?"secondary":"default",children:[u.jsx(u0,{className:"h-5 w-5"}),n?"إغلاق":"إضافة خبر"]})}),t&&n&&u.jsxs(mn.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:ve,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[u.jsx(u0,{className:"h-6 w-6"})," إضافة خبر جديد"]}),u.jsx(Cn,{placeholder:"عنوان الخبر",value:x,onChange:$=>y($.target.value),className:"mb-3",maxLength:120,required:!0}),u.jsx(Rw,{placeholder:"وصف الخبر",value:b,onChange:$=>v($.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(Ey,{className:"h-5 w-5"}),"صور الخبر (يمكنك اختيار أكثر من صورة)"]}),u.jsx(Cn,{type:"file",accept:"image/*",multiple:!0,onChange:$=>E($.target.files?Array.from($.target.files):[]),required:!0}),A.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-3 items-center",children:A.map(($,K)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:$,alt:`معاينة الصورة ${K+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(Ie,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>{E(G=>G.filter((B,de)=>de!==K)),N(G=>G.filter((B,de)=>de!==K))},title:"إزالة الصورة",children:u.jsx(ks,{className:"h-4 w-4"})})]},K))})]}),j&&u.jsx("div",{className:"text-red-500 text-center",children:j}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx(ET,{className:"h-5 w-5 mr-2 animate-spin"}),"جاري الإضافة..."]}):"نشر الخبر"})]}),t&&P&&S&&u.jsxs(mn.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:me,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[u.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[u.jsx(AA,{className:"h-6 w-6"})," تعديل الخبر"]}),u.jsx(Cn,{placeholder:"عنوان الخبر",value:M,onChange:$=>k($.target.value),className:"mb-3",maxLength:120,required:!0}),u.jsx(Rw,{placeholder:"وصف الخبر",value:z,onChange:$=>oe($.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(Ey,{className:"h-5 w-5"}),"صور الخبر الحالية"]}),u.jsx("div",{className:"flex flex-wrap gap-3 items-center",children:S.imageUrls.map(($,K)=>Y.includes(K)?null:u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:$,alt:`صورة ${K+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(Ie,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>Q(G=>[...G,K]),title:"إزالة الصورة",children:u.jsx(ks,{className:"h-4 w-4"})})]},K))})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[u.jsx(Ey,{className:"h-5 w-5"}),"إضافة صور جديدة (اختياري)"]}),u.jsx(Cn,{type:"file",accept:"image/*",multiple:!0,onChange:$=>Z($.target.files?Array.from($.target.files):[])}),O.length>0&&u.jsx("div",{className:"mt-3 flex flex-wrap gap-3 items-center",children:O.map(($,K)=>u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:$,alt:`معاينة جديدة ${K+1}`,className:"max-h-32 rounded-lg shadow border mb-2"}),u.jsx(Ie,{type:"button",size:"icon",variant:"ghost",className:"absolute top-1 left-1 text-red-500",onClick:()=>{Z(G=>G.filter((B,de)=>de!==K)),F(G=>G.filter((B,de)=>de!==K))},title:"إزالة الصورة",children:u.jsx(ks,{className:"h-4 w-4"})})]},K))})]}),u.jsx(Ie,{type:"submit",className:"w-full",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx(ET,{className:"h-5 w-5 mr-2 animate-spin"}),"جاري التعديل..."]}):"حفظ التعديلات"}),u.jsx(Ie,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>D(!1),children:"إلغاء"})]}),ee&&u.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center",onClick:()=>se(null),children:[u.jsx("img",{src:ee,alt:"صورة الخبر",className:"max-w-full max-h-full rounded-lg shadow-2xl border-4 border-white",style:{objectFit:"contain"}}),u.jsx("button",{className:"absolute top-4 left-4 bg-white/80 rounded-full p-2 text-black",onClick:()=>se(null),children:u.jsx(ks,{className:"h-6 w-6"})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8",children:s.map(($,K)=>{var G;return u.jsx(mn.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.1*K,duration:.6,type:"spring"},onClick:()=>{c($),f(!0)},children:u.jsxs(ct,{className:"group relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 rounded-2xl border bg-gradient-to-br from-card via-background/50 to-background",children:[u.jsxs("div",{className:"relative card-image min-h-[180px] sm:min-h-[200px]",children:[$.imageUrls&&$.imageUrls.length>0?u.jsx("img",{src:$.imageUrls[0],alt:$.title,className:"transition-transform duration-700 group-hover:scale-110",loading:"lazy"}):u.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center text-muted-foreground",children:"لا توجد صورة"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),$.imageUrls&&$.imageUrls.length>1&&u.jsxs("span",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded",children:[$.imageUrls.length," صور"]})]}),u.jsx("div",{className:"relative p-4 sm:p-6 -mt-16 z-10",children:u.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-xl p-4 sm:p-6 shadow-lg border border-border/50",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx(_t,{className:"text-lg sm:text-xl md:text-2xl font-bold line-clamp-2 text-foreground flex-1 ml-4",children:$.title}),u.jsxs(Ie,{variant:"ghost",size:"sm",className:"like-button flex items-center gap-1.5 hover:bg-background/80",onClick:B=>{B.stopPropagation(),te($.id)},children:[u.jsx(M6,{className:`h-5 w-5 transition-colors duration-300 ${p&&((G=$.likedBy)!=null&&G.includes(p.uid))?"fill-primary stroke-primary":"stroke-primary fill-none hover:fill-primary/10"}`}),u.jsx("span",{className:"font-medium",children:$.likes||0})]})]}),u.jsx(Kt,{className:"text-xs sm:text-sm md:text-base text-muted-foreground/90 line-clamp-3 mb-4",children:$.description}),u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300",onClick:B=>B.stopPropagation(),children:u.jsx(vf,{className:"h-4 w-4"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300",onClick:B=>B.stopPropagation(),children:u.jsx(wf,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground/80",children:[u.jsx(bT,{className:"h-4 w-4"}),u.jsx("time",{className:"text-sm",children:$.createdAt instanceof ot?new Date($.createdAt.toMillis()).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):new Date($.createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]})]})})]})},$.id)})}),u.jsx(_V,{open:d,onOpenChange:f,children:u.jsx(ab,{className:"max-w-4xl p-0 overflow-hidden !w-full !max-w-full md:!max-w-4xl !rounded-none md:!rounded-2xl !h-screen md:!h-auto flex flex-col md:flex-row",children:l&&u.jsxs("div",{className:"flex flex-col md:flex-row w-full max-h-[100vh] md:max-h-[85vh] overflow-y-auto",children:[u.jsxs("div",{className:"w-full md:w-1/2 bg-muted relative",children:[l.imageUrls&&l.imageUrls.length>0&&u.jsx("div",{className:"relative h-[300px] md:h-[500px]",children:u.jsxs(N4,{className:"w-full h-full",opts:{loop:!0},children:[u.jsx(k4,{className:"h-full",children:l.imageUrls.map(($,K)=>u.jsx(D4,{className:"h-full",children:u.jsx("div",{className:"relative w-full h-full cursor-zoom-in",onClick:G=>{G.stopPropagation(),se($)},children:u.jsx("img",{src:$,alt:l.title+" "+(K+1),className:"w-full h-full object-contain hover:scale-105 transition-transform duration-300",loading:"lazy"})})},K))}),u.jsxs("div",{className:"absolute inset-0 flex items-center justify-between p-2 md:p-4",children:[u.jsx(M4,{className:"relative left-0 h-10 w-10 border-2 border-primary/50 bg-black/50 hover:bg-black/75 dark:bg-white/10 dark:hover:bg-white/20 dark:text-white shadow-xl backdrop-blur-sm transition-all duration-300 rounded-full"}),u.jsx(j4,{className:"relative right-0 h-10 w-10 border-2 border-primary/50 bg-black/50 hover:bg-black/75 dark:bg-white/10 dark:hover:bg-white/20 dark:text-white shadow-xl backdrop-blur-sm transition-all duration-300 rounded-full"})]})]})}),u.jsx(TV,{className:"absolute top-4 right-4 bg-gradient-to-r from-primary/90 to-primary text-white shadow-lg text-sm font-semibold px-4 py-1.5 rounded-full z-30",children:l.tag||"خبر"}),u.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 z-30",children:[u.jsx(Ie,{variant:"ghost",size:"icon",className:"bg-white/80 hover:bg-white/90 text-primary backdrop-blur-sm",onClick:()=>f(!1),children:u.jsx(ks,{className:"h-5 w-5"})}),t&&u.jsxs(u.Fragment,{children:[u.jsx(Ie,{variant:"ghost",size:"icon",className:"bg-white/80 hover:bg-white/90 text-blue-500",onClick:()=>{f(!1),Re(l)},title:"تعديل الخبر",children:u.jsx(AA,{className:"h-5 w-5"})}),u.jsxs(Ew,{children:[u.jsx(Tw,{asChild:!0,children:u.jsx(Ie,{variant:"ghost",size:"icon",className:"bg-white/80 hover:bg-white/90 text-red-500",children:u.jsx(Ko,{className:"h-5 w-5"})})}),u.jsxs(Jp,{children:[u.jsxs(Zp,{children:[u.jsx(tm,{children:"حذف الخبر"}),u.jsx(nm,{children:"هل أنت متأكد من حذف هذا الخبر؟ لا يمكن التراجع عن هذا الإجراء."})]}),u.jsxs(em,{children:[u.jsx(sm,{children:"إلغاء"}),u.jsx(rm,{onClick:()=>pe(l.id),className:"bg-red-500 hover:bg-red-600",children:"حذف"})]})]})]})]})]})]}),u.jsxs("div",{className:"w-full md:w-1/2 p-4 md:p-6 flex flex-col max-h-[100vh] md:max-h-none overflow-y-auto",children:[u.jsxs(lb,{className:"space-y-4",children:[u.jsx(cb,{className:"text-xl md:text-2xl lg:text-3xl font-bold text-primary leading-tight break-words",children:l.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bT,{className:"h-4 w-4"}),u.jsx("time",{className:"text-xs sm:text-sm",children:l.createdAt instanceof ot?new Date(l.createdAt.toMillis()).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):new Date(l.createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("a",{href:"https://www.instagram.com/talpha.dev",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300 p-1.5 rounded-full hover:bg-background",onClick:$=>$.stopPropagation(),children:u.jsx(vf,{className:"h-4 w-4"})}),u.jsx("a",{href:"https://t.me/xteam_alpha",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors duration-300 p-1.5 rounded-full hover:bg-background",onClick:$=>$.stopPropagation(),children:u.jsx(wf,{className:"h-4 w-4"})})]})]})]}),u.jsx("div",{className:"mt-4 flex-grow overflow-y-auto",children:u.jsx("p",{className:"text-base sm:text-lg leading-relaxed text-foreground/90 whitespace-pre-line px-1 sm:px-2",children:l.description})})]})]})})})]})})};function AA(t){return u.jsx("svg",{...t,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:u.jsx("path",{d:"M16.862 5.487l1.65-1.65a2.337 2.337 0 1 1 3.306 3.306l-1.65 1.65M15.21 7.138L5.5 16.848V21h4.152l9.71-9.71-4.152-4.152z"})})}const La=[{name:"حسين حيدر",role:"مؤسس الفريق",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/bghcpeiacxnthdxgiup6.jpg",link:"https://linktr.ee/hsabadix"},{name:"حسنين عباس",role:"قائد مساعد",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748567698/uhen7u7sr3aa2rx1uxpa.jpg",link:"https://linktr.ee/4pv_1"},{name:"كرار امير",role:"رئيس فريق التطوير",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/cka4s6p8geysflkp2s77.jpg",link:"http://Linktr.ee/wski4"},{name:"حسن علي",role:"عضو فريق التطوير",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748568146/jcs4zyfsmg7xqyllzcmb.jpg",link:"https://linktr.ee/Hasan.21"},{name:"همام علي",role:"عضو فريق التطوير",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/ni2wrrr54v2ep3pnef2v.jpg",link:"https://linktr.ee/humam1500"},{name:"حسين محمد",role:"عضو فريق التطوير",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/zyfjcos1xkgtrixnwfia.jpg",link:"https://linktr.ee/Dve_Hussein"},{name:"ايلاف محمد",role:"فريق الاعلام",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748618880/qwbvrxcuo700z8zdqi2g.jpg",link:"https://linktr.ee/elaf_8"},{name:"سجاد فراس",role:"فريق الاعلام",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/wqltditgxyk9skpksxxo.jpg",link:"https://linktr.ee/sa_is1"},{name:"سيف حسام",role:"فريق الاعلام",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571325/gt1tologlhpmtor694nk.jpg",link:"https://linktr.ee/xalpha_team"},{name:"اوس ياس",role:"فريق الاعلام",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/wg9xa205iy3oxgknzome.jpg",link:"https://linktr.ee/awsyaas"},{name:"ايهم مهدي",role:"فريق الاعلام",img:"https://res.cloudinary.com/dmao2zbvt/image/upload/v1748571324/xzlcssrx6wpjy7rwpbg8.jpg",link:"https://linktr.ee/null4"}],Moe=()=>u.jsxs(vi,{children:[u.jsxs("div",{className:"relative w-full bg-gradient-to-br from-primary via-primary/90 to-primary/80 py-20 flex flex-col items-center justify-center gap-6 rounded-b-[3rem] shadow-2xl mb-20 overflow-hidden backdrop-blur-md",children:[u.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 to-transparent"}),u.jsx(Di,{className:"h-20 w-20 text-white drop-shadow-xl z-10 mb-4 animate-float"}),u.jsxs("h1",{className:"text-6xl md:text-7xl font-extrabold text-white tracking-tight drop-shadow-2xl z-10 mb-4 relative",children:["Alpha Team",u.jsx("span",{className:"block mx-auto mt-4 h-1.5 w-32 bg-white/80 rounded-full"})]}),u.jsx("p",{className:"text-2xl md:text-3xl text-white/90 font-medium max-w-4xl mx-auto leading-relaxed z-10 text-center px-4",children:"منصة تعليمية رائدة تهدف إلى تمكين الطلاب من الوصول إلى أفضل المواد الدراسية بسهولة واحترافية، مع فريق متخصص يؤمن بقوة التعليم الرقمي."})]}),u.jsxs("div",{className:"container mx-auto py-16 px-4 animate-fade-in",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-32",children:[u.jsxs(ct,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(q6,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(_t,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"رؤيتنا"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"أن نكون المنصة التعليمية الأولى في العالم العربي التي توفر محتوى منظم وحديث لجميع المراحل الدراسية."})})]}),u.jsxs(ct,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(Qn,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(_t,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"محتوى متميز"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"توفير محاضرات وملخصات ومواد تعليمية عالية الجودة، منظمة وسهلة البحث والاستخدام."})})]}),u.jsxs(ct,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(Di,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(_t,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"فريق متخصص"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"نخبة من المبرمجين والمعلمين يعملون معًا لتقديم أفضل تجربة تعليمية رقمية."})})]}),u.jsxs(ct,{className:"text-center shadow-2xl hover:shadow-3xl transition-all duration-300 border-0 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 rounded-3xl group",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[u.jsx(D6,{className:"h-16 w-16 text-primary drop-shadow group-hover:scale-110 transition-transform duration-300"}),u.jsx("span",{className:"absolute inset-0 bg-primary/20 rounded-full blur-xl -z-10 group-hover:blur-2xl transition-all duration-300"})]}),u.jsx(_t,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"قيمنا"})]}),u.jsx(bt,{children:u.jsx(Kt,{className:"text-lg text-gray-700 dark:text-white/80 leading-relaxed",children:"الشفافية، التعاون، الابتكار، ودعم الطلاب في رحلتهم التعليمية."})})]})]}),u.jsx("div",{className:"flex justify-center mb-24",children:u.jsx("div",{className:"w-1/2 h-1 bg-gradient-to-r from-transparent via-primary/60 to-transparent rounded-full shadow-lg"})}),u.jsxs("h2",{className:"text-4xl font-extrabold text-primary mb-16 text-center flex items-center justify-center gap-3 drop-shadow relative",children:[u.jsx(Di,{className:"h-12 w-12"})," فريق العمل",u.jsx("span",{className:"absolute left-1/2 -bottom-3 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-primary/60 via-primary to-primary/60 rounded-full"})]}),u.jsx("div",{className:"flex justify-center mb-16",children:u.jsxs(ct,{className:"text-center shadow-2xl hover:shadow-3xl border-0 transition-all duration-300 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 group rounded-3xl backdrop-blur-md w-full md:w-2/3 lg:w-1/2",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-44 h-44 mx-auto mb-8 group",children:[u.jsx("img",{src:La[0].img,alt:La[0].name,className:"w-44 h-44 rounded-full border-4 border-primary shadow-lg object-cover group-hover:scale-110 transition-transform duration-300 bg-white/90 dark:bg-background/80"}),u.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/30 to-primary/0 blur-[12px] opacity-60 -z-10 group-hover:blur-[16px] transition-all duration-300"})]}),u.jsx(_t,{className:"text-3xl font-bold mb-2 text-primary group-hover:text-primary/90 transition-colors duration-200 drop-shadow-lg",children:La[0].name}),u.jsx(Kt,{className:"text-primary/80 dark:text-white/80 font-semibold mb-6 text-xl drop-shadow",children:La[0].role})]}),u.jsx(bt,{children:u.jsxs("a",{href:La[0].link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-3 rounded-full bg-gradient-to-r from-primary to-primary/80 text-white shadow-lg hover:scale-105 hover:from-primary/90 hover:to-primary/70 transition-all duration-200 text-lg font-semibold drop-shadow-lg",children:[u.jsx(F6,{className:"h-5 w-5"}),u.jsx("span",{children:"تواصل معي"})]})})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:La.slice(1).map((t,e)=>u.jsxs(ct,{className:"text-center shadow-xl hover:shadow-2xl border-0 transition-all duration-300 bg-gradient-to-br from-primary/5 via-background/50 to-background hover:-translate-y-2 hover:scale-105 group rounded-3xl backdrop-blur-md",children:[u.jsxs(It,{children:[u.jsxs("div",{className:"relative w-28 h-28 mx-auto mb-4 group",children:[u.jsx("img",{src:t.img,alt:t.name,className:"w-28 h-28 rounded-full border-4 border-primary shadow-lg object-cover group-hover:scale-110 transition-transform duration-300 bg-white/90 dark:bg-background/80"}),u.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-primary/30 to-primary/0 blur-[8px] opacity-60 -z-10 group-hover:blur-[12px] transition-all duration-300"})]}),u.jsx(_t,{className:"text-xl font-bold mb-1 text-primary group-hover:text-primary/90 transition-colors duration-200 drop-shadow-lg",children:t.name}),u.jsx(Kt,{className:"text-primary/80 dark:text-white/80 font-semibold mb-2 text-base drop-shadow",children:t.role})]}),u.jsx(bt,{children:u.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-all duration-300 group relative overflow-hidden",children:[u.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/20 to-primary/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),u.jsx(O6,{className:"h-4 w-4 transition-transform duration-300 group-hover:rotate-12"}),u.jsx("span",{className:"text-sm relative z-10 transition-transform duration-300 group-hover:translate-x-1",children:"الملف الشخصي"})]})})]},e))}),u.jsx("div",{className:"flex justify-center mt-24",children:u.jsx("div",{className:"w-1/2 h-1 bg-gradient-to-r from-transparent via-primary/60 to-transparent rounded-full shadow-lg"})})]})]}),joe=new tB,Ooe=()=>u.jsx(rB,{client:joe,children:u.jsxs(k9,{children:[u.jsx(RU,{}),u.jsx(i$,{}),u.jsx(tz,{children:u.jsxs(KB,{children:[u.jsx(xn,{path:"/",element:u.jsx(vi,{children:u.jsx(oz,{})})}),u.jsx(xn,{path:"/login",element:u.jsx(Mee,{})}),u.jsx(xn,{path:"/register",element:u.jsx(Oee,{})}),u.jsx(xn,{path:"/news",element:u.jsx(Doe,{})}),u.jsx(xn,{path:"/about",element:u.jsx(Moe,{})}),u.jsxs(xn,{element:u.jsx(bA,{}),children:[u.jsx(xn,{path:"/lectures",element:u.jsx(vi,{children:u.jsx(qQ,{})})}),u.jsx(xn,{path:"/lectures/:stageId",element:u.jsx(vi,{children:u.jsx(GQ,{})})}),u.jsx(xn,{path:"/lectures/:stageId/:subjectId",element:u.jsx(vi,{children:u.jsx(KQ,{})})}),u.jsx(xn,{path:"/lectures/:stageId/:subjectId/:lectureId",element:u.jsx(vi,{children:u.jsx(QQ,{})})})]}),u.jsx(xn,{element:u.jsx(bA,{allowedRoles:["admin","owner"]}),children:u.jsx(xn,{path:"/admin-dashboard",element:u.jsx(vi,{children:u.jsx(Zie,{})})})}),u.jsx(xn,{path:"/AlphaTeam/*",element:u.jsx(_0,{to:"/",replace:!0})}),u.jsx(xn,{path:"*",element:u.jsx(Lee,{})})]})}),u.jsx(cre,{})]})});JR(document.getElementById("root")).render(u.jsx(are,{children:u.jsx(Ooe,{})}));
