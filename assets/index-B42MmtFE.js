var rT=t=>{throw TypeError(t)};var ig=(t,e,n)=>e.has(t)||rT("Cannot "+n);var z=(t,e,n)=>(ig(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?rT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(ig(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bt=(t,e,n)=>(ig(t,e,"access private method"),n);var Vd=(t,e,n,r)=>({set _(s){we(t,e,s,n)},get _(){return z(t,e,r)}});function wV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function II(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AI={exports:{}},vp={},PI={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gu=Symbol.for("react.element"),xV=Symbol.for("react.portal"),_V=Symbol.for("react.fragment"),EV=Symbol.for("react.strict_mode"),TV=Symbol.for("react.profiler"),bV=Symbol.for("react.provider"),SV=Symbol.for("react.context"),CV=Symbol.for("react.forward_ref"),IV=Symbol.for("react.suspense"),AV=Symbol.for("react.memo"),PV=Symbol.for("react.lazy"),sT=Symbol.iterator;function RV(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var RI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NI=Object.assign,kI={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||RI}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DI(){}DI.prototype=Tl.prototype;function Fw(t,e,n){this.props=t,this.context=e,this.refs=kI,this.updater=n||RI}var Uw=Fw.prototype=new DI;Uw.constructor=Fw;NI(Uw,Tl.prototype);Uw.isPureReactComponent=!0;var iT=Array.isArray,MI=Object.prototype.hasOwnProperty,$w={current:null},OI={key:!0,ref:!0,__self:!0,__source:!0};function jI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)MI.call(e,r)&&!OI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gu,type:t,key:i,ref:o,props:s,_owner:$w.current}}function NV(t,e){return{$$typeof:Gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gu}function kV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var oT=/\/+/g;function og(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kV(""+t.key):e.toString(36)}function _h(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gu:case xV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+og(o,0):r,iT(s)?(n="",t!=null&&(n=t.replace(oT,"$&/")+"/"),_h(s,e,n,"",function(c){return c})):s!=null&&(Bw(s)&&(s=NV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(oT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",iT(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+og(i,a);o+=_h(i,e,n,l,s)}else if(l=RV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+og(i,a++),o+=_h(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fd(t,e,n){if(t==null)return t;var r=[],s=0;return _h(t,r,"","",function(i){return e.call(n,i,s++)}),r}function DV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Eh={transition:null},MV={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Eh,ReactCurrentOwner:$w};function LI(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Fd,forEach:function(t,e,n){Fd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fd(t,function(){e++}),e},toArray:function(t){return Fd(t,function(e){return e})||[]},only:function(t){if(!Bw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Tl;Ce.Fragment=_V;Ce.Profiler=TV;Ce.PureComponent=Fw;Ce.StrictMode=EV;Ce.Suspense=IV;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;Ce.act=LI;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$w.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MI.call(e,l)&&!OI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:SV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bV,_context:t},t.Consumer=t};Ce.createElement=jI;Ce.createFactory=function(t){var e=jI.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:CV,render:t}};Ce.isValidElement=Bw;Ce.lazy=function(t){return{$$typeof:PV,_payload:{_status:-1,_result:t},_init:DV}};Ce.memo=function(t,e){return{$$typeof:AV,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Eh.transition;Eh.transition={};try{t()}finally{Eh.transition=e}};Ce.unstable_act=LI;Ce.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ce.useContext=function(t){return pn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ce.useId=function(){return pn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ce.useRef=function(t){return pn.current.useRef(t)};Ce.useState=function(t){return pn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return pn.current.useTransition()};Ce.version="18.3.1";PI.exports=Ce;var m=PI.exports;const Q=II(m),VI=wV({__proto__:null,default:Q},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV=m,jV=Symbol.for("react.element"),LV=Symbol.for("react.fragment"),VV=Object.prototype.hasOwnProperty,FV=OV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UV={key:!0,ref:!0,__self:!0,__source:!0};function FI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VV.call(e,r)&&!UV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jV,type:t,key:i,ref:o,props:s,_owner:FV.current}}vp.Fragment=LV;vp.jsx=FI;vp.jsxs=FI;AI.exports=vp;var h=AI.exports,UI={exports:{}},zn={},$I={exports:{}},BI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var q=j.length;j.push(F);e:for(;0<q;){var G=q-1>>>1,J=j[G];if(0<s(J,F))j[G]=F,j[q]=J,q=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],q=j.pop();if(q!==F){j[0]=q;e:for(var G=0,J=j.length,oe=J>>>1;G<oe;){var Ee=2*(G+1)-1,Oe=j[Ee],pe=Ee+1,re=j[pe];if(0>s(Oe,q))pe<J&&0>s(re,Oe)?(j[G]=re,j[pe]=q,G=pe):(j[G]=Oe,j[Ee]=q,G=Ee);else if(pe<J&&0>s(re,q))j[G]=re,j[pe]=q,G=pe;else break e}}return F}function s(j,F){var q=j.sortIndex-F.sortIndex;return q!==0?q:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,_=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=j)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function P(j){if(v=!1,T(j),!_)if(n(l)!==null)_=!0,Y(N);else{var F=n(c);F!==null&&Z(P,F.startTime-j)}}function N(j,F){_=!1,v&&(v=!1,w(S),S=-1),g=!0;var q=p;try{for(T(F),f=n(l);f!==null&&(!(f.expirationTime>F)||j&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var J=G(f.expirationTime<=F);F=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),T(F)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var Ee=n(c);Ee!==null&&Z(P,Ee.startTime-F),oe=!1}return oe}finally{f=null,p=q,g=!1}}var O=!1,C=null,S=-1,I=5,R=-1;function D(){return!(t.unstable_now()-R<I)}function M(){if(C!==null){var j=t.unstable_now();R=j;var F=!0;try{F=C(!0,j)}finally{F?k():(O=!1,C=null)}}else O=!1}var k;if(typeof x=="function")k=function(){x(M)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=M,k=function(){ie.postMessage(null)}}else k=function(){E(M,0)};function Y(j){C=j,O||(O=!0,k())}function Z(j,F){S=E(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Y(N))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var q=p;p=F;try{return j()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return F()}finally{p=q}},t.unstable_scheduleCallback=function(j,F,q){var G=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:d++,callback:F,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>G?(j.sortIndex=q,e(c,j),n(l)===null&&j===n(c)&&(v?(w(S),S=-1):v=!0,Z(P,q-G))):(j.sortIndex=J,e(l,j),_||g||(_=!0,Y(N))),j},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(j){var F=p;return function(){var q=p;p=F;try{return j.apply(this,arguments)}finally{p=q}}}})(BI);$I.exports=BI;var $V=$I.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BV=m,$n=$V;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zI=new Set,tu={};function Go(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(tu[t]=e,t=0;t<e.length;t++)zI.add(e[t])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ty=Object.prototype.hasOwnProperty,zV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aT={},lT={};function WV(t){return Ty.call(lT,t)?!0:Ty.call(aT,t)?!1:zV.test(t)?lT[t]=!0:(aT[t]=!0,!1)}function HV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qV(t,e,n,r){if(e===null||typeof e>"u"||HV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zw=/[\-:]([a-z])/g;function Ww(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zw,Ww);Ot[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zw,Ww);Ot[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zw,Ww);Ot[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hw(t,e,n,r){var s=Ot.hasOwnProperty(e)?Ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qV(e,n,s,r)&&(n=null),r||s===null?WV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ms=BV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ud=Symbol.for("react.element"),ga=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),qw=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),HI=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),Cy=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),cT=Symbol.iterator;function oc(t){return t===null||typeof t!="object"?null:(t=cT&&t[cT]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,ag;function yc(t){if(ag===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ag=e&&e[1]||""}return`
`+ag+t}var lg=!1;function cg(t,e){if(!t||lg)return"";lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yc(t):""}function GV(t){switch(t.tag){case 5:return yc(t.type);case 16:return yc("Lazy");case 13:return yc("Suspense");case 19:return yc("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function Iy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case ga:return"Portal";case by:return"Profiler";case qw:return"StrictMode";case Sy:return"Suspense";case Cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HI:return(t.displayName||"Context")+".Consumer";case WI:return(t._context.displayName||"Context")+".Provider";case Gw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:Iy(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return Iy(t(e))}catch{}}return null}function KV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(e);case 8:return e===qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QV(t){var e=GI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $d(t){t._valueTracker||(t._valueTracker=QV(t))}function KI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ay(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QI(t,e){e=e.checked,e!=null&&Hw(t,"checked",e,!1)}function Py(t,e){QI(t,e);var n=Si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ry(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ry(t,e.type,Si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ry(t,e,n){(e!=="number"||lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vc=Array.isArray;function Da(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Si(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ny(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(vc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Si(n)}}function YI(t,e){var n=Si(e.value),r=Si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bd,JI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YV=["Webkit","ms","Moz","O"];Object.keys(Dc).forEach(function(t){YV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dc[e]=Dc[t]})});function ZI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dc.hasOwnProperty(t)&&Dc[t]?(""+e).trim():e+"px"}function eA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ZI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var XV=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dy(t,e){if(e){if(XV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function My(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oy=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jy=null,Ma=null,Oa=null;function pT(t){if(t=Yu(t)){if(typeof jy!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Tp(e),jy(t.stateNode,t.type,e))}}function tA(t){Ma?Oa?Oa.push(t):Oa=[t]:Ma=t}function nA(){if(Ma){var t=Ma,e=Oa;if(Oa=Ma=null,pT(t),e)for(t=0;t<e.length;t++)pT(e[t])}}function rA(t,e){return t(e)}function sA(){}var ug=!1;function iA(t,e,n){if(ug)return t(e,n);ug=!0;try{return rA(t,e,n)}finally{ug=!1,(Ma!==null||Oa!==null)&&(sA(),nA())}}function ru(t,e){var n=t.stateNode;if(n===null)return null;var r=Tp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Ly=!1;if(_s)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){Ly=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Ly=!1}function JV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Mc=!1,cf=null,uf=!1,Vy=null,ZV={onError:function(t){Mc=!0,cf=t}};function e4(t,e,n,r,s,i,o,a,l){Mc=!1,cf=null,JV.apply(ZV,arguments)}function t4(t,e,n,r,s,i,o,a,l){if(e4.apply(this,arguments),Mc){if(Mc){var c=cf;Mc=!1,cf=null}else throw Error(H(198));uf||(uf=!0,Vy=c)}}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mT(t){if(Ko(t)!==t)throw Error(H(188))}function n4(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return mT(s),t;if(i===r)return mT(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function aA(t){return t=n4(t),t!==null?lA(t):null}function lA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lA(t);if(e!==null)return e;t=t.sibling}return null}var cA=$n.unstable_scheduleCallback,gT=$n.unstable_cancelCallback,r4=$n.unstable_shouldYield,s4=$n.unstable_requestPaint,ht=$n.unstable_now,i4=$n.unstable_getCurrentPriorityLevel,Yw=$n.unstable_ImmediatePriority,uA=$n.unstable_UserBlockingPriority,df=$n.unstable_NormalPriority,o4=$n.unstable_LowPriority,dA=$n.unstable_IdlePriority,wp=null,Hr=null;function a4(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:u4,l4=Math.log,c4=Math.LN2;function u4(t){return t>>>=0,t===0?32:31-(l4(t)/c4|0)|0}var zd=64,Wd=4194304;function wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wc(a):(i&=o,i!==0&&(r=wc(i)))}else o=n&~s,o!==0?r=wc(o):i!==0&&(r=wc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),s=1<<n,r|=t[n],e&=~s;return r}function d4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=d4(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Fy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hA(){var t=zd;return zd<<=1,!(zd&4194240)&&(zd=64),t}function dg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function f4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-wr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function fA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pA,Jw,mA,gA,yA,Uy=!1,Hd=[],hi=null,fi=null,pi=null,su=new Map,iu=new Map,Js=[],p4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yT(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(e.pointerId)}}function lc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yu(e),e!==null&&Jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m4(t,e,n,r,s){switch(e){case"focusin":return hi=lc(hi,t,e,n,r,s),!0;case"dragenter":return fi=lc(fi,t,e,n,r,s),!0;case"mouseover":return pi=lc(pi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return su.set(i,lc(su.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,iu.set(i,lc(iu.get(i)||null,t,e,n,r,s)),!0}return!1}function vA(t){var e=po(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=oA(n),e!==null){t.blockedOn=e,yA(t.priority,function(){mA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oy=r,n.target.dispatchEvent(r),Oy=null}else return e=Yu(n),e!==null&&Jw(e),t.blockedOn=n,!1;e.shift()}return!0}function vT(t,e,n){Th(t)&&n.delete(e)}function g4(){Uy=!1,hi!==null&&Th(hi)&&(hi=null),fi!==null&&Th(fi)&&(fi=null),pi!==null&&Th(pi)&&(pi=null),su.forEach(vT),iu.forEach(vT)}function cc(t,e){t.blockedOn===e&&(t.blockedOn=null,Uy||(Uy=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,g4)))}function ou(t){function e(s){return cc(s,t)}if(0<Hd.length){cc(Hd[0],t);for(var n=1;n<Hd.length;n++){var r=Hd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&cc(hi,t),fi!==null&&cc(fi,t),pi!==null&&cc(pi,t),su.forEach(e),iu.forEach(e),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)vA(n),n.blockedOn===null&&Js.shift()}var ja=Ms.ReactCurrentBatchConfig,ff=!0;function y4(t,e,n,r){var s=Ve,i=ja.transition;ja.transition=null;try{Ve=1,Zw(t,e,n,r)}finally{Ve=s,ja.transition=i}}function v4(t,e,n,r){var s=Ve,i=ja.transition;ja.transition=null;try{Ve=4,Zw(t,e,n,r)}finally{Ve=s,ja.transition=i}}function Zw(t,e,n,r){if(ff){var s=$y(t,e,n,r);if(s===null)_g(t,e,r,pf,n),yT(t,r);else if(m4(s,t,e,n,r))r.stopPropagation();else if(yT(t,r),e&4&&-1<p4.indexOf(t)){for(;s!==null;){var i=Yu(s);if(i!==null&&pA(i),i=$y(t,e,n,r),i===null&&_g(t,e,r,pf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _g(t,e,r,null,n)}}var pf=null;function $y(t,e,n,r){if(pf=null,t=Qw(r),t=po(t),t!==null)if(e=Ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function wA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i4()){case Yw:return 1;case uA:return 4;case df:case o4:return 16;case dA:return 536870912;default:return 16}default:return 16}}var li=null,e0=null,bh=null;function xA(){if(bh)return bh;var t,e=e0,n=e.length,r,s="value"in li?li.value:li.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bh=s.slice(t,1<r?1-r:void 0)}function Sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qd(){return!0}function wT(){return!1}function Wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qd:wT,this.isPropagationStopped=wT,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qd)},persist:function(){},isPersistent:qd}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t0=Wn(bl),Qu=nt({},bl,{view:0,detail:0}),w4=Wn(Qu),hg,fg,uc,xp=nt({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uc&&(uc&&t.type==="mousemove"?(hg=t.screenX-uc.screenX,fg=t.screenY-uc.screenY):fg=hg=0,uc=t),hg)},movementY:function(t){return"movementY"in t?t.movementY:fg}}),xT=Wn(xp),x4=nt({},xp,{dataTransfer:0}),_4=Wn(x4),E4=nt({},Qu,{relatedTarget:0}),pg=Wn(E4),T4=nt({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),b4=Wn(T4),S4=nt({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C4=Wn(S4),I4=nt({},bl,{data:0}),_T=Wn(I4),A4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R4[t])?!!e[t]:!1}function n0(){return N4}var k4=nt({},Qu,{key:function(t){if(t.key){var e=A4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n0,charCode:function(t){return t.type==="keypress"?Sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D4=Wn(k4),M4=nt({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ET=Wn(M4),O4=nt({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n0}),j4=Wn(O4),L4=nt({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),V4=Wn(L4),F4=nt({},xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U4=Wn(F4),$4=[9,13,27,32],r0=_s&&"CompositionEvent"in window,Oc=null;_s&&"documentMode"in document&&(Oc=document.documentMode);var B4=_s&&"TextEvent"in window&&!Oc,_A=_s&&(!r0||Oc&&8<Oc&&11>=Oc),TT=" ",bT=!1;function EA(t,e){switch(t){case"keyup":return $4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function z4(t,e){switch(t){case"compositionend":return TA(e);case"keypress":return e.which!==32?null:(bT=!0,TT);case"textInput":return t=e.data,t===TT&&bT?null:t;default:return null}}function W4(t,e){if(va)return t==="compositionend"||!r0&&EA(t,e)?(t=xA(),bh=e0=li=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _A&&e.locale!=="ko"?null:e.data;default:return null}}var H4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ST(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H4[t.type]:e==="textarea"}function bA(t,e,n,r){tA(r),e=mf(e,"onChange"),0<e.length&&(n=new t0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jc=null,au=null;function q4(t){OA(t,0)}function _p(t){var e=_a(t);if(KI(e))return t}function G4(t,e){if(t==="change")return e}var SA=!1;if(_s){var mg;if(_s){var gg="oninput"in document;if(!gg){var CT=document.createElement("div");CT.setAttribute("oninput","return;"),gg=typeof CT.oninput=="function"}mg=gg}else mg=!1;SA=mg&&(!document.documentMode||9<document.documentMode)}function IT(){jc&&(jc.detachEvent("onpropertychange",CA),au=jc=null)}function CA(t){if(t.propertyName==="value"&&_p(au)){var e=[];bA(e,au,t,Qw(t)),iA(q4,e)}}function K4(t,e,n){t==="focusin"?(IT(),jc=e,au=n,jc.attachEvent("onpropertychange",CA)):t==="focusout"&&IT()}function Q4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _p(au)}function Y4(t,e){if(t==="click")return _p(e)}function X4(t,e){if(t==="input"||t==="change")return _p(e)}function J4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:J4;function lu(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ty.call(e,s)||!Tr(t[s],e[s]))return!1}return!0}function AT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PT(t,e){var n=AT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AT(n)}}function IA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AA(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lf(t.document)}return e}function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z4(t){var e=AA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IA(n.ownerDocument.documentElement,n)){if(r!==null&&s0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=PT(n,i);var o=PT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eF=_s&&"documentMode"in document&&11>=document.documentMode,wa=null,By=null,Lc=null,zy=!1;function RT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zy||wa==null||wa!==lf(r)||(r=wa,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lc&&lu(Lc,r)||(Lc=r,r=mf(By,"onSelect"),0<r.length&&(e=new t0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wa)))}function Gd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:Gd("Animation","AnimationEnd"),animationiteration:Gd("Animation","AnimationIteration"),animationstart:Gd("Animation","AnimationStart"),transitionend:Gd("Transition","TransitionEnd")},yg={},PA={};_s&&(PA=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ep(t){if(yg[t])return yg[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PA)return yg[t]=e[n];return t}var RA=Ep("animationend"),NA=Ep("animationiteration"),kA=Ep("animationstart"),DA=Ep("transitionend"),MA=new Map,NT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){MA.set(t,e),Go(e,[t])}for(var vg=0;vg<NT.length;vg++){var wg=NT[vg],tF=wg.toLowerCase(),nF=wg[0].toUpperCase()+wg.slice(1);$i(tF,"on"+nF)}$i(RA,"onAnimationEnd");$i(NA,"onAnimationIteration");$i(kA,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(DA,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rF=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function kT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,t4(r,e,void 0,t),t.currentTarget=null}function OA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;kT(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;kT(s,a,c),i=l}}}if(uf)throw t=Vy,uf=!1,Vy=null,t}function Ge(t,e){var n=e[Ky];n===void 0&&(n=e[Ky]=new Set);var r=t+"__bubble";n.has(r)||(jA(e,t,2,!1),n.add(r))}function xg(t,e,n){var r=0;e&&(r|=4),jA(n,t,r,e)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function cu(t){if(!t[Kd]){t[Kd]=!0,zI.forEach(function(n){n!=="selectionchange"&&(rF.has(n)||xg(n,!1,t),xg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kd]||(e[Kd]=!0,xg("selectionchange",!1,e))}}function jA(t,e,n,r){switch(wA(e)){case 1:var s=y4;break;case 4:s=v4;break;default:s=Zw}n=s.bind(null,e,n,t),s=void 0,!Ly||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function _g(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=po(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iA(function(){var c=i,d=Qw(n),f=[];e:{var p=MA.get(t);if(p!==void 0){var g=t0,_=t;switch(t){case"keypress":if(Sh(n)===0)break e;case"keydown":case"keyup":g=D4;break;case"focusin":_="focus",g=pg;break;case"focusout":_="blur",g=pg;break;case"beforeblur":case"afterblur":g=pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=j4;break;case RA:case NA:case kA:g=b4;break;case DA:g=V4;break;case"scroll":g=w4;break;case"wheel":g=U4;break;case"copy":case"cut":case"paste":g=C4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ET}var v=(e&4)!==0,E=!v&&t==="scroll",w=v?p!==null?p+"Capture":null:p;v=[];for(var x=c,T;x!==null;){T=x;var P=T.stateNode;if(T.tag===5&&P!==null&&(T=P,w!==null&&(P=ru(x,w),P!=null&&v.push(uu(x,P,T)))),E)break;x=x.return}0<v.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Oy&&(_=n.relatedTarget||n.fromElement)&&(po(_)||_[Es]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?po(_):null,_!==null&&(E=Ko(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(v=xT,P="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=ET,P="onPointerLeave",w="onPointerEnter",x="pointer"),E=g==null?p:_a(g),T=_==null?p:_a(_),p=new v(P,x+"leave",g,n,d),p.target=E,p.relatedTarget=T,P=null,po(d)===c&&(v=new v(w,x+"enter",_,n,d),v.target=T,v.relatedTarget=E,P=v),E=P,g&&_)t:{for(v=g,w=_,x=0,T=v;T;T=aa(T))x++;for(T=0,P=w;P;P=aa(P))T++;for(;0<x-T;)v=aa(v),x--;for(;0<T-x;)w=aa(w),T--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=aa(v),w=aa(w)}v=null}else v=null;g!==null&&DT(f,p,g,v,!1),_!==null&&E!==null&&DT(f,E,_,v,!0)}}e:{if(p=c?_a(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=G4;else if(ST(p))if(SA)N=X4;else{N=Q4;var O=K4}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=Y4);if(N&&(N=N(t,c))){bA(f,N,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Ry(p,"number",p.value)}switch(O=c?_a(c):window,t){case"focusin":(ST(O)||O.contentEditable==="true")&&(wa=O,By=c,Lc=null);break;case"focusout":Lc=By=wa=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,RT(f,n,d);break;case"selectionchange":if(eF)break;case"keydown":case"keyup":RT(f,n,d)}var C;if(r0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else va?EA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(_A&&n.locale!=="ko"&&(va||S!=="onCompositionStart"?S==="onCompositionEnd"&&va&&(C=xA()):(li=d,e0="value"in li?li.value:li.textContent,va=!0)),O=mf(c,S),0<O.length&&(S=new _T(S,t,null,n,d),f.push({event:S,listeners:O}),C?S.data=C:(C=TA(n),C!==null&&(S.data=C)))),(C=B4?z4(t,n):W4(t,n))&&(c=mf(c,"onBeforeInput"),0<c.length&&(d=new _T("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}OA(f,e)})}function uu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ru(t,n),i!=null&&r.unshift(uu(t,i,s)),i=ru(t,e),i!=null&&r.push(uu(t,i,s))),t=t.return}return r}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ru(n,i),l!=null&&o.unshift(uu(n,l,a))):s||(l=ru(n,i),l!=null&&o.push(uu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sF=/\r\n?/g,iF=/\u0000|\uFFFD/g;function MT(t){return(typeof t=="string"?t:""+t).replace(sF,`
`).replace(iF,"")}function Qd(t,e,n){if(e=MT(e),MT(t)!==e&&n)throw Error(H(425))}function gf(){}var Wy=null,Hy=null;function qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gy=typeof setTimeout=="function"?setTimeout:void 0,oF=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,aF=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(t){return OT.resolve(null).then(t).catch(lF)}:Gy;function lF(t){setTimeout(function(){throw t})}function Eg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ou(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ou(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Sl,du="__reactProps$"+Sl,Es="__reactContainer$"+Sl,Ky="__reactEvents$"+Sl,cF="__reactListeners$"+Sl,uF="__reactHandles$"+Sl;function po(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Es]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jT(t);t!==null;){if(n=t[Ur])return n;t=jT(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){return t=t[Ur]||t[Es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Tp(t){return t[du]||null}var Qy=[],Ea=-1;function Bi(t){return{current:t}}function Qe(t){0>Ea||(t.current=Qy[Ea],Qy[Ea]=null,Ea--)}function We(t,e){Ea++,Qy[Ea]=t.current,t.current=e}var Ci={},tn=Bi(Ci),bn=Bi(!1),No=Ci;function il(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sn(t){return t=t.childContextTypes,t!=null}function yf(){Qe(bn),Qe(tn)}function LT(t,e,n){if(tn.current!==Ci)throw Error(H(168));We(tn,e),We(bn,n)}function LA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,KV(t)||"Unknown",s));return nt({},n,r)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,No=tn.current,We(tn,t),We(bn,bn.current),!0}function VT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=LA(t,e,No),r.__reactInternalMemoizedMergedChildContext=t,Qe(bn),Qe(tn),We(tn,t)):Qe(bn),We(bn,n)}var fs=null,bp=!1,Tg=!1;function VA(t){fs===null?fs=[t]:fs.push(t)}function dF(t){bp=!0,VA(t)}function zi(){if(!Tg&&fs!==null){Tg=!0;var t=0,e=Ve;try{var n=fs;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fs=null,bp=!1}catch(s){throw fs!==null&&(fs=fs.slice(t+1)),cA(Yw,zi),s}finally{Ve=e,Tg=!1}}return null}var Ta=[],ba=0,wf=null,xf=0,Kn=[],Qn=0,ko=null,ps=1,ms="";function oo(t,e){Ta[ba++]=xf,Ta[ba++]=wf,wf=t,xf=e}function FA(t,e,n){Kn[Qn++]=ps,Kn[Qn++]=ms,Kn[Qn++]=ko,ko=t;var r=ps;t=ms;var s=32-wr(r)-1;r&=~(1<<s),n+=1;var i=32-wr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ps=1<<32-wr(e)+s|n<<s|r,ms=i+t}else ps=1<<i|n<<s|r,ms=t}function i0(t){t.return!==null&&(oo(t,1),FA(t,1,0))}function o0(t){for(;t===wf;)wf=Ta[--ba],Ta[ba]=null,xf=Ta[--ba],Ta[ba]=null;for(;t===ko;)ko=Kn[--Qn],Kn[Qn]=null,ms=Kn[--Qn],Kn[Qn]=null,ps=Kn[--Qn],Kn[Qn]=null}var Vn=null,On=null,Ye=!1,mr=null;function UA(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function FT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,On=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ko!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,On=null,!0):!1;default:return!1}}function Yy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xy(t){if(Ye){var e=On;if(e){var n=e;if(!FT(t,e)){if(Yy(t))throw Error(H(418));e=mi(n.nextSibling);var r=Vn;e&&FT(t,e)?UA(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Vn=t)}}else{if(Yy(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ye=!1,Vn=t}}}function UT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function Yd(t){if(t!==Vn)return!1;if(!Ye)return UT(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qy(t.type,t.memoizedProps)),e&&(e=On)){if(Yy(t))throw $A(),Error(H(418));for(;e;)UA(t,e),e=mi(e.nextSibling)}if(UT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Vn?mi(t.stateNode.nextSibling):null;return!0}function $A(){for(var t=On;t;)t=mi(t.nextSibling)}function ol(){On=Vn=null,Ye=!1}function a0(t){mr===null?mr=[t]:mr.push(t)}var hF=Ms.ReactCurrentBatchConfig;function dc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Xd(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $T(t){var e=t._init;return e(t._payload)}function BA(t){function e(w,x){if(t){var T=w.deletions;T===null?(w.deletions=[x],w.flags|=16):T.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=wi(w,x),w.index=0,w.sibling=null,w}function i(w,x,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<x?(w.flags|=2,x):T):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,x,T,P){return x===null||x.tag!==6?(x=Rg(T,w.mode,P),x.return=w,x):(x=s(x,T),x.return=w,x)}function l(w,x,T,P){var N=T.type;return N===ya?d(w,x,T.props.children,P,T.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ys&&$T(N)===x.type)?(P=s(x,T.props),P.ref=dc(w,x,T),P.return=w,P):(P=kh(T.type,T.key,T.props,null,w.mode,P),P.ref=dc(w,x,T),P.return=w,P)}function c(w,x,T,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=Ng(T,w.mode,P),x.return=w,x):(x=s(x,T.children||[]),x.return=w,x)}function d(w,x,T,P,N){return x===null||x.tag!==7?(x=Ao(T,w.mode,P,N),x.return=w,x):(x=s(x,T),x.return=w,x)}function f(w,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rg(""+x,w.mode,T),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ud:return T=kh(x.type,x.key,x.props,null,w.mode,T),T.ref=dc(w,null,x),T.return=w,T;case ga:return x=Ng(x,w.mode,T),x.return=w,x;case Ys:var P=x._init;return f(w,P(x._payload),T)}if(vc(x)||oc(x))return x=Ao(x,w.mode,T,null),x.return=w,x;Xd(w,x)}return null}function p(w,x,T,P){var N=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return N!==null?null:a(w,x,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ud:return T.key===N?l(w,x,T,P):null;case ga:return T.key===N?c(w,x,T,P):null;case Ys:return N=T._init,p(w,x,N(T._payload),P)}if(vc(T)||oc(T))return N!==null?null:d(w,x,T,P,null);Xd(w,T)}return null}function g(w,x,T,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(T)||null,a(x,w,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ud:return w=w.get(P.key===null?T:P.key)||null,l(x,w,P,N);case ga:return w=w.get(P.key===null?T:P.key)||null,c(x,w,P,N);case Ys:var O=P._init;return g(w,x,T,O(P._payload),N)}if(vc(P)||oc(P))return w=w.get(T)||null,d(x,w,P,N,null);Xd(x,P)}return null}function _(w,x,T,P){for(var N=null,O=null,C=x,S=x=0,I=null;C!==null&&S<T.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var R=p(w,C,T[S],P);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(w,C),x=i(R,x,S),O===null?N=R:O.sibling=R,O=R,C=I}if(S===T.length)return n(w,C),Ye&&oo(w,S),N;if(C===null){for(;S<T.length;S++)C=f(w,T[S],P),C!==null&&(x=i(C,x,S),O===null?N=C:O.sibling=C,O=C);return Ye&&oo(w,S),N}for(C=r(w,C);S<T.length;S++)I=g(C,w,S,T[S],P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),x=i(I,x,S),O===null?N=I:O.sibling=I,O=I);return t&&C.forEach(function(D){return e(w,D)}),Ye&&oo(w,S),N}function v(w,x,T,P){var N=oc(T);if(typeof N!="function")throw Error(H(150));if(T=N.call(T),T==null)throw Error(H(151));for(var O=N=null,C=x,S=x=0,I=null,R=T.next();C!==null&&!R.done;S++,R=T.next()){C.index>S?(I=C,C=null):I=C.sibling;var D=p(w,C,R.value,P);if(D===null){C===null&&(C=I);break}t&&C&&D.alternate===null&&e(w,C),x=i(D,x,S),O===null?N=D:O.sibling=D,O=D,C=I}if(R.done)return n(w,C),Ye&&oo(w,S),N;if(C===null){for(;!R.done;S++,R=T.next())R=f(w,R.value,P),R!==null&&(x=i(R,x,S),O===null?N=R:O.sibling=R,O=R);return Ye&&oo(w,S),N}for(C=r(w,C);!R.done;S++,R=T.next())R=g(C,w,S,R.value,P),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),x=i(R,x,S),O===null?N=R:O.sibling=R,O=R);return t&&C.forEach(function(M){return e(w,M)}),Ye&&oo(w,S),N}function E(w,x,T,P){if(typeof T=="object"&&T!==null&&T.type===ya&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ud:e:{for(var N=T.key,O=x;O!==null;){if(O.key===N){if(N=T.type,N===ya){if(O.tag===7){n(w,O.sibling),x=s(O,T.props.children),x.return=w,w=x;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ys&&$T(N)===O.type){n(w,O.sibling),x=s(O,T.props),x.ref=dc(w,O,T),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}T.type===ya?(x=Ao(T.props.children,w.mode,P,T.key),x.return=w,w=x):(P=kh(T.type,T.key,T.props,null,w.mode,P),P.ref=dc(w,x,T),P.return=w,w=P)}return o(w);case ga:e:{for(O=T.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(w,x.sibling),x=s(x,T.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=Ng(T,w.mode,P),x.return=w,w=x}return o(w);case Ys:return O=T._init,E(w,x,O(T._payload),P)}if(vc(T))return _(w,x,T,P);if(oc(T))return v(w,x,T,P);Xd(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,T),x.return=w,w=x):(n(w,x),x=Rg(T,w.mode,P),x.return=w,w=x),o(w)):n(w,x)}return E}var al=BA(!0),zA=BA(!1),_f=Bi(null),Ef=null,Sa=null,l0=null;function c0(){l0=Sa=Ef=null}function u0(t){var e=_f.current;Qe(_f),t._currentValue=e}function Jy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){Ef=t,l0=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(l0!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(Ef===null)throw Error(H(308));Sa=t,Ef.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var mo=null;function d0(t){mo===null?mo=[t]:mo.push(t)}function WA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,d0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ts(t,r)}function Ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xs=!1;function h0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ts(t,n)}return s=r.interleaved,s===null?(e.next=e,d0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ts(t,n)}function Ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}function BT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tf(t,e,n,r){var s=t.updateQueue;Xs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(p=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=nt({},f,p);break e;case 2:Xs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=f}}function zT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Xu={},qr=Bi(Xu),hu=Bi(Xu),fu=Bi(Xu);function go(t){if(t===Xu)throw Error(H(174));return t}function f0(t,e){switch(We(fu,e),We(hu,t),We(qr,Xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ky(e,t)}Qe(qr),We(qr,e)}function ll(){Qe(qr),Qe(hu),Qe(fu)}function qA(t){go(fu.current);var e=go(qr.current),n=ky(e,t.type);e!==n&&(We(hu,t),We(qr,n))}function p0(t){hu.current===t&&(Qe(qr),Qe(hu))}var Je=Bi(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function m0(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var Ih=Ms.ReactCurrentDispatcher,Sg=Ms.ReactCurrentBatchConfig,Do=0,et=null,xt=null,bt=null,Sf=!1,Vc=!1,pu=0,fF=0;function zt(){throw Error(H(321))}function g0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function y0(t,e,n,r,s,i){if(Do=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ih.current=t===null||t.memoizedState===null?yF:vF,t=n(r,s),Vc){i=0;do{if(Vc=!1,pu=0,25<=i)throw Error(H(301));i+=1,bt=xt=null,e.updateQueue=null,Ih.current=wF,t=n(r,s)}while(Vc)}if(Ih.current=Cf,e=xt!==null&&xt.next!==null,Do=0,bt=xt=et=null,Sf=!1,e)throw Error(H(300));return t}function v0(){var t=pu!==0;return pu=0,t}function Or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?et.memoizedState=bt=t:bt=bt.next=t,bt}function ir(){if(xt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=bt===null?et.memoizedState:bt.next;if(e!==null)bt=e,xt=t;else{if(t===null)throw Error(H(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},bt===null?et.memoizedState=bt=t:bt=bt.next=t}return bt}function mu(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=ir(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Do&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,et.lanes|=d,Mo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,Mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ig(t){var e=ir(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Tr(i,e.memoizedState)||(En=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GA(){}function KA(t,e){var n=et,r=ir(),s=e(),i=!Tr(r.memoizedState,s);if(i&&(r.memoizedState=s,En=!0),r=r.queue,w0(XA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,gu(9,YA.bind(null,n,r,s,e),void 0,null),St===null)throw Error(H(349));Do&30||QA(n,e,s)}return s}function QA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YA(t,e,n,r){e.value=n,e.getSnapshot=r,JA(e)&&ZA(t)}function XA(t,e,n){return n(function(){JA(e)&&ZA(t)})}function JA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function ZA(t){var e=Ts(t,1);e!==null&&xr(e,t,1,-1)}function WT(t){var e=Or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:t},e.queue=t,t=t.dispatch=gF.bind(null,et,t),[e.memoizedState,t]}function gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eP(){return ir().memoizedState}function Ah(t,e,n,r){var s=Or();et.flags|=t,s.memoizedState=gu(1|e,n,void 0,r===void 0?null:r)}function Sp(t,e,n,r){var s=ir();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&g0(r,o.deps)){s.memoizedState=gu(e,n,i,r);return}}et.flags|=t,s.memoizedState=gu(1|e,n,i,r)}function HT(t,e){return Ah(8390656,8,t,e)}function w0(t,e){return Sp(2048,8,t,e)}function tP(t,e){return Sp(4,2,t,e)}function nP(t,e){return Sp(4,4,t,e)}function rP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sP(t,e,n){return n=n!=null?n.concat([t]):null,Sp(4,4,rP.bind(null,e,t),n)}function x0(){}function iP(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oP(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aP(t,e,n){return Do&21?(Tr(n,e)||(n=hA(),et.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function pF(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Sg.transition;Sg.transition={};try{t(!1),e()}finally{Ve=n,Sg.transition=r}}function lP(){return ir().memoizedState}function mF(t,e,n){var r=vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cP(t))uP(e,n);else if(n=WA(t,e,n,r),n!==null){var s=hn();xr(n,t,r,s),dP(n,e,r)}}function gF(t,e,n){var r=vi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cP(t))uP(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tr(a,o)){var l=e.interleaved;l===null?(s.next=s,d0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=WA(t,e,s,r),n!==null&&(s=hn(),xr(n,t,r,s),dP(n,e,r))}}function cP(t){var e=t.alternate;return t===et||e!==null&&e===et}function uP(t,e){Vc=Sf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}var Cf={readContext:sr,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},yF={readContext:sr,useCallback:function(t,e){return Or().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:HT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ah(4194308,4,rP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ah(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ah(4,2,t,e)},useMemo:function(t,e){var n=Or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mF.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=Or();return t={current:t},e.memoizedState=t},useState:WT,useDebugValue:x0,useDeferredValue:function(t){return Or().memoizedState=t},useTransition:function(){var t=WT(!1),e=t[0];return t=pF.bind(null,t[1]),Or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=Or();if(Ye){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),St===null)throw Error(H(349));Do&30||QA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,HT(XA.bind(null,r,i,t),[t]),r.flags|=2048,gu(9,YA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Or(),e=St.identifierPrefix;if(Ye){var n=ms,r=ps;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vF={readContext:sr,useCallback:iP,useContext:sr,useEffect:w0,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:Cg,useRef:eP,useState:function(){return Cg(mu)},useDebugValue:x0,useDeferredValue:function(t){var e=ir();return aP(e,xt.memoizedState,t)},useTransition:function(){var t=Cg(mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:GA,useSyncExternalStore:KA,useId:lP,unstable_isNewReconciler:!1},wF={readContext:sr,useCallback:iP,useContext:sr,useEffect:w0,useImperativeHandle:sP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:Ig,useRef:eP,useState:function(){return Ig(mu)},useDebugValue:x0,useDeferredValue:function(t){var e=ir();return xt===null?e.memoizedState=t:aP(e,xt.memoizedState,t)},useTransition:function(){var t=Ig(mu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:GA,useSyncExternalStore:KA,useId:lP,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cp={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),s=vi(t),i=vs(r,s);i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(xr(e,t,s,r),Ch(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),s=vi(t),i=vs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gi(t,i,s),e!==null&&(xr(e,t,s,r),Ch(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=vi(t),s=vs(n,r);s.tag=2,e!=null&&(s.callback=e),e=gi(t,s,r),e!==null&&(xr(e,t,r,n),Ch(e,t,r))}};function qT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!lu(n,r)||!lu(s,i):!0}function hP(t,e,n){var r=!1,s=Ci,i=e.contextType;return typeof i=="object"&&i!==null?i=sr(i):(s=Sn(e)?No:tn.current,r=e.contextTypes,i=(r=r!=null)?il(t,s):Ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function GT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function ev(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},h0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sr(i):(i=Sn(e)?No:tn.current,s.context=il(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cp.enqueueReplaceState(s,s.state,null),Tf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=GV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xF=typeof WeakMap=="function"?WeakMap:Map;function fP(t,e,n){n=vs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Af||(Af=!0,dv=r),tv(t,e)},n}function pP(t,e,n){n=vs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tv(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function KT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=MF.bind(null,t,e,n),e.then(t,t))}function QT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function YT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vs(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var _F=Ms.ReactCurrentOwner,En=!1;function ln(t,e,n,r){e.child=t===null?zA(e,null,n,r):al(e,t.child,n,r)}function XT(t,e,n,r,s){n=n.render;var i=e.ref;return La(e,s),r=y0(t,e,n,r,i,s),n=v0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(Ye&&n&&i0(e),e.flags|=1,ln(t,e,r,s),e.child)}function JT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!A0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mP(t,e,i,r,s)):(t=kh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:lu,n(o,r)&&t.ref===e.ref)return bs(t,e,s)}return e.flags|=1,t=wi(i,r),t.ref=e.ref,t.return=e,e.child=t}function mP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(lu(i,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,bs(t,e,s)}return nv(t,e,n,r,s)}function gP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ia,kn),kn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Ia,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Ia,kn),kn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Ia,kn),kn|=r;return ln(t,e,s,n),e.child}function yP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nv(t,e,n,r,s){var i=Sn(n)?No:tn.current;return i=il(e,i),La(e,s),n=y0(t,e,n,r,i,s),r=v0(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(Ye&&r&&i0(e),e.flags|=1,ln(t,e,n,s),e.child)}function ZT(t,e,n,r,s){if(Sn(n)){var i=!0;vf(e)}else i=!1;if(La(e,s),e.stateNode===null)Ph(t,e),hP(e,n,r),ev(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sr(c):(c=Sn(n)?No:tn.current,c=il(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&GT(e,o,r,c),Xs=!1;var p=e.memoizedState;o.state=p,Tf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||bn.current||Xs?(typeof d=="function"&&(Zy(e,n,d,r),l=e.memoizedState),(a=Xs||qT(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=Sn(n)?No:tn.current,l=il(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&GT(e,o,r,l),Xs=!1,p=e.memoizedState,o.state=p,Tf(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||bn.current||Xs?(typeof g=="function"&&(Zy(e,n,g,r),_=e.memoizedState),(c=Xs||qT(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return rv(t,e,n,r,i,s)}function rv(t,e,n,r,s,i){yP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&VT(e,n,!1),bs(t,e,i);r=e.stateNode,_F.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,i),e.child=al(e,null,a,i)):ln(t,e,a,i),e.memoizedState=r.state,s&&VT(e,n,!0),e.child}function vP(t){var e=t.stateNode;e.pendingContext?LT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&LT(t,e.context,!1),f0(t,e.containerInfo)}function e1(t,e,n,r,s){return ol(),a0(s),e.flags|=256,ln(t,e,n,r),e.child}var sv={dehydrated:null,treeContext:null,retryLane:0};function iv(t){return{baseLanes:t,cachePool:null,transitions:null}}function wP(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(Je,s&1),t===null)return Xy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pp(o,r,0,null),t=Ao(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=iv(n),e.memoizedState=sv,t):_0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return EF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=wi(a,i):(i=Ao(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?iv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sv,r}return i=t.child,t=i.sibling,r=wi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=Pp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jd(t,e,n,r){return r!==null&&a0(r),al(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ag(Error(H(422))),Jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pp({mode:"visible",children:r.children},s,0,null),i=Ao(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=iv(o),e.memoizedState=sv,i);if(!(e.mode&1))return Jd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Ag(i,r,void 0),Jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ts(t,s),xr(r,t,s,-1))}return I0(),r=Ag(Error(H(421))),Jd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=OF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,On=mi(s.nextSibling),Vn=e,Ye=!0,mr=null,t!==null&&(Kn[Qn++]=ps,Kn[Qn++]=ms,Kn[Qn++]=ko,ps=t.id,ms=t.overflow,ko=e),e=_0(e,r.children),e.flags|=4096,e)}function t1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jy(t.return,e,n)}function Pg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ln(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t1(t,n,e);else if(t.tag===19)t1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&bf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pg(e,!0,n,null,i);break;case"together":Pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TF(t,e,n){switch(e.tag){case 3:vP(e),ol();break;case 5:qA(e);break;case 1:Sn(e.type)&&vf(e);break;case 4:f0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(_f,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?wP(t,e,n):(We(Je,Je.current&1),t=bs(t,e,n),t!==null?t.sibling:null);We(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,gP(t,e,n)}return bs(t,e,n)}var _P,ov,EP,TP;_P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ov=function(){};EP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,go(qr.current);var i=null;switch(n){case"input":s=Ay(t,s),r=Ay(t,r),i=[];break;case"select":s=nt({},s,{value:void 0}),r=nt({},r,{value:void 0}),i=[];break;case"textarea":s=Ny(t,s),r=Ny(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gf)}Dy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};TP=function(t,e,n,r){n!==r&&(e.flags|=4)};function hc(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bF(t,e,n){var r=e.pendingProps;switch(o0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Sn(e.type)&&yf(),Wt(e),null;case 3:return r=e.stateNode,ll(),Qe(bn),Qe(tn),m0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(pv(mr),mr=null))),ov(t,e),Wt(e),null;case 5:p0(e);var s=go(fu.current);if(n=e.type,t!==null&&e.stateNode!=null)EP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Wt(e),null}if(t=go(qr.current),Yd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ur]=e,r[du]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<xc.length;s++)Ge(xc[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":uT(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":hT(r,i),Ge("invalid",r)}Dy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qd(r.textContent,a,t),s=["children",""+a]):tu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":$d(r),dT(r,i,!0);break;case"textarea":$d(r),fT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ur]=e,t[du]=r,_P(t,e,!1,!1),e.stateNode=t;e:{switch(o=My(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<xc.length;s++)Ge(xc[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":uT(t,r),s=Ay(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=nt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":hT(t,r),s=Ny(t,r),Ge("invalid",t);break;default:s=r}Dy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?eA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nu(t,l):typeof l=="number"&&nu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&Hw(t,i,l,o))}switch(n){case"input":$d(t),dT(t,r,!1);break;case"textarea":$d(t),fT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Si(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Da(t,!!r.multiple,i,!1):r.defaultValue!=null&&Da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)TP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=go(fu.current),go(qr.current),Yd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(i=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:Qd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return Wt(e),null;case 13:if(Qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&On!==null&&e.mode&1&&!(e.flags&128))$A(),ol(),e.flags|=98560,i=!1;else if(i=Yd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Ur]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else mr!==null&&(pv(mr),mr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?_t===0&&(_t=3):I0())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return ll(),ov(t,e),t===null&&cu(e.stateNode.containerInfo),Wt(e),null;case 10:return u0(e.type._context),Wt(e),null;case 17:return Sn(e.type)&&yf(),Wt(e),null;case 19:if(Qe(Je),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)hc(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bf(t),o!==null){for(e.flags|=128,hc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ht()>ul&&(e.flags|=128,r=!0,hc(i,!1),e.lanes=4194304)}else{if(!r)if(t=bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ye)return Wt(e),null}else 2*ht()-i.renderingStartTime>ul&&n!==1073741824&&(e.flags|=128,r=!0,hc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=Je.current,We(Je,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return C0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function SF(t,e){switch(o0(e),e.tag){case 1:return Sn(e.type)&&yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),Qe(bn),Qe(tn),m0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p0(e),null;case 13:if(Qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(Je),null;case 4:return ll(),null;case 10:return u0(e.type._context),null;case 22:case 23:return C0(),null;case 24:return null;default:return null}}var Zd=!1,Qt=!1,CF=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ca(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function av(t,e,n){try{n()}catch(r){lt(t,e,r)}}var n1=!1;function IF(t,e){if(Wy=ff,t=AA(),s0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hy={focusedElem:t,selectionRange:n},ff=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,E=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:dr(e.type,v),E);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){lt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return _=n1,n1=!1,_}function Fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&av(e,n,i)}s=s.next}while(s!==r)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bP(t){var e=t.alternate;e!==null&&(t.alternate=null,bP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[du],delete e[Ky],delete e[cF],delete e[uF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SP(t){return t.tag===5||t.tag===3||t.tag===4}function r1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gf));else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}function uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uv(t,e,n),t=t.sibling;t!==null;)uv(t,e,n),t=t.sibling}var Pt=null,pr=!1;function Bs(t,e,n){for(n=n.child;n!==null;)CP(t,e,n),n=n.sibling}function CP(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(wp,n)}catch{}switch(n.tag){case 5:Qt||Ca(n,e);case 6:var r=Pt,s=pr;Pt=null,Bs(t,e,n),Pt=r,pr=s,Pt!==null&&(pr?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(pr?(t=Pt,n=n.stateNode,t.nodeType===8?Eg(t.parentNode,n):t.nodeType===1&&Eg(t,n),ou(t)):Eg(Pt,n.stateNode));break;case 4:r=Pt,s=pr,Pt=n.stateNode.containerInfo,pr=!0,Bs(t,e,n),Pt=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&av(n,e,o),s=s.next}while(s!==r)}Bs(t,e,n);break;case 1:if(!Qt&&(Ca(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Bs(t,e,n),Qt=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function s1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CF),e.forEach(function(r){var s=jF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,pr=!1;break e;case 3:Pt=a.stateNode.containerInfo,pr=!0;break e;case 4:Pt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(Pt===null)throw Error(H(160));CP(i,o,s),Pt=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){lt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IP(e,t),e=e.sibling}function IP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Mr(t),r&4){try{Fc(3,t,t.return),Ip(3,t)}catch(v){lt(t,t.return,v)}try{Fc(5,t,t.return)}catch(v){lt(t,t.return,v)}}break;case 1:lr(e,t),Mr(t),r&512&&n!==null&&Ca(n,n.return);break;case 5:if(lr(e,t),Mr(t),r&512&&n!==null&&Ca(n,n.return),t.flags&32){var s=t.stateNode;try{nu(s,"")}catch(v){lt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&QI(s,i),My(a,o);var c=My(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?eA(s,f):d==="dangerouslySetInnerHTML"?JI(s,f):d==="children"?nu(s,f):Hw(s,d,f,c)}switch(a){case"input":Py(s,i);break;case"textarea":YI(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Da(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Da(s,!!i.multiple,i.defaultValue,!0):Da(s,!!i.multiple,i.multiple?[]:"",!1))}s[du]=i}catch(v){lt(t,t.return,v)}}break;case 6:if(lr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){lt(t,t.return,v)}}break;case 3:if(lr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ou(e.containerInfo)}catch(v){lt(t,t.return,v)}break;case 4:lr(e,t),Mr(t);break;case 13:lr(e,t),Mr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(b0=ht())),r&4&&s1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||d,lr(e,t),Qt=c):lr(e,t),Mr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(p=se,g=p.child,p.tag){case 0:case 11:case 14:case 15:Fc(4,p,p.return);break;case 1:Ca(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){lt(r,n,v)}}break;case 5:Ca(p,p.return);break;case 22:if(p.memoizedState!==null){o1(f);continue}}g!==null?(g.return=p,se=g):o1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ZI("display",o))}catch(v){lt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){lt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Mr(t),r&4&&s1(t);break;case 21:break;default:lr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SP(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nu(s,""),r.flags&=-33);var i=r1(t);uv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=r1(t);cv(t,a,o);break;default:throw Error(H(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AF(t,e,n){se=t,AP(t)}function AP(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Zd;var c=Qt;if(Zd=o,(Qt=l)&&!c)for(se=s;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?a1(s):l!==null?(l.return=o,se=l):a1(s);for(;i!==null;)se=i,AP(i),i=i.sibling;se=s,Zd=a,Qt=c}i1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):i1(t)}}function i1(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ou(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Qt||e.flags&512&&lv(e)}catch(p){lt(e,e.return,p)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function o1(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function a1(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ip(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){lt(e,s,l)}}var i=e.return;try{lv(e)}catch(l){lt(e,i,l)}break;case 5:var o=e.return;try{lv(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var PF=Math.ceil,If=Ms.ReactCurrentDispatcher,E0=Ms.ReactCurrentOwner,Jn=Ms.ReactCurrentBatchConfig,Re=0,St=null,vt=null,Mt=0,kn=0,Ia=Bi(0),_t=0,yu=null,Mo=0,Ap=0,T0=0,Uc=null,xn=null,b0=0,ul=1/0,hs=null,Af=!1,dv=null,yi=null,eh=!1,ci=null,Pf=0,$c=0,hv=null,Rh=-1,Nh=0;function hn(){return Re&6?ht():Rh!==-1?Rh:Rh=ht()}function vi(t){return t.mode&1?Re&2&&Mt!==0?Mt&-Mt:hF.transition!==null?(Nh===0&&(Nh=hA()),Nh):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:wA(t.type)),t):1}function xr(t,e,n,r){if(50<$c)throw $c=0,hv=null,Error(H(185));Ku(t,n,r),(!(Re&2)||t!==St)&&(t===St&&(!(Re&2)&&(Ap|=n),_t===4&&Zs(t,Mt)),Cn(t,r),n===1&&Re===0&&!(e.mode&1)&&(ul=ht()+500,bp&&zi()))}function Cn(t,e){var n=t.callbackNode;h4(t,e);var r=hf(t,t===St?Mt:0);if(r===0)n!==null&&gT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gT(n),e===1)t.tag===0?dF(l1.bind(null,t)):VA(l1.bind(null,t)),aF(function(){!(Re&6)&&zi()}),n=null;else{switch(fA(r)){case 1:n=Yw;break;case 4:n=uA;break;case 16:n=df;break;case 536870912:n=dA;break;default:n=df}n=jP(n,PP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PP(t,e){if(Rh=-1,Nh=0,Re&6)throw Error(H(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=hf(t,t===St?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rf(t,r);else{e=r;var s=Re;Re|=2;var i=NP();(St!==t||Mt!==e)&&(hs=null,ul=ht()+500,Io(t,e));do try{kF();break}catch(a){RP(t,a)}while(!0);c0(),If.current=i,Re=s,vt!==null?e=0:(St=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=Fy(t),s!==0&&(r=s,e=fv(t,s))),e===1)throw n=yu,Io(t,0),Zs(t,r),Cn(t,ht()),n;if(e===6)Zs(t,r);else{if(s=t.current.alternate,!(r&30)&&!RF(s)&&(e=Rf(t,r),e===2&&(i=Fy(t),i!==0&&(r=i,e=fv(t,i))),e===1))throw n=yu,Io(t,0),Zs(t,r),Cn(t,ht()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ao(t,xn,hs);break;case 3:if(Zs(t,r),(r&130023424)===r&&(e=b0+500-ht(),10<e)){if(hf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Gy(ao.bind(null,t,xn,hs),e);break}ao(t,xn,hs);break;case 4:if(Zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-wr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PF(r/1960))-r,10<r){t.timeoutHandle=Gy(ao.bind(null,t,xn,hs),r);break}ao(t,xn,hs);break;case 5:ao(t,xn,hs);break;default:throw Error(H(329))}}}return Cn(t,ht()),t.callbackNode===n?PP.bind(null,t):null}function fv(t,e){var n=Uc;return t.current.memoizedState.isDehydrated&&(Io(t,e).flags|=256),t=Rf(t,e),t!==2&&(e=xn,xn=n,e!==null&&pv(e)),t}function pv(t){xn===null?xn=t:xn.push.apply(xn,t)}function RF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zs(t,e){for(e&=~T0,e&=~Ap,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function l1(t){if(Re&6)throw Error(H(327));Va();var e=hf(t,0);if(!(e&1))return Cn(t,ht()),null;var n=Rf(t,e);if(t.tag!==0&&n===2){var r=Fy(t);r!==0&&(e=r,n=fv(t,r))}if(n===1)throw n=yu,Io(t,0),Zs(t,e),Cn(t,ht()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ao(t,xn,hs),Cn(t,ht()),null}function S0(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(ul=ht()+500,bp&&zi())}}function Oo(t){ci!==null&&ci.tag===0&&!(Re&6)&&Va();var e=Re;Re|=1;var n=Jn.transition,r=Ve;try{if(Jn.transition=null,Ve=1,t)return t()}finally{Ve=r,Jn.transition=n,Re=e,!(Re&6)&&zi()}}function C0(){kn=Ia.current,Qe(Ia)}function Io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oF(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(o0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:ll(),Qe(bn),Qe(tn),m0();break;case 5:p0(r);break;case 4:ll();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:u0(r.type._context);break;case 22:case 23:C0()}n=n.return}if(St=t,vt=t=wi(t.current,null),Mt=kn=e,_t=0,yu=null,T0=Ap=Mo=0,xn=Uc=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mo=null}return t}function RP(t,e){do{var n=vt;try{if(c0(),Ih.current=Cf,Sf){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sf=!1}if(Do=0,bt=xt=et=null,Vc=!1,pu=0,E0.current=null,n===null||n.return===null){_t=1,yu=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=QT(o);if(g!==null){g.flags&=-257,YT(g,o,a,i,e),g.mode&1&&KT(i,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){KT(i,c,e),I0();break e}l=Error(H(426))}}else if(Ye&&a.mode&1){var E=QT(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),YT(E,o,a,i,e),a0(cl(l,a));break e}}i=l=cl(l,a),_t!==4&&(_t=2),Uc===null?Uc=[i]:Uc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=fP(i,l,e);BT(i,w);break e;case 1:a=l;var x=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(yi===null||!yi.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=pP(i,a,e);BT(i,P);break e}}i=i.return}while(i!==null)}DP(n)}catch(N){e=N,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function NP(){var t=If.current;return If.current=Cf,t===null?Cf:t}function I0(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(Mo&268435455)&&!(Ap&268435455)||Zs(St,Mt)}function Rf(t,e){var n=Re;Re|=2;var r=NP();(St!==t||Mt!==e)&&(hs=null,Io(t,e));do try{NF();break}catch(s){RP(t,s)}while(!0);if(c0(),Re=n,If.current=r,vt!==null)throw Error(H(261));return St=null,Mt=0,_t}function NF(){for(;vt!==null;)kP(vt)}function kF(){for(;vt!==null&&!r4();)kP(vt)}function kP(t){var e=OP(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?DP(t):vt=e,E0.current=null}function DP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SF(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,vt=null;return}}else if(n=bF(n,e,kn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);_t===0&&(_t=5)}function ao(t,e,n){var r=Ve,s=Jn.transition;try{Jn.transition=null,Ve=1,DF(t,e,n,r)}finally{Jn.transition=s,Ve=r}return null}function DF(t,e,n,r){do Va();while(ci!==null);if(Re&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(f4(t,i),t===St&&(vt=St=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eh||(eh=!0,jP(df,function(){return Va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jn.transition,Jn.transition=null;var o=Ve;Ve=1;var a=Re;Re|=4,E0.current=null,IF(t,n),IP(n,t),Z4(Hy),ff=!!Wy,Hy=Wy=null,t.current=n,AF(n),s4(),Re=a,Ve=o,Jn.transition=i}else t.current=n;if(eh&&(eh=!1,ci=t,Pf=s),i=t.pendingLanes,i===0&&(yi=null),a4(n.stateNode),Cn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Af)throw Af=!1,t=dv,dv=null,t;return Pf&1&&t.tag!==0&&Va(),i=t.pendingLanes,i&1?t===hv?$c++:($c=0,hv=t):$c=0,zi(),null}function Va(){if(ci!==null){var t=fA(Pf),e=Jn.transition,n=Ve;try{if(Jn.transition=null,Ve=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,Pf=0,Re&6)throw Error(H(331));var s=Re;for(Re|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Fc(8,d,i)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var p=d.sibling,g=d.return;if(bP(d),d===c){se=null;break}if(p!==null){p.return=g,se=p;break}se=g}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fc(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,se=w;break e}se=i.return}}var x=t.current;for(se=x;se!==null;){o=se;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,se=T;else e:for(o=x;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ip(9,a)}}catch(N){lt(a,a.return,N)}if(a===o){se=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,se=P;break e}se=a.return}}if(Re=s,zi(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(wp,t)}catch{}r=!0}return r}finally{Ve=n,Jn.transition=e}}return!1}function c1(t,e,n){e=cl(n,e),e=fP(t,e,1),t=gi(t,e,1),e=hn(),t!==null&&(Ku(t,1,e),Cn(t,e))}function lt(t,e,n){if(t.tag===3)c1(t,t,n);else for(;e!==null;){if(e.tag===3){c1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=cl(n,t),t=pP(e,t,1),e=gi(e,t,1),t=hn(),e!==null&&(Ku(e,1,t),Cn(e,t));break}}e=e.return}}function MF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>ht()-b0?Io(t,0):T0|=n),Cn(t,e)}function MP(t,e){e===0&&(t.mode&1?(e=Wd,Wd<<=1,!(Wd&130023424)&&(Wd=4194304)):e=1);var n=hn();t=Ts(t,e),t!==null&&(Ku(t,e,n),Cn(t,n))}function OF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MP(t,n)}function jF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),MP(t,n)}var OP;OP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,TF(t,e,n);En=!!(t.flags&131072)}else En=!1,Ye&&e.flags&1048576&&FA(e,xf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ph(t,e),t=e.pendingProps;var s=il(e,tn.current);La(e,n),s=y0(null,e,r,t,s,n);var i=v0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(i=!0,vf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,h0(e),s.updater=Cp,e.stateNode=s,s._reactInternals=e,ev(e,r,t,n),e=rv(null,e,r,!0,i,n)):(e.tag=0,Ye&&i&&i0(e),ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VF(r),t=dr(r,t),s){case 0:e=nv(null,e,r,t,n);break e;case 1:e=ZT(null,e,r,t,n);break e;case 11:e=XT(null,e,r,t,n);break e;case 14:e=JT(null,e,r,dr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),nv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),ZT(t,e,r,s,n);case 3:e:{if(vP(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HA(t,e),Tf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cl(Error(H(423)),e),e=e1(t,e,r,n,s);break e}else if(r!==s){s=cl(Error(H(424)),e),e=e1(t,e,r,n,s);break e}else for(On=mi(e.stateNode.containerInfo.firstChild),Vn=e,Ye=!0,mr=null,n=zA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===s){e=bs(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return qA(e),t===null&&Xy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qy(r,s)?o=null:i!==null&&qy(r,i)&&(e.flags|=32),yP(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&Xy(e),null;case 13:return wP(t,e,n);case 4:return f0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),XT(t,e,r,s,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(_f,r._currentValue),r._currentValue=o,i!==null)if(Tr(i.value,o)){if(i.children===s.children&&!bn.current){e=bs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=vs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Jy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,La(e,n),s=sr(s),r=r(s),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),JT(t,e,r,s,n);case 15:return mP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Ph(t,e),e.tag=1,Sn(r)?(t=!0,vf(e)):t=!1,La(e,n),hP(e,r,s),ev(e,r,s,n),rv(null,e,r,!0,t,n);case 19:return xP(t,e,n);case 22:return gP(t,e,n)}throw Error(H(156,e.tag))};function jP(t,e){return cA(t,e)}function LF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new LF(t,e,n,r)}function A0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VF(t){if(typeof t=="function")return A0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gw)return 11;if(t===Kw)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")A0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ya:return Ao(n.children,s,i,e);case qw:o=8,s|=8;break;case by:return t=Yn(12,n,e,s|2),t.elementType=by,t.lanes=i,t;case Sy:return t=Yn(13,n,e,s),t.elementType=Sy,t.lanes=i,t;case Cy:return t=Yn(19,n,e,s),t.elementType=Cy,t.lanes=i,t;case qI:return Pp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WI:o=10;break e;case HI:o=9;break e;case Gw:o=11;break e;case Kw:o=14;break e;case Ys:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ao(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function Pp(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=qI,t.lanes=n,t.stateNode={isHidden:!1},t}function Rg(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Ng(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dg(0),this.expirationTimes=dg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P0(t,e,n,r,s,i,o,a,l){return t=new FF(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h0(i),t}function UF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LP(t){if(!t)return Ci;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Sn(n))return LA(t,n,e)}return e}function VP(t,e,n,r,s,i,o,a,l){return t=P0(n,r,!0,t,s,i,o,a,l),t.context=LP(null),n=t.current,r=hn(),s=vi(n),i=vs(r,s),i.callback=e??null,gi(n,i,s),t.current.lanes=s,Ku(t,s,r),Cn(t,r),t}function Rp(t,e,n,r){var s=e.current,i=hn(),o=vi(s);return n=LP(n),e.context===null?e.context=n:e.pendingContext=n,e=vs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(s,e,o),t!==null&&(xr(t,s,o,i),Ch(t,s,o)),o}function Nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R0(t,e){u1(t,e),(t=t.alternate)&&u1(t,e)}function $F(){return null}var FP=typeof reportError=="function"?reportError:function(t){console.error(t)};function N0(t){this._internalRoot=t}Np.prototype.render=N0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Rp(t,e,null,null)};Np.prototype.unmount=N0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Rp(null,t,null,null)}),e[Es]=null}};function Np(t){this._internalRoot=t}Np.prototype.unstable_scheduleHydration=function(t){if(t){var e=gA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Js.length&&e!==0&&e<Js[n].priority;n++);Js.splice(n,0,t),n===0&&vA(t)}};function k0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d1(){}function BF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Nf(o);i.call(c)}}var o=VP(e,r,t,0,null,!1,!1,"",d1);return t._reactRootContainer=o,t[Es]=o.current,cu(t.nodeType===8?t.parentNode:t),Oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Nf(l);a.call(c)}}var l=P0(t,0,!1,null,null,!1,!1,"",d1);return t._reactRootContainer=l,t[Es]=l.current,cu(t.nodeType===8?t.parentNode:t),Oo(function(){Rp(e,l,n,r)}),l}function Dp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Nf(o);a.call(l)}}Rp(e,o,t,s)}else o=BF(n,e,t,s,r);return Nf(o)}pA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wc(e.pendingLanes);n!==0&&(Xw(e,n|1),Cn(e,ht()),!(Re&6)&&(ul=ht()+500,zi()))}break;case 13:Oo(function(){var r=Ts(t,1);if(r!==null){var s=hn();xr(r,t,1,s)}}),R0(t,1)}};Jw=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var n=hn();xr(e,t,134217728,n)}R0(t,134217728)}};mA=function(t){if(t.tag===13){var e=vi(t),n=Ts(t,e);if(n!==null){var r=hn();xr(n,t,e,r)}R0(t,e)}};gA=function(){return Ve};yA=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};jy=function(t,e,n){switch(e){case"input":if(Py(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Tp(r);if(!s)throw Error(H(90));KI(r),Py(r,s)}}}break;case"textarea":YI(t,n);break;case"select":e=n.value,e!=null&&Da(t,!!n.multiple,e,!1)}};rA=S0;sA=Oo;var zF={usingClientEntryPoint:!1,Events:[Yu,_a,Tp,tA,nA,S0]},fc={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WF={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aA(t),t===null?null:t.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||$F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{wp=th.inject(WF),Hr=th}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zF;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k0(e))throw Error(H(200));return UF(t,e,null,n)};zn.createRoot=function(t,e){if(!k0(t))throw Error(H(299));var n=!1,r="",s=FP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=P0(t,1,!1,null,null,n,!1,r,s),t[Es]=e.current,cu(t.nodeType===8?t.parentNode:t),new N0(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=aA(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return Oo(t)};zn.hydrate=function(t,e,n){if(!kp(e))throw Error(H(200));return Dp(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!k0(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=FP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VP(e,null,t,1,n??null,s,!1,i,o),t[Es]=e.current,cu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Np(e)};zn.render=function(t,e,n){if(!kp(e))throw Error(H(200));return Dp(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!kp(t))throw Error(H(40));return t._reactRootContainer?(Oo(function(){Dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Es]=null})}),!0):!1};zn.unstable_batchedUpdates=S0;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kp(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Dp(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function UP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UP)}catch(t){console.error(t)}}UP(),UI.exports=zn;var Qo=UI.exports;const $P=II(Qo);var BP,h1=Qo;BP=h1.createRoot,h1.hydrateRoot;const HF=1,qF=1e6;let kg=0;function GF(){return kg=(kg+1)%Number.MAX_SAFE_INTEGER,kg.toString()}const Dg=new Map,f1=t=>{if(Dg.has(t))return;const e=setTimeout(()=>{Dg.delete(t),Bc({type:"REMOVE_TOAST",toastId:t})},qF);Dg.set(t,e)},KF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?f1(n):t.toasts.forEach(r=>{f1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Dh=[];let Mh={toasts:[]};function Bc(t){Mh=KF(Mh,t),Dh.forEach(e=>{e(Mh)})}function QF({...t}){const e=GF(),n=s=>Bc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Bc({type:"DISMISS_TOAST",toastId:e});return Bc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function zP(){const[t,e]=m.useState(Mh);return m.useEffect(()=>(Dh.push(e),()=>{const n=Dh.indexOf(e);n>-1&&Dh.splice(n,1)}),[t]),{...t,toast:QF,dismiss:n=>Bc({type:"DISMISS_TOAST",toastId:n})}}function X(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function YF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Mp(...t){return e=>t.forEach(n=>YF(n,e))}function ke(...t){return m.useCallback(Mp(...t),t)}function XF(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,..._}=f,v=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>_,Object.values(_));return h.jsx(v.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,_=m.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JF(s,...e)]}function JF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ii=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(ZF);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return h.jsx(mv,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return h.jsx(mv,{...r,ref:e,children:n})});Ii.displayName="Slot";var mv=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=t3(n);return m.cloneElement(n,{...e3(r,n.props),ref:e?Mp(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});mv.displayName="SlotClone";var WP=({children:t})=>h.jsx(h.Fragment,{children:t});function ZF(t){return m.isValidElement(t)&&t.type===WP}function e3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function t3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Op(t){const e=t+"CollectionProvider",[n,r]=XF(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:v}=g,E=Q.useRef(null),w=Q.useRef(new Map).current;return h.jsx(s,{scope:_,itemMap:w,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Q.forwardRef((g,_)=>{const{scope:v,children:E}=g,w=i(a,v),x=ke(_,w.collectionRef);return h.jsx(Ii,{ref:x,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Q.forwardRef((g,_)=>{const{scope:v,children:E,...w}=g,x=Q.useRef(null),T=ke(_,x),P=i(c,v);return Q.useEffect(()=>(P.itemMap.set(x,{ref:x,...w}),()=>void P.itemMap.delete(x))),h.jsx(Ii,{[d]:"",ref:T,children:E})});f.displayName=c;function p(g){const _=i(t+"CollectionConsumer",g);return Q.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((P,N)=>w.indexOf(P.ref.current)-w.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},p,r]}function n3(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Wi(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:p,children:g,..._}=f,v=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,E=m.useMemo(()=>_,Object.values(_));return h.jsx(v.Provider,{value:E,children:g})};c.displayName=i+"Provider";function d(f,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,_=m.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,r3(s,...e)]}function r3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var s3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],fe=s3.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Ii:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function D0(t,e){t&&Qo.flushSync(()=>t.dispatchEvent(e))}function jt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function i3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o3="DismissableLayer",gv="dismissableLayer.update",a3="dismissableLayer.pointerDownOutside",l3="dismissableLayer.focusOutside",p1,HP=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(HP),[d,f]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),_=ke(e,C=>f(C)),v=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(E),x=d?v.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,P=x>=w,N=u3(C=>{const S=C.target,I=[...c.branches].some(R=>R.contains(S));!P||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),O=d3(C=>{const S=C.target;[...c.branches].some(R=>R.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return i3(C=>{x===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),m1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=p1)}},[d,p,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),m1())},[d,c]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(gv,C),()=>document.removeEventListener(gv,C)},[]),h.jsx(fe.div,{...l,ref:_,style:{pointerEvents:T?P?"auto":"none":void 0,...t.style},onFocusCapture:X(t.onFocusCapture,O.onFocusCapture),onBlurCapture:X(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:X(t.onPointerDownCapture,N.onPointerDownCapture)})});Cl.displayName=o3;var c3="DismissableLayerBranch",qP=m.forwardRef((t,e)=>{const n=m.useContext(HP),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(fe.div,{...t,ref:s})});qP.displayName=c3;function u3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){GP(a3,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function d3(t,e=globalThis==null?void 0:globalThis.document){const n=jt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&GP(l3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m1(){const t=new CustomEvent(gv);document.dispatchEvent(t)}function GP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?D0(s,i):s.dispatchEvent(i)}var h3=Cl,f3=qP,Ct=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},p3="Portal",Ju=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Ct(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$P.createPortal(h.jsx(fe.div,{...r,ref:e}),o):null});Ju.displayName=p3;function m3(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Ar=t=>{const{present:e,children:n}=t,r=g3(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,y3(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Ar.displayName="Presence";function g3(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=m3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=nh(r.current);i.current=a==="mounted"?c:"none"},[a]),Ct(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,g=nh(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ct(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const v=nh(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=g=>{g.target===e&&(i.current=nh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function nh(t){return(t==null?void 0:t.animationName)||"none"}function y3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=v3({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=jt(n),l=m.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function v3({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=jt(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var w3="VisuallyHidden",Zu=m.forwardRef((t,e)=>h.jsx(fe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zu.displayName=w3;var x3=Zu,M0="ToastProvider",[O0,_3,E3]=Op("Toast"),[KP,nse]=Wi("Toast",[E3]),[T3,jp]=KP(M0),QP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${M0}\`. Expected non-empty \`string\`.`),h.jsx(O0.Provider,{scope:e,children:h.jsx(T3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};QP.displayName=M0;var YP="ToastViewport",b3=["F8"],yv="toast.viewportPause",vv="toast.viewportResume",XP=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=b3,label:s="Notifications ({hotkey})",...i}=t,o=jp(YP,n),a=_3(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),f=m.useRef(null),p=ke(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;m.useEffect(()=>{const E=w=>{var T;r.length!==0&&r.every(P=>w[P]||w.code===P)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=l.current,w=f.current;if(_&&E&&w){const x=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(yv);w.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(vv);w.dispatchEvent(O),o.isClosePausedRef.current=!1}},P=O=>{!E.contains(O.relatedTarget)&&T()},N=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",x),E.addEventListener("focusout",P),E.addEventListener("pointermove",x),E.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",x),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",x),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",T)}}},[_,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:E})=>{const x=a().map(T=>{const P=T.ref.current,N=[P,...L3(P)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const E=f.current;if(E){const w=x=>{var N,O,C;const T=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!T){const S=document.activeElement,I=x.shiftKey;if(x.target===E&&I){(N=c.current)==null||N.focus();return}const M=v({tabbingDirection:I?"backwards":"forwards"}),k=M.findIndex(W=>W===S);Mg(M.slice(k+1))?x.preventDefault():I?(O=c.current)==null||O.focus():(C=d.current)==null||C.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,v]),h.jsxs(f3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&h.jsx(wv,{ref:c,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Mg(E)}}),h.jsx(O0.Slot,{scope:n,children:h.jsx(fe.ol,{tabIndex:-1,...i,ref:p})}),_&&h.jsx(wv,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Mg(E)}})]})});XP.displayName=YP;var JP="ToastFocusProxy",wv=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=jp(JP,n);return h.jsx(Zu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});wv.displayName=JP;var Lp="Toast",S3="toast.swipeStart",C3="toast.swipeMove",I3="toast.swipeCancel",A3="toast.swipeEnd",ZP=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=jo({prop:r,defaultProp:s,onChange:i});return h.jsx(Ar,{present:n||a,children:h.jsx(N3,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:jt(t.onPause),onResume:jt(t.onResume),onSwipeStart:X(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:X(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ZP.displayName=Lp;var[P3,R3]=KP(Lp,{onClose(){}}),N3=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,..._}=t,v=jp(Lp,n),[E,w]=m.useState(null),x=ke(e,W=>w(W)),T=m.useRef(null),P=m.useRef(null),N=s||v.duration,O=m.useRef(0),C=m.useRef(N),S=m.useRef(0),{onToastAdd:I,onToastRemove:R}=v,D=jt(()=>{var ie;(E==null?void 0:E.contains(document.activeElement))&&((ie=v.viewport)==null||ie.focus()),o()}),M=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,W))},[D]);m.useEffect(()=>{const W=v.viewport;if(W){const ie=()=>{M(C.current),c==null||c()},Y=()=>{const Z=new Date().getTime()-O.current;C.current=C.current-Z,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(yv,Y),W.addEventListener(vv,ie),()=>{W.removeEventListener(yv,Y),W.removeEventListener(vv,ie)}}},[v.viewport,N,l,c,M]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(N)},[i,N,v.isClosePausedRef,M]),m.useEffect(()=>(I(),()=>R()),[I,R]);const k=m.useMemo(()=>E?oR(E):null,[E]);return v.viewport?h.jsxs(h.Fragment,{children:[k&&h.jsx(k3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),h.jsx(P3,{scope:n,onClose:D,children:Qo.createPortal(h.jsx(O0.ItemSlot,{scope:n,children:h.jsx(h3,{asChild:!0,onEscapeKeyDown:X(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:X(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:X(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:X(t.onPointerMove,W=>{if(!T.current)return;const ie=W.clientX-T.current.x,Y=W.clientY-T.current.y,Z=!!P.current,j=["left","right"].includes(v.swipeDirection),F=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=j?F(0,ie):0,G=j?0:F(0,Y),J=W.pointerType==="touch"?10:2,oe={x:q,y:G},Ee={originalEvent:W,delta:oe};Z?(P.current=oe,rh(C3,f,Ee,{discrete:!1})):g1(oe,v.swipeDirection,J)?(P.current=oe,rh(S3,d,Ee,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>J||Math.abs(Y)>J)&&(T.current=null)}),onPointerUp:X(t.onPointerUp,W=>{const ie=P.current,Y=W.target;if(Y.hasPointerCapture(W.pointerId)&&Y.releasePointerCapture(W.pointerId),P.current=null,T.current=null,ie){const Z=W.currentTarget,j={originalEvent:W,delta:ie};g1(ie,v.swipeDirection,v.swipeThreshold)?rh(A3,g,j,{discrete:!0}):rh(I3,p,j,{discrete:!0}),Z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),k3=t=>{const{__scopeToast:e,children:n,...r}=t,s=jp(Lp,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return O3(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Ju,{asChild:!0,children:h.jsx(Zu,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},D3="ToastTitle",eR=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(fe.div,{...r,ref:e})});eR.displayName=D3;var M3="ToastDescription",tR=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(fe.div,{...r,ref:e})});tR.displayName=M3;var nR="ToastAction",rR=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(iR,{altText:n,asChild:!0,children:h.jsx(j0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nR}\`. Expected non-empty \`string\`.`),null)});rR.displayName=nR;var sR="ToastClose",j0=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=R3(sR,n);return h.jsx(iR,{asChild:!0,children:h.jsx(fe.button,{type:"button",...r,ref:e,onClick:X(t.onClick,s.onClose)})})});j0.displayName=sR;var iR=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function oR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),j3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oR(r))}}),e}function rh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?D0(s,i):s.dispatchEvent(i)}var g1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function O3(t=()=>{}){const e=jt(t);Ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function j3(t){return t.nodeType===t.ELEMENT_NODE}function L3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Mg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var V3=QP,aR=XP,lR=ZP,cR=eR,uR=tR,dR=rR,hR=j0;function fR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fR(t))&&(r&&(r+=" "),r+=e);return r}const y1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v1=pR,Vp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=y1(d)||y1(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(_=>{let[v,E]=_;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...c,f,p]:c},[]);return v1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...U3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mR("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement($3,{ref:i,iconNode:e,className:mR(`lucide-${F3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=xe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=xe("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=xe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L0="-",o5=t=>{const e=l5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(L0);return a[0]===""&&a.length!==1&&a.shift(),bR(a,e)||a5(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(L0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},E1=/^\[(.+)\]$/,a5=t=>{if(E1.test(t)){const e=E1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},l5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return u5(Object.entries(t.classGroups),n).forEach(([i,o])=>{Tv(o,r,i,e)}),r},Tv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:T1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(c5(s)){Tv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Tv(o,T1(e,i),n,r)})})},T1=(t,e)=>{let n=t;return e.split(L0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},c5=t=>t.isThemeGetter,u5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,d5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SR="!",h5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let E=0;E<a.length;E++){let w=a[E];if(c===0){if(w===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){f=E;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(d),g=p.startsWith(SR),_=g?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},f5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},p5=t=>({cache:d5(t.cacheSize),parseClassName:h5(t),...o5(t)}),m5=/\s+/,g5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(m5);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(c);let _=!!g,v=r(_?p.substring(0,g):p);if(!v){if(!_){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}_=!1}const E=f5(d).join(":"),w=f?E+SR:E,x=w+v;if(i.includes(x))continue;i.push(x);const T=s(v,_);for(let P=0;P<T.length;++P){const N=T[P];i.push(w+N)}a=c+(a.length>0?" "+a:a)}return a};function y5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CR(e))&&(r&&(r+=" "),r+=n);return r}const CR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CR(t[r]))&&(n&&(n+=" "),n+=e);return n};function v5(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=p5(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=g5(l,n);return s(l,d),d}return function(){return i(y5.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IR=/^\[(?:([a-z-]+):)?(.+)\]$/i,w5=/^\d+\/\d+$/,x5=new Set(["px","full","screen"]),_5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=t=>$a(t)||x5.has(t)||w5.test(t),zs=t=>Il(t,"length",D5),$a=t=>!!t&&!Number.isNaN(Number(t)),Og=t=>Il(t,"number",$a),pc=t=>!!t&&Number.isInteger(Number(t)),C5=t=>t.endsWith("%")&&$a(t.slice(0,-1)),ve=t=>IR.test(t),Ws=t=>_5.test(t),I5=new Set(["length","size","percentage"]),A5=t=>Il(t,I5,AR),P5=t=>Il(t,"position",AR),R5=new Set(["image","url"]),N5=t=>Il(t,R5,O5),k5=t=>Il(t,"",M5),mc=()=>!0,Il=(t,e,n)=>{const r=IR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},D5=t=>E5.test(t)&&!T5.test(t),AR=()=>!1,M5=t=>b5.test(t),O5=t=>S5.test(t),j5=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),r=qe("brightness"),s=qe("borderColor"),i=qe("borderRadius"),o=qe("borderSpacing"),a=qe("borderWidth"),l=qe("contrast"),c=qe("grayscale"),d=qe("hueRotate"),f=qe("invert"),p=qe("gap"),g=qe("gradientColorStops"),_=qe("gradientColorStopPositions"),v=qe("inset"),E=qe("margin"),w=qe("opacity"),x=qe("padding"),T=qe("saturate"),P=qe("scale"),N=qe("sepia"),O=qe("skew"),C=qe("space"),S=qe("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ve,e],M=()=>[ve,e],k=()=>["",us,zs],W=()=>["auto",$a,ve],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ve],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[$a,ve];return{cacheSize:500,separator:":",theme:{colors:[mc],spacing:[us,zs],blur:["none","",Ws,ve],brightness:G(),borderColor:[t],borderRadius:["none","","full",Ws,ve],borderSpacing:M(),borderWidth:k(),contrast:G(),grayscale:F(),hueRotate:G(),invert:F(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[C5,zs],inset:D(),margin:D(),opacity:G(),padding:M(),saturate:G(),scale:G(),sepia:F(),skew:G(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Ws]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ve]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pc,ve]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",pc,ve]}],"grid-cols":[{"grid-cols":[mc]}],"col-start-end":[{col:["auto",{span:["full",pc,ve]},ve]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[mc]}],"row-start-end":[{row:["auto",{span:[pc,ve]},ve]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Ws]},Ws]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ws,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Og]}],"font-family":[{font:[mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",$a,Og]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,zs]}],"underline-offset":[{"underline-offset":["auto",us,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),P5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[us,ve]}],"outline-w":[{outline:[us,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[us,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ws,k5]}],"shadow-color":[{shadow:[mc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ws,ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[pc,ve]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,zs,Og]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},L5=v5(j5);function ce(...t){return L5(pR(t))}const V5=V3,PR=m.forwardRef(({className:t,...e},n)=>h.jsx(aR,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));PR.displayName=aR.displayName;const F5=Vp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RR=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(lR,{ref:r,className:ce(F5({variant:e}),t),...n}));RR.displayName=lR.displayName;const U5=m.forwardRef(({className:t,...e},n)=>h.jsx(dR,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));U5.displayName=dR.displayName;const NR=m.forwardRef(({className:t,...e},n)=>h.jsx(hR,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(Up,{className:"h-4 w-4"})}));NR.displayName=hR.displayName;const kR=m.forwardRef(({className:t,...e},n)=>h.jsx(cR,{ref:n,className:ce("text-sm font-semibold",t),...e}));kR.displayName=cR.displayName;const DR=m.forwardRef(({className:t,...e},n)=>h.jsx(uR,{ref:n,className:ce("text-sm opacity-90",t),...e}));DR.displayName=uR.displayName;function $5(){const{toasts:t}=zP();return h.jsxs(V5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(RR,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(kR,{children:n}),r&&h.jsx(DR,{children:r})]}),s,h.jsx(NR,{})]},e)}),h.jsx(PR,{})]})}var b1=["light","dark"],B5="(prefers-color-scheme: dark)",z5=m.createContext(void 0),W5={setTheme:t=>{},themes:[]},H5=()=>{var t;return(t=m.useContext(z5))!=null?t:W5};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?b1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(_,v=!1,E=!0)=>{let w=o?o[_]:_,x=v?_+"|| ''":`'${w}'`,T="";return s&&E&&!v&&b1.includes(_)&&(T+=`d.style.colorScheme = '${_}';`),n==="class"?v||w?T+=`c.add(${x})`:T+="null":w&&(T+=`d[s](n,${x})`),T},g=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${B5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var q5=t=>{switch(t){case"success":return Q5;case"info":return X5;case"warning":return Y5;case"error":return J5;default:return null}},G5=Array(12).fill(0),K5=({visible:t})=>Q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Q.createElement("div",{className:"sonner-spinner"},G5.map((e,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Q5=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Y5=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),X5=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),J5=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Z5=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},bv=1,e6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:bv++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(n6(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||bv++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Nn=new e6,t6=(t,e)=>{let n=(e==null?void 0:e.id)||bv++;return Nn.addToast({title:t,...e,id:n}),n},n6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",r6=t6,s6=()=>Nn.toasts;Object.assign(r6,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:s6});function i6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}i6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sh(t){return t.label!==void 0}var o6=3,a6="32px",l6=4e3,c6=356,u6=14,d6=20,h6=200;function f6(...t){return t.filter(Boolean).join(" ")}var p6=t=>{var e,n,r,s,i,o,a,l,c,d;let{invert:f,toast:p,unstyled:g,interacting:_,setHeights:v,visibleToasts:E,heights:w,index:x,toasts:T,expanded:P,removeToast:N,defaultRichColors:O,closeButton:C,style:S,cancelButtonStyle:I,actionButtonStyle:R,className:D="",descriptionClassName:M="",duration:k,position:W,gap:ie,loadingIcon:Y,expandByDefault:Z,classNames:j,icons:F,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:G,cn:J}=t,[oe,Ee]=Q.useState(!1),[Oe,pe]=Q.useState(!1),[re,Te]=Q.useState(!1),[Se,V]=Q.useState(!1),[ee,ae]=Q.useState(0),[be,Fe]=Q.useState(0),Vt=Q.useRef(null),It=Q.useRef(null),is=x===0,Wl=x+1<=E,mt=p.type,kr=p.dismissible!==!1,_d=p.className||"",Wm=p.descriptionClassName||"",js=Q.useMemo(()=>w.findIndex(me=>me.toastId===p.id)||0,[w,p.id]),Hl=Q.useMemo(()=>{var me;return(me=p.closeButton)!=null?me:C},[p.closeButton,C]),ql=Q.useMemo(()=>p.duration||k||l6,[p.duration,k]),gt=Q.useRef(0),st=Q.useRef(0),eo=Q.useRef(0),os=Q.useRef(null),[Gl,Hm]=W.split("-"),Ls=Q.useMemo(()=>w.reduce((me,Ue,je)=>je>=js?me:me+Ue.height,0),[w,js]),Kl=Z5(),Ed=p.invert||f,to=mt==="loading";st.current=Q.useMemo(()=>js*ie+Ls,[js,Ls]),Q.useEffect(()=>{Ee(!0)},[]),Q.useLayoutEffect(()=>{if(!oe)return;let me=It.current,Ue=me.style.height;me.style.height="auto";let je=me.getBoundingClientRect().height;me.style.height=Ue,Fe(je),v(Ft=>Ft.find(yn=>yn.toastId===p.id)?Ft.map(yn=>yn.toastId===p.id?{...yn,height:je}:yn):[{toastId:p.id,height:je,position:p.position},...Ft])},[oe,p.title,p.description,v,p.id]);let Dr=Q.useCallback(()=>{pe(!0),ae(st.current),v(me=>me.filter(Ue=>Ue.toastId!==p.id)),setTimeout(()=>{N(p)},h6)},[p,N,v,st]);Q.useEffect(()=>{if(p.promise&&mt==="loading"||p.duration===1/0||p.type==="loading")return;let me,Ue=ql;return P||_||G&&Kl?(()=>{if(eo.current<gt.current){let je=new Date().getTime()-gt.current;Ue=Ue-je}eo.current=new Date().getTime()})():Ue!==1/0&&(gt.current=new Date().getTime(),me=setTimeout(()=>{var je;(je=p.onAutoClose)==null||je.call(p,p),Dr()},Ue)),()=>clearTimeout(me)},[P,_,Z,p,ql,Dr,p.promise,mt,G,Kl]),Q.useEffect(()=>{let me=It.current;if(me){let Ue=me.getBoundingClientRect().height;return Fe(Ue),v(je=>[{toastId:p.id,height:Ue,position:p.position},...je]),()=>v(je=>je.filter(Ft=>Ft.toastId!==p.id))}},[v,p.id]),Q.useEffect(()=>{p.delete&&Dr()},[Dr,p.delete]);function qm(){return F!=null&&F.loading?Q.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},F.loading):Y?Q.createElement("div",{className:"sonner-loader","data-visible":mt==="loading"},Y):Q.createElement(K5,{visible:mt==="loading"})}return Q.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:It,className:J(D,_d,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[mt],(n=p==null?void 0:p.classNames)==null?void 0:n[mt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:O,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":oe,"data-promise":!!p.promise,"data-removed":Oe,"data-visible":Wl,"data-y-position":Gl,"data-x-position":Hm,"data-index":x,"data-front":is,"data-swiping":re,"data-dismissible":kr,"data-type":mt,"data-invert":Ed,"data-swipe-out":Se,"data-expanded":!!(P||Z&&oe),style:{"--index":x,"--toasts-before":x,"--z-index":T.length-x,"--offset":`${Oe?ee:st.current}px`,"--initial-height":Z?"auto":`${be}px`,...S,...p.style},onPointerDown:me=>{to||!kr||(Vt.current=new Date,ae(st.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(Te(!0),os.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Ue,je,Ft;if(Se||!kr)return;os.current=null;let yn=Number(((me=It.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Vs=new Date().getTime()-((Ue=Vt.current)==null?void 0:Ue.getTime()),as=Math.abs(yn)/Vs;if(Math.abs(yn)>=d6||as>.11){ae(st.current),(je=p.onDismiss)==null||je.call(p,p),Dr(),V(!0);return}(Ft=It.current)==null||Ft.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:me=>{var Ue;if(!os.current||!kr)return;let je=me.clientY-os.current.y,Ft=me.clientX-os.current.x,yn=(Gl==="top"?Math.min:Math.max)(0,je),Vs=me.pointerType==="touch"?10:2;Math.abs(yn)>Vs?(Ue=It.current)==null||Ue.style.setProperty("--swipe-amount",`${je}px`):Math.abs(Ft)>Vs&&(os.current=null)}},Hl&&!p.jsx?Q.createElement("button",{"aria-label":q,"data-disabled":to,"data-close-button":!0,onClick:to||!kr?()=>{}:()=>{var me;Dr(),(me=p.onDismiss)==null||me.call(p,p)},className:J(j==null?void 0:j.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||Q.isValidElement(p.title)?p.jsx||p.title:Q.createElement(Q.Fragment,null,mt||p.icon||p.promise?Q.createElement("div",{"data-icon":"",className:J(j==null?void 0:j.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qm():null,p.type!=="loading"?p.icon||(F==null?void 0:F[mt])||q5(mt):null):null,Q.createElement("div",{"data-content":"",className:J(j==null?void 0:j.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:J(j==null?void 0:j.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?Q.createElement("div",{"data-description":"",className:J(M,Wm,j==null?void 0:j.description,(l=p==null?void 0:p.classNames)==null?void 0:l.description)},p.description):null),Q.isValidElement(p.cancel)?p.cancel:p.cancel&&sh(p.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:me=>{var Ue,je;sh(p.cancel)&&kr&&((je=(Ue=p.cancel).onClick)==null||je.call(Ue,me),Dr())},className:J(j==null?void 0:j.cancelButton,(c=p==null?void 0:p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,Q.isValidElement(p.action)?p.action:p.action&&sh(p.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||R,onClick:me=>{var Ue,je;sh(p.action)&&(me.defaultPrevented||((je=(Ue=p.action).onClick)==null||je.call(Ue,me),Dr()))},className:J(j==null?void 0:j.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function S1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var m6=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:p=o6,toastOptions:g,dir:_=S1(),gap:v=u6,loadingIcon:E,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:T,cn:P=f6}=t,[N,O]=Q.useState([]),C=Q.useMemo(()=>Array.from(new Set([n].concat(N.filter(G=>G.position).map(G=>G.position)))),[N,n]),[S,I]=Q.useState([]),[R,D]=Q.useState(!1),[M,k]=Q.useState(!1),[W,ie]=Q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Q.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=Q.useRef(null),F=Q.useRef(!1),q=Q.useCallback(G=>{var J;(J=N.find(oe=>oe.id===G.id))!=null&&J.delete||Nn.dismiss(G.id),O(oe=>oe.filter(({id:Ee})=>Ee!==G.id))},[N]);return Q.useEffect(()=>Nn.subscribe(G=>{if(G.dismiss){O(J=>J.map(oe=>oe.id===G.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{$P.flushSync(()=>{O(J=>{let oe=J.findIndex(Ee=>Ee.id===G.id);return oe!==-1?[...J.slice(0,oe),{...J[oe],...G},...J.slice(oe+1)]:[G,...J]})})})}),[]),Q.useEffect(()=>{if(l!=="system"){ie(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ie(G?"dark":"light")})},[l]),Q.useEffect(()=>{N.length<=1&&D(!1)},[N]),Q.useEffect(()=>{let G=J=>{var oe,Ee;r.every(Oe=>J[Oe]||J.code===Oe)&&(D(!0),(oe=Y.current)==null||oe.focus()),J.code==="Escape"&&(document.activeElement===Y.current||(Ee=Y.current)!=null&&Ee.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),Q.useEffect(()=>{if(Y.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,F.current=!1)}},[Y.current]),N.length?Q.createElement("section",{"aria-label":`${x} ${Z}`,tabIndex:-1},C.map((G,J)=>{var oe;let[Ee,Oe]=G.split("-");return Q.createElement("ol",{key:G,dir:_==="auto"?S1():_,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":Ee,"data-x-position":Oe,style:{"--front-toast-height":`${((oe=S[0])==null?void 0:oe.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||a6,"--width":`${c6}px`,"--gap":`${v}px`,...f},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,j.current=pe.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},N.filter(pe=>!pe.position&&J===0||pe.position===G).map((pe,re)=>{var Te,Se;return Q.createElement(p6,{key:pe.id,icons:w,index:re,toast:pe,defaultRichColors:c,duration:(Te=g==null?void 0:g.duration)!=null?Te:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:p,closeButton:(Se=g==null?void 0:g.closeButton)!=null?Se:i,interacting:M,position:G,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:q,toasts:N.filter(V=>V.position==pe.position),heights:S.filter(V=>V.position==pe.position),setHeights:I,expandByDefault:s,gap:v,loadingIcon:E,expanded:R,pauseWhenPageIsHidden:T,cn:P})}))})):null};const g6=({...t})=>{const{theme:e="system"}=H5();return h.jsx(m6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var y6=VI.useId||(()=>{}),v6=0;function Gr(t){const[e,n]=m.useState(y6());return Ct(()=>{t||n(r=>r??String(v6++))},[t]),t||(e?`radix-${e}`:"")}const w6=["top","right","bottom","left"],Ai=Math.min,Dn=Math.max,kf=Math.round,ih=Math.floor,Pi=t=>({x:t,y:t}),x6={left:"right",right:"left",bottom:"top",top:"bottom"},_6={start:"end",end:"start"};function Sv(t,e,n){return Dn(t,Ai(e,n))}function Ss(t,e){return typeof t=="function"?t(e):t}function Cs(t){return t.split("-")[0]}function Al(t){return t.split("-")[1]}function V0(t){return t==="x"?"y":"x"}function F0(t){return t==="y"?"height":"width"}function Ri(t){return["top","bottom"].includes(Cs(t))?"y":"x"}function U0(t){return V0(Ri(t))}function E6(t,e,n){n===void 0&&(n=!1);const r=Al(t),s=U0(t),i=F0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Df(o)),[o,Df(o)]}function T6(t){const e=Df(t);return[Cv(t),e,Cv(e)]}function Cv(t){return t.replace(/start|end/g,e=>_6[e])}function b6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function S6(t,e,n,r){const s=Al(t);let i=b6(Cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Cv)))),i}function Df(t){return t.replace(/left|right|bottom|top/g,e=>x6[e])}function C6(t){return{top:0,right:0,bottom:0,left:0,...t}}function MR(t){return typeof t!="number"?C6(t):{top:t,right:t,bottom:t,left:t}}function Mf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function C1(t,e,n){let{reference:r,floating:s}=t;const i=Ri(e),o=U0(e),a=F0(o),l=Cs(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Al(e)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const I6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=C1(c,r,l),p=r,g={},_=0;for(let v=0;v<a.length;v++){const{name:E,fn:w}=a[v],{x,y:T,data:P,reset:N}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,f=T??f,g={...g,[E]:{...g[E],...P}},N&&_<=50&&(_++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:f}=C1(c,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function vu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ss(e,t),_=MR(g),E=a[p?f==="floating"?"reference":"floating":f],w=Mf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},N=Mf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:T,strategy:l}):x);return{top:(w.top-N.top+_.top)/P.y,bottom:(N.bottom-w.bottom+_.bottom)/P.y,left:(w.left-N.left+_.left)/P.x,right:(N.right-w.right+_.right)/P.x}}const A6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Ss(t,e)||{};if(c==null)return{};const f=MR(d),p={x:n,y:r},g=U0(s),_=F0(g),v=await o.getDimensions(c),E=g==="y",w=E?"top":"left",x=E?"bottom":"right",T=E?"clientHeight":"clientWidth",P=i.reference[_]+i.reference[g]-p[g]-i.floating[_],N=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[T]||i.floating[_]);const S=P/2-N/2,I=C/2-v[_]/2-1,R=Ai(f[w],I),D=Ai(f[x],I),M=R,k=C-v[_]-D,W=C/2-v[_]/2+S,ie=Sv(M,W,k),Y=!l.arrow&&Al(s)!=null&&W!==ie&&i.reference[_]/2-(W<M?R:D)-v[_]/2<0,Z=Y?W<M?W-M:W-k:0;return{[g]:p[g]+Z,data:{[g]:ie,centerOffset:W-ie-Z,...Y&&{alignmentOffset:Z}},reset:Y}}}),P6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...E}=Ss(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Cs(s),x=Ri(a),T=Cs(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(T||!v?[Df(a)]:T6(a)),O=_!=="none";!p&&O&&N.push(...S6(a,v,_,P));const C=[a,...N],S=await vu(e,E),I=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[w]),f){const W=E6(s,o,P);I.push(S[W[0]],S[W[1]])}if(R=[...R,{placement:s,overflows:I}],!I.every(W=>W<=0)){var D,M;const W=(((D=i.flip)==null?void 0:D.index)||0)+1,ie=C[W];if(ie)return{data:{index:W,overflows:R},reset:{placement:ie}};let Y=(M=R.filter(Z=>Z.overflows[0]<=0).sort((Z,j)=>Z.overflows[1]-j.overflows[1])[0])==null?void 0:M.placement;if(!Y)switch(g){case"bestFit":{var k;const Z=(k=R.filter(j=>{if(O){const F=Ri(j.placement);return F===x||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:k[0];Z&&(Y=Z);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function I1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A1(t){return w6.some(e=>t[e]>=0)}const R6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ss(t,e);switch(r){case"referenceHidden":{const i=await vu(e,{...s,elementContext:"reference"}),o=I1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A1(o)}}}case"escaped":{const i=await vu(e,{...s,altBoundary:!0}),o=I1(i,n.floating);return{data:{escapedOffsets:o,escaped:A1(o)}}}default:return{}}}}};async function N6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cs(n),a=Al(n),l=Ri(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Ss(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const k6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await N6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},D6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:x}=E;return{x:w,y:x}}},...l}=Ss(t,e),c={x:n,y:r},d=await vu(e,l),f=Ri(Cs(s)),p=V0(f);let g=c[p],_=c[f];if(i){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",x=g+d[E],T=g-d[w];g=Sv(x,g,T)}if(o){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=_+d[E],T=_-d[w];_=Sv(x,_,T)}const v=a.fn({...e,[p]:g,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},M6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ss(t,e),d={x:n,y:r},f=Ri(s),p=V0(f);let g=d[p],_=d[f];const v=Ss(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=p==="y"?"height":"width",P=i.reference[p]-i.floating[T]+E.mainAxis,N=i.reference[p]+i.reference[T]-E.mainAxis;g<P?g=P:g>N&&(g=N)}if(c){var w,x;const T=p==="y"?"width":"height",P=["top","left"].includes(Cs(s)),N=i.reference[f]-i.floating[T]+(P&&((w=o.offset)==null?void 0:w[f])||0)+(P?0:E.crossAxis),O=i.reference[f]+i.reference[T]+(P?0:((x=o.offset)==null?void 0:x[f])||0)-(P?E.crossAxis:0);_<N?_=N:_>O&&(_=O)}return{[p]:g,[f]:_}}}},O6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ss(t,e),d=await vu(e,c),f=Cs(s),p=Al(s),g=Ri(s)==="y",{width:_,height:v}=i.floating;let E,w;f==="top"||f==="bottom"?(E=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,E=p==="end"?"top":"bottom");const x=v-d.top-d.bottom,T=_-d.left-d.right,P=Ai(v-d[E],x),N=Ai(_-d[w],T),O=!e.middlewareData.shift;let C=P,S=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=x),O&&!p){const R=Dn(d.left,0),D=Dn(d.right,0),M=Dn(d.top,0),k=Dn(d.bottom,0);g?S=_-2*(R!==0||D!==0?R+D:Dn(d.left,d.right)):C=v-2*(M!==0||k!==0?M+k:Dn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return _!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function $p(){return typeof window<"u"}function Pl(t){return OR(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rs(t){var e;return(e=(OR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OR(t){return $p()?t instanceof Node||t instanceof Fn(t).Node:!1}function br(t){return $p()?t instanceof Element||t instanceof Fn(t).Element:!1}function es(t){return $p()?t instanceof HTMLElement||t instanceof Fn(t).HTMLElement:!1}function P1(t){return!$p()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}function ed(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Sr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function j6(t){return["table","td","th"].includes(Pl(t))}function Bp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $0(t){const e=B0(),n=br(t)?Sr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function L6(t){let e=Ni(t);for(;es(e)&&!dl(e);){if($0(e))return e;if(Bp(e))return null;e=Ni(e)}return null}function B0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dl(t){return["html","body","#document"].includes(Pl(t))}function Sr(t){return Fn(t).getComputedStyle(t)}function zp(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ni(t){if(Pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P1(t)&&t.host||rs(t);return P1(e)?e.host:e}function jR(t){const e=Ni(t);return dl(e)?t.ownerDocument?t.ownerDocument.body:t.body:es(e)&&ed(e)?e:jR(e)}function wu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=jR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Fn(s);if(i){const a=Iv(o);return e.concat(o,o.visualViewport||[],ed(s)?s:[],a&&n?wu(a):[])}return e.concat(s,wu(s,[],n))}function Iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LR(t){const e=Sr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=es(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=kf(n)!==i||kf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function z0(t){return br(t)?t:t.contextElement}function Ba(t){const e=z0(t);if(!es(e))return Pi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=LR(e);let o=(i?kf(n.width):n.width)/r,a=(i?kf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const V6=Pi(0);function VR(t){const e=Fn(t);return!B0()||!e.visualViewport?V6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=z0(t);let o=Pi(1);e&&(r?br(r)&&(o=Ba(r)):o=Ba(t));const a=F6(i,n,r)?VR(i):Pi(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Fn(i),g=r&&br(r)?Fn(r):r;let _=p,v=Iv(_);for(;v&&r&&g!==_;){const E=Ba(v),w=v.getBoundingClientRect(),x=Sr(v),T=w.left+(v.clientLeft+parseFloat(x.paddingLeft))*E.x,P=w.top+(v.clientTop+parseFloat(x.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,f*=E.y,l+=T,c+=P,_=Fn(v),v=Iv(_)}}return Mf({width:d,height:f,x:l,y:c})}function U6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=rs(r),a=e?Bp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Pi(1);const d=Pi(0),f=es(r);if((f||!f&&!i)&&((Pl(r)!=="body"||ed(o))&&(l=zp(r)),es(r))){const p=Lo(r);c=Ba(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function $6(t){return Array.from(t.getClientRects())}function Av(t,e){const n=zp(t).scrollLeft;return e?e.left+n:Lo(rs(t)).left+n}function B6(t){const e=rs(t),n=zp(t),r=t.ownerDocument.body,s=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Av(t);const a=-n.scrollTop;return Sr(r).direction==="rtl"&&(o+=Dn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function z6(t,e){const n=Fn(t),r=rs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=B0();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function W6(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=es(t)?Ba(t):Pi(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function R1(t,e,n){let r;if(e==="viewport")r=z6(t,n);else if(e==="document")r=B6(rs(t));else if(br(e))r=W6(e,n);else{const s=VR(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Mf(r)}function FR(t,e){const n=Ni(t);return n===e||!br(n)||dl(n)?!1:Sr(n).position==="fixed"||FR(n,e)}function H6(t,e){const n=e.get(t);if(n)return n;let r=wu(t,[],!1).filter(a=>br(a)&&Pl(a)!=="body"),s=null;const i=Sr(t).position==="fixed";let o=i?Ni(t):t;for(;br(o)&&!dl(o);){const a=Sr(o),l=$0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ed(o)&&!l&&FR(t,o))?r=r.filter(d=>d!==o):s=a,o=Ni(o)}return e.set(t,r),r}function q6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bp(e)?[]:H6(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=R1(e,d,s);return c.top=Dn(f.top,c.top),c.right=Ai(f.right,c.right),c.bottom=Ai(f.bottom,c.bottom),c.left=Dn(f.left,c.left),c},R1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function G6(t){const{width:e,height:n}=LR(t);return{width:e,height:n}}function K6(t,e,n){const r=es(e),s=rs(e),i=n==="fixed",o=Lo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Pi(0);if(r||!r&&!i)if((Pl(e)!=="body"||ed(s))&&(a=zp(e)),r){const g=Lo(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&(l.x=Av(s));let c=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,c=g.left+a.scrollLeft-Av(s,g)}const f=o.left+a.scrollLeft-l.x-c,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function jg(t){return Sr(t).position==="static"}function N1(t,e){if(!es(t)||Sr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rs(t)===n&&(n=n.ownerDocument.body),n}function UR(t,e){const n=Fn(t);if(Bp(t))return n;if(!es(t)){let s=Ni(t);for(;s&&!dl(s);){if(br(s)&&!jg(s))return s;s=Ni(s)}return n}let r=N1(t,e);for(;r&&j6(r)&&jg(r);)r=N1(r,e);return r&&dl(r)&&jg(r)&&!$0(r)?n:r||L6(t)||n}const Q6=async function(t){const e=this.getOffsetParent||UR,n=this.getDimensions,r=await n(t.floating);return{reference:K6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y6(t){return Sr(t).direction==="rtl"}const X6={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:rs,getClippingRect:q6,getOffsetParent:UR,getElementRects:Q6,getClientRects:$6,getDimensions:G6,getScale:Ba,isElement:br,isRTL:Y6};function J6(t,e){let n=null,r;const s=rs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=ih(d),_=ih(s.clientWidth-(c+f)),v=ih(s.clientHeight-(d+p)),E=ih(c),x={rootMargin:-g+"px "+-_+"px "+-v+"px "+-E+"px",threshold:Dn(0,Ai(1,l))||1};let T=!0;function P(N){const O=N[0].intersectionRatio;if(O!==l){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(P,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,x)}n.observe(t)}return o(!0),i}function Z6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=z0(t),d=s||i?[...c?wu(c):[],...wu(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=c&&a?J6(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let _,v=l?Lo(t):null;l&&E();function E(){const w=Lo(t);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,_=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const eU=k6,tU=D6,nU=P6,rU=O6,sU=R6,k1=A6,iU=M6,oU=(t,e,n)=>{const r=new Map,s={platform:X6,...n},i={...s.platform,_c:r};return I6(t,e,{...s,platform:i})};var Lh=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Of(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Of(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Of(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function $R(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function D1(t,e){const n=$R(t);return Math.round(e*n)/n}function Lg(t){const e=m.useRef(t);return Lh(()=>{e.current=t}),e}function aU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);Of(p,r)||g(r);const[_,v]=m.useState(null),[E,w]=m.useState(null),x=m.useCallback(j=>{j!==O.current&&(O.current=j,v(j))},[]),T=m.useCallback(j=>{j!==C.current&&(C.current=j,w(j))},[]),P=i||_,N=o||E,O=m.useRef(null),C=m.useRef(null),S=m.useRef(d),I=l!=null,R=Lg(l),D=Lg(s),M=Lg(c),k=m.useCallback(()=>{if(!O.current||!C.current)return;const j={placement:e,strategy:n,middleware:p};D.current&&(j.platform=D.current),oU(O.current,C.current,j).then(F=>{const q={...F,isPositioned:M.current!==!1};W.current&&!Of(S.current,q)&&(S.current=q,Qo.flushSync(()=>{f(q)}))})},[p,e,n,D,M]);Lh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const W=m.useRef(!1);Lh(()=>(W.current=!0,()=>{W.current=!1}),[]),Lh(()=>{if(P&&(O.current=P),N&&(C.current=N),P&&N){if(R.current)return R.current(P,N,k);k()}},[P,N,k,R,I]);const ie=m.useMemo(()=>({reference:O,floating:C,setReference:x,setFloating:T}),[x,T]),Y=m.useMemo(()=>({reference:P,floating:N}),[P,N]),Z=m.useMemo(()=>{const j={position:n,left:0,top:0};if(!Y.floating)return j;const F=D1(Y.floating,d.x),q=D1(Y.floating,d.y);return a?{...j,transform:"translate("+F+"px, "+q+"px)",...$R(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,a,Y.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:k,refs:ie,elements:Y,floatingStyles:Z}),[d,k,ie,Y,Z])}const lU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k1({element:r.current,padding:s}).fn(n):{}:r?k1({element:r,padding:s}).fn(n):{}}}},cU=(t,e)=>({...eU(t),options:[t,e]}),uU=(t,e)=>({...tU(t),options:[t,e]}),dU=(t,e)=>({...iU(t),options:[t,e]}),hU=(t,e)=>({...nU(t),options:[t,e]}),fU=(t,e)=>({...rU(t),options:[t,e]}),pU=(t,e)=>({...sU(t),options:[t,e]}),mU=(t,e)=>({...lU(t),options:[t,e]});var gU="Arrow",BR=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(fe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});BR.displayName=gU;var yU=BR;function vU(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,..._}=f,v=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>_,Object.values(_));return h.jsx(v.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,_=m.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wU(s,...e)]}function wU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function xU(t){const[e,n]=m.useState(void 0);return Ct(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var W0="Popper",[zR,Rl]=vU(W0),[_U,WR]=zR(W0),HR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return h.jsx(_U,{scope:e,anchor:r,onAnchorChange:s,children:n})};HR.displayName=W0;var qR="PopperAnchor",GR=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=WR(qR,n),o=m.useRef(null),a=ke(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(fe.div,{...s,ref:a})});GR.displayName=qR;var H0="PopperContent",[EU,TU]=zR(H0),KR=m.forwardRef((t,e)=>{var re,Te,Se,V,ee,ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,E=WR(H0,n),[w,x]=m.useState(null),T=ke(e,be=>x(be)),[P,N]=m.useState(null),O=xU(P),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,k={padding:R,boundary:D.filter(SU),altBoundary:M},{refs:W,floatingStyles:ie,placement:Y,isPositioned:Z,middlewareData:j}=aU({strategy:"fixed",placement:I,whileElementsMounted:(...be)=>Z6(...be,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[cU({mainAxis:s+S,alignmentAxis:o}),l&&uU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dU():void 0,...k}),l&&hU({...k}),fU({...k,apply:({elements:be,rects:Fe,availableWidth:Vt,availableHeight:It})=>{const{width:is,height:Wl}=Fe.reference,mt=be.floating.style;mt.setProperty("--radix-popper-available-width",`${Vt}px`),mt.setProperty("--radix-popper-available-height",`${It}px`),mt.setProperty("--radix-popper-anchor-width",`${is}px`),mt.setProperty("--radix-popper-anchor-height",`${Wl}px`)}}),P&&mU({element:P,padding:a}),CU({arrowWidth:C,arrowHeight:S}),p&&pU({strategy:"referenceHidden",...k})]}),[F,q]=XR(Y),G=jt(_);Ct(()=>{Z&&(G==null||G())},[Z,G]);const J=(re=j.arrow)==null?void 0:re.x,oe=(Te=j.arrow)==null?void 0:Te.y,Ee=((Se=j.arrow)==null?void 0:Se.centerOffset)!==0,[Oe,pe]=m.useState();return Ct(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:Z?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(V=j.transformOrigin)==null?void 0:V.x,(ee=j.transformOrigin)==null?void 0:ee.y].join(" "),...((ae=j.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(EU,{scope:n,placedSide:F,onArrowChange:N,arrowX:J,arrowY:oe,shouldHideArrow:Ee,children:h.jsx(fe.div,{"data-side":F,"data-align":q,...v,ref:T,style:{...v.style,animation:Z?void 0:"none"}})})})});KR.displayName=H0;var QR="PopperArrow",bU={top:"bottom",right:"left",bottom:"top",left:"right"},YR=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=TU(QR,r),o=bU[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(yU,{...s,ref:n,style:{...s.style,display:"block"}})})});YR.displayName=QR;function SU(t){return t!==null}var CU=t=>({name:"transformOrigin",options:t,fn(e){var E,w,x;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=XR(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let _="",v="";return c==="bottom"?(_=o?f:`${p}px`,v=`${-l}px`):c==="top"?(_=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,v=o?f:`${g}px`):c==="left"&&(_=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x:_,y:v}}}});function XR(t){const[e,n="center"]=t.split("-");return[e,n]}var JR=HR,q0=GR,G0=KR,K0=YR,[Wp,sse]=Wi("Tooltip",[Rl]),Q0=Rl(),ZR="TooltipProvider",IU=700,M1="tooltip.open",[AU,eN]=Wp(ZR),tN=t=>{const{__scopeTooltip:e,delayDuration:n=IU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),h.jsx(AU,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};tN.displayName=ZR;var nN="Tooltip",[ise,Hp]=Wp(nN),Pv="TooltipTrigger",PU=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Hp(Pv,n),i=eN(Pv,n),o=Q0(n),a=m.useRef(null),l=ke(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(q0,{asChild:!0,...o,children:h.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:X(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:X(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:X(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:X(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:X(t.onBlur,s.onClose),onClick:X(t.onClick,s.onClose)})})});PU.displayName=Pv;var RU="TooltipPortal",[ose,NU]=Wp(RU,{forceMount:void 0}),hl="TooltipContent",rN=m.forwardRef((t,e)=>{const n=NU(hl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Hp(hl,t.__scopeTooltip);return h.jsx(Ar,{present:r||o.open,children:o.disableHoverableContent?h.jsx(sN,{side:s,...i,ref:e}):h.jsx(kU,{side:s,...i,ref:e})})}),kU=m.forwardRef((t,e)=>{const n=Hp(hl,t.__scopeTooltip),r=eN(hl,t.__scopeTooltip),s=m.useRef(null),i=ke(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((_,v)=>{const E=_.currentTarget,w={x:_.clientX,y:_.clientY},x=jU(w,E.getBoundingClientRect()),T=LU(w,x),P=VU(v.getBoundingClientRect()),N=UU([...T,...P]);a(N),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const _=E=>g(E,d),v=E=>g(E,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",v)}}},[l,d,g,p]),m.useEffect(()=>{if(o){const _=v=>{const E=v.target,w={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!FU(w,o);x?p():T&&(p(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,p]),h.jsx(sN,{...t,ref:i})}),[DU,MU]=Wp(nN,{isInside:!1}),sN=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Hp(hl,n),c=Q0(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(M1,d),()=>document.removeEventListener(M1,d)),[d]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(Cl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(G0,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(WP,{children:r}),h.jsx(DU,{scope:n,isInside:!0,children:h.jsx(x3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rN.displayName=hl;var iN="TooltipArrow",OU=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Q0(n);return MU(iN,n).isInside?null:h.jsx(K0,{...s,...r,ref:e})});OU.displayName=iN;function jU(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LU(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function VU(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function FU(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function UU(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$U(e)}function $U(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var BU=tN,oN=rN;const zU=BU,WU=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(oN,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));WU.displayName=oN.displayName;var qp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gp=typeof window>"u"||"Deno"in globalThis;function hr(){}function HU(t,e){return typeof t=="function"?t(e):t}function qU(t){return typeof t=="number"&&t>=0&&t!==1/0}function GU(t,e){return Math.max(t+(e||0)-Date.now(),0)}function O1(t,e){return typeof t=="function"?t(e):t}function KU(t,e){return typeof t=="function"?t(e):t}function j1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Y0(o,e.options))return!1}else if(!_u(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function L1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(xu(e.options.mutationKey)!==xu(i))return!1}else if(!_u(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Y0(t,e){return((e==null?void 0:e.queryKeyHashFn)||xu)(t)}function xu(t){return JSON.stringify(t,(e,n)=>Rv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function _u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!_u(t[n],e[n])):!1}function aN(t,e){if(t===e)return t;const n=V1(t)&&V1(e);if(n||Rv(t)&&Rv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=aN(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function V1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rv(t){if(!F1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F1(t){return Object.prototype.toString.call(t)==="[object Object]"}function QU(t){return new Promise(e=>{setTimeout(e,t)})}function YU(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aN(t,e):e}function XU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var X0=Symbol();function lN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===X0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var To,ri,Qa,wI,ZU=(wI=class extends qp{constructor(){super();De(this,To);De(this,ri);De(this,Qa);we(this,Qa,e=>{if(!Gp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ri)||this.setEventListener(z(this,Qa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ri))==null||e.call(this),we(this,ri,void 0))}setEventListener(e){var n;we(this,Qa,e),(n=z(this,ri))==null||n.call(this),we(this,ri,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,To)!==e&&(we(this,To,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,To)=="boolean"?z(this,To):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},To=new WeakMap,ri=new WeakMap,Qa=new WeakMap,wI),cN=new ZU,Ya,si,Xa,xI,e$=(xI=class extends qp{constructor(){super();De(this,Ya,!0);De(this,si);De(this,Xa);we(this,Xa,e=>{if(!Gp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,si)||this.setEventListener(z(this,Xa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,si))==null||e.call(this),we(this,si,void 0))}setEventListener(e){var n;we(this,Xa,e),(n=z(this,si))==null||n.call(this),we(this,si,e(this.setOnline.bind(this)))}setOnline(e){z(this,Ya)!==e&&(we(this,Ya,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Ya)}},Ya=new WeakMap,si=new WeakMap,Xa=new WeakMap,xI),jf=new e$;function t$(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function n$(t){return Math.min(1e3*2**t,3e4)}function uN(t){return(t??"online")==="online"?jf.isOnline():!0}var dN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Vg(t){return t instanceof dN}function hN(t){let e=!1,n=0,r=!1,s;const i=t$(),o=v=>{var E;r||(p(new dN(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>cN.isFocused()&&(t.networkMode==="always"||jf.isOnline())&&t.canRun(),d=()=>uN(t.networkMode)&&t.canRun(),f=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var E;s=w=>{(r||c())&&v(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),_=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var O;if(r)return;const x=t.retry??(Gp?0:3),T=t.retryDelay??n$,P=typeof T=="function"?T(n,w):T,N=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(e||!N){p(w);return}n++,(O=t.onFail)==null||O.call(t,n,w),QU(P).then(()=>c()?void 0:g()).then(()=>{e?p(w):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():g().then(_),i)}}function r$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var cn=r$(),bo,_I,fN=(_I=class{constructor(){De(this,bo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qU(this.gcTime)&&we(this,bo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gp?1/0:5*60*1e3))}clearGcTimeout(){z(this,bo)&&(clearTimeout(z(this,bo)),we(this,bo,void 0))}},bo=new WeakMap,_I),Ja,Za,Gn,qt,Hu,So,fr,ds,EI,s$=(EI=class extends fN{constructor(n){super();De(this,fr);De(this,Ja);De(this,Za);De(this,Gn);De(this,qt);De(this,Hu);De(this,So);we(this,So,!1),we(this,Hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],we(this,Gn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,we(this,Ja,o$(this.options)),this.state=n.state??z(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,qt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Hu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Gn).remove(this)}setData(n,r){const s=YU(this.state.data,n,this.options);return Bt(this,fr,ds).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Bt(this,fr,ds).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,qt))==null?void 0:s.promise;return(i=z(this,qt))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ja))}isActive(){return this.observers.some(n=>KU(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===X0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!GU(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,qt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,qt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,qt)&&(z(this,So)?z(this,qt).cancel({revert:!0}):z(this,qt).cancelRetry()),this.scheduleGc()),z(this,Gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,fr,ds).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,qt))return z(this,qt).continueRetry(),z(this,qt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(we(this,So,!0),s.signal)})},o=()=>{const p=lN(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),we(this,So,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),we(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Bt(this,fr,ds).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,_,v,E;Vg(p)&&p.silent||Bt(this,fr,ds).call(this,{type:"error",error:p}),Vg(p)||((_=(g=z(this,Gn).config).onError)==null||_.call(g,p,this),(E=(v=z(this,Gn).config).onSettled)==null||E.call(v,this.state.data,p,this)),this.scheduleGc()};return we(this,qt,hN({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,_,v,E;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(_=(g=z(this,Gn).config).onSuccess)==null||_.call(g,p,this),(E=(v=z(this,Gn).config).onSettled)==null||E.call(v,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Bt(this,fr,ds).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Bt(this,fr,ds).call(this,{type:"pause"})},onContinue:()=>{Bt(this,fr,ds).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,qt).start()}},Ja=new WeakMap,Za=new WeakMap,Gn=new WeakMap,qt=new WeakMap,Hu=new WeakMap,So=new WeakMap,fr=new WeakSet,ds=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...i$(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Vg(i)&&i.revert&&z(this,Za)?{...z(this,Za),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Gn).notify({query:this,type:"updated",action:n})})},EI);function i$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function o$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Lr,TI,a$=(TI=class extends qp{constructor(e={}){super();De(this,Lr);this.config=e,we(this,Lr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Y0(s,n);let o=this.get(i);return o||(o=new s$({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Lr).has(e.queryHash)||(z(this,Lr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Lr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Lr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Lr).get(e)}getAll(){return[...z(this,Lr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>j1(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lr=new WeakMap,TI),Vr,an,Co,Fr,Gs,bI,l$=(bI=class extends fN{constructor(n){super();De(this,Fr);De(this,Vr);De(this,an);De(this,Co);this.mutationId=n.mutationId,we(this,an,n.mutationCache),we(this,Vr,[]),this.state=n.state||c$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Vr).includes(n)||(z(this,Vr).push(n),this.clearGcTimeout(),z(this,an).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){we(this,Vr,z(this,Vr).filter(r=>r!==n)),this.scheduleGc(),z(this,an).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Vr).length||(this.state.status==="pending"?this.scheduleGc():z(this,an).remove(this))}continue(){var n;return((n=z(this,Co))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,c,d,f,p,g,_,v,E,w,x,T,P,N,O,C,S;we(this,Co,hN({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,R)=>{Bt(this,Fr,Gs).call(this,{type:"failed",failureCount:I,error:R})},onPause:()=>{Bt(this,Fr,Gs).call(this,{type:"pause"})},onContinue:()=>{Bt(this,Fr,Gs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,an).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Co).canStart();try{if(!r){Bt(this,Fr,Gs).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=z(this,an).config).onMutate)==null?void 0:o.call(i,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&Bt(this,Fr,Gs).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const I=await z(this,Co).start();return await((d=(c=z(this,an).config).onSuccess)==null?void 0:d.call(c,I,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,I,n,this.state.context)),await((_=(g=z(this,an).config).onSettled)==null?void 0:_.call(g,I,null,this.state.variables,this.state.context,this)),await((E=(v=this.options).onSettled)==null?void 0:E.call(v,I,null,n,this.state.context)),Bt(this,Fr,Gs).call(this,{type:"success",data:I}),I}catch(I){try{throw await((x=(w=z(this,an).config).onError)==null?void 0:x.call(w,I,n,this.state.context,this)),await((P=(T=this.options).onError)==null?void 0:P.call(T,I,n,this.state.context)),await((O=(N=z(this,an).config).onSettled)==null?void 0:O.call(N,void 0,I,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,I,n,this.state.context)),I}finally{Bt(this,Fr,Gs).call(this,{type:"error",error:I})}}finally{z(this,an).runNext(this)}}},Vr=new WeakMap,an=new WeakMap,Co=new WeakMap,Fr=new WeakSet,Gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cn.batch(()=>{z(this,Vr).forEach(s=>{s.onMutationUpdate(n)}),z(this,an).notify({mutation:this,type:"updated",action:n})})},bI);function c$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,qu,SI,u$=(SI=class extends qp{constructor(e={}){super();De(this,Rn);De(this,qu);this.config=e,we(this,Rn,new Map),we(this,qu,Date.now())}build(e,n,r){const s=new l$({mutationCache:this,mutationId:++Vd(this,qu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=oh(e),r=z(this,Rn).get(n)??[];r.push(e),z(this,Rn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=oh(e);if(z(this,Rn).has(n)){const s=(r=z(this,Rn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?z(this,Rn).delete(n):z(this,Rn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,Rn).get(oh(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,Rn).get(oh(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,Rn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L1(n,r))}findAll(e={}){return this.getAll().filter(n=>L1(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},Rn=new WeakMap,qu=new WeakMap,SI);function oh(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function U1(t){return{onFetch:(e,n)=>{var d,f,p,g,_;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=lN(e.options,e.fetchOptions),x=async(T,P,N)=>{if(v)return Promise.reject();if(P==null&&T.pages.length)return Promise.resolve(T);const O={queryKey:e.queryKey,pageParam:P,direction:N?"backward":"forward",meta:e.options.meta};E(O);const C=await w(O),{maxPages:S}=e.options,I=N?JU:XU;return{pages:I(T.pages,C,S),pageParams:I(T.pageParams,P,S)}};if(s&&i.length){const T=s==="backward",P=T?d$:$1,N={pages:i,pageParams:o},O=P(r,N);a=await x(N,O,T)}else{const T=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:$1(r,a);if(l>0&&P==null)break;a=await x(a,P),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function $1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function d$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ot,ii,oi,el,tl,ai,nl,rl,CI,h$=(CI=class{constructor(t={}){De(this,ot);De(this,ii);De(this,oi);De(this,el);De(this,tl);De(this,ai);De(this,nl);De(this,rl);we(this,ot,t.queryCache||new a$),we(this,ii,t.mutationCache||new u$),we(this,oi,t.defaultOptions||{}),we(this,el,new Map),we(this,tl,new Map),we(this,ai,0)}mount(){Vd(this,ai)._++,z(this,ai)===1&&(we(this,nl,cN.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onFocus())})),we(this,rl,jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ot).onOnline())})))}unmount(){var t,e;Vd(this,ai)._--,z(this,ai)===0&&((t=z(this,nl))==null||t.call(this),we(this,nl,void 0),(e=z(this,rl))==null||e.call(this),we(this,rl,void 0))}isFetching(t){return z(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,ot).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(O1(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,ot).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,ot).get(r.queryHash),i=s==null?void 0:s.state.data,o=HU(e,i);if(o!==void 0)return z(this,ot).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>z(this,ot).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ot);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ot),r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>z(this,ot).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(z(this,ot).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cn.batch(()=>z(this,ot).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ot).build(this,e);return n.isStaleByTime(O1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=U1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=U1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jf.isOnline()?z(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ot)}getMutationCache(){return z(this,ii)}getDefaultOptions(){return z(this,oi)}setDefaultOptions(t){we(this,oi,t)}setQueryDefaults(t,e){z(this,el).set(xu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,el).values()];let n={};return e.forEach(r=>{_u(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,tl).set(xu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,tl).values()];let n={};return e.forEach(r=>{_u(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Y0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===X0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ot).clear(),z(this,ii).clear()}},ot=new WeakMap,ii=new WeakMap,oi=new WeakMap,el=new WeakMap,tl=new WeakMap,ai=new WeakMap,nl=new WeakMap,rl=new WeakMap,CI),f$=m.createContext(void 0),p$=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(f$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const B1="popstate";function m$(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Yo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Nv("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Lf(i))}function r(s,i){J0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return y$(e,n,r,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g$(){return Math.random().toString(36).substr(2,8)}function z1(t,e){return{usr:t.state,key:t.key,idx:e}}function Nv(t,e,n,r){return n===void 0&&(n=null),Eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||r||g$()})}function Lf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ui.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Eu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ui.Pop;let E=d(),w=E==null?null:E-c;c=E,l&&l({action:a,location:v.location,delta:w})}function p(E,w){a=ui.Push;let x=Nv(v.location,E,w);n&&n(x,E),c=d()+1;let T=z1(x,c),P=v.createHref(x);try{o.pushState(T,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(P)}i&&l&&l({action:a,location:v.location,delta:1})}function g(E,w){a=ui.Replace;let x=Nv(v.location,E,w);n&&n(x,E),c=d();let T=z1(x,c),P=v.createHref(x);o.replaceState(T,"",P),i&&l&&l({action:a,location:v.location,delta:0})}function _(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof E=="string"?E:Lf(E);return x=x.replace(/ $/,"%20"),ft(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(B1,f),l=E,()=>{s.removeEventListener(B1,f),l=null}},createHref(E){return e(s,E)},createURL:_,encodeLocation(E){let w=_(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(E){return o.go(E)}};return v}var W1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W1||(W1={}));function v$(t,e,n){return n===void 0&&(n="/"),w$(t,e,n,!1)}function w$(t,e,n,r){let s=typeof e=="string"?Yo(e):e,i=Z0(s.pathname||"/",n);if(i==null)return null;let o=pN(t);x$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=N$(i);a=P$(o[l],c,r)}return a}function pN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pN(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:I$(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of mN(i.path))s(i,o,l)}),e}function mN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:A$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _$=/^:[\w-]+$/,E$=3,T$=2,b$=1,S$=10,C$=-2,H1=t=>t==="*";function I$(t,e){let n=t.split("/"),r=n.length;return n.some(H1)&&(r+=C$),e&&(r+=T$),n.filter(s=>!H1(s)).reduce((s,i)=>s+(_$.test(i)?E$:i===""?b$:S$),r)}function A$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function P$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=q1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=q1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:xi([i,f.pathname]),pathnameBase:O$(xi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=xi([i,f.pathnameBase]))}return o}function q1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function R$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function k$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:D$(n,e):e,search:j$(r),hash:L$(s)}}function D$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ex(t,e){let n=M$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Yo(t):(s=Eu({},t),ft(!s.pathname||!s.pathname.includes("?"),Fg("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Fg("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Fg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=k$(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const xi=t=>t.join("/").replace(/\/\/+/g,"/"),O$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gN=["post","put","patch","delete"];new Set(gN);const F$=["get",...gN];new Set(F$);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tu.apply(this,arguments)}const nx=m.createContext(null),U$=m.createContext(null),Hi=m.createContext(null),Kp=m.createContext(null),ss=m.createContext({outlet:null,matches:[],isDataRoute:!1}),yN=m.createContext(null);function $$(t,e){let{relative:n}=e===void 0?{}:e;Nl()||ft(!1);let{basename:r,navigator:s}=m.useContext(Hi),{hash:i,pathname:o,search:a}=wN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Nl(){return m.useContext(Kp)!=null}function kl(){return Nl()||ft(!1),m.useContext(Kp).location}function vN(t){m.useContext(Hi).static||m.useLayoutEffect(t)}function td(){let{isDataRoute:t}=m.useContext(ss);return t?n9():B$()}function B$(){Nl()||ft(!1);let t=m.useContext(nx),{basename:e,future:n,navigator:r}=m.useContext(Hi),{matches:s}=m.useContext(ss),{pathname:i}=kl(),o=JSON.stringify(ex(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return vN(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=tx(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const z$=m.createContext(null);function W$(t){let e=m.useContext(ss).outlet;return e&&m.createElement(z$.Provider,{value:t},e)}function rx(){let{matches:t}=m.useContext(ss),e=t[t.length-1];return e?e.params:{}}function wN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(Hi),{matches:s}=m.useContext(ss),{pathname:i}=kl(),o=JSON.stringify(ex(s,r.v7_relativeSplatPath));return m.useMemo(()=>tx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function H$(t,e){return q$(t,e)}function q$(t,e,n,r){Nl()||ft(!1);let{navigator:s}=m.useContext(Hi),{matches:i}=m.useContext(ss),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kl(),d;if(e){var f;let E=typeof e=="string"?Yo(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||ft(!1),d=E}else d=c;let p=d.pathname||"/",g=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=v$(t,{pathname:g}),v=X$(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:xi([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:xi([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?m.createElement(Kp.Provider,{value:{location:Tu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ui.Pop}},v):v}function G$(){let t=t9(),e=V$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const K$=m.createElement(G$,null);class Q$ extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ss.Provider,{value:this.props.routeContext},m.createElement(yN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y$(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(nx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ss.Provider,{value:e},r)}function X$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ft(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,_=!1,v=null,E=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||K$,l&&(c<0&&p===0?(_=!0,E=null):c===p&&(_=!0,E=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),x=()=>{let T;return g?T=v:_?T=E:f.route.Component?T=m.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,m.createElement(Y$,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(Q$,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var xN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xN||{}),Vf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vf||{});function J$(t){let e=m.useContext(nx);return e||ft(!1),e}function Z$(t){let e=m.useContext(U$);return e||ft(!1),e}function e9(t){let e=m.useContext(ss);return e||ft(!1),e}function _N(t){let e=e9(),n=e.matches[e.matches.length-1];return n.route.id||ft(!1),n.route.id}function t9(){var t;let e=m.useContext(yN),n=Z$(Vf.UseRouteError),r=_N(Vf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n9(){let{router:t}=J$(xN.UseNavigateStable),e=_N(Vf.UseNavigateStable),n=m.useRef(!1);return vN(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tu({fromRouteId:e},i)))},[t,e])}function kv(t){let{to:e,replace:n,state:r,relative:s}=t;Nl()||ft(!1);let{future:i,static:o}=m.useContext(Hi),{matches:a}=m.useContext(ss),{pathname:l}=kl(),c=td(),d=tx(e,ex(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function r9(t){return W$(t.context)}function vn(t){ft(!1)}function s9(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ui.Pop,navigator:i,static:o=!1,future:a}=t;Nl()&&ft(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Tu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Yo(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,v=m.useMemo(()=>{let E=Z0(d,l);return E==null?null:{location:{pathname:E,search:f,hash:p,state:g,key:_},navigationType:s}},[l,d,f,p,g,_,s]);return v==null?null:m.createElement(Hi.Provider,{value:c},m.createElement(Kp.Provider,{children:n,value:v}))}function i9(t){let{children:e,location:n}=t;return H$(Dv(e),n)}new Promise(()=>{});function Dv(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Dv(r.props.children,i));return}r.type!==vn&&ft(!1),!r.props.index||!r.props.children||ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}function o9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function a9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l9(t,e){return t.button===0&&(!e||e==="_self")&&!a9(t)}const c9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u9="6";try{window.__reactRouterVersion=u9}catch{}const d9="startTransition",G1=VI[d9];function h9(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=m$({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(f=>{c&&G1?G1(()=>l(f)):l(f)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(s9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const f9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=o9(e,c9),{basename:g}=m.useContext(Hi),_,v=!1;if(typeof c=="string"&&p9.test(c)&&(_=c,f9))try{let T=new URL(window.location.href),P=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=Z0(P.pathname,g);P.origin===T.origin&&N!=null?c=N+P.search+P.hash:v=!0}catch{}let E=$$(c,{relative:s}),w=m9(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function x(T){r&&r(T),T.defaultPrevented||w(T)}return m.createElement("a",Mv({},p,{href:_||E,onClick:v||i?r:x,ref:n,target:l}))});var K1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K1||(K1={}));var Q1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Q1||(Q1={}));function m9(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=td(),c=kl(),d=wN(t,{relative:o});return m.useCallback(f=>{if(l9(f,n)){f.preventDefault();let p=r!==void 0?r:Lf(c)===Lf(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const g9=Vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground hover:shadow-md",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80 hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Ii:"button";return h.jsx(o,{className:ce(g9({variant:e,size:n,className:t})),ref:i,...s})});$e.displayName="Button";const Dt=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow duration-300",t),...e}));Dt.displayName="Card";const un=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));un.displayName="CardHeader";const Xt=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xt.displayName="CardTitle";const _r=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));_r.displayName="CardDescription";const Jt=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));Jt.displayName="CardContent";const y9=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));y9.displayName="CardFooter";const v9=()=>h.jsx(h.Fragment,{children:h.jsxs("section",{className:"container mx-auto px-4 py-20",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-extrabold text-foreground mb-6 leading-tight",children:["مرحباً بك في ",h.jsx("span",{className:"text-primary",children:"ALPHA TEAM"})]}),h.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"منصة شاملة لمساعدة الطلاب في الوصول إلى المحاضرات والمواد الدراسية بسهولة ويسر. نهدف إلى توفير تجربة تعليمية متميزة ومنظمة لجميع المراحل الدراسية."}),h.jsx("div",{className:"mt-10",children:h.jsx(ze,{to:"/lectures",children:h.jsxs($e,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8 md:px-10 py-3 md:py-4 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:["ابدأ التصفح",h.jsx(gR,{className:"mr-2 h-5 w-5"})]})})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-20",children:[h.jsxs(Dt,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[h.jsxs(un,{children:[h.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:h.jsx(yr,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),h.jsx(Xt,{className:"text-lg md:text-xl font-semibold text-foreground",children:"محاضرات منظمة"})]}),h.jsx(Jt,{children:h.jsx(_r,{className:"text-sm md:text-base text-muted-foreground",children:"جميع المحاضرات مرتبة حسب المراحل والمواد لسهولة الوصول والمتابعة"})})]}),h.jsxs(Dt,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[h.jsxs(un,{children:[h.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:h.jsx(jh,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),h.jsx(Xt,{className:"text-lg md:text-xl font-semibold text-foreground",children:"فريق متخصص"})]}),h.jsx(Jt,{children:h.jsx(_r,{className:"text-sm md:text-base text-muted-foreground",children:"فريق Alpha Team يعمل بجد لتوفير أفضل المواد التعليمية والدعم للطلاب"})})]}),h.jsxs(Dt,{className:"text-center shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[h.jsxs(un,{children:[h.jsx("div",{className:"w-12 md:w-16 h-12 md:h-16 bg-secondary rounded-full flex items-center justify-center mx-auto mb-4 shadow-inner",children:h.jsx(s5,{className:"h-6 md:h-8 w-6 md:w-8 text-primary"})}),h.jsx(Xt,{className:"text-lg md:text-xl font-semibold text-foreground",children:"جودة عالية"})]}),h.jsx(Jt,{children:h.jsx(_r,{className:"text-sm md:text-base text-muted-foreground",children:"محتوى عالي الجودة ومحدث باستمرار لضمان أفضل تجربة تعليمية"})})]})]}),h.jsxs(Dt,{className:"bg-card shadow-md",children:[h.jsx(un,{className:"text-center",children:h.jsx(Xt,{className:"text-3xl font-bold text-foreground",children:"من نحن؟"})}),h.jsx(Jt,{className:"text-center",children:h.jsx("p",{className:"text-lg text-muted-foreground max-w-4xl mx-auto leading-relaxed",children:"فريق Alpha Team هو مجموعة من الطلاب والمختصين الذين يهدفون إلى تسهيل العملية التعليمية وتوفير الموارد اللازمة لنجاح الطلاب في مسيرتهم الأكاديمية. نحن نؤمن بأن التعليم يجب أن يكون متاحاً ومنظماً وسهل الوصول إليه، لذلك أنشأنا هذه المنصة لتكون بيتاً رقمياً لجميع المحاضرات والمواد الدراسية المطلوبة في المراحل المختلفة."})})]})]})}),w9=()=>{};var Ov={},Y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},TN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new _9;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E9=function(t){const e=EN(t);return TN.encodeByteArray(e,!0)},Ff=function(t){return E9(t).replace(/\./g,"")},bN=function(t){try{return TN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ov<"u")return Ov;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=()=>T9().__FIREBASE_DEFAULTS__,S9=()=>{if(typeof process>"u"||typeof Y1>"u")return;const t=Y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bN(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return w9()||b9()||S9()||C9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SN=t=>{var e,n;return(n=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},I9=t=>{const e=SN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CN=()=>{var t;return(t=Qp())===null||t===void 0?void 0:t.config},IN=t=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return t.endsWith(".cloudworkstations.dev")}async function AN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ff(JSON.stringify(n)),Ff(JSON.stringify(o)),""].join(".")}const zc={};function R9(){const t={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?t.emulator.push(e):t.prod.push(e);return t}function N9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X1=!1;function PN(t,e){if(typeof window>"u"||typeof document>"u"||!nd(window.location.host)||zc[t]===e||zc[t]||X1)return;zc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=R9().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{X1=!0,o()},p}function d(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=N9(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),w=n("preprendIcon"),x=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(E,v);const P=c();l(x,w),T.append(x,_,E,P),document.body.appendChild(T)}i?(_.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function D9(){var t;const e=(t=Qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Ov.process)==="[object process]"}catch{return!1}}function M9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j9(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L9(){return!D9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function kN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function V9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F9,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?U9(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pr(s,a,r)}}function U9(t,e){return t.replace($9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const $9=/\{\$([^}]+)}/g;function B9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(J1(i)&&J1(o)){if(!ki(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function J1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function z9(t,e){const n=new W9(t,e);return n.subscribe.bind(n)}class W9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ug),s.error===void 0&&(s.error=Ug),s.complete===void 0&&(s.complete=Ug);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ug(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=1e3,G9=2,K9=4*60*60*1e3,Q9=.5;function Z1(t,e=q9,n=G9){const r=e*Math.pow(n,t),s=Math.round(Q9*r*(Math.random()-.5)*2);return Math.min(K9,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new A9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J9(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X9(t){return t===lo?void 0:t}function J9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const eB={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},tB=Ie.INFO,nB={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},rB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nB[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=tB,this._logHandler=rB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const sB=(t,e)=>e.some(n=>t instanceof n);let eb,tb;function iB(){return eb||(eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oB(){return tb||(tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DN=new WeakMap,jv=new WeakMap,MN=new WeakMap,$g=new WeakMap,sx=new WeakMap;function aB(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_i(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DN.set(n,t)}).catch(()=>{}),sx.set(e,t),e}function lB(t){if(jv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});jv.set(t,e)}let Lv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cB(t){Lv=t(Lv)}function uB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bg(this),e,...n);return MN.set(r,e.sort?e.sort():[e]),_i(r)}:oB().includes(t)?function(...e){return t.apply(Bg(this),e),_i(DN.get(this))}:function(...e){return _i(t.apply(Bg(this),e))}}function dB(t){return typeof t=="function"?uB(t):(t instanceof IDBTransaction&&lB(t),sB(t,iB())?new Proxy(t,Lv):t)}function _i(t){if(t instanceof IDBRequest)return aB(t);if($g.has(t))return $g.get(t);const e=dB(t);return e!==t&&($g.set(t,e),sx.set(e,t)),e}const Bg=t=>sx.get(t);function ON(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_i(o.result),l.oldVersion,l.newVersion,_i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hB=["get","getKey","getAll","getAllKeys","count"],fB=["put","add","delete","clear"],zg=new Map;function nb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hB.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return zg.set(e,i),i}cB(t=>({...t,get:(e,n,r)=>nb(e,n)||t.get(e,n,r),has:(e,n)=>!!nb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vv="@firebase/app",rb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Yp("@firebase/app"),gB="@firebase/app-compat",yB="@firebase/analytics-compat",vB="@firebase/analytics",wB="@firebase/app-check-compat",xB="@firebase/app-check",_B="@firebase/auth",EB="@firebase/auth-compat",TB="@firebase/database",bB="@firebase/data-connect",SB="@firebase/database-compat",CB="@firebase/functions",IB="@firebase/functions-compat",AB="@firebase/installations",PB="@firebase/installations-compat",RB="@firebase/messaging",NB="@firebase/messaging-compat",kB="@firebase/performance",DB="@firebase/performance-compat",MB="@firebase/remote-config",OB="@firebase/remote-config-compat",jB="@firebase/storage",LB="@firebase/storage-compat",VB="@firebase/firestore",FB="@firebase/ai",UB="@firebase/firestore-compat",$B="firebase",BB="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="[DEFAULT]",zB={[Vv]:"fire-core",[gB]:"fire-core-compat",[vB]:"fire-analytics",[yB]:"fire-analytics-compat",[xB]:"fire-app-check",[wB]:"fire-app-check-compat",[_B]:"fire-auth",[EB]:"fire-auth-compat",[TB]:"fire-rtdb",[bB]:"fire-data-connect",[SB]:"fire-rtdb-compat",[CB]:"fire-fn",[IB]:"fire-fn-compat",[AB]:"fire-iid",[PB]:"fire-iid-compat",[RB]:"fire-fcm",[NB]:"fire-fcm-compat",[kB]:"fire-perf",[DB]:"fire-perf-compat",[MB]:"fire-rc",[OB]:"fire-rc-compat",[jB]:"fire-gcs",[LB]:"fire-gcs-compat",[VB]:"fire-fst",[UB]:"fire-fst-compat",[FB]:"fire-vertex","fire-js":"fire-js",[$B]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,WB=new Map,Uv=new Map;function sb(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(Uv.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Uv.set(e,t);for(const n of Uf.values())sb(n,t);for(const n of WB.values())sb(n,t);return!0}function Jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new Xo("app","Firebase",HB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=BB;function jN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ei.create("bad-app-name",{appName:String(s)});if(n||(n=CN()),!n)throw Ei.create("no-options");const i=Uf.get(s);if(i){if(ki(n,i.options)&&ki(r,i.config))return i;throw Ei.create("duplicate-app",{appName:s})}const o=new Z9(s);for(const l of Uv.values())o.addComponent(l);const a=new qB(n,r,o);return Uf.set(s,a),a}function ix(t=Fv){const e=Uf.get(t);if(!e&&t===Fv&&CN())return jN();if(!e)throw Ei.create("no-app",{appName:t});return e}function Zn(t,e,n){var r;let s=(r=zB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}ts(new Cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="firebase-heartbeat-database",KB=1,bu="firebase-heartbeat-store";let Wg=null;function LN(){return Wg||(Wg=ON(GB,KB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function QB(t){try{const n=(await LN()).transaction(bu),r=await n.objectStore(bu).get(VN(t));return await n.done,r}catch(e){if(e instanceof Pr)Is.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function ib(t,e){try{const r=(await LN()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,VN(t)),await r.done}catch(n){if(n instanceof Pr)Is.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function VN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=1024,XB=30;class JB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ez(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ob();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>XB){const o=tz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ob(),{heartbeatsToSend:r,unsentEntries:s}=ZB(this._heartbeatsCache.heartbeats),i=Ff(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Is.warn(n),""}}}function ob(){return new Date().toISOString().substring(0,10)}function ZB(t,e=YB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ab(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ab(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ez{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?kN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ab(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function tz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(t){ts(new Cr("platform-logger",e=>new pB(e),"PRIVATE")),ts(new Cr("heartbeat",e=>new JB(e),"PRIVATE")),Zn(Vv,rb,t),Zn(Vv,rb,"esm2017"),Zn("fire-js","")}nz("");var rz="firebase",sz="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(rz,sz,"app");const FN="@firebase/installations",ox="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1e4,$N=`w:${ox}`,BN="FIS_v2",iz="https://firebaseinstallations.googleapis.com/v1",oz=60*60*1e3,az="installations",lz="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vo=new Xo(az,lz,cz);function zN(t){return t instanceof Pr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN({projectId:t}){return`${iz}/projects/${t}/installations`}function HN(t){return{token:t.token,requestStatus:2,expiresIn:dz(t.expiresIn),creationTime:Date.now()}}async function qN(t,e){const r=(await e.json()).error;return Vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uz(t,{refreshToken:e}){const n=GN(t);return n.append("Authorization",hz(e)),n}async function KN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function dz(t){return Number(t.replace("s","000"))}function hz(t){return`${BN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WN(t),s=GN(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:BN,appId:t.appId,sdkVersion:$N},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await KN(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:HN(c.authToken)}}else throw await qN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^[cdef][\w-]{21}$/,$v="";function gz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=yz(t);return mz.test(n)?n:$v}catch{return $v}}function yz(t){return pz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new Map;function XN(t,e){const n=Xp(t);JN(n,e),vz(n,e)}function JN(t,e){const n=YN.get(t);if(n)for(const r of n)r(e)}function vz(t,e){const n=wz();n&&n.postMessage({key:t,fid:e}),xz()}let yo=null;function wz(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=t=>{JN(t.data.key,t.data.fid)}),yo}function xz(){YN.size===0&&yo&&(yo.close(),yo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="firebase-installations-database",Ez=1,Fo="firebase-installations-store";let Hg=null;function ax(){return Hg||(Hg=ON(_z,Ez,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fo)}}})),Hg}async function $f(t,e){const n=Xp(t),s=(await ax()).transaction(Fo,"readwrite"),i=s.objectStore(Fo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&XN(t,e.fid),e}async function ZN(t){const e=Xp(t),r=(await ax()).transaction(Fo,"readwrite");await r.objectStore(Fo).delete(e),await r.done}async function Jp(t,e){const n=Xp(t),s=(await ax()).transaction(Fo,"readwrite"),i=s.objectStore(Fo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&XN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t){let e;const n=await Jp(t.appConfig,r=>{const s=Tz(r),i=bz(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===$v?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Tz(t){const e=t||{fid:gz(),registrationStatus:0};return ek(e)}function bz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Sz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Cz(t)}:{installationEntry:e}}async function Sz(t,e){try{const n=await fz(t,e);return $f(t.appConfig,n)}catch(n){throw zN(n)&&n.customData.serverCode===409?await ZN(t.appConfig):await $f(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Cz(t){let e=await lb(t.appConfig);for(;e.registrationStatus===1;)await QN(100),e=await lb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lx(t);return r||n}return e}function lb(t){return Jp(t,e=>{if(!e)throw Vo.create("installation-not-found");return ek(e)})}function ek(t){return Iz(t)?{fid:t.fid,registrationStatus:0}:t}function Iz(t){return t.registrationStatus===1&&t.registrationTime+UN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az({appConfig:t,heartbeatServiceProvider:e},n){const r=Pz(t,n),s=uz(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:$N,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await KN(()=>fetch(r,a));if(l.ok){const c=await l.json();return HN(c)}else throw await qN("Generate Auth Token",l)}function Pz(t,{fid:e}){return`${WN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cx(t,e=!1){let n;const r=await Jp(t.appConfig,i=>{if(!tk(i))throw Vo.create("not-registered");const o=i.authToken;if(!e&&kz(o))return i;if(o.requestStatus===1)return n=Rz(t,e),i;{if(!navigator.onLine)throw Vo.create("app-offline");const a=Mz(i);return n=Nz(t,a),a}});return n?await n:r.authToken}async function Rz(t,e){let n=await cb(t.appConfig);for(;n.authToken.requestStatus===1;)await QN(100),n=await cb(t.appConfig);const r=n.authToken;return r.requestStatus===0?cx(t,e):r}function cb(t){return Jp(t,e=>{if(!tk(e))throw Vo.create("not-registered");const n=e.authToken;return Oz(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Nz(t,e){try{const n=await Az(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $f(t.appConfig,r),n}catch(n){if(zN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $f(t.appConfig,r)}throw n}}function tk(t){return t!==void 0&&t.registrationStatus===2}function kz(t){return t.requestStatus===2&&!Dz(t)}function Dz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oz}function Mz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Oz(t){return t.requestStatus===1&&t.requestTime+UN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jz(t){const e=t,{installationEntry:n,registrationPromise:r}=await lx(e);return r?r.catch(console.error):cx(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e=!1){const n=t;return await Vz(n),(await cx(n,e)).token}async function Vz(t){const{registrationPromise:e}=await lx(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){if(!t||!t.options)throw qg("App Configuration");if(!t.name)throw qg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qg(t){return Vo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="installations",Uz="installations-internal",$z=t=>{const e=t.getProvider("app").getImmediate(),n=Fz(e),r=Jo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Bz=t=>{const e=t.getProvider("app").getImmediate(),n=Jo(e,nk).getImmediate();return{getId:()=>jz(n),getToken:s=>Lz(n,s)}};function zz(){ts(new Cr(nk,$z,"PUBLIC")),ts(new Cr(Uz,Bz,"PRIVATE"))}zz();Zn(FN,ox);Zn(FN,ox,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="analytics",Wz="firebase_id",Hz="origin",qz=60*1e3,Gz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ux="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Xo("analytics","Analytics",Kz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){if(!t.startsWith(ux)){const e=Un.create("invalid-gtag-resource",{gtagURL:t});return In.warn(e.message),""}return t}function rk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Yz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Xz(t,e){const n=Yz("firebase-js-sdk-policy",{createScriptURL:Qz}),r=document.createElement("script"),s=`${ux}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Jz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Zz(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await rk(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){In.error(a)}t("config",s,i)}async function e8(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await rk(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){In.error(i)}}function t8(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await e8(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Zz(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){In.error(a)}}return s}function n8(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=t8(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function r8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ux)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=30,i8=1e3;class o8{constructor(e={},n=i8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sk=new o8;function a8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function l8(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:a8(r)},i=Gz.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function c8(t,e=sk,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Un.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Un.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new h8;return setTimeout(async()=>{a.abort()},qz),ik({appId:r,apiKey:s,measurementId:i},o,a,e)}async function ik(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=sk){var i;const{appId:o,measurementId:a}=t;try{await u8(r,e)}catch(l){if(a)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await l8(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!d8(c)){if(s.deleteThrottleMetadata(o),a)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?Z1(n,s.intervalMillis,s8):Z1(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),In.debug(`Calling attemptFetch again in ${d} millis`),ik(t,f,r,s)}}function u8(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d8(t){if(!(t instanceof Pr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f8(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(){if(NN())try{await kN()}catch(t){return In.warn(Un.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return In.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function m8(t,e,n,r,s,i,o){var a;const l=c8(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>In.error(g)),e.push(l);const c=p8().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,c]);r8(i)||Xz(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[Hz]="firebase",p.update=!0,f!=null&&(p[Wz]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.app=e}_delete(){return delete Wc[this.app.options.appId],Promise.resolve()}}let Wc={},ub=[];const db={};let Gg="dataLayer",y8="gtag",hb,ok,fb=!1;function v8(){const t=[];if(RN()&&t.push("This is a browser extension environment."),V9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:e});In.warn(n.message)}}function w8(t,e,n){v8();const r=t.options.appId;if(!r)throw Un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Wc[r]!=null)throw Un.create("already-exists",{id:r});if(!fb){Jz(Gg);const{wrappedGtag:i,gtagCore:o}=n8(Wc,ub,db,Gg,y8);ok=i,hb=o,fb=!0}return Wc[r]=m8(t,ub,db,e,hb,Gg,n),new g8(t)}function x8(t=ix()){t=pt(t);const e=Jo(t,Bf);return e.isInitialized()?e.getImmediate():_8(t)}function _8(t,e={}){const n=Jo(t,Bf);if(n.isInitialized()){const s=n.getImmediate();if(ki(e,n.getOptions()))return s;throw Un.create("already-initialized")}return n.initialize({options:e})}function E8(t,e,n,r){t=pt(t),f8(ok,Wc[t.app.options.appId],e,n,r).catch(s=>In.error(s))}const pb="@firebase/analytics",mb="0.10.16";function T8(){ts(new Cr(Bf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return w8(r,s,n)},"PUBLIC")),ts(new Cr("analytics-internal",t,"PRIVATE")),Zn(pb,mb),Zn(pb,mb,"esm2017");function t(e){try{const n=e.getProvider(Bf).getImmediate();return{logEvent:(r,s,i)=>E8(n,r,s,i)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}T8();var $r=function(){return $r=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$r.apply(this,arguments)};function sd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function b8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ak(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S8=ak,lk=new Xo("auth","Firebase",ak());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Yp("@firebase/auth");function C8(t,...e){zf.logLevel<=Ie.WARN&&zf.warn(`Auth (${Dl}): ${t}`,...e)}function Vh(t,...e){zf.logLevel<=Ie.ERROR&&zf.error(`Auth (${Dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw hx(t,...e)}function Er(t,...e){return hx(t,...e)}function dx(t,e,n){const r=Object.assign(Object.assign({},S8()),{[e]:n});return new Xo("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&or(t,"argument-error"),dx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lk.create(t,...e)}function ue(t,e,...n){if(!t)throw hx(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vh(e),new Error(e)}function As(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A8(){return gb()==="http:"||gb()==="https:"}function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A8()||RN()||"connection"in navigator)?navigator.onLine:!0}function R8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.shortDelay=e,this.longDelay=n,As(n>e,"Short delay should be less than long delay!"),this.isMobile=k9()||O9()}get(){return P8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){As(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D8=new id(3e4,6e4);function qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gi(t,e,n,r,s={}){return uk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=rd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return M9()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&nd(t.emulatorConfig.host)&&(c.credentials="include"),ck.fetch()(await dk(t,t.config.apiHost,n,a),c)})}async function uk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N8),e);try{const s=new O8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ah(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ah(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dx(t,d,c);or(t,d)}}catch(s){if(s instanceof Pr)throw s;or(t,"network-request-failed",{message:String(s)})}}async function od(t,e,n,r,s={}){const i=await Gi(t,e,n,r,s);return"mfaPendingCredential"in i&&or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function dk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?fx(t.config,s):`${t.config.apiScheme}://${s}`;return k8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function M8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),D8.get())})}}function ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}function yb(t){return t!==void 0&&t.enterprise!==void 0}class j8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L8(t,e){return Gi(t,"GET","/v2/recaptchaConfig",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e){return Gi(t,"POST","/v1/accounts:delete",e)}async function Wf(t,e){return Gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F8(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=px(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Hc(Kg(s.auth_time)),issuedAtTime:Hc(Kg(s.iat)),expirationTime:Hc(Kg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Kg(t){return Number(t)*1e3}function px(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=bN(n);return s?JSON.parse(s):(Vh("Failed to decode base64 JWT payload"),null)}catch(s){return Vh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vb(t){const e=px(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&U8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hc(this.lastLoginAt),this.creationTime=Hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Su(t,Wf(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?hk(i.providerUserInfo):[],a=z8(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function B8(t){const e=pt(t);await Hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hk(t){return t.map(e=>{var{providerId:n}=e,r=sd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t,e){const n=await uk(t,{},async()=>{const r=rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await dk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ck.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H8(t,e){return Gi(t,"POST","/v2/accounts:revokeToken",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await W8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new za;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F8(this,e)}reload(){return B8(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Su(this,V8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:P,isAnonymous:N,providerData:O,stsTokenManager:C}=n;ue(T&&C,e,"internal-error");const S=za.fromJSON(this.name,C);ue(typeof T=="string",e,"internal-error"),Hs(f,e.name),Hs(p,e.name),ue(typeof P=="boolean",e,"internal-error"),ue(typeof N=="boolean",e,"internal-error"),Hs(g,e.name),Hs(_,e.name),Hs(v,e.name),Hs(E,e.name),Hs(w,e.name),Hs(x,e.name);const I=new vr({uid:T,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:N,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:S,createdAt:w,lastLoginAt:x});return O&&Array.isArray(O)&&(I.providerData=O.map(R=>Object.assign({},R))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new za;s.updateFromServerResponse(n);const i=new vr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new za;a.updateFromIdToken(r);const l=new vr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function ys(t){As(t instanceof Function,"Expected a class definition");let e=wb.get(t);return e?(As(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fk.type="NONE";const xb=fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wf(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wa(ys(xb),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ys(xb);const o=Fh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await Wf(e,{idToken:d}).catch(()=>{});if(!p)break;f=await vr._fromGetAccountInfoResponse(e,p,d)}else f=vr._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Wa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Wa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wk(e))return"Blackberry";if(xk(e))return"Webos";if(mk(e))return"Safari";if((e.includes("chrome/")||gk(e))&&!e.includes("edge/"))return"Chrome";if(vk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pk(t=nn()){return/firefox\//i.test(t)}function mk(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gk(t=nn()){return/crios\//i.test(t)}function yk(t=nn()){return/iemobile/i.test(t)}function vk(t=nn()){return/android/i.test(t)}function wk(t=nn()){return/blackberry/i.test(t)}function xk(t=nn()){return/webos/i.test(t)}function mx(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q8(t=nn()){var e;return mx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G8(){return j9()&&document.documentMode===10}function _k(t=nn()){return mx(t)||vk(t)||xk(t)||wk(t)||/windows phone/i.test(t)||yk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t,e=[]){let n;switch(t){case"Browser":n=_b(nn());break;case"Worker":n=`${_b(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(t,e={}){return Gi(t,"GET","/v2/passwordPolicy",qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=6;class X8{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Y8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eb(this),this.idTokenSubscription=new Eb(this),this.beforeStateQueue=new K8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wf(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(ws(this));const n=e?pt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q8(this),n=new X8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&C8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ki(t){return pt(t)}class Eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=z9(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z8(t){Zp=t}function Tk(t){return Zp.loadJS(t)}function eW(){return Zp.recaptchaEnterpriseScript}function tW(){return Zp.gapiScript}function nW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rW{constructor(){this.enterprise=new sW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iW="recaptcha-enterprise",bk="NO_RECAPTCHA";class oW{constructor(e){this.type=iW,this.auth=Ki(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{L8(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new j8(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;yb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(bk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rW().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&yb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eW();l.length!==0&&(l+=a),Tk(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Tb(t,e,n,r=!1,s=!1){const i=new oW(t);let o;if(s)o=bk;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wv(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Tb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Tb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(t,e){const n=Jo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ki(i,e??{}))return s;or(s,"already-initialized")}return n.initialize({options:e})}function lW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cW(t,e,n){const r=Ki(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Sk(e),{host:o,port:a}=uW(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(ki(c,r.config.emulator)&&ki(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,nd(o)?(AN(`${i}//${o}${l}`),PN("Auth",!0)):dW()}function Sk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uW(t){const e=Sk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bb(o)}}}function bb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function hW(t,e){return Gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e){return od(t,"POST","/v1/accounts:signInWithPassword",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}async function mW(t,e){return od(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends gx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,n,"signInWithPassword",fW);case"emailLink":return pW(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,r,"signUpPassword",hW);case"emailLink":return mW(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e){return od(t,"POST","/v1/accounts:signInWithIdp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW="http://localhost";class Uo extends gx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:gW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vW(t){const e=_c(Ec(t)).link,n=e?_c(Ec(e)).deep_link_id:null,r=_c(Ec(t)).deep_link_id;return(r?_c(Ec(r)).link:null)||r||n||e||t}class yx{constructor(e){var n,r,s,i,o,a;const l=_c(Ec(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=yW((s=l.mode)!==null&&s!==void 0?s:null);ue(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vW(e);try{return new yx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,n){return Cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yx.parseLink(n);return ue(r,"argument-error"),Cu._fromEmailAndCode(e,r.code,r.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends vx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends ad{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ad{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends ad{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e){return od(t,"POST","/v1/accounts:signUp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vr._fromIdTokenResponse(e,r,s),o=Sb(r);return new $o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Sb(r);return new $o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends Pr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qf(e,n,r,s)}}function Ck(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(t,i,e,r):i})}async function xW(t,e,n=!1){const r=await Su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(ws(r));const s="reauthenticate";try{const i=await Su(t,Ck(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=px(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),$o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e,n=!1){if(Mn(t.app))return Promise.reject(ws(t));const r="signIn",s=await Ck(t,r,e),i=await $o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function EW(t,e){return Ik(Ki(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t){const e=Ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TW(t,e,n){if(Mn(t.app))return Promise.reject(ws(t));const r=Ki(t),o=await Wv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ak(t),l}),a=await $o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function bW(t,e,n){return Mn(t.app)?Promise.reject(ws(t)):EW(pt(t),Ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ak(t),r})}function SW(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function CW(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function Pk(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function IW(t){return pt(t).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=1e3,PW=10;class Nk extends Rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);G8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PW):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nk.type="LOCAL";const RW=Nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk extends Rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kk.type="SESSION";const Dk=kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await NW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=wx("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function DW(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function MW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jW(){return Mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebaseLocalStorageDb",LW=1,Kf="firebaseLocalStorage",jk="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function VW(){const t=indexedDB.deleteDatabase(Ok);return new ld(t).toPromise()}function Hv(){const t=indexedDB.open(Ok,LW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kf,{keyPath:jk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kf)?e(r):(r.close(),await VW(),e(await Hv()))})})}async function Cb(t,e,n){const r=tm(t,!0).put({[jk]:e,value:n});return new ld(r).toPromise()}async function FW(t,e){const n=tm(t,!1).get(e),r=await new ld(n).toPromise();return r===void 0?null:r.value}function Ib(t,e){const n=tm(t,!0).delete(e);return new ld(n).toPromise()}const UW=800,$W=3;class Lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$W)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(jW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MW(),!this.activeServiceWorker)return;this.sender=new kW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hv();return await Cb(e,Gf,"1"),await Ib(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=tm(s,!1).getAll();return new ld(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lk.type="LOCAL";const BW=Lk;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){return e?ys(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends gx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zW(t){return Ik(t.auth,new xx(t),t.bypassAuthState)}function WW(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),_W(n,new xx(t),t.bypassAuthState)}async function HW(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),xW(n,new xx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zW;case"linkViaPopup":case"linkViaRedirect":return HW;case"reauthViaPopup":case"reauthViaRedirect":return WW;default:or(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=new id(2e3,1e4);async function Uk(t,e,n){if(Mn(t.app))return Promise.reject(Er(t,"operation-not-supported-in-this-environment"));const r=Ki(t);I8(t,e,vx);const s=Vk(r,n);return new vo(r,"signInViaPopup",e,s).executeNotNull()}class vo extends Fk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=wx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qW.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="pendingRedirect",Uh=new Map;class KW extends Fk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const r=await QW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QW(t,e){const n=JW(e),r=XW(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YW(t,e){Uh.set(t._key(),e)}function XW(t){return ys(t._redirectPersistence)}function JW(t){return Fh(GW,t.config.apiKey,t.name)}async function ZW(t,e,n=!1){if(Mn(t.app))return Promise.reject(ws(t));const r=Ki(t),s=Vk(r,e),o=await new KW(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=10*60*1e3;class t7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$k(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ab(e))}saveEventToCache(e){this.cachedEventUids.add(Ab(e)),this.lastProcessedEventTime=Date.now()}}function Ab(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $k({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $k(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t,e={}){return Gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i7=/^https?/;async function o7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await r7(t);for(const n of e)try{if(a7(n))return}catch{}or(t,"unauthorized-domain")}function a7(t){const e=Bv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i7.test(n))return!1;if(s7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new id(3e4,6e4);function Pb(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function c7(t){return new Promise((e,n)=>{var r,s,i;function o(){Pb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pb(),n(Er(t,"network-request-failed"))},timeout:l7.get()})}if(!((s=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Kr().gapi)===null||i===void 0)&&i.load)o();else{const a=nW("iframefcb");return Kr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},Tk(`${tW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function u7(t){return $h=$h||c7(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=new id(5e3,15e3),h7="__/auth/iframe",f7="emulator/auth/iframe",p7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g7(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fx(e,f7):`https://${t.config.authDomain}/${h7}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},s=m7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rd(r).slice(1)}`}async function y7(t){const e=await u7(t),n=Kr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:g7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Kr().setTimeout(()=>{i(o)},d7.get());function l(){Kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w7=500,x7=600,_7="_blank",E7="http://localhost";class Rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T7(t,e,n,r=w7,s=x7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v7),{width:r.toString(),height:s.toString(),top:i,left:o}),c=nn().toLowerCase();n&&(a=gk(c)?_7:n),pk(c)&&(e=e||E7,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(q8(c)&&a!=="_self")return b7(e||"",a),new Rb(null);const f=window.open(e||"",a,d);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Rb(f)}function b7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="__/auth/handler",C7="emulator/auth/handler",I7=encodeURIComponent("fac");async function Nb(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:s};if(e instanceof vx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",B9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof ad){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${I7}=${encodeURIComponent(l)}`:"";return`${A7(t)}?${rd(a).slice(1)}${c}`}function A7({config:t}){return t.emulator?fx(t,C7):`https://${t.authDomain}/${S7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="webStorageSupport";class P7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dk,this._completeRedirectFn=ZW,this._overrideRedirectResult=YW}async _openPopup(e,n,r,s){var i;As((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Nb(e,n,r,Bv(),s);return T7(e,o,wx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Nb(e,n,r,Bv(),s);return DW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(As(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y7(e),r=new t7(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qg,{type:Qg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qg];o!==void 0&&n(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _k()||mk()||mx()}}const R7=P7;var kb="@firebase/auth",Db="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D7(t){ts(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ek(t)},c=new J8(r,s,i,l);return lW(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ts(new Cr("auth-internal",e=>{const n=Ki(e.getProvider("auth").getImmediate());return(r=>new N7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(kb,Db,k7(t)),Zn(kb,Db,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=5*60,O7=IN("authIdTokenMaxAge")||M7;let Mb=null;const j7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O7)return;const s=n==null?void 0:n.token;Mb!==s&&(Mb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function L7(t=ix()){const e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aW(t,{popupRedirectResolver:R7,persistence:[BW,RW,Dk]}),r=IN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=j7(i.toString());CW(n,o,()=>o(n.currentUser)),SW(n,a=>o(a))}}const s=SN("auth");return s&&cW(n,`http://${s}`),n}function V7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",V7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D7("Browser");var Ob={},jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ob<"u"?Ob:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,Bk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.D=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(R,D,M){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return S.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)R[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)R[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];var M=C.g[3],k=S+(M^I&(D^M))+R[0]+3614090360&4294967295;S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+R[1]+3905402710&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+R[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+R[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+R[4]+4118548399&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+R[5]+1200080426&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+R[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+R[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+R[8]+1770035416&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+R[9]+2336552879&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+R[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+R[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(M^I&(D^M))+R[12]+1804603682&4294967295,S=I+(k<<7&4294967295|k>>>25),k=M+(D^S&(I^D))+R[13]+4254626195&4294967295,M=S+(k<<12&4294967295|k>>>20),k=D+(I^M&(S^I))+R[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(S^D&(M^S))+R[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=S+(D^M&(I^D))+R[1]+4129170786&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+R[6]+3225465664&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+R[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+R[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+R[5]+3593408605&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+R[10]+38016083&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+R[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+R[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+R[9]+568446438&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+R[14]+3275163606&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+R[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+R[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(D^M&(I^D))+R[13]+2850285829&4294967295,S=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(S^I))+R[2]+4243563512&4294967295,M=S+(k<<9&4294967295|k>>>23),k=D+(S^I&(M^S))+R[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^S&(D^M))+R[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=S+(I^D^M)+R[5]+4294588738&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+R[8]+2272392833&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+R[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+R[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+R[1]+2763975236&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+R[4]+1272893353&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+R[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+R[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+R[13]+681279174&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+R[0]+3936430074&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+R[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+R[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(I^D^M)+R[9]+3654602809&4294967295,S=I+(k<<4&4294967295|k>>>28),k=M+(S^I^D)+R[12]+3873151461&4294967295,M=S+(k<<11&4294967295|k>>>21),k=D+(M^S^I)+R[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^S)+R[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=S+(D^(I|~M))+R[0]+4096336452&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+R[7]+1126891415&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+R[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+R[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+R[12]+1700485571&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+R[3]+2399980690&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+R[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+R[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+R[8]+1873313359&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+R[15]+4264355552&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+R[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+R[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=S+(D^(I|~M))+R[4]+4149444226&4294967295,S=I+(k<<6&4294967295|k>>>26),k=M+(I^(S|~D))+R[11]+3174756917&4294967295,M=S+(k<<10&4294967295|k>>>22),k=D+(S^(M|~I))+R[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~S))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var I=S-this.blockSize,R=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=I;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(R[D++]=C.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<S;)if(R[D++]=C[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var I=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.u(C),C=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)C[I++]=this.g[S]>>>R&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;for(var I=[],R=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;R&&M==S||(I[D]=M,R=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return E(c(-C));for(var S=[],I=1,R=0;C>=I;R++)S[R]=C/I|0,I*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return E(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(S,8)),R=f,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),k=parseInt(C.substring(D,D+M),S);8>M?(M=c(Math.pow(S,M)),R=R.j(M).add(c(k))):(R=R.j(I),R=R.add(c(k)))}return R}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var C=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);C+=(0<=R?R:4294967296+R)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(v(this))return"-"+E(this).toString(C);for(var S=c(Math.pow(C,6)),I=this,R="";;){var D=P(I,S).g;I=w(I,D.j(S));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=D,_(I))return M+R;for(;6>M.length;)M="0"+M;R=M+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=w(this,C),v(C)?-1:_(C)?0:1};function E(C){for(var S=C.g.length,I=[],R=0;R<S;R++)I[R]=~C.g[R];return new o(I,~C.h).add(p)}t.abs=function(){return v(this)?E(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0,D=0;D<=S;D++){var M=R+(this.i(D)&65535)+(C.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=k>>>16,M&=65535,k&=65535,I[D]=k<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(E(S))}t.j=function(C){if(_(this)||_(C))return f;if(v(this))return v(C)?E(this).j(E(C)):E(E(this).j(C));if(v(C))return E(this.j(E(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var M=this.i(R)>>>16,k=this.i(R)&65535,W=C.i(D)>>>16,ie=C.i(D)&65535;I[2*R+2*D]+=k*ie,x(I,2*R+2*D),I[2*R+2*D+1]+=M*ie,x(I,2*R+2*D+1),I[2*R+2*D+1]+=k*W,x(I,2*R+2*D+1),I[2*R+2*D+2]+=M*W,x(I,2*R+2*D+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new o(I,0)};function x(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function P(C,S){if(_(S))throw Error("division by zero");if(_(C))return new T(f,f);if(v(C))return S=P(E(C),S),new T(E(S.g),E(S.h));if(v(S))return S=P(C,E(S)),new T(E(S.g),S.h);if(30<C.g.length){if(v(C)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,R=S;0>=R.l(C);)I=N(I),R=N(R);var D=O(I,1),M=O(R,1);for(R=O(R,2),I=O(I,2);!_(R);){var k=M.add(R);0>=k.l(C)&&(D=D.add(I),M=k),R=O(R,1),I=O(I,1)}return S=w(C,D.j(S)),new T(D,S)}for(D=f;0<=C.l(S);){for(I=Math.max(1,Math.floor(C.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),M=c(I),k=M.j(S);v(k)||0<k.l(C);)I-=R,M=c(I),k=M.j(S);_(M)&&(M=p),D=D.add(M),C=w(C,k)}return new T(D,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&C.i(R);return new o(I,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|C.i(R);return new o(I,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^C.i(R);return new o(I,this.h^C.h)};function N(C){for(var S=C.g.length+1,I=[],R=0;R<S;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(I,C.h)}function O(C,S){var I=S>>5;S%=32;for(var R=C.g.length-I,D=[],M=0;M<R;M++)D[M]=0<S?C.i(M+I)>>>S|C.i(M+I+1)<<32-S:C.i(M+I);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ti=o}).apply(typeof jb<"u"?jb:typeof self<"u"?self:typeof window<"u"?window:{});var Lb={},lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Lb<"u"?Lb:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zk,Tc,Wk,Bh,qv,Hk,qk,Gk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,b){return u==Array.prototype||u==Object.prototype||(u[y]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<u.length;++y){var b=u[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,y){if(y)e:{var b=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in b))break e;b=b[L]}u=u[u.length-1],A=b[u],y=y(A),y!=A&&y!=null&&e(b,u,{configurable:!0,writable:!0,value:y})}}function i(u,y){u instanceof String&&(u+="");var b=0,A=!1,L={next:function(){if(!A&&b<u.length){var U=b++;return{value:y(U,u[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function c(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function d(u,y,b){return u.call.apply(u.bind,arguments)}function f(u,y,b){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(y,L)}}return function(){return u.apply(y,arguments)}}function p(u,y,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function _(u,y){function b(){}b.prototype=y.prototype,u.aa=y.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(A,L,U){for(var K=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)K[Be-2]=arguments[Be];return y.prototype[L].apply(A,K)}}function v(u){const y=u.length;if(0<y){const b=Array(y);for(let A=0;A<y;A++)b[A]=u[A];return b}return[]}function E(u,y){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(l(A)){const L=u.length||0,U=A.length||0;u.length=L+U;for(let K=0;K<U;K++)u[L+K]=A[K]}else u.push(A)}}class w{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var N=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,y,b){for(const A in u)y.call(b,u[A],A,u)}function C(u,y){for(const b in u)y.call(void 0,u[b],b,u)}function S(u){const y={};for(const b in u)y[b]=u[b];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,y){let b,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(b in A)u[b]=A[b];for(let U=0;U<I.length;U++)b=I[U],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function D(u){var y=1;u=u.split(":");const b=[];for(;0<y&&u.length;)b.push(u.shift()),y--;return u.length&&b.push(u.join(":")),b}function M(u){a.setTimeout(()=>{throw u},0)}function k(){var u=F;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,b){const A=ie.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new w(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,j=!1,F=new W,q=()=>{const u=a.Promise.resolve(void 0);Z=()=>{u.then(G)}};var G=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(b){M(b)}var y=ie;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,y),a.removeEventListener("test",b,y)}catch{}return u}();function Oe(u,y){if(oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(N){e:{try{P(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else b=="mouseover"?y=u.fromElement:b=="mouseout"&&(y=u.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}_(Oe,oe);var pe={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Se(u,y,b,A,L){this.listener=u,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=L,this.key=++Te,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,y,b,A,L){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var K=be(u,y,A,L);return-1<K?(y=u[K],b||(y.fa=!1)):(y=new Se(y,this.src,U,!!A,L),y.fa=b,u.push(y)),y};function ae(u,y){var b=y.type;if(b in u.g){var A=u.g[b],L=Array.prototype.indexOf.call(A,y,void 0),U;(U=0<=L)&&Array.prototype.splice.call(A,L,1),U&&(V(y),u.g[b].length==0&&(delete u.g[b],u.h--))}}function be(u,y,b,A){for(var L=0;L<u.length;++L){var U=u[L];if(!U.da&&U.listener==y&&U.capture==!!b&&U.ha==A)return L}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),Vt={};function It(u,y,b,A,L){if(Array.isArray(y)){for(var U=0;U<y.length;U++)It(u,y[U],b,A,L);return null}return b=ql(b),u&&u[re]?u.K(y,b,c(A)?!!A.capture:!!A,L):is(u,y,b,!1,A,L)}function is(u,y,b,A,L,U){if(!y)throw Error("Invalid event type");var K=c(L)?!!L.capture:!!L,Be=js(u);if(Be||(u[Fe]=Be=new ee(u)),b=Be.add(y,b,A,K,U),b.proxy)return b;if(A=Wl(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)Ee||(L=K),L===void 0&&(L=!1),u.addEventListener(y.toString(),A,L);else if(u.attachEvent)u.attachEvent(_d(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Wl(){function u(b){return y.call(u.src,u.listener,b)}const y=Wm;return u}function mt(u,y,b,A,L){if(Array.isArray(y))for(var U=0;U<y.length;U++)mt(u,y[U],b,A,L);else A=c(A)?!!A.capture:!!A,b=ql(b),u&&u[re]?(u=u.i,y=String(y).toString(),y in u.g&&(U=u.g[y],b=be(U,b,A,L),-1<b&&(V(U[b]),Array.prototype.splice.call(U,b,1),U.length==0&&(delete u.g[y],u.h--)))):u&&(u=js(u))&&(y=u.g[y.toString()],u=-1,y&&(u=be(y,b,A,L)),(b=-1<u?y[u]:null)&&kr(b))}function kr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[re])ae(y.i,u);else{var b=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(b,A,u.capture):y.detachEvent?y.detachEvent(_d(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=js(y))?(ae(b,u),b.h==0&&(b.src=null,y[Fe]=null)):V(u)}}}function _d(u){return u in Vt?Vt[u]:Vt[u]="on"+u}function Wm(u,y){if(u.da)u=!0;else{y=new Oe(y,this);var b=u.listener,A=u.ha||u.src;u.fa&&kr(u),u=b.call(A,y)}return u}function js(u){return u=u[Fe],u instanceof ee?u:null}var Hl="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[Hl]||(u[Hl]=function(y){return u.handleEvent(y)}),u[Hl])}function gt(){J.call(this),this.i=new ee(this),this.M=this,this.F=null}_(gt,J),gt.prototype[re]=!0,gt.prototype.removeEventListener=function(u,y,b,A){mt(this,u,y,b,A)};function st(u,y){var b,A=u.F;if(A)for(b=[];A;A=A.F)b.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new oe(y,u);else if(y instanceof oe)y.target=y.target||u;else{var L=y;y=new oe(A,u),R(y,L)}if(L=!0,b)for(var U=b.length-1;0<=U;U--){var K=y.g=b[U];L=eo(K,A,!0,y)&&L}if(K=y.g=u,L=eo(K,A,!0,y)&&L,L=eo(K,A,!1,y)&&L,b)for(U=0;U<b.length;U++)K=y.g=b[U],L=eo(K,A,!1,y)&&L}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var b=u.g[y],A=0;A<b.length;A++)V(b[A]);delete u.g[y],u.h--}}this.F=null},gt.prototype.K=function(u,y,b,A){return this.i.add(String(u),y,!1,b,A)},gt.prototype.L=function(u,y,b,A){return this.i.add(String(u),y,!0,b,A)};function eo(u,y,b,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,U=0;U<y.length;++U){var K=y[U];if(K&&!K.da&&K.capture==b){var Be=K.listener,At=K.ha||K.src;K.fa&&ae(u.i,K),L=Be.call(At,A)!==!1&&L}}return L&&!A.defaultPrevented}function os(u,y,b){if(typeof u=="function")b&&(u=p(u,b));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(u,y||0)}function Gl(u){u.g=os(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Hm extends J{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(u){J.call(this),this.h=u,this.g={}}_(Ls,J);var Kl=[];function Ed(u){O(u.g,function(y,b){this.g.hasOwnProperty(b)&&kr(y)},u),u.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Ed(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=a.JSON.stringify,Dr=a.JSON.parse,qm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function me(){}me.prototype.h=null;function Ue(u){return u.h||(u.h=u.i())}function je(){}var Ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yn(){oe.call(this,"d")}_(yn,oe);function Vs(){oe.call(this,"c")}_(Vs,oe);var as={},pE=null;function Td(){return pE=pE||new gt}as.La="serverreachability";function mE(u){oe.call(this,as.La,u)}_(mE,oe);function Ql(u){const y=Td();st(y,new mE(y))}as.STAT_EVENT="statevent";function gE(u,y){oe.call(this,as.STAT_EVENT,u),this.stat=y}_(gE,oe);function rn(u){const y=Td();st(y,new gE(y,u))}as.Ma="timingevent";function yE(u,y){oe.call(this,as.Ma,u),this.size=y}_(yE,oe);function Yl(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},y)}function Xl(){this.g=!0}Xl.prototype.xa=function(){this.g=!1};function YL(u,y,b,A,L,U){u.info(function(){if(u.g)if(U)for(var K="",Be=U.split("&"),At=0;At<Be.length;At++){var Ne=Be[At].split("=");if(1<Ne.length){var Ut=Ne[0];Ne=Ne[1];var $t=Ut.split("_");K=2<=$t.length&&$t[1]=="type"?K+(Ut+"="+Ne+"&"):K+(Ut+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+y+`
`+b+`
`+K})}function XL(u,y,b,A,L,U,K){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+y+`
`+b+`
`+U+" "+K})}function ra(u,y,b,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+ZL(u,b)+(A?" "+A:"")})}function JL(u,y){u.info(function(){return"TIMEOUT: "+y})}Xl.prototype.info=function(){};function ZL(u,y){if(!u.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var A=b[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return to(b)}catch{return y}}var bd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gm;function Sd(){}_(Sd,me),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},Gm=new Sd;function Fs(u,y,b,A){this.j=u,this.i=y,this.l=b,this.R=A||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wE}function wE(){this.i=null,this.g="",this.h=!1}var xE={},Km={};function Qm(u,y,b){u.L=1,u.v=Pd(ls(y)),u.m=b,u.P=!0,_E(u,null)}function _E(u,y){u.F=Date.now(),Cd(u),u.A=ls(u.v);var b=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),OE(b.i,"t",A),u.C=0,b=u.j.J,u.h=new wE,u.g=ZE(u.j,b?y:null,!u.m),0<u.O&&(u.M=new Hm(p(u.Y,u,u.g),u.O)),y=u.U,b=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Kl[0]=L.toString()),L=Kl);for(var U=0;U<L.length;U++){var K=It(b,L[U],A||y.handleEvent,!1,y.h||y);if(!K)break;y.g[K.key]=K}y=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),Ql(),YL(u.i,u.u,u.A,u.l,u.R,u.m)}Fs.prototype.ca=function(u){u=u.target;const y=this.M;y&&cs(u)==3?y.j():this.Y(u)},Fs.prototype.Y=function(u){try{if(u==this.g)e:{const $t=cs(this.g);var y=this.g.Ba();const oa=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||BE(this.g)))){this.J||$t!=4||y==7||(y==8||0>=oa?Ql(3):Ql(2)),Ym(this);var b=this.g.Z();this.X=b;t:if(EE(this)){var A=BE(this.g);u="";var L=A.length,U=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Jl(this);var K="";break t}this.h.i=new a.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,u+=this.h.i.decode(A[y],{stream:!(U&&y==L-1)});A.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=b==200,XL(this.i,this.u,this.A,this.l,this.R,$t,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,At=this.g;if((Be=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Be)){var Ne=Be;break t}}Ne=null}if(b=Ne)ra(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xm(this,b);else{this.o=!1,this.s=3,rn(12),no(this),Jl(this);break e}}if(this.P){b=!0;let ar;for(;!this.J&&this.C<K.length;)if(ar=eV(this,K),ar==Km){$t==4&&(this.s=4,rn(14),b=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==xE){this.s=4,rn(15),ra(this.i,this.l,K,"[Invalid Chunk]"),b=!1;break}else ra(this.i,this.l,ar,null),Xm(this,ar);if(EE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||K.length!=0||this.h.h||(this.s=1,rn(16),b=!1),this.o=this.o&&b,!b)ra(this.i,this.l,K,"[Invalid Chunked Response]"),no(this),Jl(this);else if(0<K.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),rg(Ut),Ut.M=!0,rn(11))}}else ra(this.i,this.l,K,null),Xm(this,K);$t==4&&no(this),this.o&&!this.J&&($t==4?QE(this.j,this):(this.o=!1,Cd(this)))}else yV(this.g),b==400&&0<K.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),no(this),Jl(this)}}}catch{}finally{}};function EE(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function eV(u,y){var b=u.C,A=y.indexOf(`
`,b);return A==-1?Km:(b=Number(y.substring(b,A)),isNaN(b)?xE:(A+=1,A+b>y.length?Km:(y=y.slice(A,A+b),u.C=A+b,y)))}Fs.prototype.cancel=function(){this.J=!0,no(this)};function Cd(u){u.S=Date.now()+u.I,TE(u,u.I)}function TE(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yl(p(u.ba,u),y)}function Ym(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Fs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(JL(this.i,this.A),this.L!=2&&(Ql(),rn(17)),no(this),this.s=2,Jl(this)):TE(this,this.S-u)};function Jl(u){u.j.G==0||u.J||QE(u.j,u)}function no(u){Ym(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Ed(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Xm(u,y){try{var b=u.j;if(b.G!=0&&(b.g==u||Jm(b.h,u))){if(!u.K&&Jm(b.h,u)&&b.G==3){try{var A=b.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Od(b),Dd(b);else break e;ng(b),rn(18)}}else b.za=L[1],0<b.za-b.T&&37500>L[2]&&b.F&&b.v==0&&!b.C&&(b.C=Yl(p(b.Za,b),6e3));if(1>=CE(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else so(b,11)}else if((u.K||b.g==u)&&Od(b),!x(y))for(L=b.Da.g.parse(y),y=0;y<L.length;y++){let Ne=L[y];if(b.T=Ne[0],Ne=Ne[1],b.G==2)if(Ne[0]=="c"){b.K=Ne[1],b.ia=Ne[2];const Ut=Ne[3];Ut!=null&&(b.la=Ut,b.j.info("VER="+b.la));const $t=Ne[4];$t!=null&&(b.Aa=$t,b.j.info("SVER="+b.Aa));const oa=Ne[5];oa!=null&&typeof oa=="number"&&0<oa&&(A=1.5*oa,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ar=u.g;if(ar){const Ld=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ld){var U=A.h;U.g||Ld.indexOf("spdy")==-1&&Ld.indexOf("quic")==-1&&Ld.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Zm(U,U.h),U.h=null))}if(A.D){const sg=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;sg&&(A.ya=sg,He(A.I,A.D,sg))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var K=u;if(A.qa=JE(A,A.J?A.ia:null,A.W),K.K){IE(A.h,K);var Be=K,At=A.L;At&&(Be.I=At),Be.B&&(Ym(Be),Cd(Be)),A.g=K}else GE(A);0<b.i.length&&Md(b)}else Ne[0]!="stop"&&Ne[0]!="close"||so(b,7);else b.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?so(b,7):tg(b):Ne[0]!="noop"&&b.l&&b.l.ta(Ne),b.v=0)}}Ql(4)}catch{}}var tV=class{constructor(u,y){this.g=u,this.map=y}};function bE(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SE(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function CE(u){return u.h?1:u.g?u.g.size:0}function Jm(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Zm(u,y){u.g?u.g.add(y):u.h=y}function IE(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}bE.prototype.cancel=function(){if(this.i=AE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function AE(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const b of u.g.values())y=y.concat(b.D);return y}return v(u.i)}function nV(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var y=[],b=u.length,A=0;A<b;A++)y.push(u[A]);return y}y=[],b=0;for(A in u)y[b++]=u[A];return y}function rV(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var y=[];u=u.length;for(var b=0;b<u;b++)y.push(b);return y}y=[],b=0;for(const A in u)y[b++]=A;return y}}}function PE(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var b=rV(u),A=nV(u),L=A.length,U=0;U<L;U++)y.call(void 0,A[U],b&&b[U],u)}var RE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sV(u,y){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var A=u[b].indexOf("="),L=null;if(0<=A){var U=u[b].substring(0,A);L=u[b].substring(A+1)}else U=u[b];y(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ro(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ro){this.h=u.h,Id(this,u.j),this.o=u.o,this.g=u.g,Ad(this,u.s),this.l=u.l;var y=u.i,b=new tc;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),NE(this,b),this.m=u.m}else u&&(y=String(u).match(RE))?(this.h=!1,Id(this,y[1]||"",!0),this.o=Zl(y[2]||""),this.g=Zl(y[3]||"",!0),Ad(this,y[4]),this.l=Zl(y[5]||"",!0),NE(this,y[6]||"",!0),this.m=Zl(y[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}ro.prototype.toString=function(){var u=[],y=this.j;y&&u.push(ec(y,kE,!0),":");var b=this.g;return(b||y=="file")&&(u.push("//"),(y=this.o)&&u.push(ec(y,kE,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(ec(b,b.charAt(0)=="/"?aV:oV,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",ec(b,cV)),u.join("")};function ls(u){return new ro(u)}function Id(u,y,b){u.j=b?Zl(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ad(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function NE(u,y,b){y instanceof tc?(u.i=y,uV(u.i,u.h)):(b||(y=ec(y,lV)),u.i=new tc(y,u.h))}function He(u,y,b){u.i.set(y,b)}function Pd(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Zl(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ec(u,y,b){return typeof u=="string"?(u=encodeURI(u).replace(y,iV),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iV(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var kE=/[#\/\?@]/g,oV=/[#\?:]/g,aV=/[#\?]/g,lV=/[#\?@]/g,cV=/#/g;function tc(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Us(u){u.g||(u.g=new Map,u.h=0,u.i&&sV(u.i,function(y,b){u.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=tc.prototype,t.add=function(u,y){Us(this),this.i=null,u=sa(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(y),this.h+=1,this};function DE(u,y){Us(u),y=sa(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function ME(u,y){return Us(u),y=sa(u,y),u.g.has(y)}t.forEach=function(u,y){Us(this),this.g.forEach(function(b,A){b.forEach(function(L){u.call(y,L,A,this)},this)},this)},t.na=function(){Us(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let A=0;A<y.length;A++){const L=u[A];for(let U=0;U<L.length;U++)b.push(y[A])}return b},t.V=function(u){Us(this);let y=[];if(typeof u=="string")ME(this,u)&&(y=y.concat(this.g.get(sa(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)y=y.concat(u[b])}return y},t.set=function(u,y){return Us(this),this.i=null,u=sa(this,u),ME(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function OE(u,y,b){DE(u,y),0<b.length&&(u.i=null,u.g.set(sa(u,y),v(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var A=y[b];const U=encodeURIComponent(String(A)),K=this.V(A);for(A=0;A<K.length;A++){var L=U;K[A]!==""&&(L+="="+encodeURIComponent(String(K[A]))),u.push(L)}}return this.i=u.join("&")};function sa(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function uV(u,y){y&&!u.j&&(Us(u),u.i=null,u.g.forEach(function(b,A){var L=A.toLowerCase();A!=L&&(DE(this,A),OE(this,L,b))},u)),u.j=y}function dV(u,y){const b=new Xl;if(a.Image){const A=new Image;A.onload=g($s,b,"TestLoadImage: loaded",!0,y,A),A.onerror=g($s,b,"TestLoadImage: error",!1,y,A),A.onabort=g($s,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=g($s,b,"TestLoadImage: timeout",!1,y,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function hV(u,y){const b=new Xl,A=new AbortController,L=setTimeout(()=>{A.abort(),$s(b,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then(U=>{clearTimeout(L),U.ok?$s(b,"TestPingServer: ok",!0,y):$s(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),$s(b,"TestPingServer: error",!1,y)})}function $s(u,y,b,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(b)}catch{}}function fV(){this.g=new qm}function pV(u,y,b){const A=b||"";try{PE(u,function(L,U){let K=L;c(L)&&(K=to(L)),y.push(A+U+"="+encodeURIComponent(K))})}catch(L){throw y.push(A+"type="+encodeURIComponent("_badmap")),L}}function Rd(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Rd,me),Rd.prototype.g=function(){return new Nd(this.l,this.j)},Rd.prototype.i=function(u){return function(){return u}}({});function Nd(u,y){gt.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Nd,gt),t=Nd.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,rc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?nc(this):rc(this),this.readyState==3&&jE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,nc(this))},t.Qa=function(u){this.g&&(this.response=u,nc(this))},t.ga=function(){this.g&&nc(this)};function nc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,rc(u)}t.setRequestHeader=function(u,y){this.u.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=y.next();return u.join(`\r
`)};function rc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function LE(u){let y="";return O(u,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function eg(u,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=LE(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):He(u,y,b))}function it(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(it,gt);var mV=/^https?$/i,gV=["POST","PUT"];t=it.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gm.g(),this.v=this.o?Ue(this.o):Ue(Gm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(U){VE(this,U);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)b.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())b.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(U=>U.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gV,y,void 0))||A||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of b)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$E(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){VE(this,U)}};function VE(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,FE(u),kd(u)}function FE(u){u.A||(u.A=!0,st(u,"complete"),st(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,st(this,"complete"),st(this,"abort"),kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kd(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?UE(this):this.bb())},t.bb=function(){UE(this)};function UE(u){if(u.h&&typeof o<"u"&&(!u.v[1]||cs(u)!=4||u.Z()!=2)){if(u.u&&cs(u)==4)os(u.Ea,0,u);else if(st(u,"readystatechange"),cs(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=K===0){var L=String(u.D).match(RE)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!mV.test(L?L.toLowerCase():"")}b=A}if(b)st(u,"complete"),st(u,"success");else{u.m=6;try{var U=2<cs(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",FE(u)}}finally{kd(u)}}}}function kd(u,y){if(u.g){$E(u);const b=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||st(u,"ready");try{b.onreadystatechange=A}catch{}}}function $E(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function cs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Dr(y)}};function BE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yV(u){const y={};u=(u.g&&2<=cs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var b=D(u[A]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const U=y[L]||[];y[L]=U,U.push(b)}C(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sc(u,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||y}function zE(u){this.Aa=0,this.i=[],this.j=new Xl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sc("baseRetryDelayMs",5e3,u),this.cb=sc("retryDelaySeedMs",1e4,u),this.Wa=sc("forwardChannelMaxRetries",2,u),this.wa=sc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bE(u&&u.concurrentRequestLimit),this.Da=new fV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zE.prototype,t.la=8,t.G=1,t.connect=function(u,y,b,A){rn(0),this.W=u,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=JE(this,null,this.W),Md(this)};function tg(u){if(WE(u),u.G==3){var y=u.U++,b=ls(u.I);if(He(b,"SID",u.K),He(b,"RID",y),He(b,"TYPE","terminate"),ic(u,b),y=new Fs(u,u.j,y),y.L=2,y.v=Pd(ls(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=y.v,b=!0),b||(y.g=ZE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Cd(y)}XE(u)}function Dd(u){u.g&&(rg(u),u.g.cancel(),u.g=null)}function WE(u){Dd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Od(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Md(u){if(!SE(u.h)&&!u.s){u.s=!0;var y=u.Ga;Z||q(),j||(Z(),j=!0),F.add(y,u),u.B=0}}function vV(u,y){return CE(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yl(p(u.Ga,u,y),YE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Fs(this,this.j,u);let U=this.o;if(this.S&&(U?(U=S(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=qE(this,L,y),b=ls(this.I),He(b,"RID",u),He(b,"CVER",22),this.D&&He(b,"X-HTTP-Session-Id",this.D),ic(this,b),U&&(this.O?y="headers="+encodeURIComponent(String(LE(U)))+"&"+y:this.m&&eg(b,this.m,U)),Zm(this.h,L),this.Ua&&He(b,"TYPE","init"),this.P?(He(b,"$req",y),He(b,"SID","null"),L.T=!0,Qm(L,b,null)):Qm(L,b,y),this.G=2}}else this.G==3&&(u?HE(this,u):this.i.length==0||SE(this.h)||HE(this))};function HE(u,y){var b;y?b=y.l:b=u.U++;const A=ls(u.I);He(A,"SID",u.K),He(A,"RID",b),He(A,"AID",u.T),ic(u,A),u.m&&u.o&&eg(A,u.m,u.o),b=new Fs(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),y&&(u.i=y.D.concat(u.i)),y=qE(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Zm(u.h,b),Qm(b,A,y)}function ic(u,y){u.H&&O(u.H,function(b,A){He(y,A,b)}),u.l&&PE({},function(b,A){He(y,A,b)})}function qE(u,y,b){b=Math.min(u.i.length,b);var A=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let U=-1;for(;;){const K=["count="+b];U==-1?0<b?(U=L[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let Be=!0;for(let At=0;At<b;At++){let Ne=L[At].g;const Ut=L[At].map;if(Ne-=U,0>Ne)U=Math.max(0,L[At].g-100),Be=!1;else try{pV(Ut,K,"req"+Ne+"_")}catch{A&&A(Ut)}}if(Be){A=K.join("&");break e}}}return u=u.i.splice(0,b),y.D=u,A}function GE(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;Z||q(),j||(Z(),j=!0),F.add(y,u),u.v=0}}function ng(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yl(p(u.Fa,u),YE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,KE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yl(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Dd(this),KE(this))};function rg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function KE(u){u.g=new Fs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=ls(u.qa);He(y,"RID","rpc"),He(y,"SID",u.K),He(y,"AID",u.T),He(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(y,"TO",u.ja),He(y,"TYPE","xmlhttp"),ic(u,y),u.m&&u.o&&eg(y,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Pd(ls(y)),b.m=null,b.P=!0,_E(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Dd(this),ng(this),rn(19))};function Od(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function QE(u,y){var b=null;if(u.g==y){Od(u),rg(u),u.g=null;var A=2}else if(Jm(u.h,y))b=y.D,IE(u.h,y),A=1;else return;if(u.G!=0){if(y.o)if(A==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var L=u.B;A=Td(),st(A,new yE(A,b)),Md(u)}else GE(u);else if(L=y.s,L==3||L==0&&0<y.X||!(A==1&&vV(u,y)||A==2&&ng(u)))switch(b&&0<b.length&&(y=u.h,y.i=y.i.concat(b)),L){case 1:so(u,5);break;case 4:so(u,10);break;case 3:so(u,6);break;default:so(u,2)}}}function YE(u,y){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*y}function so(u,y){if(u.j.info("Error code "+y),y==2){var b=p(u.fb,u),A=u.Xa;const L=!A;A=new ro(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Id(A,"https"),Pd(A),L?dV(A.toString(),b):hV(A.toString(),b)}else rn(2);u.G=0,u.l&&u.l.sa(y),XE(u),WE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function XE(u){if(u.G=0,u.ka=[],u.l){const y=AE(u.h);(y.length!=0||u.i.length!=0)&&(E(u.ka,y),E(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function JE(u,y,b){var A=b instanceof ro?ls(b):new ro(b);if(A.g!="")y&&(A.g=y+"."+A.g),Ad(A,A.s);else{var L=a.location;A=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var U=new ro(null);A&&Id(U,A),y&&(U.g=y),L&&Ad(U,L),b&&(U.l=b),A=U}return b=u.D,y=u.ya,b&&y&&He(A,b,y),He(A,"VER",u.la),ic(u,A),A}function ZE(u,y,b){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new it(new Rd({eb:b})):new it(u.pa),y.Ha(u.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eT(){}t=eT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jd(){}jd.prototype.g=function(u,y){return new Pn(u,y)};function Pn(u,y){gt.call(this),this.g=new zE(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!x(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ia(this)}_(Pn,gt),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){tg(this.g)},Pn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=to(u),u=b);y.i.push(new tV(y.Ya++,u)),y.G==3&&Md(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,Pn.aa.N.call(this)};function tT(u){yn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const b in y){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}_(tT,yn);function nT(){Vs.call(this),this.status=1}_(nT,Vs);function ia(u){this.g=u}_(ia,eT),ia.prototype.ua=function(){st(this.g,"a")},ia.prototype.ta=function(u){st(this.g,new tT(u))},ia.prototype.sa=function(u){st(this.g,new nT)},ia.prototype.ra=function(){st(this.g,"b")},jd.prototype.createWebChannel=jd.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Gk=function(){return new jd},qk=function(){return Td()},Hk=as,qv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bd.NO_ERROR=0,bd.TIMEOUT=8,bd.HTTP_ERROR=6,Bh=bd,vE.COMPLETE="complete",Wk=vE,je.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Tc=je,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,zk=it}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",Fb="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Yp("@firebase/firestore");function ha(){return Bo.logLevel}function te(t,...e){if(Bo.logLevel<=Ie.DEBUG){const n=e.map(_x);Bo.debug(`Firestore (${Ol}): ${t}`,...n)}}function Ps(t,...e){if(Bo.logLevel<=Ie.ERROR){const n=e.map(_x);Bo.error(`Firestore (${Ol}): ${t}`,...n)}}function fl(t,...e){if(Bo.logLevel<=Ie.WARN){const n=e.map(_x);Bo.warn(`Firestore (${Ol}): ${t}`,...n)}}function _x(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Kk(t,r,n)}function Kk(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Kk(e,s,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class U7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $7{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class B7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ub(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=H7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Gv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return _e(r,s);{const i=Yk(),o=q7(i.encode($b(t,n)),i.encode($b(e,n)));return o!==0?o:_e(r,s)}}n+=r>65535?2:1}return _e(t.length,e.length)}function $b(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function q7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return _e(t[n],e[n]);return _e(t.length,e.length)}function pl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=-62135596800,zb=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zb);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bb)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ct(0,0))}static max(){return new ge(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="__name__";class jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=jr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=jr.isNumericId(e),s=jr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?jr.extractNumericId(e).compare(jr.extractNumericId(n)):Gv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Ke extends jr{construct(e,n,r){return new Ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const G7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends jr{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return G7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wb}static keyField(){return new kt([Wb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ke.fromString(e))}static fromName(e){return new le(Ke.fromString(e).popFirst(5))}static empty(){return new le(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function K7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Di(s,le.empty(),e)}function Q7(t){return new Di(t.readTime,t.key,Iu)}class Di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Di(ge.min(),le.empty(),Iu)}static max(){return new Di(ge.max(),le.empty(),Iu)}}function Y7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==X7)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Z7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=-1;function rm(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function eH(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="";function tH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hb(e)),e=nH(t.get(n),e);return Hb(e)}function nH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Jk:n+="";break;default:n+=i}}return n}function Hb(t){return t+Jk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Et(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eD("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const rH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=rH.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="server_timestamp",nD="__type__",rD="__previous_value__",sD="__local_write_time__";function Tx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nD])===null||n===void 0?void 0:n.stringValue)===tD}function sm(t){const e=t.mapValue.fields[rD];return Tx(e)?sm(e):e}function Au(t){const e=Mi(t.mapValue.fields[sD].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Yf="(default)";class Pu{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="__type__",oD="__max__",uh={mapValue:{fields:{__type__:{stringValue:oD}}}},aD="__vector__",Xf="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tx(t)?4:oH(t)?9007199254740991:iH(t)?10:11:de(28295,{value:t})}function ns(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Mi(s.timestampValue),a=Mi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Oi(s.bytesValue).isEqual(Oi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?Qf(o)===Qf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qb(o)!==qb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ns(o[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Ru(t,e){return(t.values||[]).find(n=>ns(n,e))!==void 0}function ml(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Kb(t.timestampValue,e.timestampValue);case 4:return Kb(Au(t),Au(e));case 5:return Gv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Oi(i),l=Oi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=_e(a[c],l[c]);if(d!==0)return d}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(dt(i.latitude),dt(o.latitude));return a!==0?a:_e(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},g=(a=f[Xf])===null||a===void 0?void 0:a.arrayValue,_=(l=p[Xf])===null||l===void 0?void 0:l.arrayValue,v=_e(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Qb(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uh.mapValue&&o===uh.mapValue)return 0;if(i===uh.mapValue)return 1;if(o===uh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Gv(l[f],d[f]);if(p!==0)return p;const g=ml(a[l[f]],c[d[f]]);if(g!==0)return g}return _e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw de(23264,{Pe:n})}}function Kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Mi(t),r=Mi(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function Qb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ml(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function gl(t){return Kv(t)}function Kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Kv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Kv(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function zh(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qi(r.fields,(i,o)=>{s+=i.length+zh(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function Yb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qv(t){return!!t&&"integerValue"in t}function bx(t){return!!t&&"arrayValue"in t}function Xb(t){return!!t&&"nullValue"in t}function Jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function iH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iD])===null||n===void 0?void 0:n.stringValue)===aD}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(qc(this.value))}}function lD(t){const e=[];return Qi(t.fields,(n,r)=>{const s=new kt([n]);if(Wh(r)){const i=lD(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,ge.min(),ge.min(),ge.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,ge.min(),ge.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,ge.min(),ge.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function Zb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=ml(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function eS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function aH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class wt extends cD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cH(e,n,r):n==="array-contains"?new hH(e,r):n==="in"?new fH(e,r):n==="not-in"?new pH(e,r):n==="array-contains-any"?new mH(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uH(e,r):new dH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ml(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends cD{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ir(e,n)}matches(e){return uD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uD(t){return t.op==="and"}function dD(t){return lH(t)&&uD(t)}function lH(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Yv(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(dD(t))return t.filters.map(e=>Yv(e)).join(",");{const e=t.filters.map(n=>Yv(n)).join(",");return`${t.op}(${e})`}}function hD(t,e){return t instanceof wt?function(r,s){return s instanceof wt&&r.op===s.op&&r.field.isEqual(s.field)&&ns(r.value,s.value)}(t,e):t instanceof Ir?function(r,s){return s instanceof Ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&hD(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function fD(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(fD).join(" ,")+"}"}(t):"Filter"}class cH extends wt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class uH extends wt{constructor(e,n){super(e,"in",n),this.keys=pD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dH extends wt{constructor(e,n){super(e,"not-in",n),this.keys=pD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class hH extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bx(n)&&Ru(n.arrayValue,this.value)}}class fH extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class pH extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ru(this.value.arrayValue,n)}}class mH extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function tS(t,e=null,n=[],r=[],s=null,i=null,o=null){return new gH(t,e,n,r,s,i,o)}function Sx(t){const e=ye(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gl(r)).join(",")),e.Ie=n}return e.Ie}function Cx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eS(t.startAt,e.startAt)&&eS(t.endAt,e.endAt)}function Xv(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yH(t,e,n,r,s,i,o,a){return new Vl(t,e,n,r,s,i,o,a)}function im(t){return new Vl(t)}function nS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mD(t){return t.collectionGroup!==null}function Gc(t){const e=ye(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Nu(i,r))}),n.has(kt.keyField().canonicalString())||e.Ee.push(new Nu(kt.keyField(),r))}return e.Ee}function Qr(t){const e=ye(t);return e.de||(e.de=vH(e,Gc(t))),e.de}function vH(t,e){if(t.limitType==="F")return tS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Nu(s.field,i)});const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return tS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return Cx(Qr(t),Qr(e))&&t.limitType===e.limitType}function gD(t){return`${Sx(Qr(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fD(s)).join(", ")}]`),rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gl(s)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Gc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Zb(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Gc(r),s)||r.endAt&&!function(o,a,l){const c=Zb(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Gc(r),s))}(t,e)}function wH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yD(t){return(e,n)=>{let r=!1;for(const s of Gc(t)){const i=xH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function xH(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ml(l,c):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new rt(le.comparator);function Rs(){return _H}const vD=new rt(le.comparator);function bc(...t){let e=vD;for(const n of t)e=e.insert(n.key,n);return e}function wD(t){let e=vD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wo(){return Kc()}function xD(){return Kc()}function Kc(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const EH=new rt(le.comparator),TH=new Et(le.comparator);function Ae(...t){let e=TH;for(const n of t)e=e.add(n);return e}const bH=new Et(_e);function SH(){return bH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function _D(t){return{integerValue:""+t}}function CH(t,e){return eH(e)?_D(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function IH(t,e,n){return t instanceof ku?function(s,i){const o={fields:{[nD]:{stringValue:tD},[sD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Tx(i)&&(i=sm(i)),i&&(o.fields[rD]=i),{mapValue:o}}(n,e):t instanceof Du?TD(t,e):t instanceof Mu?bD(t,e):function(s,i){const o=ED(s,i),a=rS(o)+rS(s.Re);return Qv(o)&&Qv(s.Re)?_D(a):Ix(s.serializer,a)}(t,e)}function AH(t,e,n){return t instanceof Du?TD(t,e):t instanceof Mu?bD(t,e):n}function ED(t,e){return t instanceof ep?function(r){return Qv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ku extends lm{}class Du extends lm{constructor(e){super(),this.elements=e}}function TD(t,e){const n=SD(e);for(const r of t.elements)n.some(s=>ns(s,r))||n.push(r);return{arrayValue:{values:n}}}class Mu extends lm{constructor(e){super(),this.elements=e}}function bD(t,e){let n=SD(e);for(const r of t.elements)n=n.filter(s=>!ns(s,r));return{arrayValue:{values:n}}}class ep extends lm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function rS(t){return dt(t.integerValue||t.doubleValue)}function SD(t){return bx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n){this.field=e,this.transform=n}}function RH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Du&&s instanceof Du||r instanceof Mu&&s instanceof Mu?pl(r.elements,s.elements,ns):r instanceof ep&&s instanceof ep?ns(r.Re,s.Re):r instanceof ku&&s instanceof ku}(t.transform,e.transform)}class NH{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cm{}function CD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,er.none()):new cd(t.key,t.data,er.none());{const n=t.data,r=_n.empty();let s=new Et(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yi(t.key,r,new jn(s.toArray()),er.none())}}function kH(t,e,n){t instanceof cd?function(s,i,o){const a=s.value.clone(),l=iS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,i,o){if(!Hh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=iS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ID(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qc(t,e,n,r){return t instanceof cd?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const c=i.value.clone(),d=oS(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const c=oS(i.fieldTransforms,l,o),d=o.data;return d.setAll(ID(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Hh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ED(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function sS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pl(r,s,(i,o)=>RH(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends cm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ID(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iS(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,AH(o,a,n[s]))}return r}function oS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,IH(i,o,e))}return r}class Ax extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MH extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xD();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CD(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,r)=>sS(n,r))&&pl(this.baseMutations,e.baseMutations,(n,r)=>sS(n,r))}}class Px{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return EH}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Px(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Pe;function VH(t){switch(t){case $.OK:return de(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function AD(t){if(t===void 0)return Ps("GRPC error has no .code"),$.UNKNOWN;switch(t){case yt.OK:return $.OK;case yt.CANCELLED:return $.CANCELLED;case yt.UNKNOWN:return $.UNKNOWN;case yt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case yt.INTERNAL:return $.INTERNAL;case yt.UNAVAILABLE:return $.UNAVAILABLE;case yt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case yt.NOT_FOUND:return $.NOT_FOUND;case yt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case yt.ABORTED:return $.ABORTED;case yt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case yt.DATA_LOSS:return $.DATA_LOSS;default:return de(39323,{code:t})}}(Pe=yt||(yt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Ti([4294967295,4294967295],0);function aS(t){const e=Yk().encode(t),n=new Bk;return n.update(e),new Uint8Array(n.digest())}function lS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([s,i],0)]}class Rx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sc(`Invalid padding: ${n}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ti.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ti.fromNumber(r)));return s.compare(FH)===1&&(s=new Ti([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=aS(e),[r,s]=lS(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.Se(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Rx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=aS(e),[r,s]=lS(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(ge.min(),s,new rt(_e),Rs(),Ae())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class PD{constructor(e,n){this.targetId=e,this.Ce=n}}class RD{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cS{constructor(){this.Fe=0,this.Me=uS(),this.xe=Lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),n=Ae(),r=Ae();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new ud(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=uS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class UH{constructor(e){this.ze=e,this.je=new Map,this.He=Rs(),this.Je=dh(),this.Ye=dh(),this.Ze=new rt(_e)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Xv(i))if(r===0){const o=new le(i.path);this.tt(n,o,Yt.newNoDocument(o,ge.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Oi(r).toUint8Array()}catch(l){if(l instanceof eD)return fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Rx(o,s,i)}catch(l){return fl(l instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Xv(a.target)){const l=new le(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Yt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Ae();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new um(e,n,this.Ze,this.He,r);return this.He=Rs(),this.Je=dh(),this.Ye=dh(),this.Ze=new rt(_e),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new cS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Et(_e),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Et(_e),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new cS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function dh(){return new rt(le.comparator)}function uS(){return new rt(le.comparator)}const $H={asc:"ASCENDING",desc:"DESCENDING"},BH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zH={and:"AND",or:"OR"};class WH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zv(t,e){return t.useProto3Json||rm(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ND(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HH(t,e){return tp(t,e.toTimestamp())}function Yr(t){return Me(!!t,49232),ge.fromTimestamp(function(n){const r=Mi(n);return new ct(r.seconds,r.nanos)}(t))}function Nx(t,e){return ew(t,e).canonicalString()}function ew(t,e){const n=function(s){return new Ke(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kD(t){const e=Ke.fromString(t);return Me(LD(e),10190,{key:e.toString()}),e}function tw(t,e){return Nx(t.databaseId,e.path)}function Yg(t,e){const n=kD(e);if(n.get(1)!==t.databaseId.projectId)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(MD(n))}function DD(t,e){return Nx(t.databaseId,e)}function qH(t){const e=kD(t);return e.length===4?Ke.emptyPath():MD(e)}function nw(t){return new Ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MD(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dS(t,e,n){return{name:tw(t,e),fields:n.value.mapValue.fields}}function GH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string",58123),Lt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:AD(c.code);return new ne(d,c.message||"")}(o);n=new RD(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Yg(t,r.document.name),i=Yr(r.document.updateTime),o=r.document.createTime?Yr(r.document.createTime):ge.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new qh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Yg(t,r.document),i=r.readTime?Yr(r.readTime):ge.min(),o=Yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new qh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Yg(t,r.document),i=r.removedTargetIds||[];n=new qh([],i,s,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new LH(s,i),a=r.targetId;n=new PD(a,o)}}return n}function KH(t,e){let n;if(e instanceof cd)n={update:dS(t,e.key,e.value)};else if(e instanceof Ax)n={delete:tw(t,e.key)};else if(e instanceof Yi)n={update:dS(t,e.key,e.data),updateMask:rq(e.fieldMask)};else{if(!(e instanceof MH))return de(16599,{ft:e.type});n={verify:tw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:HH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function QH(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Yr(s.updateTime):Yr(i);return o.isEqual(ge.min())&&(o=Yr(i)),new NH(o,s.transformResults||[])}(n,e))):[]}function YH(t,e){return{documents:[DD(t,e.path)]}}function XH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DD(t,s);const i=function(c){if(c.length!==0)return jD(Ir.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:pa(p.field),direction:eq(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function JH(t){let e=qH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=OD(f);return p instanceof Ir&&dD(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Nu(ma(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,rm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new Jf(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new Jf(g,p)}(n.endAt)),yH(e,s,o,i,a,"F",l,c)}function ZH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ma(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ma(n.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ma(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ma(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return wt.create(ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>OD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function eq(t){return $H[t]}function tq(t){return BH[t]}function nq(t){return zH[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ma(t){return kt.fromServerFormat(t.fieldPath)}function jD(t){return t instanceof wt?function(n){if(n.op==="=="){if(Jb(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(Xb(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jb(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(Xb(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:tq(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(s=>jD(s));return r.length===1?r[0]:{compositeFilter:{op:nq(n.op),filters:r}}}(t):de(54877,{filter:t})}function rq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.wt=e}}function iq(t){const e=JH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.Cn=new aq}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Di.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class aq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Ke.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VD=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(VD,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yl(0)}static lr(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="LruGarbageCollector",lq=1048576;function pS([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class cq{constructor(e){this.Er=e,this.buffer=new Et(pS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){te(fS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?te(fS,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.mr(3e5)})}}class dq{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(nm.le);const r=new cq(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(hS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ha()<=Ie.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function hq(t,e){return new dq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qc(r.mutation,s,jn.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=wo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=bc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rs();const o=Kc(),a=function(){return Kc()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Yi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Qc(d.mutation,c,d.mutation.getFieldMask(),ct.now())):o.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new pq(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Kc();let s=new rt((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||jn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ae()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=xD();d.forEach(p=>{if(!i.has(p)){const g=CD(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(wo());let a=Iu,l=i;return o.next(c=>B.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ae())).next(d=>({batchId:a,changes:wD(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=bc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=bc();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(f,p){return new Vl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Yt.newInvalidDocument(d)))});let a=bc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Qc(d.mutation,c,jn.empty(),ct.now()),am(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return B.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:iq(s.bundledQuery),readTime:Yr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.overlays=new rt(le.comparator),this.Qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=wo(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new rt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=wo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=wo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return B.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jH(n,r));let i=this.Qr.get(n);i===void 0&&(i=Ae(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.$r=new Et(Tt.Ur),this.Kr=new Et(Tt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Tt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new le(new Ke([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new le(new Ke([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=Ae();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return le.comparator(e.key,n.key)||_e(e.Zr,n.Zr)}static Wr(e,n){return _e(e.Zr,n.Zr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Et(Tt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OH(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new Tt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ex:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(_e);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new le(i),0);let a=new Et(_e);return this.Xr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Zr)),!0)},o),B.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Tt(n,0),s=this.Xr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.ii=e,this.docs=function(){return new rt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Yt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rs();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Y7(Q7(d),r)<=0||(s.has(d.key)||am(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}si(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _q(this)}getSize(e){return B.resolve(this.size)}}class _q extends fq{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.persistence=e,this.oi=new Zo(n=>Sx(n),Cx),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this._i=0,this.ai=new kx,this.targetCount=0,this.ui=yl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),B.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Tr(n),B.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.ci={},this.overlays={},this.li=new nm(0),this.hi=!1,this.hi=!0,this.Pi=new vq,this.referenceDelegate=e(this),this.Ti=new Eq(this),this.indexManager=new oq,this.remoteDocumentCache=function(s){return new xq(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new sq(n),this.Ei=new gq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new wq(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new Tq(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class Tq extends J7{constructor(e){super(),this.currentSequenceNumber=e}}class Dx{constructor(e){this.persistence=e,this.Vi=new kx,this.mi=null}static fi(e){return new Dx(e)}get gi(){if(this.mi)return this.mi;throw de(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{const s=le.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return B.or([()=>B.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class np{constructor(e,n){this.persistence=e,this.yi=new Zo(r=>tH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hq(this,n)}static fi(e,n){return new np(e,n)}di(){}Ai(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return B.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ge.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),B.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}Dr(e,n,r){return B.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return L9()?8:Z7(nn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new bq;return this.bs(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(ha()<=Ie.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(ha()<=Ie.DEBUG&&te("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(ha()<=Ie.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):B.resolve())}ws(e,n){if(nS(n))return B.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zf(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.vs(n,a);return this.Cs(n,c,o,l.readTime)?this.ws(e,Zf(n,null,"F")):this.Fs(e,c,n,l)}))})))}Ss(e,n,r,s){return nS(n)||s.isEqual(ge.min())?B.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(ha()<=Ie.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fa(n)),this.Fs(e,o,n,K7(s,Iu)).next(a=>a))})}vs(e,n){let r=new Et(yD(e));return n.forEach((s,i)=>{am(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}bs(e,n,r){return ha()<=Ie.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",fa(n)),this.ys.getDocumentsMatchingQuery(e,n,Di.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LocalStore",Cq=3e8;class Iq{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new rt(_e),this.Os=new Zo(i=>Sx(i),Cx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mq(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function Aq(t,e,n,r){return new Iq(t,e,n,r)}async function UD(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ae();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})}function Pq(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=B.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(v=>{const E=c.docVersions.get(_);Me(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $D(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Rq(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(v,E,w){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Cq?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,d)&&a.push(n.Ti.updateTargetData(i,g))});let l=Rs(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Nq(i,o,e.documentUpdates).next(d=>{l=d.qs,c=d.Qs})),!r.isEqual(ge.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(f=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.xs=s,i))}function Nq(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(Ox,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function kq(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ex),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dq(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function rw(t,e,n){const r=ye(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ll(o))throw o;te(Ox,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function mS(t,e,n){const r=ye(t);let s=ge.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ye(l),p=f.Os.get(d);return p!==void 0?B.resolve(f.xs.get(p)):f.Ti.getTargetData(c,d)}(r,o,Qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ae())).next(a=>(Mq(r,wH(e),a),{documents:a,$s:i})))}function Mq(t,e,n){let r=t.Ns.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class gS{constructor(){this.activeTargetIds=SH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Oq{constructor(){this.xo=new gS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new gS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="ConnectivityMonitor";class vS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){te(yS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){te(yS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function sw(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RestConnection",Lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vq{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=sw(),a=this.jo(e,n.toUriEncodedString());te(Xg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:c}=new URL(a),d=nd(c);return this.Jo(e,a,l,r,d).then(f=>(te(Xg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw fl(Xg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=Lq[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class Uq extends Vq{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=sw();return new Promise((a,l)=>{const c=new zk;c.setWithCredentials(!0),c.listenOnce(Wk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bh.NO_ERROR:const f=c.getResponseJson();te(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Bh.TIMEOUT:te(Ht,`RPC '${e}' ${o} timed out`),l(new ne($.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const p=c.getStatus();if(te(Ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const v=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(_.status);l(new ne(v,_.message))}else l(new ne($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne($.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{te(Ht,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);te(Ht,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=sw(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Gk(),a=qk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");te(Ht,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const _=new Fq({Zo:E=>{g?te(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(te(Ht,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),te(Ht,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Xo:()=>f.close()}),v=(E,w,x)=>{E.listen(w,T=>{try{x(T)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,Tc.EventType.OPEN,()=>{g||(te(Ht,`RPC '${e}' stream ${s} transport opened.`),_.__())}),v(f,Tc.EventType.CLOSE,()=>{g||(g=!0,te(Ht,`RPC '${e}' stream ${s} transport closed`),_.u_())}),v(f,Tc.EventType.ERROR,E=>{g||(g=!0,fl(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),_.u_(new ne($.UNAVAILABLE,"The operation could not be completed")))}),v(f,Tc.EventType.MESSAGE,E=>{var w;if(!g){const x=E.data[0];Me(!!x,16349);const T=x,P=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(P){te(Ht,`RPC '${e}' stream ${s} received error:`,P);const N=P.status;let O=function(I){const R=yt[I];if(R!==void 0)return AD(R)}(N),C=P.message;O===void 0&&(O=$.INTERNAL,C="Unknown error status: "+N+" with message "+P.message),g=!0,_.u_(new ne(O,C)),f.close()}else te(Ht,`RPC '${e}' stream ${s} received:`,x),_.c_(x)}}),v(a,Hk.STAT_EVENT,E=>{E.stat===qv.PROXY?te(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===qv.NOPROXY&&te(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new WH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=s,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="PersistentStream";class zD{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.y_=r,this.w_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new BD(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===n&&this.K_(r,s)},r=>{e(()=>{const s=new ne($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return te(wS,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(te(wS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $q extends zD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=GH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Yr(o.readTime):ge.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=nw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Xv(l)?{documents:YH(i,l)}:{query:XH(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ND(i,o.resumeToken);const c=Zv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=tp(i,o.snapshotVersion.toTimestamp());const c=Zv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ZH(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=nw(this.serializer),n.removeTarget=e,this.L_(n)}}class Bq extends zD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=QH(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=nw(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KH(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{}class Wq extends zq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,ew(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne($.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,ew(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne($.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Hq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ps(n),this.oa=!1):te("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class qq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ea(this)&&(te(zo,"Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.Ta.add(4),await dd(c),c.da.set("Unknown"),c.Ta.delete(4),await hm(c)}(this))})}),this.da=new Hq(r,s)}}async function hm(t){if(ea(t))for(const e of t.Ia)await e(!0)}async function dd(t){for(const e of t.Ia)await e(!1)}function WD(t,e){const n=ye(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Fx(n)?Vx(n):Fl(n).M_()&&Lx(n,e))}function jx(t,e){const n=ye(t),r=Fl(n);n.Pa.delete(e),r.M_()&&HD(n,e),n.Pa.size===0&&(r.M_()?r.N_():ea(n)&&n.da.set("Unknown"))}function Lx(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fl(t).H_(e)}function HD(t,e){t.Aa.Ke(e),Fl(t).J_(e)}function Vx(t){t.Aa=new UH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Fl(t).start(),t.da._a()}function Fx(t){return ea(t)&&!Fl(t).F_()&&t.Pa.size>0}function ea(t){return ye(t).Ta.size===0}function qD(t){t.Aa=void 0}async function Gq(t){t.da.set("Online")}async function Kq(t){t.Pa.forEach((e,n)=>{Lx(t,e)})}async function Qq(t,e){qD(t),Fx(t)?(t.da.ca(e),Vx(t)):t.da.set("Unknown")}async function Yq(t,e,n){if(t.da.set("Online"),e instanceof RD&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Pa.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Pa.delete(a),s.Aa.removeTarget(a))}(t,e)}catch(r){te(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof qh?t.Aa.Xe(e):e instanceof PD?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(ge.min()))try{const r=await $D(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Pa.get(c);d&&i.Pa.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Pa.get(l);if(!d)return;i.Pa.set(l,d.withResumeToken(Lt.EMPTY_BYTE_STRING,d.snapshotVersion)),HD(i,l);const f=new di(d.target,l,c,d.sequenceNumber);Lx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(zo,"Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!Ll(e))throw e;t.Ta.add(1),await dd(t),t.da.set("Offline"),n||(n=()=>$D(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(zo,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await hm(t)})}function GD(t,e){return e().catch(n=>rp(t,n,e))}async function fm(t){const e=ye(t),n=Li(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Ex;for(;Xq(e);)try{const s=await kq(e.localStore,r);if(s===null){e.ha.length===0&&n.N_();break}r=s.batchId,Jq(e,s)}catch(s){await rp(e,s)}KD(e)&&QD(e)}function Xq(t){return ea(t)&&t.ha.length<10}function Jq(t,e){t.ha.push(e);const n=Li(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function KD(t){return ea(t)&&!Li(t).F_()&&t.ha.length>0}function QD(t){Li(t).start()}async function Zq(t){Li(t).ta()}async function eG(t){const e=Li(t);for(const n of t.ha)e.Z_(n.mutations)}async function tG(t,e,n){const r=t.ha.shift(),s=Px.from(r,e,n);await GD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fm(t)}async function nG(t,e){e&&Li(t).Y_&&await async function(r,s){if(function(o){return VH(o)&&o!==$.ABORTED}(s.code)){const i=r.ha.shift();Li(r).O_(),await GD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fm(r)}}(t,e),KD(t)&&QD(t)}async function xS(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te(zo,"RemoteStore received new credentials");const r=ea(n);n.Ta.add(3),await dd(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await hm(n)}async function rG(t,e){const n=ye(t);e?(n.Ta.delete(2),await hm(n)):e||(n.Ta.add(2),await dd(n),n.da.set("Unknown"))}function Fl(t){return t.Ra||(t.Ra=function(n,r,s){const i=ye(n);return i.ra(),new $q(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:Gq.bind(null,t),n_:Kq.bind(null,t),i_:Qq.bind(null,t),j_:Yq.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),Fx(t)?Vx(t):t.da.set("Unknown")):(await t.Ra.stop(),qD(t))})),t.Ra}function Li(t){return t.Va||(t.Va=function(n,r,s){const i=ye(n);return i.ra(),new Bq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Zq.bind(null,t),i_:nG.bind(null,t),X_:eG.bind(null,t),ea:tG.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await fm(t)):(await t.Va.stop(),t.ha.length>0&&(te(zo,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ux(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $x(t,e){if(Ps("AsyncQueue",`${e}: ${t}`),Ll(t))return new ne($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=bc(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ma=new rt(le.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vl(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class iG{constructor(){this.queries=ES(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const s=ye(n),i=s.queries;s.queries=ES(),i.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new ne($.ABORTED,"Firestore shutting down"))}}function ES(){return new Zo(t=>gD(t),om)}async function Bx(t,e){const n=ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.wa()&&e.Sa()&&(r=2):(i=new sG,r=e.Sa()?0:1);try{switch(r){case 0:i.pa=await n.onListen(s,!0);break;case 1:i.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=$x(o,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ya.push(e),e.Da(n.onlineState),i.pa&&e.va(i.pa)&&Wx(n)}async function zx(t,e){const n=ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ya.indexOf(e);o>=0&&(i.ya.splice(o,1),i.ya.length===0?s=e.Sa()?0:1:!i.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oG(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ya)a.va(s)&&(r=!0);o.pa=s}}r&&Wx(n)}function aG(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.ya)i.onError(n);r.queries.delete(e)}function Wx(t){t.ba.forEach(e=>{e.next()})}var iw,TS;(TS=iw||(iw={})).Ca="default",TS.Cache="cache";class Hx{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==iw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.key=e}}class XD{constructor(e){this.key=e}}class lG{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ae(),this.mutatedKeys=Ae(),this.Ha=yD(e),this.Ja=new qa(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new _S,s=n?n.Ja:this.Ja;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=am(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;p&&g?p.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),E=!0):this.eu(p,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.Ha(g,l)>0||c&&this.Ha(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),E=!0):p&&!g&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(g?(o=o.add(g),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:i}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,f)=>function(g,_){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:E})}};return v(g)-v(_)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),s=s!=null&&s;const a=n&&!s?this.nu():[],l=this.ja.size===0&&this.current&&!s?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new vl(this.query,e.Ja,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new _S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ae(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new XD(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new YD(r))}),n}su(e){this.Ga=e.$s,this.ja=Ae();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return vl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const qx="SyncEngine";class cG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uG{constructor(e){this.key=e,this._u=!1}}class dG{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Zo(a=>gD(a),om),this.cu=new Map,this.lu=new Set,this.hu=new rt(le.comparator),this.Pu=new Map,this.Tu=new kx,this.Iu={},this.Eu=new Map,this.du=yl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function hG(t,e,n=!0){const r=rM(t);let s;const i=r.uu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ou()):s=await JD(r,e,n,!0),s}async function fG(t,e){const n=rM(t);await JD(n,e,!0,!1)}async function JD(t,e,n,r){const s=await Dq(t.localStore,Qr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await pG(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&WD(t.remoteStore,s),a}async function pG(t,e,n,r,s){t.Ru=(f,p,g)=>async function(v,E,w,x){let T=E.view.Za(w);T.Cs&&(T=await mS(v.localStore,E.query,!1).then(({documents:C})=>E.view.Za(C,T)));const P=x&&x.targetChanges.get(E.targetId),N=x&&x.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(T,v.isPrimaryClient,P,N);return SS(v,E.targetId,O.ru),O.snapshot}(t,f,p,g);const i=await mS(t.localStore,e,!0),o=new lG(e,i.$s),a=o.Za(i.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);SS(t,n,c.ru);const d=new cG(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),c.snapshot}async function mG(t,e,n){const r=ye(t),s=r.uu.get(e),i=r.cu.get(s.targetId);if(i.length>1)return r.cu.set(s.targetId,i.filter(o=>!om(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jx(r.remoteStore,s.targetId),ow(r,s.targetId)}).catch(jl)):(ow(r,s.targetId),await rw(r.localStore,s.targetId,!0))}async function gG(t,e){const n=ye(t),r=n.uu.get(e),s=n.cu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jx(n.remoteStore,r.targetId))}async function yG(t,e,n){const r=bG(t);try{const s=await function(o,a){const l=ye(o),c=ct.now(),d=a.reduce((g,_)=>g.add(_.key),Ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Rs(),v=Ae();return l.Bs.getEntries(g,d).next(E=>{_=E,_.forEach((w,x)=>{x.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(E=>{f=E;const w=[];for(const x of a){const T=DH(x,f.get(x.key).overlayedDocument);T!=null&&w.push(new Yi(x.key,T,lD(T.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,w,a)}).next(E=>{p=E;const w=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,E.batchId,w)})}).then(()=>({batchId:p.batchId,changes:wD(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new rt(_e)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(r,s.batchId,n),await hd(r,s.changes),await fm(r.remoteStore)}catch(s){const i=$x(s,"Failed to persist write");n.reject(i)}}async function ZD(t,e){const n=ye(t);try{const r=await Rq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Pu.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o._u=!0:s.modifiedDocuments.size>0?Me(o._u,14607):s.removedDocuments.size>0&&(Me(o._u,42227),o._u=!1))}),await hd(n,r,e)}catch(r){await jl(r)}}function bS(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.uu.forEach((i,o)=>{const a=o.view.Da(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ya)p.Da(a)&&(c=!0)}),c&&Wx(l)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vG(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Pu.get(e),i=s&&s.key;if(i){let o=new rt(le.comparator);o=o.insert(i,Yt.newNoDocument(i,ge.min()));const a=Ae().add(i),l=new um(ge.min(),new Map,new rt(_e),o,a);await ZD(r,l),r.hu=r.hu.remove(i),r.Pu.delete(e),Gx(r)}else await rw(r.localStore,e,!1).then(()=>ow(r,e,n)).catch(jl)}async function wG(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await Pq(n.localStore,e);tM(n,r,null),eM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,s)}catch(s){await jl(s)}}async function xG(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Me(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);tM(r,e,n),eM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hd(r,s)}catch(s){await jl(s)}}function eM(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function tM(t,e,n){const r=ye(t);let s=r.Iu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function ow(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||nM(t,r)})}function nM(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(jx(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Gx(t))}function SS(t,e,n){for(const r of n)r instanceof YD?(t.Tu.addReference(r.key,e),_G(t,r)):r instanceof XD?(te(qx,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||nM(t,r.key)):de(19791,{mu:r})}function _G(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(te(qx,"New document in limbo: "+n),t.lu.add(r),Gx(t))}function Gx(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new le(Ke.fromString(e)),r=t.du.next();t.Pu.set(r,new uG(n)),t.hu=t.hu.insert(n,r),WD(t.remoteStore,new di(Qr(im(n.path)),r,"TargetPurposeLimboResolution",nm.le))}}async function hd(t,e,n){const r=ye(t),s=[],i=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Mx.Rs(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.au.j_(s),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.ds,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.As,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Ll(f))throw f;te(Ox,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.xs.get(p),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.xs=d.xs.insert(p,v)}}}(r.localStore,i))}async function EG(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te(qx,"User change. New user:",e.toKey());const r=await UD(n.localStore,e);n.currentUser=e,function(i,o){i.Eu.forEach(a=>{a.forEach(l=>{l.reject(new ne($.CANCELLED,o))})}),i.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hd(n,r.ks)}}function TG(t,e){const n=ye(t),r=n.Pu.get(e);if(r&&r._u)return Ae().add(r.key);{let s=Ae();const i=n.cu.get(e);if(!i)return s;for(const o of i){const a=n.uu.get(o);s=s.unionWith(a.view.Ya)}return s}}function rM(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vG.bind(null,e),e.au.j_=oG.bind(null,e.eventManager),e.au.Vu=aG.bind(null,e.eventManager),e}function bG(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xG.bind(null,e),e}class sp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return Aq(this.persistence,new Sq,e.initialUser,this.serializer)}yu(e){return new FD(Dx.fi,this.serializer)}pu(e){return new Oq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sp.provider={build:()=>new sp};class SG extends sp{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Me(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uq(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new FD(r=>np.fi(r,n),this.serializer)}}class aw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EG.bind(null,this.syncEngine),await rG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iG}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(i){return new Uq(i)}(e.databaseInfo);return function(i,o,a,l){return new Wq(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new qq(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bS(this.syncEngine,n,0),function(){return vS.C()?new vS:new jq}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new dG(s,i,o,a,l,c);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ye(s);te(zo,"RemoteStore shutting down."),i.Ta.add(5),await dd(i),i.Ea.shutdown(),i.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}aw.provider={build:()=>new aw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class CG{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=Xk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Vi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Vi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$x(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zg(t,e){t.asyncQueue.verifyOperationInProgress(),te(Vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await UD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IG(t);te(Vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xS(e.remoteStore,s)),t._onlineComponents=e}async function IG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Vi,"Using user provided OfflineComponentProvider");try{await Zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),await Zg(t,new sp)}}else te(Vi,"Using default OfflineComponentProvider"),await Zg(t,new SG(void 0));return t._offlineComponents}async function sM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Vi,"Using user provided OnlineComponentProvider"),await CS(t,t._uninitializedComponentsProvider._online)):(te(Vi,"Using default OnlineComponentProvider"),await CS(t,new aw))),t._onlineComponents}function AG(t){return sM(t).then(e=>e.syncEngine)}async function ip(t){const e=await sM(t),n=e.eventManager;return n.onListen=hG.bind(null,e.syncEngine),n.onUnlisten=mG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gG.bind(null,e.syncEngine),n}function PG(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Kx({next:p=>{d.Cu(),o.enqueueAndForget(()=>zx(i,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new ne($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new ne($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Hx(im(a.path),d,{includeMetadataChanges:!0,La:!0});return Bx(i,f)}(await ip(t),t.asyncQueue,e,n,r)),r.promise}function RG(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Kx({next:p=>{d.Cu(),o.enqueueAndForget(()=>zx(i,f)),p.fromCache&&l.source==="server"?c.reject(new ne($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Hx(a,d,{includeMetadataChanges:!0,La:!0});return Bx(i,f)}(await ip(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e,n){if(!n)throw new ne($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NG(t,e,n,r){if(e===!0&&r===!0)throw new ne($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!le.isDocumentKey(t))throw new ne($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PS(t){if(le.isDocumentKey(t))throw new ne($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(t);throw new ne($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="firestore.googleapis.com",RS=!0;class NS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aM,this.ssl=RS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lq)throw new ne($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new F7;switch(r.type){case"firstParty":return new z7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IS.get(n);r&&(te("ComponentProvider","Removing Datastore"),IS.delete(n),r.terminate())}(this),Promise.resolve()}}function kG(t,e,n,r={}){var s;t=An(t,mm);const i=nd(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(AN(`https://${l}`),PN("Firestore",!0)),o.host!==aM&&o.host!==l&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!ki(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Kt.MOCK_USER;else{d=P9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ne($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Kt(p)}t._authCredentials=new U7(new Qk(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class bi extends Os{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new le(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function tr(t,e,...n){if(t=pt(t),oM("collection","path",e),t instanceof mm){const r=Ke.fromString(e,...n);return PS(r),new bi(t,null,r)}{if(!(t instanceof en||t instanceof bi))throw new ne($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return PS(r),new bi(t.firestore,null,r)}}function Bn(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Xk.newId()),oM("doc","path",e),t instanceof mm){const r=Ke.fromString(e,...n);return AS(r),new en(t,null,new le(r))}{if(!(t instanceof en||t instanceof bi))throw new ne($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ke.fromString(e,...n));return AS(r),new en(t.firestore,t instanceof bi?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="AsyncQueue";class DS{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new BD(this,"async_queue_retry"),this.ec=()=>{const r=Jg();r&&te(kS,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new xs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ll(e))throw e;te(kS,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ps("INTERNAL UNHANDLED ERROR: ",MS(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=Ux.createAndSchedule(this,e,n,r,i=>this.oc(i));return this.Hu.push(s),s}nc(){this.Ju&&de(47125,{_c:MS(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function MS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ns extends mm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new DS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DS(e),this._firestoreClient=void 0,await e}}}function DG(t,e){const n=typeof t=="object"?t:ix(),r=typeof t=="string"?t:Yf,s=Jo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=I9("firestore");i&&kG(s,...i)}return s}function gm(t){if(t._terminated)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||MG(t),t._firestoreClient}function MG(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new sH(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iM(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new CG(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(Lt.fromBase64String(e))}catch(n){throw new ne($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=/^__.*__$/;class jG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class lM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{hc:t})}}class Xx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Xx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return op(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(cM(this.hc)&&OG.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class LG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}gc(e,n,r,s=!1){return new Xx({hc:e,methodName:n,fc:r,path:kt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new LG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uM(t,e,n,r,s,i={}){const o=t.gc(i.merge||i.mergeFields?2:0,e,n,s);Zx("Data must be an object, but it was:",o,r);const a=dM(r,o);let l,c;if(i.merge)l=new jn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=lw(e,f,n);if(!o.contains(p))throw new ne($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fM(d,p)||d.push(p)}l=new jn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new jG(new _n(a),l,c)}class xm extends vm{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}class Jx extends vm{_toFieldTransform(e){return new PH(e.path,new ku)}isEqual(e){return e instanceof Jx}}function VG(t,e,n,r){const s=t.gc(1,e,n);Zx("Data must be an object, but it was:",s,r);const i=[],o=_n.empty();Qi(r,(l,c)=>{const d=e_(e,l,n);c=pt(c);const f=s.Ac(d);if(c instanceof xm)i.push(d);else{const p=fd(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new jn(i);return new lM(o,a,s.fieldTransforms)}function FG(t,e,n,r,s,i){const o=t.gc(1,e,n),a=[lw(e,r,n)],l=[s];if(i.length%2!=0)throw new ne($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(lw(e,i[p])),l.push(i[p+1]);const c=[],d=_n.empty();for(let p=a.length-1;p>=0;--p)if(!fM(c,a[p])){const g=a[p];let _=l[p];_=pt(_);const v=o.Ac(g);if(_ instanceof xm)c.push(g);else{const E=fd(_,v);E!=null&&(c.push(g),d.set(g,E))}}const f=new jn(c);return new lM(d,f,o.fieldTransforms)}function UG(t,e,n,r=!1){return fd(n,t.gc(r?4:3,e))}function fd(t,e){if(hM(t=pt(t)))return Zx("Unsupported field value:",e,t),dM(t,e);if(t instanceof vm)return function(r,s){if(!cM(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=fd(a,s.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ct.fromDate(r);return{timestampValue:tp(s.serializer,i)}}if(r instanceof ct){const i=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(s.serializer,i)}}if(r instanceof Qx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wl)return{bytesValue:ND(s.serializer,r._byteString)};if(r instanceof en){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Yx)return function(o,a){return{mapValue:{fields:{[iD]:{stringValue:aD},[Xf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return Ix(a.serializer,c)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${pm(r)}`)}(t,e)}function dM(t,e){const n={};return Zk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,s)=>{const i=fd(s,e.Ic(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Qx||t instanceof wl||t instanceof en||t instanceof vm||t instanceof Yx)}function Zx(t,e,n){if(!hM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=pm(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function lw(t,e,n){if((e=pt(e))instanceof ym)return e._internalPath;if(typeof e=="string")return e_(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const $G=new RegExp("[~\\*/\\[\\]]");function e_(t,e,n){if(e.search($G)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne($.INVALID_ARGUMENT,a+t+l)}function fM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BG extends pM{data(){return super.data()}}function _m(t,e){return typeof e=="string"?e_(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t_{}class n_ extends t_{}function Em(t,e,...n){let r=[];e instanceof t_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof r_).length,a=i.filter(l=>l instanceof Tm).length;if(o>1||o>0&&a>0)throw new ne($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Tm extends n_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){const n=this._parse(e);return gM(e._query,n),new Os(e.firestore,e.converter,Jv(e._query,n))}_parse(e){const n=wm(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ne($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){LS(f,d);const _=[];for(const v of f)_.push(jS(l,i,v));p={arrayValue:{values:_}}}else p=jS(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||LS(f,d),p=UG(a,o,f,d==="in"||d==="not-in");return wt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zG(t,e,n){const r=e,s=_m("where",t);return Tm._create(s,r,n)}class r_ extends t_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)gM(o,l),o=Jv(o,l)}(e._query,n),new Os(e.firestore,e.converter,Jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s_ extends n_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ne($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(i,o)}(e._query,this._field,this._direction);return new Os(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Vl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function i_(t,e="asc"){const n=e,r=_m("orderBy",t);return s_._create(r,n)}class o_ extends n_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o_(e,n,r)}_apply(e){return new Os(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function WG(t){return o_._create("limit",t,"F")}function jS(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ne($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&n.indexOf("/")!==-1)throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ke.fromString(n));if(!le.isDocumentKey(r))throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yb(t,new le(r))}if(n instanceof en)return Yb(t,n._key);throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(n)}.`)}function LS(t,e){if(!Array.isArray(t)||t.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gM(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HG{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Xf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>dt(o.doubleValue));return new Yx(i)}convertGeoPoint(e){return new Qx(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ke.fromString(e);Me(LD(r),9688,{name:e});const s=new Pu(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||Ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vM extends pM{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gh extends vM{data(e={}){return super.data(e)}}class wM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gh(this._firestore,this._userDataWriter,r.key,r,new Cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Gh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Gh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:qG(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){t=An(t,en);const e=An(t.firestore,Ns);return PG(gm(e),t._key).then(n=>_M(e,t,n))}class l_ extends HG{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function xl(t){t=An(t,Os);const e=An(t.firestore,Ns),n=gm(e),r=new l_(e);return mM(t._query),RG(n,t._query).then(s=>new wM(e,r,t,s))}function cw(t,e,n){t=An(t,en);const r=An(t.firestore,Ns),s=yM(t.converter,e,n);return Sm(r,[uM(wm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,er.none())])}function c_(t,e,n,...r){t=An(t,en);const s=An(t.firestore,Ns),i=wm(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof ym?FG(i,"updateDoc",t._key,e,n,r):VG(i,"updateDoc",t._key,e),Sm(s,[o.toMutation(t._key,er.exists(!0))])}function u_(t){return Sm(An(t.firestore,Ns),[new Ax(t._key,er.none())])}function bm(t,e){const n=An(t.firestore,Ns),r=Bn(t),s=yM(t.converter,e);return Sm(n,[uM(wm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function xM(t,...e){var n,r,s;t=pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||OS(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(OS(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof en)c=An(t.firestore,Ns),d=im(t._key.path),l={next:f=>{e[o]&&e[o](_M(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=An(t,Os);c=An(f.firestore,Ns),d=f._query;const p=new l_(c);l={next:g=>{e[o]&&e[o](new wM(c,p,f,g))},error:e[o+1],complete:e[o+2]},mM(t._query)}return function(p,g,_,v){const E=new Kx(v),w=new Hx(g,E,_);return p.asyncQueue.enqueueAndForget(async()=>Bx(await ip(p),w)),()=>{E.Cu(),p.asyncQueue.enqueueAndForget(async()=>zx(await ip(p),w))}}(gm(c),d,a,l)}function Sm(t,e){return function(r,s){const i=new xs;return r.asyncQueue.enqueueAndForget(async()=>yG(await AG(r),s,i)),i.promise}(gm(t),e)}function _M(t,e,n){const r=n.docs.get(e._key),s=new l_(t);return new vM(t,s,e._key,r,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}function GG(){return new Jx("serverTimestamp")}(function(e,n=!0){(function(s){Ol=s})(Dl),ts(new Cr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ns(new $7(r.getProvider("auth-internal")),new W7(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zn(Vb,Fb,e),Zn(Vb,Fb,"esm2017")})();const EM=async t=>{try{const e=new FormData;e.append("file",t);const n=await fetch("https://store4.gofile.io/uploadFile",{method:"POST",body:e});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const r=await n.json();if(console.log("GoFile API Response:",r),r.status!=="ok"||!r.data)throw new Error("Upload failed: "+JSON.stringify(r));return{fileId:r.data.fileId||r.data.id,fileName:r.data.fileName||r.data.name,fileUrl:r.data.downloadPage||r.data.url}}catch(e){throw console.error("Error in uploadFileToGofile:",e),new Error(`Failed to upload file: ${e.message}`)}},KG=async t=>{const e="https://api.gofile.io/deleteContent",n=new FormData;n.append("contentsId",t),n.append("token","ADcGHPd8aWmNV0h2Sxr5rEeEDFYLyTFW");try{const s=await(await fetch(e,{method:"POST",body:n})).json();if(s.status==="ok")console.log(`File ${t} deleted from GoFile.`);else throw new Error(`Failed to delete file from GoFile: ${s.status}`)}catch(r){throw console.error("Error deleting file from GoFile:",r),r}},QG={apiKey:"AIzaSyBEQ4RINpi53JYlQfDwtuE8RZ9m9l87BvM",authDomain:"alpha-project-713de.firebaseapp.com",projectId:"alpha-project-713de",storageBucket:"alpha-project-713de.appspot.com",messagingSenderId:"551038009112",appId:"1:551038009112:web:9a3f5ddd6c0d2a0164286d",measurementId:"G-T1LYWSN7PS"},d_=jN(QG);x8(d_);const Xn=L7(d_),Xe=DG(d_),YG=async(t,e,n)=>{try{return(await bm(tr(Xe,"subjects"),{name:t,stageId:e,course:n,createdAt:ct.now()})).id}catch(r){throw console.error("Error adding subject: ",r),r}},Cm=async()=>{try{const t=tr(Xe,"subjects");return(await xl(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",stageId:r.stageId||"",course:r.course||"2",createdAt:r.createdAt||null}})}catch(t){throw console.error("Error getting subjects: ",t),t}},XG=async(t,e,n,r)=>{try{const s=Bn(Xe,"subjects",t),i={name:e,stageId:n};r&&(i.course=r),await c_(s,i)}catch(s){throw s}},JG=async t=>{try{await u_(Bn(Xe,"subjects",t))}catch(e){throw console.error("Error deleting subject: ",e),e}},Im=async()=>{try{const t=tr(Xe,"stages");return(await xl(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||""}})}catch(t){throw console.error("Error getting stages: ",t),t}},ZG=async(t,e,n,r)=>{try{const s=await EM(r);if(!s||!s.fileId||!s.fileName||!s.fileUrl)throw new Error("Failed to upload file to Gofile, missing file information.");return(await bm(tr(Xe,"lectures"),{subjectId:t,title:e,description:n,fileId:s.fileId,fileName:s.fileName,fileUrl:s.fileUrl,createdAt:ct.now()})).id}catch(s){throw console.error("Error adding lecture: ",s),s}},h_=async t=>{try{const e=tr(Xe,"lectures"),n=t?Em(e,zG("subjectId","==",t)):e;return(await xl(n)).docs.map(i=>{const o=i.data();return{id:i.id,subjectId:o.subjectId||"",title:o.title||"",description:o.description||"",fileId:o.fileId||"",fileName:o.fileName||"",fileUrl:o.fileUrl||"",createdAt:o.createdAt||null}})}catch(e){throw console.error("Error getting lectures: ",e),e}},eK=async(t,e,n,r,s)=>{try{const i=Bn(Xe,"lectures",t);await c_(i,{title:e,description:n,fileId:s,fileName:"",fileUrl:""})}catch(i){throw console.error("Error updating lecture: ",i),i}},tK=async(t,e)=>{try{if(e)try{await KG(e)}catch(n){console.warn("Could not delete Gofile file, it might not exist or permissions are insufficient:",n)}await u_(Bn(Xe,"lectures",t))}catch(n){throw console.error("Error deleting lecture: ",n),n}},nK=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState("");return m.useEffect(()=>{(async()=>{try{r(!0),i("");const a=await Im(),l=["المرحلة الأولى","المرحلة الثانية","المرحلة الثالثة","المرحلة الرابعة"],c=a.sort((d,f)=>{const p=l.indexOf(d.name),g=l.indexOf(f.name);return p-g});e(c)}catch(a){console.error("Error fetching stages:",a),i("فشل في جلب المراحل الدراسية.")}finally{r(!1)}})()},[]),n?h.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل المراحل الدراسية..."})}):s?h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),h.jsx("p",{className:"text-muted-foreground mb-8",children:s})]}):h.jsx(h.Fragment,{children:h.jsxs("div",{className:"container mx-auto px-4 py-12",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsxs("div",{className:"flex items-center justify-center mb-4",children:[h.jsx(Oh,{className:"h-12 w-12 text-primary mr-3"}),h.jsx("h2",{className:"text-4xl font-bold text-foreground",children:"المحاضرات"})]}),h.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"اختر المرحلة الدراسية للوصول إلى المواد والمحاضرات المطلوبة"})]}),t.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Oh,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),h.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مراحل دراسية حاليًا."}),h.jsx("p",{className:"text-muted-foreground",children:"يبدو أنه لم يتم إضافة أي مراحل دراسية حتى الآن."})]}):h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(o=>{var a,l;return h.jsx(ze,{to:`/lectures/${o.id}`,children:h.jsxs(Dt,{className:"shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer",children:[h.jsxs(un,{className:"text-center",children:[h.jsx("div",{className:`w-16 h-16 ${o.color||"bg-gray-500"} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-inner`,children:h.jsx(Oh,{className:"h-8 w-8 text-primary-foreground"})}),h.jsx(Xt,{className:"text-xl font-semibold text-foreground",children:o.name})]}),h.jsx(Jt,{className:"text-center",children:h.jsxs("div",{className:`flex items-center justify-center font-medium text-${((a=o.color)==null?void 0:a.split("-")[1])||"gray"}-600`,children:[h.jsx("span",{children:"عرض المواد"}),h.jsx(gR,{className:`mr-2 h-4 w-4 text-${((l=o.color)==null?void 0:l.split("-")[1])||"gray"}-600`})]})})]})},o.id)})})]})})},rK=()=>{const{stageId:t}=rx(),[e,n]=m.useState(null),[r,s]=m.useState([]),[i,o]=m.useState(!0),[a,l]=m.useState(""),[c,d]=m.useState("2");return m.useEffect(()=>{(async()=>{try{o(!0),l("");const g=(await Im()).find(_=>_.id===t);if(n(g||null),g){let v=(await Cm()).filter(E=>E.stageId===g.id);g.name==="المرحلة الثانية"&&(v=v.filter(E=>(E.course||"2")===c)),s(v)}}catch(p){console.error("Error fetching data for stage page:",p),l("فشل في جلب بيانات المرحلة والمواد.")}finally{o(!1)}})()},[t,c]),i?h.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل بيانات المرحلة..."})}):a?h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),h.jsx("p",{className:"text-muted-foreground mb-8",children:a}),h.jsxs(ze,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]})]}):e?h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs(ze,{to:"/lectures",className:"text-primary hover:underline flex items-center w-fit mb-4",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]}),h.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[h.jsx(Oh,{className:"h-8 w-8 ml-3 text-primary"}),"مرحلة ",e.name]}),h.jsx("p",{className:"text-xl text-muted-foreground",children:"المواد المتاحة لهذه المرحلة."})]}),e.name==="المرحلة الثانية"&&h.jsxs("div",{className:"flex gap-4 mb-8 justify-center",children:[h.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="1"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("1"),children:"الكورس الأول"}),h.jsx("button",{className:`px-6 py-2 rounded-full font-semibold border ${c==="2"?"bg-primary text-white":"bg-background text-foreground border-primary"}`,onClick:()=>d("2"),children:"الكورس الثاني"})]}),e.name==="المرحلة الثانية"?c==="1"&&r.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(yr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),h.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد في الكورس الأول."}),h.jsx("p",{className:"text-muted-foreground",children:"سيتم إضافة مواد الكورس الأول لاحقًا."})]}):c==="2"&&r.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(yr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),h.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد حاليًا."}),h.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المرحلة لا تحتوي على أي مواد حتى الآن."})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[h.jsxs(un,{children:[h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(yr,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),h.jsx(_r,{className:"text-muted-foreground mt-2",children:"استكشف المحاضرات المتاحة لهذه المادة."})]}),h.jsx(Jt,{className:"flex justify-end",children:h.jsx($e,{asChild:!0,children:h.jsxs(ze,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:["عرض المحاضرات",h.jsx(gr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))}):r.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(yr,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),h.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد مواد حاليًا."}),h.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المرحلة لا تحتوي على أي مواد حتى الآن."})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[h.jsxs(un,{children:[h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(yr,{className:"h-5 w-5 ml-2 text-primary"}),f.name]}),h.jsx(_r,{className:"text-muted-foreground mt-2",children:"استكشف المحاضرات المتاحة لهذه المادة."})]}),h.jsx(Jt,{className:"flex justify-end",children:h.jsx($e,{asChild:!0,children:h.jsxs(ze,{to:`/lectures/${e.id}/${f.id}`,className:"flex items-center",children:["عرض المحاضرات",h.jsx(gr,{className:"mr-2 h-4 w-4 rotate-180"})]})})})]},f.id))})]}):h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المرحلة غير موجودة."}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن المرحلة التي تبحث عنها غير موجودة أو تم حذفها."}),h.jsxs(ze,{to:"/lectures",className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المراحل"]})]})},sK=()=>{const{stageId:t,subjectId:e}=rx(),[n,r]=m.useState(null),[s,i]=m.useState([]),[o,a]=m.useState(""),[l,c]=m.useState(!0),[d,f]=m.useState("");return m.useEffect(()=>{(async()=>{try{c(!0),f("");const _=(await Im()).find(w=>w.id===t);_&&a(_.name);const E=(await Cm()).find(w=>w.id===e&&w.stageId===t);if(r(E||null),E){const w=await h_(E.id);i(w)}}catch(g){console.error("Error fetching data for subject page:",g),f("فشل في جلب بيانات المادة والمحاضرات.")}finally{c(!1)}})()},[t,e]),l?h.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل بيانات المادة..."})}):d?h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"حدث خطأ"}),h.jsx("p",{className:"text-muted-foreground mb-8",children:d}),h.jsxs(ze,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المرحلة"]})]}):n?h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs(ze,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center w-fit mb-4",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى ",o||"المرحلة"]}),h.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2 flex items-center",children:[h.jsx(yr,{className:"h-8 w-8 ml-3 text-primary"}),n.name]}),h.jsx("p",{className:"text-xl text-muted-foreground",children:"المحاضرات المتاحة لهذه المادة."})]}),s.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Fa,{className:"h-20 w-20 text-muted-foreground mx-auto mb-6"}),h.jsx("h3",{className:"text-2xl font-semibold text-foreground mb-2",children:"لا توجد محاضرات حاليًا."}),h.jsx("p",{className:"text-muted-foreground",children:"يبدو أن هذه المادة لا تحتوي على أي محاضرات حتى الآن."})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(p=>h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-shadow duration-300",children:[h.jsxs(un,{children:[h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(Fa,{className:"h-5 w-5 ml-2 text-primary"}),p.title]}),h.jsx(_r,{className:"text-muted-foreground mt-2",children:p.description})]}),h.jsx(Jt,{className:"flex justify-end",children:p.fileUrl&&h.jsx($e,{asChild:!0,children:h.jsxs("a",{href:p.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:["عرض المحاضرة",h.jsx(G3,{className:"mr-2 h-4 w-4"})]})})})]},p.id))})]}):h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المادة غير موجودة."}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن المادة التي تبحث عنها غير موجودة أو تم حذفها."}),h.jsxs(ze,{to:`/lectures/${t}`,className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المرحلة"]})]})},iK=()=>{const{stageId:t,subjectId:e,lectureId:n}=rx(),[r,s]=m.useState(null),[i,o]=m.useState(null),[a,l]=m.useState(null),[c,d]=m.useState(!0),[f,p]=m.useState("");m.useEffect(()=>{(async()=>{d(!0),p("");try{const E=(await h_(e)).find(w=>w.id===n);if(E){s(E);const x=(await Cm()).find(T=>T.id===E.subjectId);if(o(x||null),x){const P=(await Im()).find(N=>N.id===x.stageId);l(P||null)}}else p("المحاضرة غير موجودة.")}catch(v){console.error("Error fetching lecture data:",v),p("فشل في جلب بيانات المحاضرة.")}finally{d(!1)}})()},[t,e,n]);const g=async()=>{try{if(!(r!=null&&r.fileUrl))throw new Error("رابط الملف غير متوفر.");window.open(r.fileUrl,"_blank")}catch(_){console.error("Error downloading lecture:",_),p("حدث خطأ أثناء تحميل المحاضرة. يرجى المحاولة مرة أخرى.")}};return c?h.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground text-lg",children:"جاري تحميل المحاضرة..."})}):f?h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsxs("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:["خطأ: ",f]}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"حدث خطأ أثناء جلب المحاضرة."}),h.jsxs(ze,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المادة"]})]}):r?h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsx("div",{className:"flex items-center mb-6",children:h.jsxs(ze,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center",children:[h.jsx(gr,{className:"ml-2 h-5 w-5"}),"العودة إلى ",(i==null?void 0:i.name)||"المادة"]})}),h.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:r.title}),h.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:r.description}),r.fileUrl?h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx($e,{onClick:g,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 mb-4",children:"تنزيل المحاضرة"}),h.jsx("div",{className:"w-full h-[80vh] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:h.jsx("iframe",{src:r.fileUrl,className:"w-full h-full border-none",title:r.fileName||"Lecture PDF",allowFullScreen:!0})})]}):h.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card text-muted-foreground",children:[h.jsx("p",{className:"text-xl",children:"لا يوجد ملف محاضرة متاح للعرض."}),h.jsx("p",{className:"mt-2",children:"الرجاء التأكد من تحميل الملف بشكل صحيح."})]})]}):h.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"المحاضرة غير موجودة حاليًا."}),h.jsx("p",{className:"text-muted-foreground mb-8",children:"يبدو أن هذه المحاضرة غير متاحة أو لا توجد محاضرات في هذه المادة."}),h.jsxs(ze,{to:`/lectures/${t}/${e}`,className:"text-primary hover:underline flex items-center justify-center",children:[h.jsx(gr,{className:"ml-2 h-4 w-4"}),"العودة إلى المادة"]})]})},Ln=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ln.displayName="Input";var oK="Label",TM=m.forwardRef((t,e)=>h.jsx(fe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TM.displayName=oK;var bM=TM;const aK=Vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xo=m.forwardRef(({className:t,...e},n)=>h.jsx(bM,{ref:n,className:ce(aK(),t),...e}));xo.displayName=bM.displayName;const f_=m.createContext({});function p_(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const m_=typeof window<"u",SM=m_?m.useLayoutEffect:m.useEffect,Am=m.createContext(null);function g_(t,e){t.indexOf(e)===-1&&t.push(e)}function y_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ks=(t,e,n)=>n>e?e:n<t?t:n;let ap=()=>{};const Ds={},CM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function IM(t){return typeof t=="object"&&t!==null}const AM=t=>/^0[^.\s]+$/u.test(t);function v_(t){let e;return()=>(e===void 0&&(e=t()),e)}const nr=t=>t,lK=(t,e)=>n=>e(t(n)),pd=(...t)=>t.reduce(lK),Ou=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class w_{constructor(){this.subscriptions=[]}add(e){return g_(this.subscriptions,e),()=>y_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=t=>t*1e3,Jr=t=>t/1e3;function PM(t,e){return e?t*(1e3/e):0}const RM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cK=1e-7,uK=12;function dK(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=RM(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>cK&&++a<uK);return o}function md(t,e,n,r){if(t===e&&n===r)return nr;const s=i=>dK(i,0,1,t,n);return i=>i===0||i===1?i:RM(s(i),e,r)}const NM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kM=t=>e=>1-t(1-e),DM=md(.33,1.53,.69,.99),x_=kM(DM),MM=NM(x_),OM=t=>(t*=2)<1?.5*x_(t):.5*(2-Math.pow(2,-10*(t-1))),__=t=>1-Math.sin(Math.acos(t)),jM=kM(__),LM=NM(__),hK=md(.42,0,1,1),fK=md(0,0,.58,1),VM=md(.42,0,.58,1),pK=t=>Array.isArray(t)&&typeof t[0]!="number",FM=t=>Array.isArray(t)&&typeof t[0]=="number",VS={linear:nr,easeIn:hK,easeInOut:VM,easeOut:fK,circIn:__,circInOut:LM,circOut:jM,backIn:x_,backInOut:MM,backOut:DM,anticipate:OM},mK=t=>typeof t=="string",FS=t=>{if(FM(t)){ap(t.length===4);const[e,n,r,s]=t;return md(e,n,r,s)}else if(mK(t))return ap(VS[t]!==void 0),VS[t];return t},fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],US={value:null,addProjectionMetrics:null};function gK(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(d.schedule(f),t()),l++,f(a)}const d={schedule:(f,p=!1,g=!1)=>{const v=g&&s?n:r;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&US.value&&US.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const yK=40;function UM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=fh.reduce((T,P)=>(T[P]=gK(i,e?P:void 0),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:_}=o,v=()=>{const T=Ds.useManualTiming?s.timestamp:performance.now();n=!1,Ds.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,yK),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),f.process(s),p.process(s),g.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},E=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:fh.reduce((T,P)=>{const N=o[P];return T[P]=(O,C=!1,S=!1)=>(n||E(),N.schedule(O,C,S)),T},{}),cancel:T=>{for(let P=0;P<fh.length;P++)o[fh[P]].cancel(T)},state:s,steps:o}}const{schedule:tt,cancel:Fi,state:Rt,steps:ey}=UM(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let Kh;function vK(){Kh=void 0}const Tn={now:()=>(Kh===void 0&&Tn.set(Rt.isProcessing||Ds.useManualTiming?Rt.timestamp:performance.now()),Kh),set:t=>{Kh=t,queueMicrotask(vK)}},$M=t=>e=>typeof e=="string"&&e.startsWith(t),E_=$M("--"),wK=$M("var(--"),T_=t=>wK(t)?xK.test(t.split("/*")[0].trim()):!1,xK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ju={...Ul,transform:t=>ks(0,1,t)},ph={...Ul,default:1},Yc=t=>Math.round(t*1e5)/1e5,b_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _K(t){return t==null}const EK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S_=(t,e)=>n=>!!(typeof n=="string"&&EK.test(n)&&n.startsWith(t)||e&&!_K(n)&&Object.prototype.hasOwnProperty.call(n,e)),BM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(b_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},TK=t=>ks(0,255,t),ty={...Ul,transform:t=>Math.round(TK(t))},_o={test:S_("rgb","red"),parse:BM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ty.transform(t)+", "+ty.transform(e)+", "+ty.transform(n)+", "+Yc(ju.transform(r))+")"};function bK(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const uw={test:S_("#"),parse:bK,transform:_o.transform},gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ks=gd("deg"),Zr=gd("%"),he=gd("px"),SK=gd("vh"),CK=gd("vw"),$S={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},Aa={test:S_("hsl","hue"),parse:BM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(Yc(e))+", "+Zr.transform(Yc(n))+", "+Yc(ju.transform(r))+")"},Gt={test:t=>_o.test(t)||uw.test(t)||Aa.test(t),parse:t=>_o.test(t)?_o.parse(t):Aa.test(t)?Aa.parse(t):uw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_o.transform(t):Aa.transform(t)},IK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(b_))==null?void 0:e.length)||0)+(((n=t.match(IK))==null?void 0:n.length)||0)>0}const zM="number",WM="color",PK="var",RK="var(",BS="${}",NK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(NK,l=>(Gt.test(l)?(r.color.push(i),s.push(WM),n.push(Gt.parse(l))):l.startsWith(RK)?(r.var.push(i),s.push(PK),n.push(l)):(r.number.push(i),s.push(zM),n.push(parseFloat(l))),++i,BS)).split(BS);return{values:n,split:a,indexes:r,types:s}}function HM(t){return Lu(t).values}function qM(t){const{split:e,types:n}=Lu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===zM?i+=Yc(s[o]):a===WM?i+=Gt.transform(s[o]):i+=s[o]}return i}}const kK=t=>typeof t=="number"?0:t;function DK(t){const e=HM(t);return qM(t)(e.map(kK))}const Ui={test:AK,parse:HM,createTransformer:qM,getAnimatableNone:DK};function ny(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function MK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ny(l,a,t+1/3),i=ny(l,a,t),o=ny(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function lp(t,e){return n=>n>0?e:t}const Ze=(t,e,n)=>t+(e-t)*n,ry=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},OK=[uw,_o,Aa],jK=t=>OK.find(e=>e.test(t));function zS(t){const e=jK(t);if(!e)return!1;let n=e.parse(t);return e===Aa&&(n=MK(n)),n}const WS=(t,e)=>{const n=zS(t),r=zS(e);if(!n||!r)return lp(t,e);const s={...n};return i=>(s.red=ry(n.red,r.red,i),s.green=ry(n.green,r.green,i),s.blue=ry(n.blue,r.blue,i),s.alpha=Ze(n.alpha,r.alpha,i),_o.transform(s))},dw=new Set(["none","hidden"]);function LK(t,e){return dw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function VK(t,e){return n=>Ze(t,e,n)}function C_(t){return typeof t=="number"?VK:typeof t=="string"?T_(t)?lp:Gt.test(t)?WS:$K:Array.isArray(t)?GM:typeof t=="object"?Gt.test(t)?WS:FK:lp}function GM(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>C_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function FK(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=C_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function UK(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const $K=(t,e)=>{const n=Ui.createTransformer(e),r=Lu(t),s=Lu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?dw.has(t)&&!s.values.length||dw.has(e)&&!r.values.length?LK(t,e):pd(GM(UK(r,s),s.values),n):lp(t,e)};function KM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ze(t,e,n):C_(t)(t,e)}const BK=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>Fi(e),now:()=>Rt.isProcessing?Rt.timestamp:Tn.now()}},QM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},cp=2e4;function I_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cp;)e+=n,r=t.next(e);return e>=cp?1/0:e}function zK(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(I_(r),cp);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Jr(s)}}const WK=5;function YM(t,e,n){const r=Math.max(e-WK,0);return PM(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sy=.001;function HK({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let s,i,o=1-e;o=ks(at.minDamping,at.maxDamping,o),t=ks(at.minDuration,at.maxDuration,Jr(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,g=hw(c,o),_=Math.exp(-f);return sy-p/g*_},i=c=>{const f=c*o*t,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-f),v=hw(Math.pow(c,2),o);return(-s(c)+sy>0?-1:1)*((p-g)*_)/v}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-sy+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=GK(s,i,a);if(t=Xr(t),isNaN(l))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const qK=12;function GK(t,e,n){let r=n;for(let s=1;s<qK;s++)r=r-t(r)/e(r);return r}function hw(t,e){return t*Math.sqrt(1-e*e)}const KK=["duration","bounce"],QK=["stiffness","damping","mass"];function HS(t,e){return e.some(n=>t[n]!==void 0)}function YK(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!HS(t,QK)&&HS(t,KK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ks(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:at.mass,stiffness:s,damping:i}}else{const n=HK(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function up(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=YK({...n,velocity:-Jr(n.velocity||0)}),_=p||0,v=c/(2*Math.sqrt(l*d)),E=o-i,w=Jr(Math.sqrt(l/d)),x=Math.abs(E)<5;r||(r=x?at.restSpeed.granular:at.restSpeed.default),s||(s=x?at.restDelta.granular:at.restDelta.default);let T;if(v<1){const N=hw(w,v);T=O=>{const C=Math.exp(-v*w*O);return o-C*((_+v*w*E)/N*Math.sin(N*O)+E*Math.cos(N*O))}}else if(v===1)T=N=>o-Math.exp(-w*N)*(E+(_+w*E)*N);else{const N=w*Math.sqrt(v*v-1);T=O=>{const C=Math.exp(-v*w*O),S=Math.min(N*O,300);return o-C*((_+v*w*E)*Math.sinh(S)+N*E*Math.cosh(S))/N}}const P={calculatedDuration:g&&f||null,next:N=>{const O=T(N);if(g)a.done=N>=f;else{let C=N===0?_:0;v<1&&(C=N===0?Xr(_):YM(T,N,O));const S=Math.abs(C)<=r,I=Math.abs(o-O)<=s;a.done=S&&I}return a.value=a.done?o:O,a},toString:()=>{const N=Math.min(I_(P),cp),O=QM(C=>P.next(N*C).value,N,30);return N+"ms "+O},toTransition:()=>{}};return P}up.applyToOptions=t=>{const e=zK(t,100,up);return t.ease=e.ease,t.duration=Xr(e.duration),t.type="keyframes",t};function fw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,_=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const E=f+v,w=o===void 0?E:o(E);w!==E&&(v=w-f);const x=S=>-v*Math.exp(-S/r),T=S=>w+x(S),P=S=>{const I=x(S),R=T(S);p.done=Math.abs(I)<=c,p.value=p.done?w:R};let N,O;const C=S=>{g(p.value)&&(N=S,O=up({keyframes:[p.value,_(p.value)],velocity:YM(T,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!O&&N===void 0&&(I=!0,P(S),C(S)),N!==void 0&&S>=N?O.next(S-N):(!I&&P(S),p)}}}function XK(t,e,n){const r=[],s=n||Ds.mix||KM,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nr:e;a=pd(l,a)}r.push(a)}return r}function JK(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ap(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=XK(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Ou(t[f],t[f+1],d);return a[f](p)};return n?d=>c(ks(t[0],t[i-1],d)):c}function ZK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ou(0,e,r);t.push(Ze(n,1,s))}}function eQ(t){const e=[0];return ZK(e,t.length-1),e}function tQ(t,e){return t.map(n=>n*e)}function nQ(t,e){return t.map(()=>e||VM).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=pK(r)?r.map(FS):FS(r),i={done:!1,value:e[0]},o=tQ(n&&n.length===e.length?n:eQ(e),t),a=JK(o,e,{ease:Array.isArray(s)?s:nQ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const rQ=t=>t!==null;function A_(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(rQ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const sQ={decay:fw,inertia:fw,tween:Xc,keyframes:Xc,spring:up};function XM(t){typeof t.type=="string"&&(t.type=sQ[t.type])}class P_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const iQ=t=>t/100;class R_ extends P_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XM(e);const{type:n=Xc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Xc;l!==Xc&&typeof a[0]!="number"&&(this.mixKeyframes=pd(iQ,KM(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=I_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:_,onUpdate:v,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,P=r;if(f){const S=Math.min(this.currentTime,s)/a;let I=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(R=1-R,g&&(R-=g/a)):p==="mirror"&&(P=o)),T=ks(0,1,R)*a}const N=x?{done:!1,value:d[0]}:P.next(T);i&&(N.value=i(N.value));let{done:O}=N;!x&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&_!==fw&&(N.value=A_(d,this.options,E,this.speed)),v&&v(N.value),C&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Jr(this.calculatedDuration)}get time(){return Jr(this.currentTime)}set time(e){var n;e=Xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=BK,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function oQ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Eo=t=>t*180/Math.PI,pw=t=>{const e=Eo(Math.atan2(t[1],t[0]));return mw(e)},aQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pw,rotateZ:pw,skewX:t=>Eo(Math.atan(t[1])),skewY:t=>Eo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mw=t=>(t=t%360,t<0&&(t+=360),t),qS=pw,GS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),KS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GS,scaleY:KS,scale:t=>(GS(t)+KS(t))/2,rotateX:t=>mw(Eo(Math.atan2(t[6],t[5]))),rotateY:t=>mw(Eo(Math.atan2(-t[2],t[0]))),rotateZ:qS,rotate:qS,skewX:t=>Eo(Math.atan(t[4])),skewY:t=>Eo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gw(t){return t.includes("scale")?1:0}function yw(t,e){if(!t||t==="none")return gw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=lQ,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aQ,s=a}if(!s)return gw(e);const i=r[e],o=s[1].split(",").map(uQ);return typeof i=="function"?i(o):o[i]}const cQ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yw(n,e)};function uQ(t){return parseFloat(t.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set($l),QS=t=>t===Ul||t===he,dQ=new Set(["x","y","z"]),hQ=$l.filter(t=>!dQ.has(t));function fQ(t){const e=[];return hQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Po={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yw(e,"x"),y:(t,{transform:e})=>yw(e,"y")};Po.translateX=Po.x;Po.translateY=Po.y;const Ro=new Set;let vw=!1,ww=!1,xw=!1;function JM(){if(ww){const t=Array.from(Ro).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=fQ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ww=!1,vw=!1,Ro.forEach(t=>t.complete(xw)),Ro.clear()}function ZM(){Ro.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ww=!0)})}function pQ(){xw=!0,ZM(),JM(),xw=!1}class N_{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ro.add(this),vw||(vw=!0,tt.read(ZM),tt.resolveKeyframes(JM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}oQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ro.delete(this)}cancel(){this.state==="scheduled"&&(Ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mQ=t=>t.startsWith("--");function gQ(t,e,n){mQ(e)?t.style.setProperty(e,n):t.style[e]=n}const yQ=v_(()=>window.ScrollTimeline!==void 0),vQ={};function wQ(t,e){const n=v_(t);return()=>vQ[e]??n()}const e2=wQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ic=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ic([0,.65,.55,1]),circOut:Ic([.55,0,1,.45]),backIn:Ic([.31,.01,.66,-.59]),backOut:Ic([.33,1.53,.69,.99])};function t2(t,e){if(t)return typeof t=="function"?e2()?QM(t,e):"ease-out":FM(t)?Ic(t):Array.isArray(t)?t.map(n=>t2(n,e)||YS.easeOut):YS[t]}function xQ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const f=t2(a,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function n2(t){return typeof t=="function"&&"applyToOptions"in t}function _Q({type:t,...e}){return n2(t)&&e2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class EQ extends P_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,ap(typeof e.type!="string");const c=_Q(e);this.animation=xQ(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=A_(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):gQ(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Jr(Number(e))}get time(){return Jr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&yQ()?(this.animation.timeline=e,nr):n(this)}}const r2={anticipate:OM,backInOut:MM,circInOut:LM};function TQ(t){return t in r2}function bQ(t){typeof t.ease=="string"&&TQ(t.ease)&&(t.ease=r2[t.ease])}const XS=10;class SQ extends EQ{constructor(e){bQ(e),XM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new R_({...o,autoplay:!1}),l=Xr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-XS).value,a.sample(l).value,XS),a.stop()}}const JS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function CQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function IQ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=JS(s,e),a=JS(i,e);return!o||!a?!1:CQ(t)||(n==="spring"||n2(n))&&r}function k_(t){return IM(t)&&"offsetHeight"in t}const AQ=new Set(["opacity","clipPath","filter","transform"]),PQ=v_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RQ(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!k_((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return PQ()&&n&&AQ.has(n)&&(n!=="transform"||!l)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const NQ=40;class kQ extends P_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){var _;super(),this.stop=()=>{var v,E;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Tn.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||N_;this.keyframeResolver=new g(a,(v,E,w)=>this.onKeyframesResolved(v,E,p,!w),l,c,d),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Tn.now(),IQ(e,i,o,a)||((Ds.instantAnimations||!l)&&(d==null||d(A_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>NQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&RQ(p)?new SQ({...p,element:p.motionValue.owner.current}):new R_(p);g.finished.then(()=>this.notifyFinished()).catch(nr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),pQ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const DQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MQ(t){const e=DQ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function s2(t,e,n=1){const[r,s]=MQ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return CM(o)?parseFloat(o):o}return T_(s)?s2(s,e,n+1):s}function D_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const i2=new Set(["width","height","top","left","right","bottom",...$l]),OQ={test:t=>t==="auto",parse:t=>t},o2=t=>e=>e.test(t),a2=[Ul,he,Zr,Ks,CK,SK,OQ],ZS=t=>a2.find(o2(t));function jQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AM(t):!0}const LQ=new Set(["brightness","contrast","saturate","opacity"]);function VQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(b_)||[];if(!r)return t;const s=n.replace(r,"");let i=LQ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const FQ=/\b([a-z-]*)\(.*?\)/gu,_w={...Ui,getAnimatableNone:t=>{const e=t.match(FQ);return e?e.map(VQ).join(" "):t}},eC={...Ul,transform:Math.round},UQ={rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:ph,scaleX:ph,scaleY:ph,scaleZ:ph,skew:Ks,skewX:Ks,skewY:Ks,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:ju,originX:$S,originY:$S,originZ:he},M_={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he,...UQ,zIndex:eC,fillOpacity:ju,strokeOpacity:ju,numOctaves:eC},$Q={...M_,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:_w,WebkitFilter:_w},l2=t=>$Q[t];function c2(t,e){let n=l2(t);return n!==_w&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BQ=new Set(["auto","none","0"]);function zQ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!BQ.has(i)&&Lu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=c2(n,s)}class WQ extends N_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),T_(c))){const d=s2(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!i2.has(r)||e.length!==2)return;const[s,i]=e,o=ZS(s),a=ZS(i);if(o!==a)if(QS(o)&&QS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Po[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||jQ(e[s]))&&r.push(s);r.length&&zQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Po[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Po[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function HQ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const u2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tC=30,qQ=t=>!isNaN(parseFloat(t));class GQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Tn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new w_);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tC);return PM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new GQ(t,e)}const{schedule:O_,cancel:dse}=UM(queueMicrotask,!1),cr={x:!1,y:!1};function d2(){return cr.x||cr.y}function KQ(t){return t==="x"||t==="y"?cr[t]?null:(cr[t]=!0,()=>{cr[t]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function h2(t,e){const n=HQ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function nC(t){return!(t.pointerType==="touch"||d2())}function QQ(t,e,n={}){const[r,s,i]=h2(t,n),o=a=>{if(!nC(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{nC(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const f2=(t,e)=>e?t===e?!0:f2(t,e.parentElement):!1,j_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,YQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XQ(t){return YQ.has(t.tagName)||t.tabIndex!==-1}const Qh=new WeakSet;function rC(t){return e=>{e.key==="Enter"&&t(e)}}function iy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=rC(()=>{if(Qh.has(n))return;iy(n,"down");const s=rC(()=>{iy(n,"up")}),i=()=>iy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function sC(t){return j_(t)&&!d2()}function ZQ(t,e,n={}){const[r,s,i]=h2(t,n),o=a=>{const l=a.currentTarget;if(!sC(a))return;Qh.add(l);const c=e(l,a),d=(g,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Qh.has(l)&&Qh.delete(l),sC(g)&&typeof c=="function"&&c(g,{success:_})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||f2(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),k_(a)&&(a.addEventListener("focus",c=>JQ(c,s)),!XQ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function p2(t){return IM(t)&&"ownerSVGElement"in t}function eY(t){return p2(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),tY=[...a2,Gt,Ui],nY=t=>tY.find(o2(t)),L_=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class rY extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=k_(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sY({children:t,isPresent:e,anchorX:n}){const r=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(L_);return m.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[e]),h.jsx(rY,{isPresent:e,childRef:s,sizeRef:i,children:m.cloneElement(t,{ref:s})})}const iY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const l=p_(oY),c=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:p=>{l.set(p,!0);for(const g of l.values())if(!g)return;r&&r()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[n,l,r]);return i&&d&&(f={...f}),m.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(sY,{isPresent:n,anchorX:a,children:t})),h.jsx(Am.Provider,{value:f,children:t})};function oY(){return new Map}function m2(t=!0){const e=m.useContext(Am);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=m.useId();m.useEffect(()=>{if(t)return s(i)},[t]);const o=m.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const mh=t=>t.key||"";function iC(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const g2=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=m2(o),d=m.useMemo(()=>iC(t),[t]),f=o&&!l?[]:d.map(mh),p=m.useRef(!0),g=m.useRef(d),_=p_(()=>new Map),[v,E]=m.useState(d),[w,x]=m.useState(d);SM(()=>{p.current=!1,g.current=d;for(let N=0;N<w.length;N++){const O=mh(w[N]);f.includes(O)?_.delete(O):_.get(O)!==!0&&_.set(O,!1)}},[w,f.length,f.join("-")]);const T=[];if(d!==v){let N=[...d];for(let O=0;O<w.length;O++){const C=w[O],S=mh(C);f.includes(S)||(N.splice(O,0,C),T.push(C))}return i==="wait"&&T.length&&(N=T),x(iC(N)),E(d),null}const{forceRender:P}=m.useContext(f_);return h.jsx(h.Fragment,{children:w.map(N=>{const O=mh(N),C=o&&!l?!1:d===w||f.includes(O),S=()=>{if(_.has(O))_.set(O,!0);else return;let I=!0;_.forEach(R=>{R||(I=!1)}),I&&(P==null||P(),x(g.current),o&&(c==null||c()),r&&r())};return h.jsx(iY,{isPresent:C,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:S,anchorX:a,children:N},O)})})},y2=m.createContext({strict:!1}),oC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const t in oC)El[t]={isEnabled:e=>oC[t].some(n=>!!e[n])};function aY(t){for(const e in t)El[e]={...El[e],...t[e]}}const lY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lY.has(t)}let v2=t=>!dp(t);function cY(t){t&&(v2=e=>e.startsWith("on")?!dp(e):t(e))}try{cY(require("@emotion/is-prop-valid").default)}catch{}function uY(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(v2(s)||n===!0&&dp(s)||!e&&!dp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function dY(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Pm=m.createContext({});function Rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vu(t){return typeof t=="string"||Array.isArray(t)}const V_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F_=["initial",...V_];function Nm(t){return Rm(t.animate)||F_.some(e=>Vu(t[e]))}function w2(t){return!!(Nm(t)||t.variants)}function hY(t,e){if(Nm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vu(n)?n:void 0,animate:Vu(r)?r:void 0}}return t.inherit!==!1?e:{}}function fY(t){const{initial:e,animate:n}=hY(t,m.useContext(Pm));return m.useMemo(()=>({initial:e,animate:n}),[aC(e),aC(n)])}function aC(t){return Array.isArray(t)?t.join(" "):t}const pY=Symbol.for("motionComponentSymbol");function Pa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mY(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pa(n)&&(n.current=r))},[e])}const U_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gY="framerAppearId",x2="data-"+U_(gY),_2=m.createContext({});function yY(t,e,n,r,s){var v,E;const{visualElement:i}=m.useContext(Pm),o=m.useContext(y2),a=m.useContext(Am),l=m.useContext(L_).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=m.useContext(_2);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&vY(c.current,n,s,f);const p=m.useRef(!1);m.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[x2],_=m.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,g)));return SM(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),O_.render(d.render),_.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),_.current=!1))}),d}function vY(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:E2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Pa(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function E2(t){if(t)return t.options.allowProjection!==!1?t.projection:E2(t.parent)}function wY({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&aY(t);function i(a,l){let c;const d={...m.useContext(L_),...a,layoutId:xY(a)},{isStatic:f}=d,p=fY(a),g=r(a,f);if(!f&&m_){_Y();const _=EY(d);c=_.MeasureLayout,p.visualElement=yY(s,g,d,e,_.ProjectionNode)}return h.jsxs(Pm.Provider,{value:p,children:[c&&p.visualElement?h.jsx(c,{visualElement:p.visualElement,...d}):null,n(s,a,mY(g,p.visualElement,l),g,f,p.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=m.forwardRef(i);return o[pY]=s,o}function xY({layoutId:t}){const e=m.useContext(f_).id;return e&&t!==void 0?e+"-"+t:t}function _Y(t,e){m.useContext(y2).strict}function EY(t){const{drag:e,layout:n}=El;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Fu={};function TY(t){for(const e in t)Fu[e]=t[e],E_(e)&&(Fu[e].isCSSVariable=!0)}function T2(t,{layout:e,layoutId:n}){return Bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fu[t]||t==="opacity")}const bY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SY=$l.length;function CY(t,e,n){let r="",s=!0;for(let i=0;i<SY;i++){const o=$l[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=u2(a,M_[o]);if(!l){s=!1;const d=bY[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function $_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Bl.has(l)){o=!0;continue}else if(E_(l)){s[l]=c;continue}else{const d=u2(c,M_[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=CY(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const B_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function b2(t,e,n){for(const r in e)!Zt(e[r])&&!T2(r,n)&&(t[r]=e[r])}function IY({transformTemplate:t},e){return m.useMemo(()=>{const n=B_();return $_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AY(t,e){const n=t.style||{},r={};return b2(r,n,t),Object.assign(r,IY(t,e)),r}function PY(t,e){const n={},r=AY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const RY={offset:"stroke-dashoffset",array:"stroke-dasharray"},NY={offset:"strokeDashoffset",array:"strokeDasharray"};function kY(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?RY:NY;t[i.offset]=he.transform(-r);const o=he.transform(e),a=he.transform(n);t[i.array]=`${o} ${a}`}function S2(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if($_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&kY(f,s,i,o,!1)}const C2=()=>({...B_(),attrs:{}}),I2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DY(t,e,n,r){const s=m.useMemo(()=>{const i=C2();return S2(i,e,I2(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};b2(i,t.style,t),s.style={...i,...s.style}}return s}const MY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z_(t){return typeof t!="string"||t.includes("-")?!1:!!(MY.indexOf(t)>-1||/[A-Z]/u.test(t))}function OY(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(z_(n)?DY:PY)(r,i,o,n),c=uY(r,typeof n=="string",t),d=n!==m.Fragment?{...c,...l,ref:s}:{},{children:f}=r,p=m.useMemo(()=>Zt(f)?f.get():f,[f]);return m.createElement(n,{...d,children:p})}}function lC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function W_(t,e,n,r){if(typeof e=="function"){const[s,i]=lC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=lC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Yh(t){return Zt(t)?t.get():t}function jY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:LY(n,r,s,t),renderState:e()}}const A2=t=>(e,n)=>{const r=m.useContext(Pm),s=m.useContext(Am),i=()=>jY(t,e,r,s);return n?i():p_(i)};function LY(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Yh(i[p]);let{initial:o,animate:a}=t;const l=Nm(t),c=w2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Rm(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const _=W_(t,p[g]);if(_){const{transitionEnd:v,transition:E,...w}=_;for(const x in w){let T=w[x];if(Array.isArray(T)){const P=d?T.length-1:0;T=T[P]}T!==null&&(s[x]=T)}for(const x in v)s[x]=v[x]}}}return s}function H_(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Zt(r[o])||e.style&&Zt(e.style[o])||T2(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const VY={useVisualState:A2({scrapeMotionValuesFromProps:H_,createRenderState:B_})};function P2(t,e,n){const r=H_(t,e,n);for(const s in t)if(Zt(t[s])||Zt(e[s])){const i=$l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const FY={useVisualState:A2({scrapeMotionValuesFromProps:P2,createRenderState:C2})};function UY(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...z_(r)?FY:VY,preloadedFeatures:t,useRender:OY(s),createVisualElement:e,Component:r};return wY(o)}}function Uu(t,e,n){const r=t.getProps();return W_(r,e,n!==void 0?n:r.custom,t)}const Ew=t=>Array.isArray(t);function $Y(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function BY(t){return Ew(t)?t[t.length-1]||0:t}function zY(t,e){const n=Uu(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=BY(i[o]);$Y(t,o,a)}}function WY(t){return!!(Zt(t)&&t.add)}function Tw(t,e){const n=t.getValue("willChange");if(WY(n))return n.add(e);if(!n&&Ds.WillChange){const r=new Ds.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function R2(t){return t.props[x2]}const HY=t=>t!==null;function qY(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(HY),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const GY={type:"spring",stiffness:500,damping:25,restSpeed:10},KY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QY={type:"keyframes",duration:.8},YY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XY=(t,{keyframes:e})=>e.length>2?QY:Bl.has(t)?t.startsWith("scale")?KY(e[1]):GY:YY;function JY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const q_=(t,e,n,r={},s,i)=>o=>{const a=D_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Xr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};JY(a)||Object.assign(d,XY(t,d)),d.duration&&(d.duration=Xr(d.duration)),d.repeatDelay&&(d.repeatDelay=Xr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Ds.instantAnimations||Ds.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=qY(d.keyframes,a);if(p!==void 0){tt.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new R_(d):new kQ(d)};function ZY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function N2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&ZY(c,d))continue;const g={delay:n,...D_(i||{},d)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===_&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=R2(t);if(w){const x=window.MotionHandoffAnimation(w,d,tt);x!==null&&(g.startTime=x,v=!0)}}Tw(t,d),f.start(q_(d,f,p,t.shouldReduceMotion&&i2.has(d)?{type:!1}:g,t,v));const E=f.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{tt.update(()=>{o&&zY(t,o)})}),l}function bw(t,e,n={}){var l;const r=Uu(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(N2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return eX(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function eX(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(tX).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(bw(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function tX(t,e){return t.sortNodePosition(e)}function nX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>bw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=bw(t,e,n);else{const s=typeof e=="function"?Uu(t,e,n.custom):e;r=Promise.all(N2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function k2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const rX=F_.length;function D2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?D2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rX;n++){const r=F_[n],s=t.props[r];(Vu(s)||s===!1)&&(e[r]=s)}return e}const sX=[...V_].reverse(),iX=V_.length;function oX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nX(t,n,r)))}function aX(t){let e=oX(t),n=cC(),r=!0;const s=l=>(c,d)=>{var p;const f=Uu(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:_,...v}=f;c={...c,...v,..._}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=D2(t.parent)||{},f=[],p=new Set;let g={},_=1/0;for(let E=0;E<iX;E++){const w=sX[E],x=n[w],T=c[w]!==void 0?c[w]:d[w],P=Vu(T),N=w===l?x.isActive:null;N===!1&&(_=E);let O=T===d[w]&&T!==c[w]&&P;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...g},!x.isActive&&N===null||!T&&!x.prevProp||Rm(T)||typeof T=="boolean")continue;const C=lX(x.prevProp,T);let S=C||w===l&&x.isActive&&!O&&P||E>_&&P,I=!1;const R=Array.isArray(T)?T:[T];let D=R.reduce(s(w),{});N===!1&&(D={});const{prevResolvedValues:M={}}=x,k={...M,...D},W=Z=>{S=!0,p.has(Z)&&(I=!0,p.delete(Z)),x.needsAnimating[Z]=!0;const j=t.getValue(Z);j&&(j.liveStyle=!1)};for(const Z in k){const j=D[Z],F=M[Z];if(g.hasOwnProperty(Z))continue;let q=!1;Ew(j)&&Ew(F)?q=!k2(j,F):q=j!==F,q?j!=null?W(Z):p.add(Z):j!==void 0&&p.has(Z)?W(Z):x.protectedKeys[Z]=!0}x.prevProp=T,x.prevResolvedValues=D,x.isActive&&(g={...g,...D}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(O&&C)||I)&&f.push(...R.map(Z=>({animation:Z,options:{type:w}})))}if(p.size){const E={};if(typeof c.initial!="boolean"){const w=Uu(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(E.transition=w.transition)}p.forEach(w=>{const x=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),E[w]=x??null}),f.push({animation:E})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=cC(),r=!0}}}function lX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!k2(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cC(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cX extends Xi{constructor(e){super(e),e.animationState||(e.animationState=aX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uX=0;class dX extends Xi{constructor(){super(...arguments),this.id=uX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hX={animation:{Feature:cX},exit:{Feature:dX}};function $u(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function yd(t){return{point:{x:t.pageX,y:t.pageY}}}const fX=t=>e=>j_(e)&&t(e,yd(e));function Jc(t,e,n,r){return $u(t,e,fX(n),r)}function M2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const O2=1e-4,gX=1-O2,yX=1+O2,j2=.01,vX=0-j2,wX=0+j2;function dn(t){return t.max-t.min}function xX(t,e,n){return Math.abs(t-e)<=n}function uC(t,e,n,r=.5){t.origin=r,t.originPoint=Ze(e.min,e.max,t.origin),t.scale=dn(n)/dn(e),t.translate=Ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gX&&t.scale<=yX||isNaN(t.scale))&&(t.scale=1),(t.translate>=vX&&t.translate<=wX||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,r){uC(t.x,e.x,n.x,r?r.originX:void 0),uC(t.y,e.y,n.y,r?r.originY:void 0)}function dC(t,e,n){t.min=n.min+e.min,t.max=t.min+dn(e)}function _X(t,e,n){dC(t.x,e.x,n.x),dC(t.y,e.y,n.y)}function hC(t,e,n){t.min=e.min-n.min,t.max=t.min+dn(e)}function eu(t,e,n){hC(t.x,e.x,n.x),hC(t.y,e.y,n.y)}const fC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ra=()=>({x:fC(),y:fC()}),pC=()=>({min:0,max:0}),ut=()=>({x:pC(),y:pC()});function qn(t){return[t("x"),t("y")]}function oy(t){return t===void 0||t===1}function Sw({scale:t,scaleX:e,scaleY:n}){return!oy(t)||!oy(e)||!oy(n)}function co(t){return Sw(t)||L2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L2(t){return mC(t.x)||mC(t.y)}function mC(t){return t&&t!=="0%"}function hp(t,e,n){const r=t-n,s=e*r;return n+s}function gC(t,e,n,r,s){return s!==void 0&&(t=hp(t,s,r)),hp(t,n,r)+e}function Cw(t,e=0,n=1,r,s){t.min=gC(t.min,e,n,r,s),t.max=gC(t.max,e,n,r,s)}function V2(t,{x:e,y:n}){Cw(t.x,e.translate,e.scale,e.originPoint),Cw(t.y,n.translate,n.scale,n.originPoint)}const yC=.999999999999,vC=1.0000000000001;function EX(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ka(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,V2(t,o)),r&&co(i.latestValues)&&ka(t,i.latestValues))}e.x<vC&&e.x>yC&&(e.x=1),e.y<vC&&e.y>yC&&(e.y=1)}function Na(t,e){t.min=t.min+e,t.max=t.max+e}function wC(t,e,n,r,s=.5){const i=Ze(t.min,t.max,s);Cw(t,e,n,i,r)}function ka(t,e){wC(t.x,e.x,e.scaleX,e.scale,e.originX),wC(t.y,e.y,e.scaleY,e.scale,e.originY)}function F2(t,e){return M2(mX(t.getBoundingClientRect(),e))}function TX(t,e,n){const r=F2(t,n),{scroll:s}=e;return s&&(Na(r.x,s.offset.x),Na(r.y,s.offset.y)),r}const U2=({current:t})=>t?t.ownerDocument.defaultView:null,xC=(t,e)=>Math.abs(t-e);function bX(t,e){const n=xC(t.x,e.x),r=xC(t.y,e.y);return Math.sqrt(n**2+r**2)}class $2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ly(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=bX(f.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:_}=f,{timestamp:v}=Rt;this.history.push({..._,timestamp:v});const{onStart:E,onMove:w}=this.handlers;p||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ay(p,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=ly(f.type==="pointercancel"?this.lastMoveEventInfo:ay(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),_&&_(f,E)},!j_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=yd(e),a=ay(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Rt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,ly(a,this.history)),this.removeListeners=pd(Jc(this.contextWindow,"pointermove",this.handlePointerMove),Jc(this.contextWindow,"pointerup",this.handlePointerUp),Jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fi(this.updatePoint)}}function ay(t,e){return e?{point:e(t.point)}:t}function _C(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ly({point:t},e){return{point:t,delta:_C(t,B2(e)),offset:_C(t,SX(e)),velocity:CX(e,.1)}}function SX(t){return t[0]}function B2(t){return t[t.length-1]}function CX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=B2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Xr(e)));)n--;if(!r)return{x:0,y:0};const i=Jr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ze(n,t,r.max):Math.min(t,n)),t}function EC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function AX(t,{top:e,left:n,bottom:r,right:s}){return{x:EC(t.x,n,s),y:EC(t.y,e,r)}}function TC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PX(t,e){return{x:TC(t.x,e.x),y:TC(t.y,e.y)}}function RX(t,e){let n=.5;const r=dn(t),s=dn(e);return s>r?n=Ou(e.min,e.max-r,t.min):r>s&&(n=Ou(t.min,t.max-s,e.min)),ks(0,1,n)}function NX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iw=.35;function kX(t=Iw){return t===!1?t=0:t===!0&&(t=Iw),{x:bC(t,"left","right"),y:bC(t,"top","bottom")}}function bC(t,e,n){return{min:SC(t,e),max:SC(t,n)}}function SC(t,e){return typeof t=="number"?t:t[e]||0}const DX=new WeakMap;class MX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yd(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:_}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KQ(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(E=>{let w=this.getAxisMotionValue(E).get()||0;if(Zr.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const T=x.layout.layoutBox[E];T&&(w=dn(T)*(parseFloat(w)/100))}}this.originPoint[E]=w}),_&&tt.postRender(()=>_(d,f)),Tw(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:_,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=OX(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>qn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new $2(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:U2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&tt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!gh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=IX(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Pa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=AX(r.layoutBox,e):this.constraints=!1,this.elastic=kX(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=NX(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=TX(r,s.root,this.visualElement.getTransformPagePoint());let o=PX(s.layout.layoutBox,i);if(n){const a=n(pX(o));this.hasMutatedConstraints=!!a,a&&(o=M2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=qn(d=>{if(!gh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tw(this.visualElement,e),r.start(q_(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!gh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};qn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=RX({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(o=>{if(!gh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ze(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;DX.set(this.visualElement,this);const e=this.visualElement.current,n=Jc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Pa(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tt.read(r);const o=$u(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(qn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Iw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jX extends Xi{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new MX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const CC=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class LX extends Xi{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new $2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:U2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:CC(e),onStart:CC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&tt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(he.test(t))t=parseFloat(t);else return t;const n=IC(t,e.target.x),r=IC(t,e.target.y);return`${n}% ${r}%`}},VX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ui.parse(t);if(s.length>5)return r;const i=Ui.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Ze(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class FX extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;TY(UX),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z2(t){const[e,n]=m2(),r=m.useContext(f_);return h.jsx(FX,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(_2),isPresent:e,safeToRemove:n})}const UX={borderRadius:{...gc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gc,borderTopRightRadius:gc,borderBottomLeftRadius:gc,borderBottomRightRadius:gc,boxShadow:VX};function $X(t,e,n){const r=Zt(t)?t:_l(t);return r.start(q_("",r,e,n)),r.animation}const BX=(t,e)=>t.depth-e.depth;class zX{constructor(){this.children=[],this.isDirty=!1}add(e){g_(this.children,e),this.isDirty=!0}remove(e){y_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BX),this.isDirty=!1,this.children.forEach(e)}}function WX(t,e){const n=Tn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Fi(r),t(i-e))};return tt.setup(r,!0),()=>Fi(r)}const W2=["TopLeft","TopRight","BottomLeft","BottomRight"],HX=W2.length,AC=t=>typeof t=="string"?parseFloat(t):t,PC=t=>typeof t=="number"||he.test(t);function qX(t,e,n,r,s,i){s?(t.opacity=Ze(0,n.opacity??1,GX(r)),t.opacityExit=Ze(e.opacity??1,0,KX(r))):i&&(t.opacity=Ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<HX;o++){const a=`border${W2[o]}Radius`;let l=RC(e,a),c=RC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PC(l)===PC(c)?(t[a]=Math.max(Ze(AC(l),AC(c),r),0),(Zr.test(c)||Zr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ze(e.rotate||0,n.rotate||0,r))}function RC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GX=H2(0,.5,jM),KX=H2(.5,.95,nr);function H2(t,e,n){return r=>r<t?0:r>e?1:n(Ou(t,e,r))}function NC(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){NC(t.x,e.x),NC(t.y,e.y)}function kC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DC(t,e,n,r,s){return t-=e,t=hp(t,1/n,r),s!==void 0&&(t=hp(t,1/s,r)),t}function QX(t,e=0,n=1,r=.5,s,i=t,o=t){if(Zr.test(e)&&(e=parseFloat(e),e=Ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ze(i.min,i.max,r);t===i&&(a-=e),t.min=DC(t.min,e,n,a,s),t.max=DC(t.max,e,n,a,s)}function MC(t,e,[n,r,s],i,o){QX(t,e[n],e[r],e[s],e.scale,i,o)}const YX=["x","scaleX","originX"],XX=["y","scaleY","originY"];function OC(t,e,n,r){MC(t.x,e,YX,n?n.x:void 0,r?r.x:void 0),MC(t.y,e,XX,n?n.y:void 0,r?r.y:void 0)}function jC(t){return t.translate===0&&t.scale===1}function q2(t){return jC(t.x)&&jC(t.y)}function LC(t,e){return t.min===e.min&&t.max===e.max}function JX(t,e){return LC(t.x,e.x)&&LC(t.y,e.y)}function VC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function G2(t,e){return VC(t.x,e.x)&&VC(t.y,e.y)}function FC(t){return dn(t.x)/dn(t.y)}function UC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ZX{constructor(){this.members=[]}add(e){g_(this.members,e),e.scheduleRender()}remove(e){if(y_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eJ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cy=["","X","Y","Z"],tJ={visibility:"hidden"},nJ=1e3;let rJ=0;function uy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function K2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=R2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&K2(r)}function Q2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oJ),this.nodes.forEach(dJ),this.nodes.forEach(hJ),this.nodes.forEach(aJ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new w_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=p2(o)&&!eY(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=WX(f,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(BC))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||yJ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:E}=c.getProps(),w=!this.targetLayout||!G2(this.targetLayout,g),x=!f&&p;if(this.options.layoutRoot||this.resumeFrom||x||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...D_(_,"layout"),onPlay:v,onComplete:E};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(d,x)}else f||BC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($C);return}this.isUpdating||this.nodes.forEach(cJ),this.isUpdating=!1,this.nodes.forEach(uJ),this.nodes.forEach(sJ),this.nodes.forEach(iJ),this.clearAllSnapshots();const a=Tn.now();Rt.delta=ks(0,1e3/60,a-Rt.timestamp),Rt.timestamp=a,Rt.isProcessing=!0,ey.update.process(Rt),ey.preRender.process(Rt),ey.render.process(Rt),Rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lJ),this.sharedNodes.forEach(pJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!q2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||co(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ut();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(wJ))){const{scroll:d}=this.root;d&&(Na(a.x,d.offset.x),Na(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=ut();if(Hn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Hn(a,o),Na(a.x,f.offset.x),Na(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=ut();Hn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ka(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),co(d.latestValues)&&ka(l,d.latestValues)}return co(this.latestValues)&&ka(l,this.latestValues),l}removeTransform(o){const a=ut();Hn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!co(c.latestValues))continue;Sw(c.latestValues)&&c.updateSnapshot();const d=ut(),f=c.measurePageBox();Hn(d,f),OC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return co(this.latestValues)&&OC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Rt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),eu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_X(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),V2(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),eu(this.relativeTargetOrigin,this.target,g.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||L2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Rt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Hn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;EX(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ut());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kC(this.prevProjectionDelta.x,this.projectionDelta.x),kC(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!UC(this.projectionDelta.x,this.prevProjectionDelta.x)||!UC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ra(),this.projectionDelta=Ra(),this.projectionDeltaWithTransform=Ra()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ut(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,v=g!==_,E=this.getStack(),w=!E||E.members.length<=1,x=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(gJ));this.animationProgress=0;let T;this.mixTargetDelta=P=>{const N=P/1e3;zC(f.x,o.x,N),zC(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mJ(this.relativeTarget,this.relativeTargetOrigin,p,N),T&&JX(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ut()),Hn(T,this.relativeTarget)),v&&(this.animationValues=d,qX(d,c,this.latestValues,N,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Fi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Xh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=$X(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Y2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const f=dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Hn(a,l),ka(a,d),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZX),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&uy("z",o,c,this.animationValues);for(let d=0;d<cy.length;d++)uy(`rotate${cy[d]}`,o,c,this.animationValues),uy(`skew${cy[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return tJ;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Yh(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Yh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(g.transform=l?l({},""):"none",this.hasProjected=!1),g}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=eJ(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Fu){if(d[g]===void 0)continue;const{correct:_,applyTo:v,isCSSVariable:E}=Fu[g],w=a.transform==="none"?d[g]:_(d[g],c);if(v){const x=v.length;for(let T=0;T<x;T++)a[v[T]]=w}else E?this.options.visualElement.renderState.vars[g]=w:a[g]=w}return this.options.layoutId&&(a.pointerEvents=c===this?Yh(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach($C),this.root.sharedNodes.clear()}}}function sJ(t){t.updateLayout()}function iJ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?qn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=dn(p);p.min=r[f].min,p.max=p.min+g}):Y2(i,e.layoutBox,r)&&qn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],g=dn(r[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Ra();Zc(a,r,e.layoutBox);const l=Ra();o?Zc(l,t.applyTransform(s,!0),e.measuredBox):Zc(l,r,e.layoutBox);const c=!q2(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const _=ut();eu(_,e.layoutBox,p.layoutBox);const v=ut();eu(v,r,g.layoutBox),G2(_,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lJ(t){t.clearSnapshot()}function $C(t){t.clearMeasurements()}function cJ(t){t.isLayoutDirty=!1}function uJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dJ(t){t.resolveTargetDelta()}function hJ(t){t.calcProjection()}function fJ(t){t.resetSkewAndRotation()}function pJ(t){t.removeLeadSnapshot()}function zC(t,e,n){t.translate=Ze(e.translate,0,n),t.scale=Ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WC(t,e,n,r){t.min=Ze(e.min,n.min,r),t.max=Ze(e.max,n.max,r)}function mJ(t,e,n,r){WC(t.x,e.x,n.x,r),WC(t.y,e.y,n.y,r)}function gJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yJ={duration:.45,ease:[.4,0,.1,1]},HC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qC=HC("applewebkit/")&&!HC("chrome/")?Math.round:nr;function GC(t){t.min=qC(t.min),t.max=qC(t.max)}function vJ(t){GC(t.x),GC(t.y)}function Y2(t,e,n){return t==="position"||t==="preserve-aspect"&&!xX(FC(e),FC(n),.2)}function wJ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const xJ=Q2({attachResizeListener:(t,e)=>$u(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dy={current:void 0},X2=Q2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dy.current){const t=new xJ({});t.mount(window),t.setOptions({layoutScroll:!0}),dy.current=t}return dy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_J={pan:{Feature:LX},drag:{Feature:jX,ProjectionNode:X2,MeasureLayout:z2}};function KC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&tt.postRender(()=>i(e,yd(e)))}class EJ extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=QQ(e,(n,r)=>(KC(this.node,r,"Start"),s=>KC(this.node,s,"End"))))}unmount(){}}class TJ extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pd($u(this.node.current,"focus",()=>this.onFocus()),$u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&tt.postRender(()=>i(e,yd(e)))}class bJ extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=ZQ(e,(n,r)=>(QC(this.node,r,"Start"),(s,{success:i})=>QC(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Aw=new WeakMap,hy=new WeakMap,SJ=t=>{const e=Aw.get(t.target);e&&e(t)},CJ=t=>{t.forEach(SJ)};function IJ({root:t,...e}){const n=t||document;hy.has(n)||hy.set(n,{});const r=hy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(CJ,{root:t,...e})),r[s]}function AJ(t,e,n){const r=IJ(e);return Aw.set(t,n),r.observe(t),()=>{Aw.delete(t),r.unobserve(t)}}const PJ={some:0,all:1};class RJ extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:PJ[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return AJ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NJ(e,n))&&this.startObserver()}unmount(){}}function NJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kJ={inView:{Feature:RJ},tap:{Feature:bJ},focus:{Feature:TJ},hover:{Feature:EJ}},DJ={layout:{ProjectionNode:X2,MeasureLayout:z2}},Pw={current:null},J2={current:!1};function MJ(){if(J2.current=!0,!!m_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pw.current=t.matches;t.addListener(e),e()}else Pw.current=!1}const OJ=new WeakMap;function jJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Zt(s))t.addValue(r,s);else if(Zt(i))t.addValue(r,_l(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,_l(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const YC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=N_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Tn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,tt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Nm(n),this.isVariantNode=w2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Zt(g)&&g.set(l[p],!1)}}mount(e){this.current=e,OJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),J2.current||MJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fi(this.notifyUpdate),Fi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in El){const n=El[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YC.length;r++){const s=YC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=jJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(CM(r)||AM(r))?r=parseFloat(r):!nY(r)&&Ui.test(n)&&(r=c2(e,n)),this.setBaseTarget(e,Zt(r)?r.get():r)),Zt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=W_(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new w_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Z2 extends LJ{constructor(){super(...arguments),this.KeyframeResolver=WQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eO(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function VJ(t){return window.getComputedStyle(t)}class FJ extends Z2{constructor(){super(...arguments),this.type="html",this.renderInstance=eO}readValueFromInstance(e,n){var r;if(Bl.has(n))return(r=this.projection)!=null&&r.isProjecting?gw(n):cQ(e,n);{const s=VJ(e),i=(E_(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return F2(e,n)}build(e,n,r){$_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return H_(e,n,r)}}const tO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UJ(t,e,n,r){eO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(tO.has(s)?s:U_(s),e.attrs[s])}class $J extends Z2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bl.has(n)){const r=l2(n);return r&&r.default||0}return n=tO.has(n)?n:U_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return P2(e,n,r)}build(e,n,r){S2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){UJ(e,n,r,s)}mount(e){this.isSVGTag=I2(e.tagName),super.mount(e)}}const BJ=(t,e)=>z_(t)?new $J(e):new FJ(e,{allowProjection:t!==m.Fragment}),zJ=UY({...hX,...kJ,..._J,...DJ},BJ),fn=dY(zJ),WJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),o=td(),a=async c=>{if(c.preventDefault(),i(""),!t||!/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(t)){i("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(!n){i("الرجاء إدخال كلمة المرور.");return}try{const f=(await bW(Xn,t,n)).user;o("/")}catch(d){console.error("Login error:",d),d.code==="auth/user-not-found"||d.code==="auth/wrong-password"?i("البريد الإلكتروني أو كلمة المرور غير صحيحة."):d.code==="auth/invalid-email"?i("صيغة البريد الإلكتروني غير صحيحة."):i("حدث خطأ أثناء تسجيل الدخول. يرجى المحاولة مرة أخرى.")}},l=async()=>{i("");try{const c=new Br,f=(await Uk(Xn,c)).user,p=Bn(Xe,"users",f.uid);await cw(p,{email:f.email,fullName:f.displayName||"",role:"user",createdAt:new Date},{merge:!0}),o("/")}catch(c){console.error("Google login error:",c),i("فشل تسجيل الدخول باستخدام Google. يرجى المحاولة مرة أخرى.")}};return h.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[h.jsx(ze,{to:"/",className:"absolute top-4 right-4 z-10",children:h.jsx($e,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),h.jsx(fn.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:h.jsxs(Dt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[h.jsxs(un,{className:"text-center bg-secondary/20 py-8",children:[h.jsx(fn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:h.jsx(Y3,{className:"h-10 w-10 text-primary-foreground"})}),h.jsx(Xt,{className:"text-4xl font-extrabold text-primary mb-2",children:"تسجيل الدخول"}),h.jsx(_r,{className:"text-lg text-muted-foreground",children:"ادخل بياناتك للوصول إلى حسابك"})]}),h.jsxs(Jt,{className:"p-8",children:[h.jsxs("form",{onSubmit:a,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(Fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:c=>e(c.target.value),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:c=>r(c.target.value),required:!0})]})]}),s&&h.jsx(fn.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:s}),h.jsx($e,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل الدخول"})]}),h.jsxs("div",{className:"relative my-8",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-border"})}),h.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:h.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),h.jsxs($e,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:l,children:[h.jsx(xR,{className:"h-6 w-6 mr-3"}),"تسجيل الدخول باستخدام Google"]}),h.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["ليس لديك حساب؟"," ",h.jsx(ze,{to:"/register",className:"text-primary hover:underline font-semibold",children:"سجل الآن"})]})]})]})})]})},HJ=["register","login","logout","delete_user_by_admin","ban_user_by_admin","unban_user","add_lecture","delete_lecture","add_subject","delete_subject","update_lecture","update_subject"],Rw=async t=>{if(!HJ.includes(t.type)){console.warn(`Activity type '${t.type}' is not allowed for logging.`);return}try{const e=await fetch("https://api.ipify.org?format=json");if(!e.ok)throw new Error(`Failed to fetch IP address: ${e.statusText}`);const n=await e.json();await bm(tr(Xe,"activities"),{...t,ipAddress:n.ip,timestamp:GG(),metadata:{browser:navigator.userAgent,platform:navigator.platform,timestamp_client:new Date().toISOString()}}),console.log("Activity logged successfully:",t.type)}catch(e){throw e.code==="permission-denied"?console.error("Error logging activity: Missing or insufficient permissions."):console.error("Error logging activity:",e),new Error("Failed to log activity. Please check Firestore rules or network connectivity.")}},qJ=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),d=td(),f=v=>/^[^\d][\w.-]*@([\w-]+\.)+[\w-]{2,4}$/.test(v),p=v=>/^[\u0600-\u06FF\s]+$/.test(v)&&v.trim().split(/\s+/).length>=2,g=async v=>{if(v.preventDefault(),c(""),!t||!n||!s||!o){c("الرجاء ملء جميع الحقول.");return}if(!p(t)){c("الاسم الكامل يجب أن يحتوي على أحرف عربية فقط ويتكون من كلمتين على الأقل.");return}if(!f(n)){c("البريد الإلكتروني غير صالح. يجب ألا يبدأ برقم.");return}if(s.length<6){c("كلمة المرور يجب أن تتكون من 6 أحرف على الأقل.");return}if(s!==o){c("كلمة المرور وتأكيد كلمة المرور غير متطابقين.");return}try{const w=(await TW(Xn,n,s)).user;await cw(Bn(Xe,"users",w.uid),{fullName:t,email:n,role:"user",createdAt:new Date}),await Rw({type:"register",userId:w.uid,username:n,details:`قام المستخدم ${t||n} بإنشاء حساب جديد`}),d("/")}catch(E){console.error("Registration error:",E),E.code==="auth/email-already-in-use"?c("هذا البريد الإلكتروني مستخدم بالفعل."):E.code==="auth/invalid-email"?c("صيغة البريد الإلكتروني غير صحيحة."):E.code==="auth/weak-password"?c("كلمة المرور ضعيفة جداً. يرجى اختيار كلمة مرور أقوى."):c("حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.")}},_=async()=>{c("");try{const v=new Br,w=(await Uk(Xn,v)).user,x=Bn(Xe,"users",w.uid);await cw(x,{email:w.email,fullName:w.displayName||"",role:"user",createdAt:new Date},{merge:!0}),await Rw({type:"register",userId:w.uid,username:w.email||"N/A",details:`مستخدم جديد ${w.email} سجل باستخدام Google.`}),d("/")}catch(v){console.error("Google registration error:",v),v.code==="auth/popup-closed-by-user"?c("تم إغلاق نافذة تسجيل الدخول من Google. يرجى المحاولة مرة أخرى."):v.code==="auth/cancelled-popup-request"?c("تم إلغاء طلب النافذة المنبثقة. يرجى المحاولة مرة أخرى."):v.code==="auth/operation-not-allowed"?c("تم تعطيل تسجيل الدخول باستخدام Google. يرجى الاتصال بالمسؤول."):v.code==="auth/unauthorized-domain"?c("النطاق غير مصرح به لعمليات OAuth. يرجى التحقق من إعدادات Firebase."):c("فشل التسجيل باستخدام Google. يرجى المحاولة مرة أخرى. (قد تكون مشكلة في أذونات Firebase)")}};return h.jsxs("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center p-4 relative",children:[h.jsx(ze,{to:"/",className:"absolute top-4 right-4 z-10",children:h.jsx($e,{variant:"ghost",className:"text-muted-foreground hover:text-primary",children:"العودة إلى الرئيسية"})}),h.jsx(fn.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:h.jsxs(Dt,{className:"shadow-2xl border border-border rounded-xl overflow-hidden bg-card",children:[h.jsxs(un,{className:"text-center bg-secondary/20 py-8",children:[h.jsx(fn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:h.jsx(ER,{className:"h-10 w-10 text-primary-foreground"})}),h.jsx(Xt,{className:"text-4xl font-extrabold text-primary mb-2",children:"إنشاء حساب جديد"}),h.jsx(_r,{className:"text-lg text-muted-foreground",children:"املأ البيانات لإنشاء حسابك"})]}),h.jsxs(Jt,{className:"p-8",children:[h.jsxs("form",{onSubmit:g,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"fullName",className:"text-base font-medium",children:"الاسم الكامل (ثلاثي)"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(TR,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"fullName",type:"text",placeholder:"ادخل اسمك الثلاثي الكامل",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:t,onChange:v=>e(v.target.value),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"email",className:"text-base font-medium",children:"البريد الإلكتروني"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(Fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"email",type:"email",placeholder:"ادخل بريدك الإلكتروني",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:n,onChange:v=>r(v.target.value),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"password",className:"text-base font-medium",children:"كلمة المرور"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"password",type:"password",placeholder:"ادخل كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:s,onChange:v=>i(v.target.value),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(xo,{htmlFor:"confirmPassword",className:"text-base font-medium",children:"تأكيد كلمة المرور"}),h.jsxs("div",{className:"relative mt-2",children:[h.jsx(xv,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(Ln,{id:"confirmPassword",type:"password",placeholder:"أعد إدخال كلمة المرور",className:"pl-10 pr-4 py-2 text-base border-input bg-background focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-300",value:o,onChange:v=>a(v.target.value),required:!0})]})]}),l&&h.jsx(fn.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-sm text-center mt-4",children:l}),h.jsx($e,{type:"submit",className:"w-full py-3 text-lg font-semibold bg-primary hover:bg-primary/90 transition-all duration-300 rounded-lg",children:"تسجيل"})]}),h.jsxs("div",{className:"relative my-8",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t border-border"})}),h.jsx("div",{className:"relative flex justify-center text-sm uppercase",children:h.jsx("span",{className:"bg-card px-3 text-muted-foreground font-medium",children:"أو"})})]}),h.jsxs($e,{variant:"outline",className:"w-full py-3 text-lg flex items-center justify-center border-input bg-background hover:bg-secondary/50 transition-all duration-300 rounded-lg",onClick:_,children:[h.jsx(xR,{className:"h-6 w-6 mr-3"}),"التسجيل باستخدام Google"]}),h.jsxs("p",{className:"text-center text-base text-muted-foreground mt-8",children:["لديك حساب بالفعل؟"," ",h.jsx(ze,{to:"/login",className:"text-primary hover:underline font-semibold",children:"سجل الدخول"})]})]})]})})]})},GJ=()=>{const t=kl();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),h.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},KJ=()=>h.jsxs("footer",{className:"bg-card text-foreground border-t border-border py-8 md:py-12",children:[h.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8",children:[h.jsxs("div",{className:"col-span-1 md:col-span-2",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx("div",{className:"w-8 md:w-10 h-8 md:h-10 bg-primary rounded-lg flex items-center justify-center shadow-md",children:h.jsx("span",{className:"text-primary-foreground font-bold text-lg md:text-xl",children:"A"})}),h.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Alpha Team"})]}),h.jsx("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:"منصة شاملة لمساعدة الطلاب في الوصول إلى المحاضرات والمواد الدراسية بسهولة ويسر. نهدف إلى توفير تجربة تعليمية متميزة ومنظمة لجميع المراحل الدراسية."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-4",children:"روابط سريعة"}),h.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[h.jsx("li",{children:h.jsx(ze,{to:"/",className:"hover:text-primary transition-colors duration-300",children:"الرئيسية"})}),h.jsx("li",{children:h.jsx(ze,{to:"/lectures",className:"hover:text-primary transition-colors duration-300",children:"المحاضرات"})}),h.jsx("li",{children:h.jsx(ze,{to:"/about",className:"hover:text-primary transition-colors duration-300",children:"عنّا"})}),h.jsx("li",{children:h.jsx(ze,{to:"/contact",className:"hover:text-primary transition-colors duration-300",children:"اتصل بنا"})})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-4",children:"اتصل بنا"}),h.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[h.jsxs("li",{className:"flex items-center",children:[h.jsx(Fp,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{children:"info@alphateam.com"})]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(n5,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{children:"+964 770 123 4567"})]}),h.jsxs("li",{className:"flex items-center",children:[h.jsx(J3,{className:"h-4 w-4 mr-2 text-primary"}),h.jsx("span",{children:"بغداد، العراق"})]})]})]})]}),h.jsx("div",{className:"container mx-auto px-4 mt-8 pt-8 border-t border-border text-center text-xs md:text-sm text-muted-foreground",children:h.jsxs("p",{children:["© ",new Date().getFullYear()," Alpha Team. جميع الحقوق محفوظة."]})})]});var QJ=m.createContext(void 0);function km(t){const e=m.useContext(QJ);return t||e||"ltr"}var fy=0;function G_(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XC()),document.body.insertAdjacentElement("beforeend",t[1]??XC()),fy++,()=>{fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fy--}},[])}function XC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var py="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",JC={bubbles:!1,cancelable:!0},YJ="FocusScope",Dm=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=jt(s),d=jt(i),f=m.useRef(null),p=ke(e,v=>l(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(T){if(g.paused||!a)return;const P=T.target;a.contains(P)?f.current=P:Qs(f.current,{select:!0})},E=function(T){if(g.paused||!a)return;const P=T.relatedTarget;P!==null&&(a.contains(P)||Qs(f.current,{select:!0}))},w=function(T){if(document.activeElement===document.body)for(const N of T)N.removedNodes.length>0&&Qs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),x.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){eI.add(g);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(py,JC);a.addEventListener(py,c),a.dispatchEvent(w),w.defaultPrevented||(XJ(nZ(nO(a)),{select:!0}),document.activeElement===v&&Qs(a))}return()=>{a.removeEventListener(py,c),setTimeout(()=>{const w=new CustomEvent(my,JC);a.addEventListener(my,d),a.dispatchEvent(w),w.defaultPrevented||Qs(v??document.body,{select:!0}),a.removeEventListener(my,d),eI.remove(g)},0)}}},[a,c,d,g]);const _=m.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(E&&w){const x=v.currentTarget,[T,P]=JJ(x);T&&P?!v.shiftKey&&w===P?(v.preventDefault(),n&&Qs(T,{select:!0})):v.shiftKey&&w===T&&(v.preventDefault(),n&&Qs(P,{select:!0})):w===x&&v.preventDefault()}},[n,r,g.paused]);return h.jsx(fe.div,{tabIndex:-1,...o,ref:p,onKeyDown:_})});Dm.displayName=YJ;function XJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Qs(r,{select:e}),document.activeElement!==n)return}function JJ(t){const e=nO(t),n=ZC(e,t),r=ZC(e.reverse(),t);return[n,r]}function nO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZC(t,e){for(const n of t)if(!ZJ(n,{upTo:e}))return n}function ZJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function eZ(t){return t instanceof HTMLInputElement&&"select"in t}function Qs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&eZ(t)&&e&&t.select()}}var eI=tZ();function tZ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tI(t,e),t.unshift(e)},remove(e){var n;t=tI(t,e),(n=t[0])==null||n.resume()}}}function tI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nZ(t){return t.filter(e=>e.tagName!=="A")}function rZ(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:p,children:g,..._}=f,v=(p==null?void 0:p[t][l])||a,E=m.useMemo(()=>_,Object.values(_));return h.jsx(v.Provider,{value:E,children:g})}function d(f,p){const g=(p==null?void 0:p[t][l])||a,_=m.useContext(g);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,sZ(s,...e)]}function sZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var gy="rovingFocusGroup.onEntryFocus",iZ={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[Nw,rO,oZ]=Op(Mm),[aZ,Om]=rZ(Mm,[oZ]),[lZ,cZ]=aZ(Mm),sO=m.forwardRef((t,e)=>h.jsx(Nw.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(Nw.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(uZ,{...t,ref:e})})}));sO.displayName=Mm;var uZ=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,p=m.useRef(null),g=ke(e,p),_=km(i),[v=null,E]=jo({prop:o,defaultProp:a,onChange:l}),[w,x]=m.useState(!1),T=jt(c),P=rO(n),N=m.useRef(!1),[O,C]=m.useState(0);return m.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(gy,T),()=>S.removeEventListener(gy,T)},[T]),h.jsx(lZ,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(S=>E(S),[E]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>C(S=>S-1),[]),children:h.jsx(fe.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:X(t.onMouseDown,()=>{N.current=!0}),onFocus:X(t.onFocus,S=>{const I=!N.current;if(S.target===S.currentTarget&&I&&!w){const R=new CustomEvent(gy,iZ);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=P().filter(Y=>Y.focusable),M=D.find(Y=>Y.active),k=D.find(Y=>Y.id===v),ie=[M,k,...D].filter(Boolean).map(Y=>Y.ref.current);aO(ie,d)}}N.current=!1}),onBlur:X(t.onBlur,()=>x(!1))})})}),iO="RovingFocusGroupItem",oO=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Gr(),l=i||a,c=cZ(iO,n),d=c.currentTabStopId===l,f=rO(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return m.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.jsx(Nw.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:h.jsx(fe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:X(t.onMouseDown,_=>{r?c.onItemFocus(l):_.preventDefault()}),onFocus:X(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:X(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=fZ(_,c.orientation,c.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const x=w.indexOf(_.currentTarget);w=c.loop?pZ(w,x+1):w.slice(x+1)}setTimeout(()=>aO(w))}})})})});oO.displayName=iO;var dZ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hZ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fZ(t,e,n){const r=hZ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dZ[r]}function aO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lO=sO,cO=oO,mZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},la=new WeakMap,yh=new WeakMap,vh={},yy=0,uO=function(t){return t&&(t.host||uO(t.parentNode))},gZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=uO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},yZ=function(t,e,n,r){var s=gZ(e,Array.isArray(t)?t:[t]);vh[n]||(vh[n]=new WeakMap);var i=vh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),_=g!==null&&g!=="false",v=(la.get(p)||0)+1,E=(i.get(p)||0)+1;la.set(p,v),i.set(p,E),o.push(p),v===1&&_&&yh.set(p,!0),E===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(e),a.clear(),yy++,function(){o.forEach(function(f){var p=la.get(f)-1,g=i.get(f)-1;la.set(f,p),i.set(f,g),p||(yh.has(f)||f.removeAttribute(r),yh.delete(f)),g||f.removeAttribute(n)}),yy--,yy||(la=new WeakMap,la=new WeakMap,yh=new WeakMap,vh={})}},K_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=mZ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),yZ(r,s,n,"aria-hidden")):function(){return null}},Jh="right-scroll-bar-position",Zh="width-before-scroll-bar",vZ="with-scroll-bars-hidden",wZ="--removed-body-scroll-bar-size";function vy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xZ(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var _Z=typeof window<"u"?m.useLayoutEffect:m.useEffect,nI=new WeakMap;function EZ(t,e){var n=xZ(null,function(r){return t.forEach(function(s){return vy(s,r)})});return _Z(function(){var r=nI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||vy(a,null)}),i.forEach(function(a){s.has(a)||vy(a,o)})}nI.set(n,t)},[t]),n}function TZ(t){return t}function bZ(t,e){e===void 0&&(e=TZ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function SZ(t){t===void 0&&(t={});var e=bZ(null);return e.options=$r({async:!0,ssr:!1},t),e}var dO=function(t){var e=t.sideCar,n=sd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,$r({},n))};dO.isSideCarExport=!0;function CZ(t,e){return t.useMedium(e),dO}var hO=SZ(),wy=function(){},jm=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:wy,onWheelCapture:wy,onTouchMoveCapture:wy}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,g=t.noIsolation,_=t.inert,v=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,x=t.gapMode,T=sd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,N=EZ([n,e]),O=$r($r({},T),s);return m.createElement(m.Fragment,null,d&&m.createElement(P,{sideCar:hO,removeScrollBar:c,shards:f,noIsolation:g,inert:_,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?m.cloneElement(m.Children.only(a),$r($r({},O),{ref:N})):m.createElement(w,$r({},O,{className:l,ref:N}),a))});jm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jm.classNames={fullWidth:Zh,zeroRight:Jh};var IZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IZ();return e&&t.setAttribute("nonce",e),t}function PZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function RZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AZ())&&(PZ(e,n),RZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kZ=function(){var t=NZ();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fO=function(){var t=kZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},DZ={left:0,top:0,right:0,gap:0},xy=function(t){return parseInt(t||"",10)||0},MZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[xy(n),xy(r),xy(s)]},OZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return DZ;var e=MZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jZ=fO(),Ga="data-scroll-locked",LZ=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Zh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jh," .").concat(Jh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zh," .").concat(Zh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(wZ,": ").concat(a,`px;
  }
`)},rI=function(){var t=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(t)?t:0},VZ=function(){m.useEffect(function(){return document.body.setAttribute(Ga,(rI()+1).toString()),function(){var t=rI()-1;t<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,t.toString())}},[])},FZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;VZ();var i=m.useMemo(function(){return OZ(s)},[s]);return m.createElement(jZ,{styles:LZ(i,!e,s,n?"":"!important")})},kw=!1;if(typeof window<"u")try{var wh=Object.defineProperty({},"passive",{get:function(){return kw=!0,!0}});window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{kw=!1}var ca=kw?{passive:!1}:!1,UZ=function(t){return t.tagName==="TEXTAREA"},pO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!UZ(t)&&n[e]==="visible")},$Z=function(t){return pO(t,"overflowY")},BZ=function(t){return pO(t,"overflowX")},sI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mO(t,r);if(s){var i=gO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},WZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mO=function(t,e){return t==="v"?$Z(e):BZ(e)},gO=function(t,e){return t==="v"?zZ(e):WZ(e)},HZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},qZ=function(t,e,n,r,s){var i=HZ(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var g=gO(t,a),_=g[0],v=g[1],E=g[2],w=v-E-i*_;(_||w)&&mO(t,a)&&(f+=w,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},xh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},iI=function(t){return[t.deltaX,t.deltaY]},oI=function(t){return t&&"current"in t?t.current:t},GZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},KZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QZ=0,ua=[];function YZ(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(QZ++)[0],i=m.useState(fO)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=b8([t.lockRef.current],(t.shards||[]).map(oI),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=xh(v),x=n.current,T="deltaX"in v?v.deltaX:x[0]-w[0],P="deltaY"in v?v.deltaY:x[1]-w[1],N,O=v.target,C=Math.abs(T)>Math.abs(P)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var S=sI(C,O);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=sI(C,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(T||P)&&(r.current=N),!N)return!0;var I=r.current||N;return qZ(I,E,v,I==="h"?T:P,!0)},[]),l=m.useCallback(function(v){var E=v;if(!(!ua.length||ua[ua.length-1]!==i)){var w="deltaY"in E?iI(E):xh(E),x=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&GZ(N.delta,w)})[0];if(x&&x.should){E.cancelable&&E.preventDefault();return}if(!x){var T=(o.current.shards||[]).map(oI).filter(Boolean).filter(function(N){return N.contains(E.target)}),P=T.length>0?a(E,T[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),c=m.useCallback(function(v,E,w,x){var T={name:v,delta:E,target:w,should:x,shadowParent:XZ(w)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(P){return P!==T})},1)},[]),d=m.useCallback(function(v){n.current=xh(v),r.current=void 0},[]),f=m.useCallback(function(v){c(v.type,iI(v),v.target,a(v,t.lockRef.current))},[]),p=m.useCallback(function(v){c(v.type,xh(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return ua.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ca),document.addEventListener("touchmove",l,ca),document.addEventListener("touchstart",d,ca),function(){ua=ua.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ca),document.removeEventListener("touchmove",l,ca),document.removeEventListener("touchstart",d,ca)}},[]);var g=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(i,{styles:KZ(s)}):null,g?m.createElement(FZ,{gapMode:t.gapMode}):null)}function XZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JZ=CZ(hO,YZ);var Lm=m.forwardRef(function(t,e){return m.createElement(jm,$r({},t,{ref:e,sideCar:JZ}))});Lm.classNames=jm.classNames;var Dw=["Enter"," "],ZZ=["ArrowDown","PageUp","Home"],yO=["ArrowUp","PageDown","End"],eee=[...ZZ,...yO],tee={ltr:[...Dw,"ArrowRight"],rtl:[...Dw,"ArrowLeft"]},nee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vd="Menu",[Bu,ree,see]=Op(vd),[ta,vO]=Wi(vd,[see,Rl,Om]),Vm=Rl(),wO=Om(),[iee,na]=ta(vd),[oee,wd]=ta(vd),xO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Vm(e),[l,c]=m.useState(null),d=m.useRef(!1),f=jt(i),p=km(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),h.jsx(JR,{...a,children:h.jsx(iee,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:h.jsx(oee,{scope:e,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};xO.displayName=vd;var aee="MenuAnchor",Q_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Vm(n);return h.jsx(q0,{...s,...r,ref:e})});Q_.displayName=aee;var Y_="MenuPortal",[lee,_O]=ta(Y_,{forceMount:void 0}),EO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=na(Y_,e);return h.jsx(lee,{scope:e,forceMount:n,children:h.jsx(Ar,{present:n||i.open,children:h.jsx(Ju,{asChild:!0,container:s,children:r})})})};EO.displayName=Y_;var rr="MenuContent",[cee,X_]=ta(rr),TO=m.forwardRef((t,e)=>{const n=_O(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=na(rr,t.__scopeMenu),o=wd(rr,t.__scopeMenu);return h.jsx(Bu.Provider,{scope:t.__scopeMenu,children:h.jsx(Ar,{present:r||i.open,children:h.jsx(Bu.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(uee,{...s,ref:e}):h.jsx(dee,{...s,ref:e})})})})}),uee=m.forwardRef((t,e)=>{const n=na(rr,t.__scopeMenu),r=m.useRef(null),s=ke(e,r);return m.useEffect(()=>{const i=r.current;if(i)return K_(i)},[]),h.jsx(J_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:X(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dee=m.forwardRef((t,e)=>{const n=na(rr,t.__scopeMenu);return h.jsx(J_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J_=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:_,...v}=t,E=na(rr,n),w=wd(rr,n),x=Vm(n),T=wO(n),P=ree(n),[N,O]=m.useState(null),C=m.useRef(null),S=ke(e,C,E.onContentChange),I=m.useRef(0),R=m.useRef(""),D=m.useRef(0),M=m.useRef(null),k=m.useRef("right"),W=m.useRef(0),ie=_?Lm:m.Fragment,Y=_?{as:Ii,allowPinchZoom:!0}:void 0,Z=F=>{var re,Te;const q=R.current+F,G=P().filter(Se=>!Se.disabled),J=document.activeElement,oe=(re=G.find(Se=>Se.ref.current===J))==null?void 0:re.textValue,Ee=G.map(Se=>Se.textValue),Oe=Tee(Ee,q,oe),pe=(Te=G.find(Se=>Se.textValue===Oe))==null?void 0:Te.ref.current;(function Se(V){R.current=V,window.clearTimeout(I.current),V!==""&&(I.current=window.setTimeout(()=>Se(""),1e3))})(q),pe&&setTimeout(()=>pe.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),G_();const j=m.useCallback(F=>{var G,J;return k.current===((G=M.current)==null?void 0:G.side)&&See(F,(J=M.current)==null?void 0:J.area)},[]);return h.jsx(cee,{scope:n,searchRef:R,onItemEnter:m.useCallback(F=>{j(F)&&F.preventDefault()},[j]),onItemLeave:m.useCallback(F=>{var q;j(F)||((q=C.current)==null||q.focus(),O(null))},[j]),onTriggerLeave:m.useCallback(F=>{j(F)&&F.preventDefault()},[j]),pointerGraceTimerRef:D,onPointerGraceIntentChange:m.useCallback(F=>{M.current=F},[]),children:h.jsx(ie,{...Y,children:h.jsx(Dm,{asChild:!0,trapped:s,onMountAutoFocus:X(i,F=>{var q;F.preventDefault(),(q=C.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Cl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:h.jsx(lO,{asChild:!0,...T,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:X(l,F=>{w.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(G0,{role:"menu","aria-orientation":"vertical","data-state":FO(E.open),"data-radix-menu-content":"",dir:w.dir,...x,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:X(v.onKeyDown,F=>{const G=F.target.closest("[data-radix-menu-content]")===F.currentTarget,J=F.ctrlKey||F.altKey||F.metaKey,oe=F.key.length===1;G&&(F.key==="Tab"&&F.preventDefault(),!J&&oe&&Z(F.key));const Ee=C.current;if(F.target!==Ee||!eee.includes(F.key))return;F.preventDefault();const pe=P().filter(re=>!re.disabled).map(re=>re.ref.current);yO.includes(F.key)&&pe.reverse(),_ee(pe)}),onBlur:X(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:X(t.onPointerMove,zu(F=>{const q=F.target,G=W.current!==F.clientX;if(F.currentTarget.contains(q)&&G){const J=F.clientX>W.current?"right":"left";k.current=J,W.current=F.clientX}}))})})})})})})});TO.displayName=rr;var hee="MenuGroup",Z_=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(fe.div,{role:"group",...r,ref:e})});Z_.displayName=hee;var fee="MenuLabel",bO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(fe.div,{...r,ref:e})});bO.displayName=fee;var fp="MenuItem",aI="menu.itemSelect",Fm=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=wd(fp,t.__scopeMenu),a=X_(fp,t.__scopeMenu),l=ke(e,i),c=m.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(aI,{bubbles:!0,cancelable:!0});f.addEventListener(aI,g=>r==null?void 0:r(g),{once:!0}),D0(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(SO,{...s,ref:l,disabled:n,onClick:X(t.onClick,d),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:X(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:X(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||Dw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Fm.displayName=fp;var SO=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=X_(fp,n),a=wO(n),l=m.useRef(null),c=ke(e,l),[d,f]=m.useState(!1),[p,g]=m.useState("");return m.useEffect(()=>{const _=l.current;_&&g((_.textContent??"").trim())},[i.children]),h.jsx(Bu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:h.jsx(cO,{asChild:!0,...a,focusable:!r,children:h.jsx(fe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:X(t.onPointerMove,zu(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:X(t.onPointerLeave,zu(_=>o.onItemLeave(_))),onFocus:X(t.onFocus,()=>f(!0)),onBlur:X(t.onBlur,()=>f(!1))})})})}),pee="MenuCheckboxItem",CO=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(NO,{scope:t.__scopeMenu,checked:n,children:h.jsx(Fm,{role:"menuitemcheckbox","aria-checked":pp(n)?"mixed":n,...s,ref:e,"data-state":tE(n),onSelect:X(s.onSelect,()=>r==null?void 0:r(pp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CO.displayName=pee;var IO="MenuRadioGroup",[mee,gee]=ta(IO,{value:void 0,onValueChange:()=>{}}),AO=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=jt(r);return h.jsx(mee,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(Z_,{...s,ref:e})})});AO.displayName=IO;var PO="MenuRadioItem",RO=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=gee(PO,t.__scopeMenu),i=n===s.value;return h.jsx(NO,{scope:t.__scopeMenu,checked:i,children:h.jsx(Fm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":tE(i),onSelect:X(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});RO.displayName=PO;var eE="MenuItemIndicator",[NO,yee]=ta(eE,{checked:!1}),kO=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=yee(eE,n);return h.jsx(Ar,{present:r||pp(i.checked)||i.checked===!0,children:h.jsx(fe.span,{...s,ref:e,"data-state":tE(i.checked)})})});kO.displayName=eE;var vee="MenuSeparator",DO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});DO.displayName=vee;var wee="MenuArrow",MO=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Vm(n);return h.jsx(K0,{...s,...r,ref:e})});MO.displayName=wee;var xee="MenuSub",[fse,OO]=ta(xee),Ac="MenuSubTrigger",jO=m.forwardRef((t,e)=>{const n=na(Ac,t.__scopeMenu),r=wd(Ac,t.__scopeMenu),s=OO(Ac,t.__scopeMenu),i=X_(Ac,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),h.jsx(Q_,{asChild:!0,...c,children:h.jsx(SO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":FO(n.open),...t,ref:Mp(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:X(t.onPointerMove,zu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:X(t.onPointerLeave,zu(f=>{var g,_;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const v=(_=n.content)==null?void 0:_.dataset.side,E=v==="right",w=E?-5:5,x=p[E?"left":"right"],T=p[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x,y:p.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:X(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||tee[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});jO.displayName=Ac;var LO="MenuSubContent",VO=m.forwardRef((t,e)=>{const n=_O(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=na(rr,t.__scopeMenu),o=wd(rr,t.__scopeMenu),a=OO(LO,t.__scopeMenu),l=m.useRef(null),c=ke(e,l);return h.jsx(Bu.Provider,{scope:t.__scopeMenu,children:h.jsx(Ar,{present:r||i.open,children:h.jsx(Bu.Slot,{scope:t.__scopeMenu,children:h.jsx(J_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:X(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:X(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:X(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),p=nee[o.dir].includes(d.key);f&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});VO.displayName=LO;function FO(t){return t?"open":"closed"}function pp(t){return t==="indeterminate"}function tE(t){return pp(t)?"indeterminate":t?"checked":"unchecked"}function _ee(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Eee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Tee(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Eee(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function bee(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function See(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return bee(n,e)}function zu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Cee=xO,Iee=Q_,Aee=EO,Pee=TO,Ree=Z_,Nee=bO,kee=Fm,Dee=CO,Mee=AO,Oee=RO,jee=kO,Lee=DO,Vee=MO,Fee=jO,Uee=VO,nE="DropdownMenu",[$ee,pse]=Wi(nE,[vO]),gn=vO(),[Bee,UO]=$ee(nE),$O=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=gn(e),c=m.useRef(null),[d=!1,f]=jo({prop:s,defaultProp:i,onChange:o});return h.jsx(Bee,{scope:e,triggerId:Gr(),triggerRef:c,contentId:Gr(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:a,children:h.jsx(Cee,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};$O.displayName=nE;var BO="DropdownMenuTrigger",zO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=UO(BO,n),o=gn(n);return h.jsx(Iee,{asChild:!0,...o,children:h.jsx(fe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Mp(e,i.triggerRef),onPointerDown:X(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:X(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});zO.displayName=BO;var zee="DropdownMenuPortal",WO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gn(e);return h.jsx(Aee,{...r,...n})};WO.displayName=zee;var HO="DropdownMenuContent",qO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=UO(HO,n),i=gn(n),o=m.useRef(!1);return h.jsx(Pee,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:X(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:X(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qO.displayName=HO;var Wee="DropdownMenuGroup",Hee=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Ree,{...s,...r,ref:e})});Hee.displayName=Wee;var qee="DropdownMenuLabel",GO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Nee,{...s,...r,ref:e})});GO.displayName=qee;var Gee="DropdownMenuItem",KO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(kee,{...s,...r,ref:e})});KO.displayName=Gee;var Kee="DropdownMenuCheckboxItem",QO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Dee,{...s,...r,ref:e})});QO.displayName=Kee;var Qee="DropdownMenuRadioGroup",Yee=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Mee,{...s,...r,ref:e})});Yee.displayName=Qee;var Xee="DropdownMenuRadioItem",YO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Oee,{...s,...r,ref:e})});YO.displayName=Xee;var Jee="DropdownMenuItemIndicator",XO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(jee,{...s,...r,ref:e})});XO.displayName=Jee;var Zee="DropdownMenuSeparator",JO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Lee,{...s,...r,ref:e})});JO.displayName=Zee;var ete="DropdownMenuArrow",tte=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Vee,{...s,...r,ref:e})});tte.displayName=ete;var nte="DropdownMenuSubTrigger",ZO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Fee,{...s,...r,ref:e})});ZO.displayName=nte;var rte="DropdownMenuSubContent",ej=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return h.jsx(Uee,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ej.displayName=rte;var ste=$O,ite=zO,ote=WO,tj=qO,nj=GO,rj=KO,sj=QO,ij=YO,oj=XO,aj=JO,lj=ZO,cj=ej;const ate=ste,lte=ite,cte=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(lj,{ref:s,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(z3,{className:"ml-auto h-4 w-4"})]}));cte.displayName=lj.displayName;const ute=m.forwardRef(({className:t,...e},n)=>h.jsx(cj,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ute.displayName=cj.displayName;const uj=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(ote,{children:h.jsx(tj,{ref:r,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));uj.displayName=tj.displayName;const dj=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(rj,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));dj.displayName=rj.displayName;const dte=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(sj,{ref:s,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(oj,{children:h.jsx(vR,{className:"h-4 w-4"})})}),e]}));dte.displayName=sj.displayName;const hte=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ij,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(oj,{children:h.jsx(q3,{className:"h-2 w-2 fill-current"})})}),e]}));hte.displayName=ij.displayName;const hj=m.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(nj,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));hj.displayName=nj.displayName;const fj=m.forwardRef(({className:t,...e},n)=>h.jsx(aj,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));fj.displayName=aj.displayName;var rE="Avatar",[fte,mse]=Wi(rE),[pte,pj]=fte(rE),mj=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return h.jsx(pte,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:h.jsx(fe.span,{...r,ref:e})})});mj.displayName=rE;var gj="AvatarImage",yj=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=pj(gj,n),a=mte(r,i.referrerPolicy),l=jt(c=>{s(c),o.onImageLoadingStatusChange(c)});return Ct(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(fe.img,{...i,ref:e,src:r}):null});yj.displayName=gj;var vj="AvatarFallback",wj=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=pj(vj,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?h.jsx(fe.span,{...s,ref:e}):null});wj.displayName=vj;function mte(t,e){const[n,r]=m.useState("idle");return Ct(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var xj=mj,_j=yj,Ej=wj;const ef=m.forwardRef(({className:t,...e},n)=>h.jsx(xj,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ef.displayName=xj.displayName;const gte=m.forwardRef(({className:t,...e},n)=>h.jsx(_j,{ref:n,className:ce("aspect-square h-full w-full",t),...e}));gte.displayName=_j.displayName;const tf=m.forwardRef(({className:t,...e},n)=>h.jsx(Ej,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));tf.displayName=Ej.displayName;const lI=[{name:"الرئيسية",path:"/"},{name:"المحاضرات",path:"/lectures"},{name:"الأخبار",path:"/news"}],uo=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!1),a=td();m.useEffect(()=>{const c=Pk(Xn,async d=>{if(n(d),d){const f=Bn(Xe,"users",d.uid),p=await a_(f);p.exists()?s(p.data()):s({fullName:d.displayName||"مستخدم",email:d.email||"لا يوجد بريد إلكتروني"})}else s(null)});return()=>c()},[]);const l=async()=>{try{await IW(Xn),a("/")}catch(c){console.error("Error logging out:",c)}};return h.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[h.jsxs("header",{className:"bg-card shadow-sm border-b border-border",children:[h.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center shadow-md",children:h.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"A"})}),h.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Alpha Team"})]}),h.jsxs("nav",{className:"hidden md:flex space-x-6 items-center",children:[lI.map(c=>h.jsx(ze,{to:c.path,className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:c.name},c.path)),(r==null?void 0:r.role)==="admin"&&h.jsx(ze,{to:"/admin-dashboard",className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:"لوحة التحكم"}),e?h.jsxs(ate,{children:[h.jsx(lte,{asChild:!0,children:h.jsx($e,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all duration-300 hover:scale-105 focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:h.jsx(ef,{className:"h-9 w-9",children:h.jsx(tf,{className:"bg-primary text-primary-foreground font-bold text-lg",children:r!=null&&r.fullName?r.fullName.charAt(0).toUpperCase():"A"})})})}),h.jsxs(uj,{className:"w-72 p-4 shadow-xl rounded-lg border border-border animate-in fade-in-0 zoom-in-95",align:"end",forceMount:!0,children:[h.jsx(hj,{className:"font-normal p-0 mb-3",children:h.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[h.jsx(ef,{className:"h-10 w-10",children:h.jsx(tf,{className:"bg-primary text-primary-foreground font-bold text-xl",children:r!=null&&r.fullName?r.fullName.charAt(0).toUpperCase():"A"})}),h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsxs("p",{className:"text-base font-semibold leading-none text-foreground flex items-center",children:[h.jsx(TR,{className:"h-4 w-4 ml-2 text-muted-foreground"}),(r==null?void 0:r.fullName)||"مستخدم"]}),h.jsxs("p",{className:"text-sm leading-none text-muted-foreground flex items-center",children:[h.jsx(Fp,{className:"h-4 w-4 ml-2 text-muted-foreground"}),(r==null?void 0:r.email)||(e==null?void 0:e.email)]})]})]})}),h.jsx(fj,{className:"my-3 bg-border"}),h.jsxs(dj,{onClick:l,className:"cursor-pointer flex items-center text-red-500 hover:bg-red-50 focus:bg-red-50 hover:text-red-600 focus:text-red-600 rounded-md p-2 transition-colors duration-200",children:[h.jsx(X3,{className:"h-4 w-4 ml-2"}),"تسجيل الخروج"]})]})]}):h.jsx(ze,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors duration-300",children:"تسجيل الدخول"})]}),h.jsx("button",{className:"md:hidden text-muted-foreground hover:text-primary transition-colors duration-300",onClick:()=>o(!i),children:i?h.jsx(Up,{className:"h-6 w-6"}):h.jsx(Z3,{className:"h-6 w-6"})})]}),i&&h.jsx(fn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-card border-t border-border",children:h.jsxs("div",{className:"flex flex-col space-y-4 p-4",children:[lI.map(c=>h.jsx(ze,{to:c.path,className:"text-muted-foreground hover:text-primary transition-colors duration-300",onClick:()=>o(!1),children:c.name},c.path)),(r==null?void 0:r.role)==="admin"&&h.jsx(ze,{to:"/admin-dashboard",className:"text-muted-foreground hover:text-primary transition-colors duration-300",onClick:()=>o(!1),children:"لوحة التحكم"}),e?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[h.jsx(ef,{className:"h-10 w-10 flex-shrink-0 shadow-md",children:h.jsx(tf,{className:"bg-primary text-primary-foreground font-bold text-lg",children:r!=null&&r.fullName?r.fullName.charAt(0).toUpperCase():"A"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("p",{className:"text-base font-semibold text-foreground",children:(r==null?void 0:r.fullName)||"مستخدم"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:(r==null?void 0:r.email)||(e==null?void 0:e.email)})]})]}),h.jsx("button",{onClick:()=>{l(),o(!1)},className:"text-red-500 hover:text-red-600 transition-colors duration-300 text-left",children:"تسجيل الخروج"})]}):h.jsx(ze,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors duration-300",onClick:()=>o(!1),children:"تسجيل الدخول"})]})})]}),h.jsx("main",{className:"flex-grow",children:h.jsx(g2,{mode:"wait",children:h.jsx(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"h-full",children:t},location.pathname)})}),h.jsx(KJ,{})]})},Tj=m.createContext(void 0),yte=({children:t})=>{const[e,n]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=i=>{n(i)},s=()=>{n(i=>i==="light"?"dark":"light")};return h.jsx(Tj.Provider,{value:{theme:e,setTheme:r,toggleTheme:s},children:t})},vte=()=>{const t=m.useContext(Tj);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},wte=()=>{const{theme:t,toggleTheme:e}=vte();return h.jsxs($e,{variant:"outline",size:"icon",onClick:e,className:"fixed bottom-4 right-4 rounded-full shadow-lg z-50 transition-all duration-300 hover:scale-110",children:[t==="light"?h.jsx(e5,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}):h.jsx(i5,{className:"h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),h.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},nf=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",t),...e})}));nf.displayName="Table";const rf=m.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",t),...e}));rf.displayName="TableHeader";const sf=m.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",t),...e}));sf.displayName="TableBody";const xte=m.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xte.displayName="TableFooter";const ho=m.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ho.displayName="TableRow";const sn=m.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));sn.displayName="TableHead";const on=m.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));on.displayName="TableCell";const _te=m.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",t),...e}));_te.displayName="TableCaption";function Rr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Wo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const bj=6048e5,Ete=864e5;let Tte={};function Um(){return Tte}function Wu(t,e){var a,l,c,d;const n=Um(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Rr(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function mp(t){return Wu(t,{weekStartsOn:1})}function Sj(t){const e=Rr(t),n=e.getFullYear(),r=Wo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=mp(r),i=Wo(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=mp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function cI(t){const e=Rr(t);return e.setHours(0,0,0,0),e}function uI(t){const e=Rr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function bte(t,e){const n=cI(t),r=cI(e),s=+n-uI(n),i=+r-uI(r);return Math.round((s-i)/Ete)}function Ste(t){const e=Sj(t),n=Wo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),mp(n)}function Cte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ite(t){if(!Cte(t)&&typeof t!="number")return!1;const e=Rr(t);return!isNaN(Number(e))}function Ate(t){const e=Rr(t),n=Wo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Pte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rte=(t,e,n)=>{let r;const s=Pte[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ka(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Nte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mte={date:Ka({formats:Nte,defaultWidth:"full"}),time:Ka({formats:kte,defaultWidth:"full"}),dateTime:Ka({formats:Dte,defaultWidth:"full"})},Ote={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jte=(t,e,n,r)=>Ote[t];function zr(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Lte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ute={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$te={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Wte={ordinalNumber:zte,era:zr({values:Lte,defaultWidth:"wide"}),quarter:zr({values:Vte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zr({values:Fte,defaultWidth:"wide"}),day:zr({values:Ute,defaultWidth:"wide"}),dayPeriod:zr({values:$te,defaultWidth:"wide",formattingValues:Bte,defaultFormattingWidth:"wide"})};function Wr(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qte(a,f=>f.test(o)):Hte(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function Hte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Cj(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Gte=/^(\d+)(th|st|nd|rd)?/i,Kte=/\d+/i,Qte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yte={any:[/^b/i,/^(a|c)/i]},Xte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jte={any:[/1/i,/2/i,/3/i,/4/i]},Zte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ene={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ine={ordinalNumber:Cj({matchPattern:Gte,parsePattern:Kte,valueCallback:t=>parseInt(t,10)}),era:Wr({matchPatterns:Qte,defaultMatchWidth:"wide",parsePatterns:Yte,defaultParseWidth:"any"}),quarter:Wr({matchPatterns:Xte,defaultMatchWidth:"wide",parsePatterns:Jte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wr({matchPatterns:Zte,defaultMatchWidth:"wide",parsePatterns:ene,defaultParseWidth:"any"}),day:Wr({matchPatterns:tne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any"}),dayPeriod:Wr({matchPatterns:rne,defaultMatchWidth:"any",parsePatterns:sne,defaultParseWidth:"any"})},one={code:"en-US",formatDistance:Rte,formatLong:Mte,formatRelative:jte,localize:Wte,match:ine,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ane(t){const e=Rr(t);return bte(e,Ate(e))+1}function lne(t){const e=Rr(t),n=+mp(e)-+Ste(e);return Math.round(n/bj)+1}function Ij(t,e){var d,f,p,g;const n=Rr(t),r=n.getFullYear(),s=Um(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Wo(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Wu(o,e),l=Wo(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Wu(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function cne(t,e){var a,l,c,d;const n=Um(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=Ij(t,e),i=Wo(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Wu(i,e)}function une(t,e){const n=Rr(t),r=+Wu(n,e)-+cne(n,e);return Math.round(r/bj)+1}function Le(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Le(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Le(n+1,2)},d(t,e){return Le(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Le(t.getHours()%12||12,e.length)},H(t,e){return Le(t.getHours(),e.length)},m(t,e){return Le(t.getMinutes(),e.length)},s(t,e){return Le(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Le(s,e.length)}},da={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qs.y(t,e)},Y:function(t,e,n,r){const s=Ij(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Le(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Le(i,e.length)},R:function(t,e){const n=Sj(t);return Le(n,e.length)},u:function(t,e){const n=t.getFullYear();return Le(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=une(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Le(s,e.length)},I:function(t,e,n){const r=lne(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Le(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qs.d(t,e)},D:function(t,e,n){const r=ane(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Le(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Le(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Le(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Le(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=da.noon:r===0?s=da.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=da.evening:r>=12?s=da.afternoon:r>=4?s=da.morning:s=da.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qs.s(t,e)},S:function(t,e){return qs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return fI(r);case"XXXX":case"XX":return fo(r);case"XXXXX":case"XXX":default:return fo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return fI(r);case"xxxx":case"xx":return fo(r);case"xxxxx":case"xxx":default:return fo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hI(r,":");case"OOOO":default:return"GMT"+fo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hI(r,":");case"zzzz":default:return"GMT"+fo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Le(r,e.length)},T:function(t,e,n){const r=t.getTime();return Le(r,e.length)}};function hI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Le(i,2)}function fI(t,e){return t%60===0?(t>0?"-":"+")+Le(Math.abs(t)/60,2):fo(t,e)}function fo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Le(Math.trunc(r/60),2),i=Le(r%60,2);return n+s+e+i}const pI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Aj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dne=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return pI(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",pI(r,e)).replace("{{time}}",Aj(s,e))},hne={p:Aj,P:dne},fne=/^D+$/,pne=/^Y+$/,mne=["D","DD","YY","YYYY"];function gne(t){return fne.test(t)}function yne(t){return pne.test(t)}function vne(t,e,n){const r=wne(t,e,n);if(console.warn(r),mne.includes(t))throw new RangeError(r)}function wne(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ene=/^'([^]*?)'?$/,Tne=/''/g,bne=/[a-zA-Z]/;function mI(t,e,n){var d,f,p,g,_,v,E,w;const r=Um(),s=(n==null?void 0:n.locale)??r.locale??one,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((w=(E=r.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??0,a=Rr(t);if(!Ite(a))throw new RangeError("Invalid time value");let l=e.match(_ne).map(x=>{const T=x[0];if(T==="p"||T==="P"){const P=hne[T];return P(x,s.formatLong)}return x}).join("").match(xne).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const T=x[0];if(T==="'")return{isToken:!1,value:Sne(x)};if(dI[T])return{isToken:!0,value:x};if(T.match(bne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(x=>{if(!x.isToken)return x.value;const T=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yne(T)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gne(T))&&vne(T,e,String(t));const P=dI[T[0]];return P(a,T,s.localize,c)}).join("")}function Sne(t){const e=t.match(Ene);return e?e[1].replace(Tne,"'"):t}var sE="Dialog",[Pj,gse]=Wi(sE),[Cne,Nr]=Pj(sE),Rj=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=jo({prop:r,defaultProp:s,onChange:i});return h.jsx(Cne,{scope:e,triggerRef:a,contentRef:l,contentId:Gr(),titleId:Gr(),descriptionId:Gr(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};Rj.displayName=sE;var Nj="DialogTrigger",Ine=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Nj,n),i=ke(e,s.triggerRef);return h.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aE(s.open),...r,ref:i,onClick:X(t.onClick,s.onOpenToggle)})});Ine.displayName=Nj;var iE="DialogPortal",[Ane,kj]=Pj(iE,{forceMount:void 0}),Dj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Nr(iE,e);return h.jsx(Ane,{scope:e,forceMount:n,children:m.Children.map(r,o=>h.jsx(Ar,{present:n||i.open,children:h.jsx(Ju,{asChild:!0,container:s,children:o})}))})};Dj.displayName=iE;var gp="DialogOverlay",Mj=m.forwardRef((t,e)=>{const n=kj(gp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(gp,t.__scopeDialog);return i.modal?h.jsx(Ar,{present:r||i.open,children:h.jsx(Pne,{...s,ref:e})}):null});Mj.displayName=gp;var Pne=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(gp,n);return h.jsx(Lm,{as:Ii,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(fe.div,{"data-state":aE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ho="DialogContent",Oj=m.forwardRef((t,e)=>{const n=kj(Ho,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nr(Ho,t.__scopeDialog);return h.jsx(Ar,{present:r||i.open,children:i.modal?h.jsx(Rne,{...s,ref:e}):h.jsx(Nne,{...s,ref:e})})});Oj.displayName=Ho;var Rne=m.forwardRef((t,e)=>{const n=Nr(Ho,t.__scopeDialog),r=m.useRef(null),s=ke(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return K_(i)},[]),h.jsx(jj,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:X(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:X(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:X(t.onFocusOutside,i=>i.preventDefault())})}),Nne=m.forwardRef((t,e)=>{const n=Nr(Ho,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return h.jsx(jj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),jj=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Nr(Ho,n),l=m.useRef(null),c=ke(e,l);return G_(),h.jsxs(h.Fragment,{children:[h.jsx(Dm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Cl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aE(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(kne,{titleId:a.titleId}),h.jsx(Mne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),oE="DialogTitle",Lj=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(oE,n);return h.jsx(fe.h2,{id:s.titleId,...r,ref:e})});Lj.displayName=oE;var Vj="DialogDescription",Fj=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Vj,n);return h.jsx(fe.p,{id:s.descriptionId,...r,ref:e})});Fj.displayName=Vj;var Uj="DialogClose",$j=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nr(Uj,n);return h.jsx(fe.button,{type:"button",...r,ref:e,onClick:X(t.onClick,()=>s.onOpenChange(!1))})});$j.displayName=Uj;function aE(t){return t?"open":"closed"}var Bj="DialogTitleWarning",[yse,zj]=n3(Bj,{contentName:Ho,titleName:oE,docsSlug:"dialog"}),kne=({titleId:t})=>{const e=zj(Bj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Dne="DialogDescriptionWarning",Mne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zj(Dne).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},One=Rj,jne=Dj,Wj=Mj,Hj=Oj,qj=Lj,Gj=Fj,Lne=$j;const Kj=One,Vne=jne,Qj=m.forwardRef(({className:t,...e},n)=>h.jsx(Wj,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Qj.displayName=Wj.displayName;const lE=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Vne,{children:[h.jsx(Qj,{}),h.jsxs(Hj,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(Lne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Up,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lE.displayName=Hj.displayName;const cE=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});cE.displayName="DialogHeader";const Yj=({className:t,...e})=>h.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Yj.displayName="DialogFooter";const uE=m.forwardRef(({className:t,...e},n)=>h.jsx(qj,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));uE.displayName=qj.displayName;const Fne=m.forwardRef(({className:t,...e},n)=>h.jsx(Gj,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Fne.displayName=Gj.displayName;const Une=Vp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xj({className:t,variant:e,...n}){return h.jsx("div",{className:ce(Une({variant:e}),t),...n})}const $ne={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},Bne=(t,e,n)=>{const r=$ne[t];let s;return typeof r=="string"?s=r:e===1?s=r.one:e===2?s=r.two:e<=10?s=r.threeToTen.replace("{{count}}",String(e)):s=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+s:"منذ "+s:s},zne={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Wne={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Hne={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qne={date:Ka({formats:zne,defaultWidth:"full"}),time:Ka({formats:Wne,defaultWidth:"full"}),dateTime:Ka({formats:Hne,defaultWidth:"full"})},Gne={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},Kne=t=>Gne[t],Qne={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},Yne={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},Xne={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},Jne={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},Zne={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},ere={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},tre=t=>String(t),nre={ordinalNumber:tre,era:zr({values:Qne,defaultWidth:"wide"}),quarter:zr({values:Yne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zr({values:Xne,defaultWidth:"wide"}),day:zr({values:Jne,defaultWidth:"wide"}),dayPeriod:zr({values:Zne,defaultWidth:"wide",formattingValues:ere,defaultFormattingWidth:"wide"})},rre=/^(\d+)(th|st|nd|rd)?/i,sre=/\d+/i,ire={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},ore={any:[/قبل/,/بعد/]},are={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},lre={any:[/1/i,/2/i,/3/i,/4/i]},cre={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},ure={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},dre={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},hre={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},fre={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},pre={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},mre={ordinalNumber:Cj({matchPattern:rre,parsePattern:sre,valueCallback:t=>parseInt(t,10)}),era:Wr({matchPatterns:ire,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Wr({matchPatterns:are,defaultMatchWidth:"wide",parsePatterns:lre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wr({matchPatterns:cre,defaultMatchWidth:"wide",parsePatterns:ure,defaultParseWidth:"any"}),day:Wr({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Wr({matchPatterns:fre,defaultMatchWidth:"any",parsePatterns:pre,defaultParseWidth:"any"})},gI={code:"ar",formatDistance:Bne,formatLong:qne,formatRelative:Kne,localize:nre,match:mre,options:{weekStartsOn:6,firstWeekContainsDate:1}},gre=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(null),[s,i]=m.useState(!0),[o,a]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const f=Em(tr(Xe,"activities"),i_("timestamp","desc")),p=xM(f,g=>{const _=[];g.forEach(v=>{_.push({id:v.id,...v.data()})}),e(_),i(!1)},g=>{console.error("Error fetching activities:",g),a("فشل في جلب سجلات الأنشطة"),i(!1)});return()=>p()},[]);const d=f=>({register:{icon:ER,color:"bg-green-500",text:"تسجيل حساب جديد"},add_lecture:{icon:Fa,color:"bg-blue-500",text:"إضافة محاضرة"},delete_lecture:{icon:Ua,color:"bg-red-500",text:"حذف محاضرة"},add_subject:{icon:yr,color:"bg-purple-500",text:"إضافة مادة"},delete_subject:{icon:Ua,color:"bg-red-500",text:"حذف مادة"},update_lecture:{icon:Ev,color:"bg-yellow-500",text:"تعديل محاضرة"},update_subject:{icon:Ev,color:"bg-yellow-500",text:"تعديل مادة"},delete_user_by_admin:{icon:Ua,color:"bg-red-500",text:"حذف مستخدم"},ban_user_by_admin:{icon:yR,color:"bg-red-500",text:"حظر مستخدم"},unban_user:{icon:_R,color:"bg-green-500",text:"إلغاء حظر مستخدم"}})[f]||{icon:H3,color:"bg-gray-500",text:f};return s?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.jsxs(Dt,{className:"shadow-lg",children:[h.jsx(Jt,{className:"p-0",children:h.jsx("div",{className:"divide-y divide-border",children:h.jsx(g2,{children:t.map(f=>{const p=d(f.type),g=p.icon;return h.jsx(fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-4 hover:bg-accent/50 transition-colors",children:h.jsx("button",{onClick:()=>{r(f),c(!0)},className:"w-full text-right",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Xj,{className:`${p.color} p-2`,children:h.jsx(g,{className:"h-4 w-4 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-foreground",children:p.text}),h.jsx("p",{className:"text-sm text-muted-foreground",children:mI(f.timestamp.toDate(),"PPpp",{locale:gI})}),f.details&&h.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:f.details})]})]})})},f.id)})})})}),h.jsx(Kj,{open:l,onOpenChange:c,children:h.jsxs(lE,{className:"sm:max-w-[500px]",children:[h.jsx(cE,{children:h.jsx(uE,{className:"text-2xl font-bold mb-4",children:"تفاصيل النشاط"})}),n&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"نوع النشاط"}),h.jsx("p",{children:d(n.type).text})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"المستخدم"}),h.jsx("p",{children:n.username||"غير معروف"})]})]}),n.subjectName&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"المادة"}),h.jsx("p",{children:n.subjectName})]}),n.lectureTitle&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"المحاضرة"}),h.jsx("p",{children:n.lectureTitle})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"التفاصيل"}),h.jsx("p",{children:n.details||"لا توجد تفاصيل إضافية"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"الوقت"}),h.jsx("p",{children:mI(n.timestamp.toDate(),"PPpp",{locale:gI})})]}),n.ipAddress&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"font-semibold text-primary",children:"عنوان IP"}),h.jsx("p",{className:"font-mono",children:n.ipAddress})]})]}),h.jsx(Yj,{children:h.jsx($e,{onClick:()=>c(!1),children:"إغلاق"})})]})})]})};var dE="Tabs",[yre,vse]=Wi(dE,[Om]),Jj=Om(),[vre,hE]=yre(dE),Zj=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=km(a),[f,p]=jo({prop:r,onChange:s,defaultProp:i});return h.jsx(vre,{scope:n,baseId:Gr(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:l,children:h.jsx(fe.div,{dir:d,"data-orientation":o,...c,ref:e})})});Zj.displayName=dE;var eL="TabsList",tL=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=hE(eL,n),o=Jj(n);return h.jsx(lO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});tL.displayName=eL;var nL="TabsTrigger",rL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=hE(nL,n),a=Jj(n),l=oL(o.baseId,r),c=aL(o.baseId,r),d=r===o.value;return h.jsx(cO,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:X(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:X(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:X(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});rL.displayName=nL;var sL="TabsContent",iL=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=hE(sL,n),l=oL(a.baseId,r),c=aL(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),h.jsx(Ar,{present:s||d,children:({present:p})=>h.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});iL.displayName=sL;function oL(t,e){return`${t}-trigger-${e}`}function aL(t,e){return`${t}-content-${e}`}var wre=Zj,lL=tL,cL=rL,uL=iL;const xre=wre,dL=m.forwardRef(({className:t,...e},n)=>h.jsx(lL,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));dL.displayName=lL.displayName;const Pc=m.forwardRef(({className:t,...e},n)=>h.jsx(cL,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Pc.displayName=cL.displayName;const Rc=m.forwardRef(({className:t,...e},n)=>h.jsx(uL,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Rc.displayName=uL.displayName;function yI(t,[e,n]){return Math.min(n,Math.max(e,t))}function _re(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ere=[" ","Enter","ArrowUp","ArrowDown"],Tre=[" ","Enter"],xd="Select",[$m,Bm,bre]=Op(xd),[zl,wse]=Wi(xd,[bre,Rl]),zm=Rl(),[Sre,Ji]=zl(xd),[Cre,Ire]=zl(xd),hL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:_}=t,v=zm(e),[E,w]=m.useState(null),[x,T]=m.useState(null),[P,N]=m.useState(!1),O=km(c),[C=!1,S]=jo({prop:r,defaultProp:s,onChange:i}),[I,R]=jo({prop:o,defaultProp:a,onChange:l}),D=m.useRef(null),M=E?_||!!E.closest("form"):!0,[k,W]=m.useState(new Set),ie=Array.from(k).map(Y=>Y.props.value).join(";");return h.jsx(JR,{...v,children:h.jsxs(Sre,{required:g,scope:e,trigger:E,onTriggerChange:w,valueNode:x,onValueNodeChange:T,valueNodeHasChildren:P,onValueNodeHasChildrenChange:N,contentId:Gr(),value:I,onValueChange:R,open:C,onOpenChange:S,dir:O,triggerPointerDownPosRef:D,disabled:p,children:[h.jsx($m.Provider,{scope:e,children:h.jsx(Cre,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{W(Z=>new Set(Z).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{W(Z=>{const j=new Set(Z);return j.delete(Y),j})},[]),children:n})}),M?h.jsxs(LL,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:Y=>R(Y.target.value),disabled:p,form:_,children:[I===void 0?h.jsx("option",{value:""}):null,Array.from(k)]},ie):null]})})};hL.displayName=xd;var fL="SelectTrigger",pL=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zm(n),o=Ji(fL,n),a=o.disabled||r,l=ke(e,o.onTriggerChange),c=Bm(n),d=m.useRef("touch"),[f,p,g]=VL(v=>{const E=c().filter(T=>!T.disabled),w=E.find(T=>T.value===o.value),x=FL(E,v,w);x!==void 0&&o.onValueChange(x.value)}),_=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx(q0,{asChild:!0,...i,children:h.jsx(fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":jL(o.value)?"":void 0,...s,ref:l,onClick:X(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&_(v)}),onPointerDown:X(s.onPointerDown,v=>{d.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:X(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(E&&v.key===" ")&&Ere.includes(v.key)&&(_(),v.preventDefault())})})})});pL.displayName=fL;var mL="SelectValue",gL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ji(mL,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=ke(e,l.onValueNodeChange);return Ct(()=>{c(d)},[c,d]),h.jsx(fe.span,{...a,ref:f,style:{pointerEvents:"none"},children:jL(l.value)?h.jsx(h.Fragment,{children:o}):i})});gL.displayName=mL;var Are="SelectIcon",yL=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(fe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});yL.displayName=Are;var Pre="SelectPortal",vL=t=>h.jsx(Ju,{asChild:!0,...t});vL.displayName=Pre;var qo="SelectContent",wL=m.forwardRef((t,e)=>{const n=Ji(qo,t.__scopeSelect),[r,s]=m.useState();if(Ct(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qo.createPortal(h.jsx(xL,{scope:t.__scopeSelect,children:h.jsx($m.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(_L,{...t,ref:e})});wL.displayName=qo;var ur=10,[xL,Zi]=zl(qo),Rre="SelectContentImpl",_L=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:E,...w}=t,x=Ji(qo,n),[T,P]=m.useState(null),[N,O]=m.useState(null),C=ke(e,re=>P(re)),[S,I]=m.useState(null),[R,D]=m.useState(null),M=Bm(n),[k,W]=m.useState(!1),ie=m.useRef(!1);m.useEffect(()=>{if(T)return K_(T)},[T]),G_();const Y=m.useCallback(re=>{const[Te,...Se]=M().map(ae=>ae.ref.current),[V]=Se.slice(-1),ee=document.activeElement;for(const ae of re)if(ae===ee||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===Te&&N&&(N.scrollTop=0),ae===V&&N&&(N.scrollTop=N.scrollHeight),ae==null||ae.focus(),document.activeElement!==ee))return},[M,N]),Z=m.useCallback(()=>Y([S,T]),[Y,S,T]);m.useEffect(()=>{k&&Z()},[k,Z]);const{onOpenChange:j,triggerPointerDownPosRef:F}=x;m.useEffect(()=>{if(T){let re={x:0,y:0};const Te=V=>{var ee,ae;re={x:Math.abs(Math.round(V.pageX)-(((ee=F.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(V.pageY)-(((ae=F.current)==null?void 0:ae.y)??0))}},Se=V=>{re.x<=10&&re.y<=10?V.preventDefault():T.contains(V.target)||j(!1),document.removeEventListener("pointermove",Te),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Se,{capture:!0})}}},[T,j,F]),m.useEffect(()=>{const re=()=>j(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[j]);const[q,G]=VL(re=>{const Te=M().filter(ee=>!ee.disabled),Se=Te.find(ee=>ee.ref.current===document.activeElement),V=FL(Te,re,Se);V&&setTimeout(()=>V.ref.current.focus())}),J=m.useCallback((re,Te,Se)=>{const V=!ie.current&&!Se;(x.value!==void 0&&x.value===Te||V)&&(I(re),V&&(ie.current=!0))},[x.value]),oe=m.useCallback(()=>T==null?void 0:T.focus(),[T]),Ee=m.useCallback((re,Te,Se)=>{const V=!ie.current&&!Se;(x.value!==void 0&&x.value===Te||V)&&D(re)},[x.value]),Oe=r==="popper"?Mw:EL,pe=Oe===Mw?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:E}:{};return h.jsx(xL,{scope:n,content:T,viewport:N,onViewportChange:O,itemRefCallback:J,selectedItem:S,onItemLeave:oe,itemTextRefCallback:Ee,focusSelectedItem:Z,selectedItemText:R,position:r,isPositioned:k,searchRef:q,children:h.jsx(Lm,{as:Ii,allowPinchZoom:!0,children:h.jsx(Dm,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:X(s,re=>{var Te;(Te=x.trigger)==null||Te.focus({preventScroll:!0}),re.preventDefault()}),children:h.jsx(Cl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(Oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...w,...pe,onPlaced:()=>W(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:X(w.onKeyDown,re=>{const Te=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Te&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let V=M().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(re.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const ee=re.target,ae=V.indexOf(ee);V=V.slice(ae+1)}setTimeout(()=>Y(V)),re.preventDefault()}})})})})})})});_L.displayName=Rre;var Nre="SelectItemAlignedPosition",EL=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ji(qo,n),o=Zi(qo,n),[a,l]=m.useState(null),[c,d]=m.useState(null),f=ke(e,C=>d(C)),p=Bm(n),g=m.useRef(!1),_=m.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:w,focusSelectedItem:x}=o,T=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&E&&w){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const ee=R.left-S.left,ae=I.left-ee,be=C.left-ae,Fe=C.width+be,Vt=Math.max(Fe,S.width),It=window.innerWidth-ur,is=yI(ae,[ur,Math.max(ur,It-Vt)]);a.style.minWidth=Fe+"px",a.style.left=is+"px"}else{const ee=S.right-R.right,ae=window.innerWidth-I.right-ee,be=window.innerWidth-C.right-ae,Fe=C.width+be,Vt=Math.max(Fe,S.width),It=window.innerWidth-ur,is=yI(ae,[ur,Math.max(ur,It-Vt)]);a.style.minWidth=Fe+"px",a.style.right=is+"px"}const D=p(),M=window.innerHeight-ur*2,k=v.scrollHeight,W=window.getComputedStyle(c),ie=parseInt(W.borderTopWidth,10),Y=parseInt(W.paddingTop,10),Z=parseInt(W.borderBottomWidth,10),j=parseInt(W.paddingBottom,10),F=ie+Y+k+j+Z,q=Math.min(E.offsetHeight*5,F),G=window.getComputedStyle(v),J=parseInt(G.paddingTop,10),oe=parseInt(G.paddingBottom,10),Ee=C.top+C.height/2-ur,Oe=M-Ee,pe=E.offsetHeight/2,re=E.offsetTop+pe,Te=ie+Y+re,Se=F-Te;if(Te<=Ee){const ee=D.length>0&&E===D[D.length-1].ref.current;a.style.bottom="0px";const ae=c.clientHeight-v.offsetTop-v.offsetHeight,be=Math.max(Oe,pe+(ee?oe:0)+ae+Z),Fe=Te+be;a.style.height=Fe+"px"}else{const ee=D.length>0&&E===D[0].ref.current;a.style.top="0px";const be=Math.max(Ee,ie+v.offsetTop+(ee?J:0)+pe)+Se;a.style.height=be+"px",v.scrollTop=Te-Ee+v.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,c,v,E,w,i.dir,r]);Ct(()=>T(),[T]);const[P,N]=m.useState();Ct(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=m.useCallback(C=>{C&&_.current===!0&&(T(),x==null||x(),_.current=!1)},[T,x]);return h.jsx(Dre,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:h.jsx(fe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EL.displayName=Nre;var kre="SelectPopperPosition",Mw=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ur,...i}=t,o=zm(n);return h.jsx(G0,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mw.displayName=kre;var[Dre,fE]=zl(qo,{}),Ow="SelectViewport",TL=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Zi(Ow,n),o=fE(Ow,n),a=ke(e,i.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx($m.Slot,{scope:n,children:h.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:X(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const _=window.innerHeight-ur*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),w=Math.max(v,E);if(w<_){const x=w+g,T=Math.min(_,x),P=x-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});TL.displayName=Ow;var bL="SelectGroup",[Mre,Ore]=zl(bL),jre=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gr();return h.jsx(Mre,{scope:n,id:s,children:h.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});jre.displayName=bL;var SL="SelectLabel",CL=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ore(SL,n);return h.jsx(fe.div,{id:s.id,...r,ref:e})});CL.displayName=SL;var yp="SelectItem",[Lre,IL]=zl(yp),AL=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ji(yp,n),l=Zi(yp,n),c=a.value===r,[d,f]=m.useState(i??""),[p,g]=m.useState(!1),_=ke(e,x=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,x,r,s)}),v=Gr(),E=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Lre,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(x=>{f(T=>T||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx($m.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:h.jsx(fe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:_,onFocus:X(o.onFocus,()=>g(!0)),onBlur:X(o.onBlur,()=>g(!1)),onClick:X(o.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:X(o.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:X(o.onPointerDown,x=>{E.current=x.pointerType}),onPointerMove:X(o.onPointerMove,x=>{var T;E.current=x.pointerType,s?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(o.onPointerLeave,x=>{var T;x.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:X(o.onKeyDown,x=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&x.key===" "||(Tre.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});AL.displayName=yp;var Nc="SelectItemText",PL=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ji(Nc,n),a=Zi(Nc,n),l=IL(Nc,n),c=Ire(Nc,n),[d,f]=m.useState(null),p=ke(e,w=>f(w),l.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,l.value,l.disabled)}),g=d==null?void 0:d.textContent,_=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=c;return Ct(()=>(v(_),()=>E(_)),[v,E,_]),h.jsxs(h.Fragment,{children:[h.jsx(fe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qo.createPortal(i.children,o.valueNode):null]})});PL.displayName=Nc;var RL="SelectItemIndicator",NL=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return IL(RL,n).isSelected?h.jsx(fe.span,{"aria-hidden":!0,...r,ref:e}):null});NL.displayName=RL;var jw="SelectScrollUpButton",kL=m.forwardRef((t,e)=>{const n=Zi(jw,t.__scopeSelect),r=fE(jw,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(ML,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});kL.displayName=jw;var Lw="SelectScrollDownButton",DL=m.forwardRef((t,e)=>{const n=Zi(Lw,t.__scopeSelect),r=fE(Lw,t.__scopeSelect),[s,i]=m.useState(!1),o=ke(e,r.onScrollButtonChange);return Ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(ML,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});DL.displayName=Lw;var ML=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Zi("SelectScrollButton",n),o=m.useRef(null),a=Bm(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Ct(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(fe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:X(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:X(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:X(s.onPointerLeave,()=>{l()})})}),Vre="SelectSeparator",OL=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(fe.div,{"aria-hidden":!0,...r,ref:e})});OL.displayName=Vre;var Vw="SelectArrow",Fre=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zm(n),i=Ji(Vw,n),o=Zi(Vw,n);return i.open&&o.position==="popper"?h.jsx(K0,{...s,...r,ref:e}):null});Fre.displayName=Vw;function jL(t){return t===""||t===void 0}var LL=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=ke(e,s),o=_re(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),h.jsx(Zu,{asChild:!0,children:h.jsx("select",{...r,ref:i,defaultValue:n})})});LL.displayName="BubbleSelect";function VL(t){const e=jt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function FL(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Ure(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Ure(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $re=hL,UL=pL,Bre=gL,zre=yL,Wre=vL,$L=wL,Hre=TL,BL=CL,zL=AL,qre=PL,Gre=NL,WL=kL,HL=DL,qL=OL;const _y=$re,Ey=Bre,of=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(UL,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(zre,{asChild:!0,children:h.jsx(wR,{className:"h-4 w-4 opacity-50"})})]}));of.displayName=UL.displayName;const GL=m.forwardRef(({className:t,...e},n)=>h.jsx(WL,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(W3,{className:"h-4 w-4"})}));GL.displayName=WL.displayName;const KL=m.forwardRef(({className:t,...e},n)=>h.jsx(HL,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(wR,{className:"h-4 w-4"})}));KL.displayName=HL.displayName;const af=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(Wre,{children:h.jsxs($L,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(GL,{}),h.jsx(Hre,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(KL,{})]})}));af.displayName=$L.displayName;const Kre=m.forwardRef(({className:t,...e},n)=>h.jsx(BL,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Kre.displayName=BL.displayName;const kc=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(zL,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Gre,{children:h.jsx(vR,{className:"h-4 w-4"})})}),h.jsx(qre,{children:e})]}));kc.displayName=zL.displayName;const Qre=m.forwardRef(({className:t,...e},n)=>h.jsx(qL,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));Qre.displayName=qL.displayName;const Yre=()=>{var Se;const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,c]=m.useState(!0),[d,f]=m.useState(""),[p,g]=m.useState(void 0),[_,v]=m.useState(null);(Se=Xn.currentUser)==null||Se.uid;const{toast:E}=zP(),[w,x]=m.useState("all");m.useState("all");const[T,P]=m.useState(""),[N,O]=m.useState(""),[C,S]=m.useState("2");m.useState(null);const[I,R]=m.useState(""),[D,M]=m.useState(""),[k,W]=m.useState(null),[ie,Y]=m.useState("");m.useState(""),m.useState(null);const[Z,j]=m.useState([]),F=async()=>{try{c(!0),f("");const V=tr(Xe,"users"),ae=(await xl(V)).docs.map(be=>({id:be.id,...be.data()}));e(ae)}catch(V){console.error("Error fetching users:",V),f("فشل في جلب بيانات المستخدمين.")}finally{c(!1)}},q=async()=>{try{const V=await Cm();r(V)}catch(V){console.error("Error fetching subjects:",V),E({title:"خطأ",description:"فشل في جلب المواد.",variant:"destructive"})}},G=async()=>{try{const V=await h_();i(V)}catch(V){console.error("Error fetching lectures:",V),E({title:"خطأ",description:"فشل في جلب المحاضرات.",variant:"destructive"})}},J=async()=>{try{const V=tr(Xe,"stages"),ae=(await xl(V)).docs.map(be=>({id:be.id,name:be.data().name}));a(ae)}catch(V){console.error("Error fetching stages:",V),E({title:"خطأ",description:"فشل في جلب المراحل الدراسية.",variant:"destructive"})}};m.useEffect(()=>{F(),q(),G(),J();const V=Em(tr(Xe,"activities"),i_("timestamp","desc"),WG(5)),ee=xM(V,ae=>{const be=ae.docs.map(Fe=>({id:Fe.id,...Fe.data()}));j(be)});return()=>ee()},[]);const oe=async V=>{var ee,ae,be;try{const Fe=t.find(Vt=>Vt.id===V);if(!Fe){console.warn("User not found in the current state.");return}await u_(Bn(Xe,"users",V)),e(Vt=>Vt.filter(It=>It.id!==V)),await Rw({type:"delete_user_by_admin",userId:(ee=Xn.currentUser)==null?void 0:ee.uid,username:((ae=Xn.currentUser)==null?void 0:ae.email)||"N/A",details:`المسؤول ${(be=Xn.currentUser)==null?void 0:be.email} حذف المستخدم ${Fe.fullName||Fe.email}.`}),E({title:"تم حذف المستخدم",description:`تم حذف المستخدم (${Fe.fullName||Fe.email}) بنجاح.`,variant:"default"})}catch(Fe){console.error("Error deleting user:",Fe),f("فشل في حذف المستخدم."),E({title:"خطأ",description:"فشل في حذف المستخدم.",variant:"destructive"})}},Ee=async V=>{v(V),g(void 0)},Oe=async V=>{try{if(!t.find(be=>be.id===V))return;const ae=Bn(Xe,"users",V);await c_(ae,{isBanned:!1,banUntil:null}),e(t.map(be=>be.id===V?{...be,isBanned:!1,banUntil:null}:be))}catch(ee){console.error("Error unbanning user:",ee),f("فشل في إلغاء حظر المستخدم.")}},pe=async V=>{try{f(""),c(!0),console.log("Uploading file:",{name:V.name,size:V.size,type:V.type});const{fileId:ee,fileName:ae,fileUrl:be}=await EM(V);console.log("File uploaded successfully:",{fileId:ee,fileName:ae,fileUrl:be}),await ZG(ie,I,D,V),E({title:"نجاح",description:"تم رفع المحاضرة بنجاح."}),R(""),M(""),Y(""),W(null),G()}catch(ee){console.error("Error uploading lecture:",ee),E({title:"خطأ",description:`فشل في رفع الملف: ${ee.message||"خطأ غير معروف"}`,variant:"destructive"})}finally{c(!1)}},re=async V=>{try{const ee=V.course==="1"?"2":"1";await XG(V.id,V.name,V.stageId,ee),E({title:"نجاح",description:`تم نقل المادة "${V.name}" إلى ${ee==="1"?"الكورس الأول":"الكورس الثاني"}.`}),q()}catch(ee){console.error("Error moving subject course:",ee),E({title:"خطأ",description:"فشل في نقل المادة إلى كورس آخر.",variant:"destructive"})}};t.length,t.filter(V=>!V.isBanned).length,t.filter(V=>V.isBanned).length,t.filter(V=>V.role==="admin").length,t.filter(V=>V.role==="user").length,s.filter(V=>w==="all"||V.subjectId===w);const Te=[{label:"عدد المستخدمين",value:t.length,icon:h.jsx(jh,{className:"h-7 w-7 text-primary"})},{label:"عدد المحاضرات",value:s.length,icon:h.jsx(Fa,{className:"h-7 w-7 text-primary"})},{label:"عدد المواد",value:n.length,icon:h.jsx(yr,{className:"h-7 w-7 text-primary"})}];return h.jsxs("div",{className:"container mx-auto py-8 animate-fade-in",children:[h.jsxs(fn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"relative rounded-2xl bg-gradient-to-r from-primary/80 to-primary/40 p-8 mb-8 flex items-center shadow-lg overflow-hidden",children:[h.jsx(r5,{className:"absolute right-6 top-6 text-white/30 h-16 w-16 animate-pulse"}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-2",children:[h.jsx(K3,{className:"h-8 w-8 text-white/90"}),"لوحة تحكم المسؤول"]}),h.jsx("p",{className:"text-lg text-white/80",children:"مرحبًا بك في لوحة التحكم. يمكنك إدارة المستخدمين، المواد، والمحاضرات بكل سهولة واحترافية."})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:Te.map((V,ee)=>h.jsxs(fn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*ee,duration:.6,type:"spring"},className:"dashboard-card flex items-center gap-4 p-6 bg-background/80 hover:scale-[1.03] transition-transform",children:[h.jsx("div",{className:"flex-shrink-0",children:V.icon}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-foreground",children:V.value}),h.jsx("div",{className:"text-muted-foreground",children:V.label})]})]},V.label))}),h.jsxs(xre,{defaultValue:"users",className:"w-full",children:[h.jsxs(dL,{className:"grid w-full grid-cols-4 mb-8 p-1 bg-muted rounded-lg",children:[h.jsxs(Pc,{value:"users",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[h.jsx(jh,{className:"h-5 w-5 ml-2"}),"إدارة المستخدمين"]}),h.jsxs(Pc,{value:"subjects",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[h.jsx(yr,{className:"h-5 w-5 ml-2"}),"إدارة المواد"]}),h.jsxs(Pc,{value:"lectures",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[h.jsx(Fa,{className:"h-5 w-5 ml-2"}),"إدارة المحاضرات"]}),h.jsxs(Pc,{value:"activities",className:"flex items-center justify-center data-[state=active]:bg-background data-[state=active]:shadow-sm transition-all",children:[h.jsx(w1,{className:"h-5 w-5 ml-2"}),"سجل النشاطات"]})]}),h.jsx(Rc,{value:"users",className:"space-y-6",children:h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-all",children:[h.jsx(un,{className:"p-6",children:h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(jh,{className:"h-6 w-6 ml-2 text-primary"}),"قائمة المستخدمين"]})}),h.jsx(Jt,{children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs(nf,{className:"admin-dashboard-table",children:[h.jsx(rf,{children:h.jsxs(ho,{children:[h.jsx(sn,{children:"الاسم"}),h.jsx(sn,{children:"البريد الإلكتروني"}),h.jsx(sn,{children:"الدور"}),h.jsx(sn,{children:"الحالة"}),h.jsx(sn,{className:"text-right",children:"الإجراءات"})]})}),h.jsx(sf,{children:t.map(V=>h.jsxs(ho,{children:[h.jsx(on,{children:V.fullName||"-"}),h.jsx(on,{children:V.email}),h.jsx(on,{children:V.role==="admin"?"مسؤول":"مستخدم"}),h.jsx(on,{children:V.isBanned?h.jsx("span",{className:"text-red-500",children:"محظور"}):h.jsx("span",{className:"text-green-600",children:"نشط"})}),h.jsxs(on,{className:"text-right space-x-2 rtl:space-x-reverse",children:[h.jsx($e,{variant:"destructive",onClick:()=>oe(V.id),size:"icon",children:h.jsx(Ua,{className:"h-5 w-5"})}),V.isBanned?h.jsx($e,{variant:"outline",onClick:()=>Oe(V.id),size:"icon",children:h.jsx(_R,{className:"h-5 w-5 text-green-600"})}):h.jsx($e,{variant:"outline",onClick:()=>Ee(V),size:"icon",children:h.jsx(yR,{className:"h-5 w-5 text-red-500"})})]})]},V.id))})]})})})]})}),h.jsx(Rc,{value:"subjects",children:h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-all",children:[h.jsx(un,{className:"p-6",children:h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(yr,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المواد"]})}),h.jsxs(Jt,{children:[h.jsxs("form",{onSubmit:async V=>{V.preventDefault();try{const ee=await YG(T,N,C);E({title:"نجاح الإضافة",description:"تم إضافة المادة بنجاح."}),q()}catch(ee){console.error("Error adding subject: ",ee),E({title:"خطأ",description:"حدث خطأ أثناء إضافة المادة.",variant:"destructive"})}},className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx(Ln,{placeholder:"اسم المادة",value:T,onChange:V=>P(V.target.value)}),h.jsxs(_y,{value:N,onValueChange:V=>O(V),children:[h.jsx(of,{children:h.jsx(Ey,{placeholder:"اختر المرحلة"})}),h.jsx(af,{children:o.map(V=>h.jsx(kc,{value:V.id,children:V.name},V.id))})]}),h.jsxs(_y,{value:C,onValueChange:V=>S(V),children:[h.jsx(of,{children:h.jsx(Ey,{placeholder:"اختر الكورس"})}),h.jsxs(af,{children:[h.jsx(kc,{value:"1",children:"الكورس الأول"}),h.jsx(kc,{value:"2",children:"الكورس الثاني"})]})]})]}),h.jsx($e,{type:"submit",className:"w-full",children:"إضافة مادة"})]}),h.jsx("div",{className:"overflow-x-auto mt-6",children:h.jsxs(nf,{className:"admin-dashboard-table",children:[h.jsx(rf,{children:h.jsxs(ho,{children:[h.jsx(sn,{children:"اسم المادة"}),h.jsx(sn,{children:"المرحلة"}),h.jsx(sn,{children:"الكورس"}),h.jsx(sn,{className:"text-right",children:"الإجراءات"})]})}),h.jsx(sf,{children:n.map(V=>{var ee;return h.jsxs(ho,{children:[h.jsx(on,{children:V.name}),h.jsx(on,{children:((ee=o.find(ae=>ae.id===V.stageId))==null?void 0:ee.name)||"-"}),h.jsx(on,{children:V.course==="1"?"الكورس الأول":"الكورس الثاني"}),h.jsxs(on,{className:"text-right space-x-2 rtl:space-x-reverse",children:[h.jsx($e,{variant:"outline",onClick:()=>re(V),size:"icon",children:h.jsx(B3,{className:"h-5 w-5"})}),h.jsx($e,{variant:"destructive",onClick:async()=>{try{await JG(V.id),E({title:"نجاح",description:"تم حذف المادة بنجاح"}),q()}catch(ae){console.error("Error deleting subject: ",ae),E({title:"خطأ",description:"فشل حذف المادة",variant:"destructive"})}},size:"icon",children:h.jsx(Ua,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),h.jsx(Rc,{value:"lectures",children:h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-all",children:[h.jsx(un,{className:"p-6",children:h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(Fa,{className:"h-6 w-6 ml-2 text-primary"}),"إدارة المحاضرات"]})}),h.jsxs(Jt,{children:[h.jsxs("form",{onSubmit:V=>{if(V.preventDefault(),!ie){E({title:"خطأ",description:"يرجى اختيار المادة للمحاضرة",variant:"destructive"});return}k&&pe(k)},className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsx(Ln,{placeholder:"عنوان المحاضرة",value:I,onChange:V=>R(V.target.value)}),h.jsx(Ln,{placeholder:"وصف المحاضرة",value:D,onChange:V=>M(V.target.value)}),h.jsxs(_y,{value:ie,onValueChange:V=>Y(V),children:[h.jsx(of,{children:h.jsx(Ey,{placeholder:"اختر المادة"})}),h.jsx(af,{children:n.map(V=>h.jsx(kc,{value:V.id,children:V.name},V.id))})]}),h.jsx(Ln,{type:"file",onChange:V=>{var ee;return W(((ee=V.target.files)==null?void 0:ee[0])||null)}})]}),h.jsx($e,{type:"submit",className:"w-full",children:"رفع محاضرة"})]}),h.jsx("div",{className:"overflow-x-auto mt-6",children:h.jsxs(nf,{className:"admin-dashboard-table",children:[h.jsx(rf,{children:h.jsxs(ho,{children:[h.jsx(sn,{children:"اسم المادة"}),h.jsx(sn,{children:"عنوان المحاضرة"}),h.jsx(sn,{children:"الوصف"}),h.jsx(sn,{children:"اسم الملف"}),h.jsx(sn,{className:"text-right",children:"الإجراءات"})]})}),h.jsx(sf,{children:s.map(V=>{var ee;return h.jsxs(ho,{children:[h.jsx(on,{children:((ee=n.find(ae=>ae.id===V.subjectId))==null?void 0:ee.name)||"-"}),h.jsx(on,{children:V.title}),h.jsx(on,{children:V.description}),h.jsx(on,{children:V.fileName}),h.jsxs(on,{className:"text-right space-x-2 rtl:space-x-reverse",children:[h.jsx($e,{variant:"outline",onClick:()=>eK(V.id,V.title,V.description),size:"icon",children:h.jsx(Ev,{className:"h-5 w-5"})}),h.jsx($e,{variant:"destructive",onClick:async()=>{try{await tK(V.id,V.fileId),E({title:"نجاح",description:"تم حذف المحاضرة بنجاح"}),G()}catch(ae){console.error("Error deleting lecture: ",ae),E({title:"خطأ",description:"فشل حذف المحاضرة",variant:"destructive"})}},size:"icon",children:h.jsx(Ua,{className:"h-5 w-5"})})]})]},V.id)})})]})})]})]})}),h.jsx(Rc,{value:"activities",className:"space-y-6",children:h.jsxs(Dt,{className:"shadow-lg hover:shadow-xl transition-all",children:[h.jsxs(un,{className:"p-6",children:[h.jsxs(Xt,{className:"text-xl font-semibold flex items-center",children:[h.jsx(w1,{className:"h-6 w-6 ml-2 text-primary"}),"سجل النشاطات"]}),h.jsx(_r,{children:"جميع الأنشطة والتغييرات التي تتم في النظام"})]}),h.jsx(Jt,{children:h.jsx(gre,{})})]})})]}),h.jsxs(fn.button,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.95},className:"fixed bottom-8 left-8 z-50 bg-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 dashboard-button",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},title:"إضافة عنصر جديد",children:[h.jsx(_v,{className:"h-6 w-6"}),"إضافة"]})]})},vI=({allowedRoles:t})=>{const[e,n]=m.useState(!0),[r,s]=m.useState(!1),[i,o]=m.useState(null);return m.useEffect(()=>{const a=Pk(Xn,async l=>{if(l){s(!0);const c=Bn(Xe,"users",l.uid),d=await a_(c);d.exists()?o(d.data().role):o("user")}else s(!1),o(null);n(!1)});return()=>a()},[]),e?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:h.jsx("p",{children:"جاري التحقق من الصلاحيات..."})}):r?t&&i&&!t.includes(i)?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"لا تملك الصلاحيات الكافية"}),h.jsx("p",{className:"text-muted-foreground",children:"ليس لديك إذن للوصول إلى هذه الصفحة."}),h.jsx(kv,{to:"/",replace:!0})," "]})}):h.jsx(r9,{}):h.jsx(kv,{to:"/login",replace:!0})},QL=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));QL.displayName="Textarea";const Xre=async t=>{const e="https://api.cloudinary.com/v1_1/news_unsigned/image/upload",n=new FormData;n.append("file",t),n.append("upload_preset","news_unsigned");const r=await fetch(e,{method:"POST",body:n});if(!r.ok)throw new Error("فشل رفع الصورة إلى Cloudinary");return(await r.json()).secure_url},Jre=()=>{var C;const[t,e]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState([]),[o,a]=m.useState(!1),[l,c]=m.useState(null),[d,f]=m.useState(!1),[p,g]=m.useState(""),[_,v]=m.useState(""),[E,w]=m.useState(null),[x,T]=m.useState(null),[P,N]=m.useState(null);m.useEffect(()=>{(async()=>{const I=Xn.currentUser;if(!I)return e(!1);const R=Bn(Xe,"users",I.uid),D=await a_(R);e(D.exists()&&D.data().role==="admin")})()},[]),m.useEffect(()=>{(async()=>{a(!0);const I=Em(tr(Xe,"news"),i_("createdAt","desc")),R=await xl(I);i(R.docs.map(D=>({id:D.id,...D.data()}))),a(!1)})()},[]),m.useEffect(()=>{if(!E){T(null);return}const S=new FileReader;S.onloadend=()=>T(S.result),S.readAsDataURL(E)},[E]);const O=async S=>{if(S.preventDefault(),N(null),!p.trim()||!_.trim()||!E){N("يرجى ملء جميع الحقول وإرفاق صورة.");return}a(!0);try{const I=await Xre(E),R=await bm(tr(Xe,"news"),{title:p.trim(),description:_.trim(),imageUrl:I,imageName:E.name,createdAt:ct.now(),tag:"خبر"});r(!1),g(""),v(""),w(null),T(null),i(D=>[{id:R.id,title:p.trim(),description:_.trim(),imageUrl:I,imageName:E.name,createdAt:new Date,tag:"خبر"},...D])}catch{N("حدث خطأ أثناء إضافة الخبر.")}a(!1)};return h.jsx(uo,{children:h.jsxs("div",{className:"container mx-auto py-10 px-2 md:px-0 animate-fade-in",children:[h.jsxs(fn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"mb-12 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(t5,{className:"h-12 w-12 text-primary drop-shadow-lg"})}),h.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary mb-2 tracking-tight",children:"آخر الأخبار"}),h.jsx("p",{className:"text-lg md:text-xl text-muted-foreground font-medium",children:s.length===0?"لا توجد أخبار حالياً.":"تابع أحدث المستجدات والتحديثات على منصة Alpha التعليمية"})]}),t&&h.jsx("div",{className:"flex justify-center mt-8 mb-8",children:h.jsxs($e,{size:"lg",className:"flex items-center gap-2 text-lg font-bold",onClick:()=>r(S=>!S),variant:n?"secondary":"default",children:[h.jsx(_v,{className:"h-5 w-5"}),n?"إغلاق":"إضافة خبر"]})}),t&&n&&h.jsxs(fn.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},onSubmit:O,className:"max-w-xl mx-auto bg-card rounded-xl shadow-lg p-6 mb-12 border border-border space-y-5",children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 text-primary flex items-center gap-2",children:[h.jsx(_v,{className:"h-6 w-6"})," إضافة خبر جديد"]}),h.jsx(Ln,{placeholder:"عنوان الخبر",value:p,onChange:S=>g(S.target.value),className:"mb-3",maxLength:120,required:!0}),h.jsx(QL,{placeholder:"وصف الخبر",value:_,onChange:S=>v(S.target.value),className:"mb-3",rows:4,maxLength:800,required:!0}),h.jsxs("div",{className:"mb-3",children:[h.jsxs("label",{className:"block mb-2 font-medium text-foreground flex items-center gap-2",children:[h.jsx(_1,{className:"h-5 w-5"}),"صورة الخبر"]}),h.jsx(Ln,{type:"file",accept:"image/*",onChange:S=>{var I;return w(((I=S.target.files)==null?void 0:I[0])||null)},required:!0}),x&&h.jsxs("div",{className:"mt-3 flex flex-col items-center",children:[h.jsx("img",{src:x,alt:"معاينة الصورة",className:"max-h-48 rounded-lg shadow border mb-2"}),h.jsx($e,{type:"button",variant:"ghost",className:"text-red-500",onClick:()=>{w(null),T(null)},children:"إزالة الصورة"})]})]}),P&&h.jsx("div",{className:"text-red-500 text-center",children:P}),h.jsx($e,{type:"submit",className:"w-full",disabled:o,children:o?h.jsxs(h.Fragment,{children:[h.jsx(Q3,{className:"h-5 w-5 mr-2 animate-spin"}),"جاري الإضافة..."]}):"نشر الخبر"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map((S,I)=>{var R;return h.jsx(fn.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.1*I,duration:.6,type:"spring"},onClick:()=>{c(S),f(!0)},children:h.jsxs(Dt,{className:"group relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 rounded-2xl border bg-gradient-to-br from-card via-background/50 to-background",children:[h.jsxs("div",{className:"relative card-image",children:[h.jsx("img",{src:S.imageUrl,alt:S.title,className:"transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"})]}),h.jsx("div",{className:"relative p-6 -mt-20 z-10",children:h.jsxs("div",{className:"bg-card/80 backdrop-blur-md rounded-xl p-6 shadow-lg border border-border/50",children:[h.jsx(Xt,{className:"text-xl md:text-2xl font-bold mb-3 line-clamp-2 text-foreground",children:S.title}),h.jsx(_r,{className:"text-sm md:text-base text-muted-foreground/90 line-clamp-3 mb-4",children:S.description}),h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground/80",children:[h.jsx(x1,{className:"h-4 w-4"}),h.jsx("time",{className:"text-sm",children:(R=S.createdAt)!=null&&R.toDate?new Date(S.createdAt.toDate()).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""})]})]})})]})},S.id)})}),h.jsx(Kj,{open:d,onOpenChange:f,children:h.jsx(lE,{className:"max-w-4xl p-0 overflow-hidden",children:l&&h.jsxs("div",{className:"flex flex-col lg:flex-row",children:[h.jsxs("div",{className:"lg:w-1/2 relative dialog-image",children:[h.jsx("img",{src:l.imageUrl,alt:l.title,className:"rounded-lg shadow-lg"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent rounded-lg"}),h.jsx(Xj,{className:"absolute top-4 right-4 bg-gradient-to-r from-primary/90 to-primary text-white shadow-lg text-sm font-semibold px-4 py-1.5 rounded-full",children:l.tag||"خبر"}),h.jsx($e,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 bg-white/80 hover:bg-white/90 text-primary",onClick:()=>f(!1),children:h.jsx(Up,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"lg:w-1/2 p-6 lg:p-8 flex flex-col h-full",children:[h.jsxs(cE,{children:[h.jsx(uE,{className:"text-3xl font-bold mb-4 text-primary leading-tight",children:l.title}),h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-6",children:[h.jsx(x1,{className:"h-4 w-4"}),h.jsx("time",{className:"text-sm",children:(C=l.createdAt)!=null&&C.toDate?new Date(l.createdAt.toDate()).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):""})]})]}),h.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none flex-grow overflow-y-auto",children:h.jsx("p",{className:"text-base md:text-lg leading-relaxed",children:l.description})}),h.jsx("div",{className:"mt-6 pt-6 border-t border-border/50",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx(_1,{className:"h-4 w-4"}),h.jsxs("span",{children:["اسم الصورة: ",l.imageName]})]})})]})]})})})]})})},Zre=new h$,ese=()=>h.jsx(p$,{client:Zre,children:h.jsxs(zU,{children:[h.jsx($5,{}),h.jsx(g6,{}),h.jsx(h9,{children:h.jsxs(i9,{children:[h.jsx(vn,{path:"/",element:h.jsx(uo,{children:h.jsx(v9,{})})}),h.jsx(vn,{path:"/login",element:h.jsx(WJ,{})}),h.jsx(vn,{path:"/register",element:h.jsx(qJ,{})}),h.jsx(vn,{path:"/news",element:h.jsx(Jre,{})}),h.jsxs(vn,{element:h.jsx(vI,{}),children:[h.jsx(vn,{path:"/lectures",element:h.jsx(uo,{children:h.jsx(nK,{})})}),h.jsx(vn,{path:"/lectures/:stageId",element:h.jsx(uo,{children:h.jsx(rK,{})})}),h.jsx(vn,{path:"/lectures/:stageId/:subjectId",element:h.jsx(uo,{children:h.jsx(sK,{})})}),h.jsx(vn,{path:"/lectures/:stageId/:subjectId/:lectureId",element:h.jsx(uo,{children:h.jsx(iK,{})})})]}),h.jsx(vn,{element:h.jsx(vI,{allowedRoles:["admin"]}),children:h.jsx(vn,{path:"/admin-dashboard",element:h.jsx(uo,{children:h.jsx(Yre,{})})})}),h.jsx(vn,{path:"/AlphaTeam/*",element:h.jsx(kv,{to:"/",replace:!0})}),h.jsx(vn,{path:"*",element:h.jsx(GJ,{})})]})}),h.jsx(wte,{})]})});BP(document.getElementById("root")).render(h.jsx(yte,{children:h.jsx(ese,{})}));
